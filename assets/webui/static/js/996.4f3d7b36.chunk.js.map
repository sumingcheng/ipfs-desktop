{"version":3,"file":"static/js/996.4f3d7b36.chunk.js","mappings":"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EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,IAAK,GAAI,IAAK,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,KAAM,GAAI,EAAG,GAAI,EAAG,IAAK,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,KAAM,GAAI,MAAO,GAAI,KAAM,GAAI,GAAI,EAAG,IAAK,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,MAAO,GAAI,GAAI,EAAG,GAAI,KAAM,IAAK,EAAG,GAAI,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,IAAK,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC7xF3+B,EAAO,EACPngB,EAAM,GACD9C,EAAI,EAAGA,EAAI4hD,EAAU9iD,OAAQkB,GAAK,EACvC8C,EAAI1C,KAAK6iB,GAAQ2+B,EAAU5hD,IACvB4hD,EAAU5hD,EAAI,IACd8C,EAAI1C,KAAK,GAAI6iB,GAAQ2+B,EAAU5hD,EAAI,IAE3CgB,EAAQ4gD,UAAY1/C,OAAOuc,aAAavf,MAAM,KAAM4D,EAEpD,IAEAtB,IAAI/C,OAAO,gBAAgB,CAAC,UAAU,UAAU,SAAS,aAAa,gBAAgB,gCAAgC,4BAA4B,cAAc,eAAe,qBAAqB,cAAc,SAAS0B,EAASa,EAAStC,GAAQ,aACrP,IAQImjD,EARA3pC,EAAS/X,EAAQ,aACjB63C,EAAY73C,EAAQ,gBAAgB63C,UACpC2C,EAAqBx6C,EAAQ,0BAA0Bw6C,mBACvDsD,EAAkB99C,EAAQ,sBAAsB89C,gBAChDnF,EAAU34C,EAAQ,cAClBqV,EAAOrV,EAAQ,eACf48C,EAAgB58C,EAAQ,qBAAqB48C,cAC7C7jC,EAAQ/Y,EAAQ,YAAY+Y,OAKhC,WACI3a,KAAKujD,kBAAoB,IAAI7D,EAC7B1/C,KAAK23C,QAAU,IAAI1uC,OAAO,KAAOsxC,EAAQ8I,UAAY,SAAU,KAC/DrjD,KAAK03C,WAAa,IAAIzuC,OAAO,SAAWsxC,EAAQ8I,UAAY,eAAgB,KAC5ErjD,KAAKwjD,aAAe,WAKhB,OAJKxjD,KAAKyjD,aACNzjD,KAAK0jD,gBAAkB1jD,KAAK0jD,iBAAmB,IAAI1jD,KAAK28C,eAAe38C,KAAK2jD,sBAC5E3jD,KAAKyjD,WAAa,IAAIhK,EAAUz5C,KAAK0jD,gBAAgBjH,aAElDz8C,KAAKyjD,UAChB,EACAzjD,KAAK8hD,iBAAmB,GACxB9hD,KAAK4jD,aAAe,GACpB5jD,KAAK6jD,mBAAqB,SAAU5gB,EAAOhmB,EAASrC,EAAUE,GAC1D,IAAIjO,EAAMoQ,EAAQpQ,IACdi3C,GAAmB,EACnBC,GAAe,EACfC,EAAYC,IACZtN,EAAU15B,EAAQ45B,aAClBqN,GAAkB,EACtB,GAAKlkD,KAAK8hD,iBAgCL,CACD,GAAIz8C,MAAMmB,QAAQxG,KAAK8hD,kBACfqC,EAAcnkD,KAAK8hD,iBAAiB38C,IAAI8R,EAAKrP,cAActF,KAAK,KAChEw/C,EAAmB9hD,KAAK8hD,iBAAiB,QAGzCqC,EAAcltC,EAAKrP,aAAa5H,KAAK8hD,kBACrCA,EAAmB9hD,KAAK8hD,iBAEhCqC,EAAc,IAAIl7C,OAAO,aAAek7C,EAAc,OACtDD,EAAkBjnC,EAAQmnC,iBACtBC,EAAY,SAAUj7C,EAAM3H,GAC5B,IAAI+Y,EAAIpR,EAAKsB,MAAMy5C,GACnB,GAAK3pC,EAAL,CAEA,IAAIQ,EAAQR,EAAE,GAAGja,OAAQ2F,EAAMsU,EAAE,GAAGja,OAC/B+jD,EAAkBl7C,EAAM4R,EAAO9U,IAAyB,KAAjBsU,EAAE,GAAGtU,EAAM,IACnDA,IACJ2G,EAAImlC,aAAavwC,EAAGuZ,EAAO9U,EAJjB,CAKd,EARA,IASIq+C,EAAmBzC,EAAmB,IAYtCwC,GAXAE,EAAU,SAAUp7C,EAAM3H,GACrBqiD,IAAoB,KAAKt4C,KAAKpC,KAC3Bk7C,EAAkBl7C,EAAM46C,EAAWA,GACnCn3C,EAAI43C,aAAa,CAAExpC,IAAKxZ,EAAGyZ,OAAQ8oC,GAAaO,GAEhD13C,EAAI43C,aAAa,CAAExpC,IAAKxZ,EAAGyZ,OAAQ8oC,GAAalC,GAE5D,EACI4C,EAAa,SAAUt7C,EAAM3H,GAC7B,OAAO0iD,EAAY34C,KAAKpC,EAC5B,EACwB,SAAUA,EAAMu7C,EAAQC,GAE5C,IADA,IAAIC,EAAS,EACNF,KAAmC,KAAvBv7C,EAAKhH,OAAOuiD,IAC3BE,IACJ,GAAIA,EAASlO,GAAW,EACpB,OAAO,EAEX,IADIkO,EAAS,EACkB,KAAxBz7C,EAAKhH,OAAOwiD,MACfC,IACJ,OAAIlO,EAAU,EACHkO,EAASlO,GAAWA,EAAU,EAE9BkO,EAASlO,GAAW,CACnC,EACJ,KA9E4B,CACxB,IAAK32C,KAAK4jD,aACN,OAAO,EACX,IAAI9B,EAAmB9hD,KAAK4jD,aAAa5oC,MACrC8pC,EAAiB9kD,KAAK4jD,aAAa19C,IACnCi+C,EAAc,IAAIl7C,OAAO,aAAegO,EAAKrP,aAAak6C,GAAoB,KAC9EiD,EAAY,IAAI97C,OAAO,MAAQgO,EAAKrP,aAAak9C,GAAkB,UACnEN,EAAU,SAAUp7C,EAAM3H,GACtBijD,EAAWt7C,EAAM3H,IAEhBqiD,IAAoB,KAAKt4C,KAAKpC,KAC/ByD,EAAI43C,aAAa,CAAExpC,IAAKxZ,EAAGyZ,OAAQ9R,EAAK7I,QAAUukD,GAClDj4C,EAAI43C,aAAa,CAAExpC,IAAKxZ,EAAGyZ,OAAQ8oC,GAAalC,GAExD,EACIuC,EAAY,SAAUj7C,EAAM3H,GAC5B,IAAI+Y,GACAA,EAAIpR,EAAKsB,MAAMq6C,KACfl4C,EAAImlC,aAAavwC,EAAG2H,EAAK7I,OAASia,EAAE,GAAGja,OAAQ6I,EAAK7I,SACpDia,EAAIpR,EAAKsB,MAAMy5C,KACft3C,EAAImlC,aAAavwC,EAAG+Y,EAAE,GAAGja,OAAQia,EAAE,GAAGja,OAC9C,EACImkD,EAAa,SAAUt7C,EAAM6R,GAC7B,GAAIkpC,EAAY34C,KAAKpC,GACjB,OAAO,EAEX,IADA,IAAIiyC,EAASp+B,EAAQ6hC,UAAU7jC,GACtBxZ,EAAI,EAAGA,EAAI45C,EAAO96C,OAAQkB,IAC/B,GAAuB,YAAnB45C,EAAO55C,GAAGyR,KACV,OAAO,CAEnB,CACJ,CAgDA,SAAS8xC,EAAKC,GACV,IAAK,IAAIxjD,EAAImZ,EAAUnZ,GAAKqZ,EAAQrZ,IAChCwjD,EAAIp4C,EAAI4d,QAAQhpB,GAAIA,EAC5B,CACA,IAAIyjD,EAAiBjB,IACrBe,GAAK,SAAU57C,EAAM3H,GACjB,IAAIkvC,EAASvnC,EAAKmuC,OAAO,OACT,IAAZ5G,GACIA,EAASqT,IACTA,EAAYrT,GACZoT,IAAiBW,EAAWt7C,EAAM3H,KAClCsiD,GAAe,IAEdmB,EAAiB97C,EAAK7I,SAC3B2kD,EAAiB97C,EAAK7I,OAE9B,IACIyjD,GAAaC,MACbD,EAAYkB,EACZpB,GAAmB,EACnBC,GAAe,GAEfG,GAAmBF,EAAYrN,GAAW,IAC1CqN,EAAY3lD,KAAK8mD,MAAMnB,EAAYrN,GAAWA,GAClDqO,EAAKjB,EAAeM,EAAYG,EACpC,EACAxkD,KAAKolD,mBAAqB,SAAUniB,EAAOhmB,EAAS7B,EAAO4N,GACvD,IAAIw7B,EAAUxkD,KAAK4jD,aACnB,GAAKY,EAAL,EAEKA,EAAQxpC,OAASwpC,EAAQ,KAC1BA,EAAUA,EAAQ,IACtB,IAII5pC,EAAUyqC,EAHV1K,GADA1lB,EAAW,IAAIupB,EAAcvhC,EAAS+L,EAAO/N,IAAK+N,EAAO9N,SACxCikC,kBAEjBmG,GADMroC,EAAQ8L,UACC9L,EAAQ8L,UAAUsX,mBAErC,GAAIsa,GAAS,UAAUnvC,KAAKmvC,EAAMznC,MAAO,CAErC,IADA,IAAIqyC,EAAYC,EACT7K,GAAS,UAAUnvC,KAAKmvC,EAAMznC,OAAO,CAExC,IAAU,IADNzR,EAAIk5C,EAAMp3C,MAAMtB,QAAQuiD,EAAQxpC,QACvB,CACT,IAAIC,EAAMga,EAASmqB,qBACflkC,EAAS+Z,EAASoqB,wBAA0B59C,EAChD8jD,EAAa,IAAI5qC,EAAMM,EAAKC,EAAQD,EAAKC,EAASspC,EAAQxpC,MAAMza,QAChE,KACJ,CACAo6C,EAAQ1lB,EAASgqB,cACrB,CACA,IAAIhqB,EAEJ,IADI0lB,GADA1lB,EAAW,IAAIupB,EAAcvhC,EAAS+L,EAAO/N,IAAK+N,EAAO9N,SACxCikC,kBACdxE,GAAS,UAAUnvC,KAAKmvC,EAAMznC,OAAO,CACxC,IAAIzR,EACJ,IAAU,IADNA,EAAIk5C,EAAMp3C,MAAMtB,QAAQuiD,EAAQt+C,MACvB,CACL+U,EAAMga,EAASmqB,qBACflkC,EAAS+Z,EAASoqB,wBAA0B59C,EAChD+jD,EAAW,IAAI7qC,EAAMM,EAAKC,EAAQD,EAAKC,EAASspC,EAAQt+C,IAAI3F,QAC5D,KACJ,CACAo6C,EAAQ1lB,EAASiqB,aACrB,CACIsG,GACAvoC,EAAQzO,OAAOg3C,GACfD,IACAtoC,EAAQzO,OAAO+2C,GACf3qC,EAAW2qC,EAAWvqC,MAAMC,IAC5BoqC,GAAWb,EAAQxpC,MAAMza,OAEjC,MAEI8kD,EAAUb,EAAQxpC,MAAMza,OACxBqa,EAAWQ,EAAMJ,MAAMC,IACvBgC,EAAQolB,OAAOjnB,EAAMlV,IAAKs+C,EAAQt+C,KAClC+W,EAAQolB,OAAOjnB,EAAMJ,MAAOwpC,EAAQxpC,OAEpCsqC,EAAatqC,MAAMC,KAAOL,IAC1B0qC,EAAatqC,MAAME,QAAUmqC,GAC7BC,EAAap/C,IAAI+U,KAAOL,IACxB0qC,EAAap/C,IAAIgV,QAAUmqC,GAC/BpoC,EAAQ8L,UAAU8X,kBAAkBykB,EAlD1B,CAmDd,EACAtlD,KAAKylD,kBAAoB,SAAUxiB,EAAO75B,EAAMs8C,GAC5C,OAAO1lD,KAAKyhD,WAAWr4C,EAC3B,EACApJ,KAAK2lD,aAAe,SAAU1iB,EAAO75B,EAAMw8C,GACvC,OAAO,CACX,EACA5lD,KAAK6lD,YAAc,SAAU5iB,EAAOp2B,EAAKoO,GACzC,EACAjb,KAAKyhD,WAAa,SAAUr4C,GACxB,OAAOA,EAAKsB,MAAM,QAAQ,EAC9B,EACA1K,KAAK8lD,aAAe,SAAU7oC,GAC1B,OAAO,IACX,EACAjd,KAAK+lD,oBAAsB,SAAU9L,GAGjC,IAAK,IAAIx4C,KAFTzB,KAAK88C,QAAU,GACf98C,KAAK6X,OAAS,CAAC,EACDoiC,EACV,GAAIA,EAAQx4C,GAAI,CACZ,IAAI6hD,EAAOrJ,EAAQx4C,GACfkB,EAAK2gD,EAAKjiD,UAAU2V,IACpB4sB,EAAOjqB,EAAO9B,OAAOlV,GACpBihC,IACDjqB,EAAO9B,OAAOlV,GAAMihC,EAAO,IAAI0f,GAC9B3pC,EAAO9B,OAAOpW,KACfkY,EAAO9B,OAAOpW,GAAKmiC,GACvB5jC,KAAK88C,QAAQj7C,KAAKJ,GAClBzB,KAAK6X,OAAOpW,GAAKmiC,CACrB,CAEJ,IAAIoiB,EAAc,CAAC,qBAAsB,qBAAsB,oBAC3D,eAAgB,cAAe,kBAAmB,kBAClDC,EAAU,SAAUxkD,IACnB,SAAUykD,GACP,IAAIC,EAAeH,EAAYvkD,GAC3BwR,EAAiBizC,EAAMC,GAC3BD,EAAMF,EAAYvkD,IACd,WACI,OAAOzB,KAAKomD,WAAWD,EAAc7lD,UAAW2S,EACpD,CACP,CAPA,CAOCozC,EACN,EACIA,EAASrmD,KACb,IAASyB,EAAI,EAAGA,EAAIukD,EAAYzlD,OAAQkB,IACpCwkD,EAAQxkD,EAEhB,EACAzB,KAAKomD,WAAa,SAAUE,EAAQrc,EAAMh3B,GACtC,IAAIgwB,EAAQgH,EAAK,IAAM,QACvB,GAAoB,iBAAThH,EAAmB,CAC1B,GAAI59B,MAAMmB,QAAQy8B,EAAM,IAAK,CACzB,IAAIsjB,EAAWtjB,EAAM,GAAGA,EAAM,GAAG1iC,OAAS,GAE1C,GADIqjC,EAAO5jC,KAAK6X,OAAO0uC,GAEnB,OAAO3iB,EAAK0iB,GAAQ3lD,MAAMijC,EAAM,CAACX,EAAM,IAAIpmC,OAAO,GAAGwF,MAAMd,KAAK0oC,EAAM,IAC9E,CACAhH,EAAQA,EAAM,IAAM,OACxB,CACA,IAAK,IAAIxhC,EAAI,EAAGA,EAAIzB,KAAK88C,QAAQv8C,OAAQkB,IACrC,GAAKzB,KAAK6X,OAAO7X,KAAK88C,QAAQr7C,IAA9B,CAEA,IAGQmiC,EAHJzhC,EAAQ8gC,EAAM9gC,MAAMnC,KAAK88C,QAAQr7C,IACrC,IAAKU,EAAM,IAAMA,EAAM,GAGnB,OAFA8nC,EAAK,GAAK9nC,EAAM,IACZyhC,EAAO5jC,KAAK6X,OAAO7X,KAAK88C,QAAQr7C,KACxB6kD,GAAQ3lD,MAAMijC,EAAMqG,EALxB,CAQhB,IAAIgE,EAAMh7B,EAAetS,MAAMX,KAAMiqC,GACrC,OAAOh3B,EAAiBg7B,OAAM9sC,CAClC,EACAnB,KAAKwmD,gBAAkB,SAAUvjB,EAAOqB,EAAQ5T,EAAQzT,EAASwpC,GAC7D,GAAIzmD,KAAK0mD,WAAY,CACjB,IAAIrI,EAAar+C,KAAK0mD,WAAWnI,gBACjC,IAAK,IAAIv5C,KAAOq5C,EACZ,GAAIA,EAAWr5C,GAAKs/B,GAAS,CACzB,IAAI2J,EAAMoQ,EAAWr5C,GAAKs/B,GAAQ3jC,MAAMX,KAAMM,WAC9C,GAAI2tC,EACA,OAAOA,CAEf,CAER,CACJ,EACAjuC,KAAKg+C,YAAc,SAAUnB,GACzB,IAAK78C,KAAK2mD,mBAAoB,CAC1B,IAAIjN,EAAQ15C,KAAKyjD,WAAkB,MAC/BkD,EAAqB,GACzB,IAAK,IAAItM,KAAQX,EAEb,IADA,IAAIkN,EAAUlN,EAAMW,GACXxB,EAAI,EAAGn3C,EAAIklD,EAAQrmD,OAAQs4C,EAAIn3C,EAAGm3C,IACvC,GAAgC,kBAArB+N,EAAQ/N,GAAG8B,MACd,0BAA0BnvC,KAAKo7C,EAAQ/N,GAAG8B,QAC1CgM,EAAmB9kD,KAAK+kD,EAAQ/N,GAAG2B,YAEtC,GAAgC,kBAArBoM,EAAQ/N,GAAG8B,MACvB,IAAK,IAAIj0C,EAAI,EAAGmgD,EAAUD,EAAQ/N,GAAG8B,MAAMp6C,OAAQmG,EAAImgD,EAASngD,IAC5D,GAAI,0BAA0B8E,KAAKo7C,EAAQ/N,GAAG8B,MAAMj0C,IAAK,CACjD2zC,EAAOuM,EAAQ/N,GAAG2B,MAAM9vC,MAAM,YAAYhE,GAC9CigD,EAAmB9kD,KAAKw4C,EAAKpJ,OAAO,EAAGoJ,EAAK95C,OAAS,GACzD,CAKhBP,KAAK2mD,mBAAqBA,CAC9B,CACA,OAAK9J,EAEE8J,EAAmB9pD,OAAOmD,KAAK69C,cAAgB,IAD3C79C,KAAK69C,YAEpB,EACA79C,KAAK8mD,mBAAqB,WAGtB,OAFK9mD,KAAK0jD,iBACN1jD,KAAKwjD,eACFxjD,KAAK69C,aAAe79C,KAAK0jD,gBAAgB7F,cAAgB,EACpE,EACA79C,KAAK+mD,eAAiB,SAAU9jB,EAAOhmB,EAASkU,EAAKmrB,GAEjD,OADet8C,KAAK69C,cAAgB79C,KAAK8mD,sBACzB3hD,KAAI,SAAU44C,GAC1B,MAAO,CACH36C,KAAM26C,EACNx6C,MAAOw6C,EACPiJ,MAAO,EACPC,KAAM,UAEd,GACJ,EACAjnD,KAAKgX,IAAM,eACd,GAAEzV,MAvTH+hD,EAAO,WACHtjD,KAAK28C,eAAiBP,CAC1B,GAqTa/6C,WACboB,EAAQ6gD,KAAOA,CAEf,IAEArgD,IAAI/C,OAAO,kBAAkB,CAAC,UAAU,UAAU,WAAW,SAAS0B,EAASa,EAAStC,GAAQ,aA2BhGsC,EAAQykD,WAAa,SAAUC,EAAUrX,EAAOsX,GAC5C,IAAInsC,EAAM60B,EAAM90B,MAAMC,IAClBJ,EAAci1B,EAAM90B,MAAME,OAC1B9R,EAAO+9C,EAASlsC,IAAQ,GAC5B,OAAQ60B,EAAMxL,QACV,IAAK,SAED,GAAqB,IADTwL,EAAM9kB,MACRzqB,OACN4mD,EAASlsC,GAAO7R,EAAKwnC,UAAU,EAAG/1B,GAAei1B,EAAM9kB,MAAM,GAAK5hB,EAAKwnC,UAAU/1B,OAEhF,CACD,IAAIovB,EAAO,CAAChvB,EAAK,GAAGpe,OAAOizC,EAAM9kB,OACjCm8B,EAASx/C,OAAOhH,MAAMwmD,EAAUld,GAChCkd,EAASlsC,GAAO7R,EAAKwnC,UAAU,EAAG/1B,GAAessC,EAASlsC,GAC1DksC,EAASlsC,EAAM60B,EAAM9kB,MAAMzqB,OAAS,IAAM6I,EAAKwnC,UAAU/1B,EAC7D,CACA,MACJ,IAAK,SACD,IAAIE,EAAY+0B,EAAM5pC,IAAIgV,OACtBJ,EAASg1B,EAAM5pC,IAAI+U,IACnBA,IAAQH,EACRqsC,EAASlsC,GAAO7R,EAAKwnC,UAAU,EAAG/1B,GAAezR,EAAKwnC,UAAU71B,GAGhEosC,EAASx/C,OAAOsT,EAAKH,EAASG,EAAM,EAAG7R,EAAKwnC,UAAU,EAAG/1B,GAAessC,EAASrsC,GAAQ81B,UAAU71B,IAInH,CAEA,IAEA9X,IAAI/C,OAAO,aAAa,CAAC,UAAU,UAAU,SAAS,cAAc,0BAA0B,SAAS0B,EAASa,EAAStC,GAAQ,aACjI,IAAI0U,EAAMjT,EAAQ,aACd0Q,EAAe1Q,EAAQ,uBAAuB0Q,aAC9C+0C,EAAwB,WACxB,SAASA,EAAOx6C,EAAKoO,EAAKC,GACtBlb,KAAKsnD,UAAYtnD,KAAK6vC,SAAShqB,KAAK7lB,MACpCA,KAAK0pC,OAAO78B,GACM,iBAAPoO,EACPjb,KAAK61B,YAAY5a,EAAIA,IAAKA,EAAIC,QAE9Blb,KAAK61B,YAAY5a,EAAKC,EAC9B,CAgEA,OA/DAmsC,EAAOhmD,UAAU0yC,YAAc,WAC3B,OAAO/zC,KAAKunD,wBAAwBvnD,KAAKib,IAAKjb,KAAKkb,OACvD,EACAmsC,EAAOhmD,UAAUgyC,YAAc,WAC3B,OAAOrzC,KAAKgM,QAChB,EACAq7C,EAAOhmD,UAAUwuC,SAAW,SAAUC,GAClC,IAAIA,EAAM90B,MAAMC,KAAO60B,EAAM5pC,IAAI+U,KAAO60B,EAAM90B,MAAMC,KAAOjb,KAAKib,QAE5D60B,EAAM90B,MAAMC,IAAMjb,KAAKib,KAA3B,CAEA,IAAIusC,EA4DZ,SAA8B1X,EAAO0X,EAAOC,GACxC,IAAIC,EAAgC,UAAhB5X,EAAMxL,OACtBqjB,GAAiBD,EAAgB,GAAK,IAAM5X,EAAM5pC,IAAI+U,IAAM60B,EAAM90B,MAAMC,KACxE2sC,GAAiBF,EAAgB,GAAK,IAAM5X,EAAM5pC,IAAIgV,OAAS40B,EAAM90B,MAAME,QAC3E2sC,EAAa/X,EAAM90B,MACnB8sC,EAAWJ,EAAgBG,EAAa/X,EAAM5pC,IAClD,GAAI6hD,EAAeP,EAAOK,EAAYJ,GAClC,MAAO,CACHxsC,IAAKusC,EAAMvsC,IACXC,OAAQssC,EAAMtsC,QAGtB,GAAI6sC,EAAeD,EAAUN,GAAQC,GACjC,MAAO,CACHxsC,IAAKusC,EAAMvsC,IAAM0sC,EACjBzsC,OAAQssC,EAAMtsC,QAAUssC,EAAMvsC,KAAO6sC,EAAS7sC,IAAM2sC,EAAgB,IAG5E,MAAO,CACH3sC,IAAK4sC,EAAW5sC,IAChBC,OAAQ2sC,EAAW3sC,OAE3B,CAlFoB8sC,CAAqBlY,EAAO,CAAE70B,IAAKjb,KAAKib,IAAKC,OAAQlb,KAAKkb,QAAUlb,KAAKioD,cACrFjoD,KAAK61B,YAAY2xB,EAAMvsC,IAAKusC,EAAMtsC,QAAQ,EAFhC,CAGd,EACAmsC,EAAOhmD,UAAUw0B,YAAc,SAAU5a,EAAKC,EAAQgtC,GAClD,IAAI/2B,EAUJ,GARIA,EADA+2B,EACM,CACFjtC,IAAKA,EACLC,OAAQA,GAINlb,KAAKunD,wBAAwBtsC,EAAKC,GAExClb,KAAKib,KAAOkW,EAAIlW,KAAOjb,KAAKkb,QAAUiW,EAAIjW,OAA9C,CAEA,IAAIrH,EAAM,CACNoH,IAAKjb,KAAKib,IACVC,OAAQlb,KAAKkb,QAEjBlb,KAAKib,IAAMkW,EAAIlW,IACfjb,KAAKkb,OAASiW,EAAIjW,OAClBlb,KAAKmT,QAAQ,SAAU,CACnBU,IAAKA,EACLtQ,MAAO4tB,GATD,CAWd,EACAk2B,EAAOhmD,UAAUsoC,OAAS,WACtB3pC,KAAKgM,SAASuH,IAAI,SAAUvT,KAAKsnD,UACrC,EACAD,EAAOhmD,UAAUqoC,OAAS,SAAU78B,GAChC7M,KAAKgM,SAAWa,GAAO7M,KAAKgM,SAC5BhM,KAAKgM,SAASqH,GAAG,SAAUrT,KAAKsnD,UACpC,EACAD,EAAOhmD,UAAUkmD,wBAA0B,SAAUtsC,EAAKC,GACtD,IAAIiW,EAAM,CAAC,EAeX,OAdIlW,GAAOjb,KAAKgM,SAAS2vB,aACrBxK,EAAIlW,IAAM5c,KAAK2H,IAAI,EAAGhG,KAAKgM,SAAS2vB,YAAc,GAClDxK,EAAIjW,OAASlb,KAAKgM,SAASye,QAAQ0G,EAAIlW,KAAK1a,QAEvC0a,EAAM,GACXkW,EAAIlW,IAAM,EACVkW,EAAIjW,OAAS,IAGbiW,EAAIlW,IAAMA,EACVkW,EAAIjW,OAAS7c,KAAK4H,IAAIjG,KAAKgM,SAASye,QAAQ0G,EAAIlW,KAAK1a,OAAQlC,KAAK2H,IAAI,EAAGkV,KAEzEA,EAAS,IACTiW,EAAIjW,OAAS,GACViW,CACX,EACOk2B,CACX,CAzE4B,GA4E5B,SAASU,EAAeI,EAAQC,EAAQC,GACpC,IAAIC,EAAcD,EAAqBF,EAAOjtC,QAAUktC,EAAOltC,OAASitC,EAAOjtC,OAASktC,EAAOltC,OAC/F,OAAQitC,EAAOltC,IAAMmtC,EAAOntC,KAASktC,EAAOltC,KAAOmtC,EAAOntC,KAAOqtC,CACrE,CALAjB,EAAOhmD,UAAU4mD,cAAe,EAChCpzC,EAAIzC,UAAUi1C,EAAOhmD,UAAWiR,GA4BhC7P,EAAQ4kD,OAASA,CAEjB,IAEApkD,IAAI/C,OAAO,eAAe,CAAC,UAAU,UAAU,SAAS,cAAc,kBAAkB,wBAAwB,YAAY,eAAe,SAAS0B,EAASa,EAAStC,GAAQ,aAC9K,IAAI0U,EAAMjT,EAAQ,aACdslD,EAAatlD,EAAQ,iBAAiBslD,WACtC50C,EAAe1Q,EAAQ,uBAAuB0Q,aAC9CqI,EAAQ/Y,EAAQ,WAAW+Y,MAC3B0sC,EAASzlD,EAAQ,YAAYylD,OAC7BkB,EAA0B,WAC1B,SAASA,EAASC,GACdxoD,KAAKm8B,OAAS,CAAC,IACY,IAAvBqsB,EAAYjoD,OACZP,KAAKm8B,OAAS,CAAC,IAEV92B,MAAMmB,QAAQgiD,GACnBxoD,KAAKyoD,kBAAkB,CAAExtC,IAAK,EAAGC,OAAQ,GAAKstC,GAG9CxoD,KAAKqiC,OAAO,CAAEpnB,IAAK,EAAGC,OAAQ,GAAKstC,EAE3C,CAsTA,OArTAD,EAASlnD,UAAUqnD,SAAW,SAAU3hC,GACpC,IAAIvhB,EAAMxF,KAAK27B,YAAc,EAC7B37B,KAAKwO,OAAO,IAAImM,EAAM,EAAG,EAAGnV,EAAKxF,KAAKyqB,QAAQjlB,GAAKjF,SACnDP,KAAKqiC,OAAO,CAAEpnB,IAAK,EAAGC,OAAQ,GAAK6L,GAAQ,GAC/C,EACAwhC,EAASlnD,UAAUkuC,SAAW,WAC1B,OAAOvvC,KAAK2oD,cAAcrmD,KAAKtC,KAAK4oD,sBACxC,EACAL,EAASlnD,UAAUkyC,aAAe,SAAUt4B,EAAKC,GAC7C,OAAO,IAAImsC,EAAOrnD,KAAMib,EAAKC,EACjC,EACAqtC,EAASlnD,UAAUwnD,eAAiB,SAAU9hC,GAC1C,IAAIrc,EAAQqc,EAAKrc,MAAM,qBACvB1K,KAAK8oD,aAAep+C,EAAQA,EAAM,GAAK,KACvC1K,KAAKmT,QAAQ,oBACjB,EACAo1C,EAASlnD,UAAUunD,oBAAsB,WACrC,OAAQ5oD,KAAK+oD,cACT,IAAK,UACD,MAAO,OACX,IAAK,OACD,MAAO,KACX,QACI,OAAO/oD,KAAK8oD,cAAgB,KAExC,EACAP,EAASlnD,UAAU2nD,eAAiB,SAAUC,GACtCjpD,KAAK+oD,eAAiBE,IAE1BjpD,KAAK+oD,aAAeE,EACpBjpD,KAAKmT,QAAQ,qBACjB,EACAo1C,EAASlnD,UAAU6nD,eAAiB,WAChC,OAAOlpD,KAAK+oD,YAChB,EACAR,EAASlnD,UAAU8nD,UAAY,SAAUpiC,GACrC,MAAgB,QAARA,GAA0B,MAARA,GAAwB,MAARA,CAC9C,EACAwhC,EAASlnD,UAAUopB,QAAU,SAAUxP,GACnC,OAAOjb,KAAKm8B,OAAOlhB,IAAQ,EAC/B,EACAstC,EAASlnD,UAAU+nD,SAAW,SAAU3sC,EAAUC,GAC9C,OAAO1c,KAAKm8B,OAAO95B,MAAMoa,EAAUC,EAAU,EACjD,EACA6rC,EAASlnD,UAAUsnD,YAAc,WAC7B,OAAO3oD,KAAKopD,SAAS,EAAGppD,KAAK27B,YACjC,EACA4sB,EAASlnD,UAAUs6B,UAAY,WAC3B,OAAO37B,KAAKm8B,OAAO57B,MACvB,EACAgoD,EAASlnD,UAAUmgC,aAAe,SAAUpmB,GACxC,OAAOpb,KAAKqpD,iBAAiBjuC,GAAO9Y,KAAKtC,KAAK4oD,sBAClD,EACAL,EAASlnD,UAAUgoD,iBAAmB,SAAUjuC,GAC5C,IAAI4P,EACJ,GAAI5P,EAAMJ,MAAMC,MAAQG,EAAMlV,IAAI+U,IAC9B+P,EAAQ,CAAChrB,KAAKyqB,QAAQrP,EAAMJ,MAAMC,KAAK21B,UAAUx1B,EAAMJ,MAAME,OAAQE,EAAMlV,IAAIgV,aAE9E,EACD8P,EAAQhrB,KAAKopD,SAAShuC,EAAMJ,MAAMC,IAAKG,EAAMlV,IAAI+U,MAC3C,IAAM+P,EAAM,IAAM,IAAI4lB,UAAUx1B,EAAMJ,MAAME,QAClD,IAAIxZ,EAAIspB,EAAMzqB,OAAS,EACnB6a,EAAMlV,IAAI+U,IAAMG,EAAMJ,MAAMC,KAAOvZ,IACnCspB,EAAMtpB,GAAKspB,EAAMtpB,GAAGkvC,UAAU,EAAGx1B,EAAMlV,IAAIgV,QACnD,CACA,OAAO8P,CACX,EACAu9B,EAASlnD,UAAUioD,YAAc,SAAUruC,EAAK+P,GAE5C,OADApqB,QAAQ6U,KAAK,sFACNzV,KAAKupD,gBAAgBtuC,EAAK+P,EACrC,EACAu9B,EAASlnD,UAAUmoD,YAAc,SAAU/sC,EAAUC,GAEjD,OADA9b,QAAQ6U,KAAK,sFACNzV,KAAKypD,gBAAgBhtC,EAAUC,EAC1C,EACA6rC,EAASlnD,UAAUqoD,cAAgB,SAAUvsD,GAEzC,OADAyD,QAAQ6U,KAAK,mGACNzV,KAAKyoD,kBAAkBtrD,EAAU,CAAC,GAAI,IACjD,EACAorD,EAASlnD,UAAUghC,OAAS,SAAUllC,EAAU4pB,GAG5C,OAFI/mB,KAAK27B,aAAe,GACpB37B,KAAK6oD,eAAe9hC,GACjB/mB,KAAKyoD,kBAAkBtrD,EAAU6C,KAAK2pD,OAAO5iC,GACxD,EACAwhC,EAASlnD,UAAUojD,aAAe,SAAUtnD,EAAU4pB,GAClD,IAAI/L,EAAQhb,KAAKs5B,WAAWn8B,EAAS8d,IAAK9d,EAAS+d,QAC/ChV,EAAMlG,KAAKmxB,IAAIh0B,EAAS8d,IAAK9d,EAAS+d,OAAS6L,EAAKxmB,QAOxD,OANAP,KAAKknD,WAAW,CACZlsC,MAAOA,EACP9U,IAAKA,EACLo+B,OAAQ,SACRtZ,MAAO,CAACjE,KACT,GACI/mB,KAAK4pD,SAAS1jD,EACzB,EACAqiD,EAASlnD,UAAUi4B,WAAa,SAAUre,EAAKC,GAC3C,IAAI3a,EAASP,KAAK27B,iBACNx6B,IAAR8Z,EACAA,EAAM1a,EAED0a,EAAM,EACXA,EAAM,EAEDA,GAAO1a,IACZ0a,EAAM1a,EAAS,EACf2a,OAAS/Z,GAEb,IAAIiI,EAAOpJ,KAAKyqB,QAAQxP,GAIxB,YAHc9Z,GAAV+Z,IACAA,EAAS9R,EAAK7I,QAEX,CAAE0a,IAAKA,EAAKC,OADnBA,EAAS7c,KAAK4H,IAAI5H,KAAK2H,IAAIkV,EAAQ,GAAI9R,EAAK7I,QAEhD,EACAgoD,EAASlnD,UAAUuoD,SAAW,SAAUz4B,GACpC,MAAO,CAAElW,IAAKkW,EAAIlW,IAAKC,OAAQiW,EAAIjW,OACvC,EACAqtC,EAASlnD,UAAU8vB,IAAM,SAAUlW,EAAKC,GACpC,MAAO,CAAED,IAAKA,EAAKC,OAAQA,EAC/B,EACAqtC,EAASlnD,UAAUwoD,cAAgB,SAAU1sD,GACzC,IAAIoD,EAASP,KAAK27B,YASlB,OARIx+B,EAAS8d,KAAO1a,GAChBpD,EAAS8d,IAAM5c,KAAK2H,IAAI,EAAGzF,EAAS,GACpCpD,EAAS+d,OAASlb,KAAKyqB,QAAQlqB,EAAS,GAAGA,SAG3CpD,EAAS8d,IAAM5c,KAAK2H,IAAI,EAAG7I,EAAS8d,KACpC9d,EAAS+d,OAAS7c,KAAK4H,IAAI5H,KAAK2H,IAAI7I,EAAS+d,OAAQ,GAAIlb,KAAKyqB,QAAQttB,EAAS8d,KAAK1a,SAEjFpD,CACX,EACAorD,EAASlnD,UAAUkoD,gBAAkB,SAAUtuC,EAAK+P,GAEhD,IAAI9P,EAAS,GADbD,EAAM5c,KAAK4H,IAAI5H,KAAK2H,IAAIiV,EAAK,GAAIjb,KAAK27B,cAE5B37B,KAAK27B,aACX3Q,EAAQA,EAAMnuB,OAAO,CAAC,KACtBqe,EAAS,IAGT8P,EAAQ,CAAC,IAAInuB,OAAOmuB,GACpB/P,IACAC,EAASlb,KAAKm8B,OAAOlhB,GAAK1a,QAE9BP,KAAKyoD,kBAAkB,CAAExtC,IAAKA,EAAKC,OAAQA,GAAU8P,EACzD,EACAu9B,EAASlnD,UAAUonD,kBAAoB,SAAUtrD,EAAU6tB,GACvD,IAAIhQ,EAAQhb,KAAKs5B,WAAWn8B,EAAS8d,IAAK9d,EAAS+d,QAC/ChV,EAAM,CACN+U,IAAKD,EAAMC,IAAM+P,EAAMzqB,OAAS,EAChC2a,QAAyB,GAAhB8P,EAAMzqB,OAAcya,EAAME,OAAS,GAAK8P,EAAMA,EAAMzqB,OAAS,GAAGA,QAQ7E,OANAP,KAAKknD,WAAW,CACZlsC,MAAOA,EACP9U,IAAKA,EACLo+B,OAAQ,SACRtZ,MAAOA,IAEJhrB,KAAK4pD,SAAS1jD,EACzB,EACAqiD,EAASlnD,UAAUmN,OAAS,SAAU4M,GAClC,IAAIJ,EAAQhb,KAAKs5B,WAAWle,EAAMJ,MAAMC,IAAKG,EAAMJ,MAAME,QACrDhV,EAAMlG,KAAKs5B,WAAWle,EAAMlV,IAAI+U,IAAKG,EAAMlV,IAAIgV,QAOnD,OANAlb,KAAKknD,WAAW,CACZlsC,MAAOA,EACP9U,IAAKA,EACLo+B,OAAQ,SACRtZ,MAAOhrB,KAAKqpD,iBAAiB,CAAEruC,MAAOA,EAAO9U,IAAKA,MAE/ClG,KAAK4pD,SAAS5uC,EACzB,EACAutC,EAASlnD,UAAU2wC,aAAe,SAAU/2B,EAAKJ,EAAaE,GAC1D,IAAIC,EAAQhb,KAAKs5B,WAAWre,EAAKJ,GAC7B3U,EAAMlG,KAAKs5B,WAAWre,EAAKF,GAO/B,OANA/a,KAAKknD,WAAW,CACZlsC,MAAOA,EACP9U,IAAKA,EACLo+B,OAAQ,SACRtZ,MAAOhrB,KAAKqpD,iBAAiB,CAAEruC,MAAOA,EAAO9U,IAAKA,MACnD,GACIlG,KAAK4pD,SAAS5uC,EACzB,EACAutC,EAASlnD,UAAUooD,gBAAkB,SAAUhtC,EAAUC,GACrDD,EAAWpe,KAAK4H,IAAI5H,KAAK2H,IAAI,EAAGyW,GAAWzc,KAAK27B,YAAc,GAE9D,IAAImuB,GADJptC,EAAUre,KAAK4H,IAAI5H,KAAK2H,IAAI,EAAG0W,GAAU1c,KAAK27B,YAAc,KACxB37B,KAAK27B,YAAc,GAAKlf,EAAW,EACnEstC,EAAoBrtC,EAAU1c,KAAK27B,YAAc,EACjD/gB,EAAYkvC,EAAqBrtC,EAAW,EAAIA,EAChD+1B,EAAYsX,EAAqB9pD,KAAKyqB,QAAQ7P,GAAUra,OAAS,EACjEua,EAAUivC,EAAoBrtC,EAAU,EAAIA,EAC5C+1B,EAAUsX,EAAoB,EAAI/pD,KAAKyqB,QAAQ3P,GAAQva,OACvD6a,EAAQ,IAAIT,EAAMC,EAAU43B,EAAU13B,EAAQ23B,GAC9CuX,EAAehqD,KAAKm8B,OAAO95B,MAAMoa,EAAUC,EAAU,GAOzD,OANA1c,KAAKknD,WAAW,CACZlsC,MAAOI,EAAMJ,MACb9U,IAAKkV,EAAMlV,IACXo+B,OAAQ,SACRtZ,MAAOhrB,KAAKqpD,iBAAiBjuC,KAE1B4uC,CACX,EACAzB,EAASlnD,UAAU4oD,cAAgB,SAAUhvC,GACrCA,EAAMjb,KAAK27B,YAAc,GAAK1gB,GAAO,GACrCjb,KAAKknD,WAAW,CACZlsC,MAAOhb,KAAKmxB,IAAIlW,EAAKjb,KAAKyqB,QAAQxP,GAAK1a,QACvC2F,IAAKlG,KAAKmxB,IAAIlW,EAAM,EAAG,GACvBqpB,OAAQ,SACRtZ,MAAO,CAAC,GAAI,KAGxB,EACAu9B,EAASlnD,UAAUmB,QAAU,SAAU4Y,EAAO2L,GAG1C,OAFM3L,aAAiBT,IACnBS,EAAQT,EAAMgC,WAAWvB,EAAMJ,MAAOI,EAAMlV,MAC5B,IAAhB6gB,EAAKxmB,QAAgB6a,EAAMyB,UACpBzB,EAAMJ,MACb+L,GAAQ/mB,KAAKwhC,aAAapmB,GACnBA,EAAMlV,KACjBlG,KAAKwO,OAAO4M,GAER2L,EACM/mB,KAAKqiC,OAAOjnB,EAAMJ,MAAO+L,GAGzB3L,EAAMJ,MAGpB,EACAutC,EAASlnD,UAAU6oD,YAAc,SAAUC,GACvC,IAAK,IAAI1oD,EAAI,EAAGA,EAAI0oD,EAAO5pD,OAAQkB,IAC/BzB,KAAKknD,WAAWiD,EAAO1oD,GAE/B,EACA8mD,EAASlnD,UAAU+oD,aAAe,SAAUD,GACxC,IAAK,IAAI1oD,EAAI0oD,EAAO5pD,OAAS,EAAGkB,GAAK,EAAGA,IACpCzB,KAAKqqD,YAAYF,EAAO1oD,GAEhC,EACA8mD,EAASlnD,UAAU6lD,WAAa,SAAUpX,EAAOsX,GAC7C,IAAIkD,EAA2B,UAAhBxa,EAAMxL,QACjBgmB,EAAWxa,EAAM9kB,MAAMzqB,QAAU,IAAMuvC,EAAM9kB,MAAM,IAChDrQ,EAAM2C,cAAcwyB,EAAM90B,MAAO80B,EAAM5pC,QAG1CokD,GAAYxa,EAAM9kB,MAAMzqB,OAAS,IACjCP,KAAKuqD,yBAAyBza,EAAO,MAGrCoX,EAAWlnD,KAAKm8B,OAAQ2T,EAAOsX,GAC/BpnD,KAAKmT,QAAQ,SAAU28B,IAE/B,EACAyY,EAASlnD,UAAUmpD,gBAAkB,SAAU1a,GAC3C,IAAI2a,EAAYzqD,KAAKm8B,OAAO57B,QACR,UAAhBuvC,EAAMxL,QAAsBwL,EAAM90B,MAAMC,IAAMwvC,GAAa3a,EAAM5pC,IAAI+U,IAAMwvC,GACxD,UAAhB3a,EAAMxL,QAAsBwL,EAAM90B,MAAMC,KAAOwvC,IAClDzqD,KAAKknD,WAAWpX,EAExB,EACAyY,EAASlnD,UAAUkpD,yBAA2B,SAAUza,EAAO4a,GAK3D,IAJA,IAAI1/B,EAAQ8kB,EAAM9kB,MACdtpB,EAAIspB,EAAMzqB,OAASmqD,EAAM,EACzBzvC,EAAM60B,EAAM90B,MAAMC,IAClBC,EAAS40B,EAAM90B,MAAME,OAChB8hB,EAAO,EAAG2tB,EAAK,EAAG3tB,EAAOt7B,EAAGs7B,EAAO2tB,EAAI,CAC5CA,GAAMD,EAAM,EACZ,IAAIE,EAAQ5/B,EAAM3oB,MAAM26B,EAAM2tB,GAC9BC,EAAM/oD,KAAK,IACX7B,KAAKknD,WAAW,CACZlsC,MAAOhb,KAAKmxB,IAAIlW,EAAM+hB,EAAM9hB,GAC5BhV,IAAKlG,KAAKmxB,IAAIlW,EAAM0vC,EAAIzvC,EAAS,GACjCopB,OAAQwL,EAAMxL,OACdtZ,MAAO4/B,IACR,EACP,CACA9a,EAAM9kB,MAAQA,EAAM3oB,MAAM26B,GAC1B8S,EAAM90B,MAAMC,IAAMA,EAAM+hB,EACxB8S,EAAM90B,MAAME,OAASA,EACrBlb,KAAKknD,WAAWpX,GAAO,EAC3B,EACAyY,EAASlnD,UAAUgpD,YAAc,SAAUva,GACvC9vC,KAAKwqD,gBAAgB,CACjBxvC,MAAOhb,KAAK4pD,SAAS9Z,EAAM90B,OAC3B9U,IAAKlG,KAAK4pD,SAAS9Z,EAAM5pC,KACzBo+B,OAAyB,UAAhBwL,EAAMxL,OAAqB,SAAW,SAC/CtZ,MAAO8kB,EAAM9kB,MAAM3oB,SAE3B,EACAkmD,EAASlnD,UAAUwpD,gBAAkB,SAAUjmD,EAAOgW,GAGlD,IAFA,IAAIoQ,EAAQhrB,KAAKm8B,QAAUn8B,KAAK2oD,cAC5BmC,EAAgB9qD,KAAK4oD,sBAAsBroD,OACtCkB,EAAImZ,GAAY,EAAGlZ,EAAIspB,EAAMzqB,OAAQkB,EAAIC,EAAGD,IAEjD,IADAmD,GAASomB,EAAMvpB,GAAGlB,OAASuqD,GACf,EACR,MAAO,CAAE7vC,IAAKxZ,EAAGyZ,OAAQtW,EAAQomB,EAAMvpB,GAAGlB,OAASuqD,GAE3D,MAAO,CAAE7vC,IAAKvZ,EAAI,EAAGwZ,OAAQtW,EAAQomB,EAAMtpB,EAAI,GAAGnB,OAASuqD,EAC/D,EACAvC,EAASlnD,UAAU0pD,gBAAkB,SAAU55B,EAAKvW,GAKhD,IAJA,IAAIoQ,EAAQhrB,KAAKm8B,QAAUn8B,KAAK2oD,cAC5BmC,EAAgB9qD,KAAK4oD,sBAAsBroD,OAC3CqE,EAAQ,EACRqW,EAAM5c,KAAK4H,IAAIkrB,EAAIlW,IAAK+P,EAAMzqB,QACzBkB,EAAImZ,GAAY,EAAGnZ,EAAIwZ,IAAOxZ,EACnCmD,GAASomB,EAAMvpB,GAAGlB,OAASuqD,EAC/B,OAAOlmD,EAAQusB,EAAIjW,MACvB,EACAqtC,EAASlnD,UAAUsoD,OAAS,SAAU5iC,GAClC,OAAOA,EAAK5kB,MAAM,aACtB,EACOomD,CACX,CAnU8B,GAoU9BA,EAASlnD,UAAUynD,aAAe,GAClCP,EAASlnD,UAAU0nD,aAAe,OAClCl0C,EAAIzC,UAAUm2C,EAASlnD,UAAWiR,GAClC7P,EAAQ8lD,SAAWA,CAEnB,IAEAtlD,IAAI/C,OAAO,2BAA2B,CAAC,UAAU,UAAU,SAAS,cAAc,0BAA0B,SAAS0B,EAASa,EAAStC,GAAQ,aAC/I,IAAI0U,EAAMjT,EAAQ,aACd0Q,EAAe1Q,EAAQ,uBAAuB0Q,aAC9C04C,EAAqC,WACrC,SAASA,EAAoBC,EAAWhuC,GACpCjd,KAAKkrD,SAAU,EACflrD,KAAKgrB,MAAQ,GACbhrB,KAAK45C,OAAS,GACd55C,KAAKmrD,YAAc,EACnBnrD,KAAKirD,UAAYA,EACjB,IAAI/pB,EAAOlhC,KACXA,KAAKorD,QAAU,WACX,GAAKlqB,EAAKgqB,QAAV,CAQA,IALA,IAAIG,EAAc,IAAIplC,KAClBklC,EAAcjqB,EAAKiqB,YACnBG,GAAW,EACXz+C,EAAMq0B,EAAKr0B,IACX0+C,EAAYJ,EACTjqB,EAAKlW,MAAMmgC,IACdA,IACJ,IAAI3lD,EAAMqH,EAAI8uB,YACV6vB,EAAiB,EAErB,IADAtqB,EAAKgqB,SAAU,EACRC,EAAc3lD,GAAK,CACtB07B,EAAKuqB,aAAaN,GAClBG,EAAUH,EACV,GACIA,UACKjqB,EAAKlW,MAAMmgC,IAEpB,KADAK,EACsB,IAAM,GAAO,IAAIvlC,KAASolC,EAAe,GAAI,CAC/DnqB,EAAKgqB,QAAU1iD,WAAW04B,EAAKkqB,QAAS,IACxC,KACJ,CACJ,CACAlqB,EAAKiqB,YAAcA,GACH,GAAZG,IACAA,EAAUH,GACVI,GAAaD,GACbpqB,EAAKwqB,gBAAgBH,EAAWD,EA3BpC,CA4BJ,CACJ,CAqFA,OApFAN,EAAoB3pD,UAAUsqD,aAAe,SAAUV,GACnDjrD,KAAKirD,UAAYA,EACjBjrD,KAAKgrB,MAAQ,GACbhrB,KAAK45C,OAAS,GACd55C,KAAKgb,MAAM,EACf,EACAgwC,EAAoB3pD,UAAUuqD,YAAc,SAAU/+C,GAClD7M,KAAK6M,IAAMA,EACX7M,KAAKgrB,MAAQ,GACbhrB,KAAK45C,OAAS,GACd55C,KAAKi0B,MACT,EACA+2B,EAAoB3pD,UAAUqqD,gBAAkB,SAAUjvC,EAAUC,GAChE,IAAIlI,EAAO,CACPq3C,MAAOpvC,EACPhW,KAAMiW,GAEV1c,KAAKmT,QAAQ,SAAU,CAAEqB,KAAMA,GACnC,EACAw2C,EAAoB3pD,UAAU2Z,MAAQ,SAAUJ,GAC5C5a,KAAKmrD,YAAc9sD,KAAK4H,IAAI2U,GAAY,EAAG5a,KAAKmrD,YAAanrD,KAAK6M,IAAI8uB,aACtE37B,KAAKgrB,MAAMrjB,OAAO3H,KAAKmrD,YAAanrD,KAAKgrB,MAAMzqB,QAC/CP,KAAK45C,OAAOjyC,OAAO3H,KAAKmrD,YAAanrD,KAAK45C,OAAOr5C,QACjDP,KAAKi0B,OACLj0B,KAAKkrD,QAAU1iD,WAAWxI,KAAKorD,QAAS,IAC5C,EACAJ,EAAoB3pD,UAAUyqD,cAAgB,WACrC9rD,KAAKkrD,UACNlrD,KAAKkrD,QAAU1iD,WAAWxI,KAAKorD,QAAS,KAChD,EACAJ,EAAoB3pD,UAAU0qD,gBAAkB,SAAUjc,GACtD,IAAIl1B,EAAWk1B,EAAM90B,MAAMC,IACvBzV,EAAMsqC,EAAM5pC,IAAI+U,IAAML,EAC1B,GAAY,IAARpV,EACAxF,KAAKgrB,MAAMpQ,GAAY,UAEtB,GAAoB,UAAhBk1B,EAAMxL,OACXtkC,KAAKgrB,MAAMrjB,OAAOiT,EAAUpV,EAAM,EAAG,MACrCxF,KAAK45C,OAAOjyC,OAAOiT,EAAUpV,EAAM,EAAG,UAErC,CACD,IAAIykC,EAAO5kC,MAAMG,EAAM,GACvBykC,EAAKkS,QAAQvhC,EAAU,GACvB5a,KAAKgrB,MAAMrjB,OAAOhH,MAAMX,KAAKgrB,MAAOif,GACpCjqC,KAAK45C,OAAOjyC,OAAOhH,MAAMX,KAAK45C,OAAQ3P,EAC1C,CACAjqC,KAAKmrD,YAAc9sD,KAAK4H,IAAI2U,EAAU5a,KAAKmrD,YAAanrD,KAAK6M,IAAI8uB,aACjE37B,KAAKi0B,MACT,EACA+2B,EAAoB3pD,UAAU4yB,KAAO,WAC7Bj0B,KAAKkrD,SACLxiD,aAAa1I,KAAKkrD,SACtBlrD,KAAKkrD,SAAU,CACnB,EACAF,EAAoB3pD,UAAUy9C,UAAY,SAAU7jC,GAChD,OAAOjb,KAAKgrB,MAAM/P,IAAQjb,KAAKyrD,aAAaxwC,EAChD,EACA+vC,EAAoB3pD,UAAU2qD,SAAW,SAAU/wC,GAG/C,OAFIjb,KAAKmrD,aAAelwC,GACpBjb,KAAKyrD,aAAaxwC,GACfjb,KAAK45C,OAAO3+B,IAAQ,OAC/B,EACA+vC,EAAoB3pD,UAAUoqD,aAAe,SAAUxwC,GACnD,IAAI7R,EAAOpJ,KAAK6M,IAAI4d,QAAQxP,GACxBgoB,EAAQjjC,KAAK45C,OAAO3+B,EAAM,GAC1BzG,EAAOxU,KAAKirD,UAAUrP,cAAcxyC,EAAM65B,EAAOhoB,GAUrD,OATIjb,KAAK45C,OAAO3+B,GAAO,KAAOzG,EAAKyuB,MAAQ,IACvCjjC,KAAK45C,OAAO3+B,GAAOzG,EAAKyuB,MACxBjjC,KAAKgrB,MAAM/P,EAAM,GAAK,KAClBjb,KAAKmrD,YAAclwC,EAAM,IACzBjb,KAAKmrD,YAAclwC,EAAM,IAExBjb,KAAKmrD,aAAelwC,IACzBjb,KAAKmrD,YAAclwC,EAAM,GAEtBjb,KAAKgrB,MAAM/P,GAAOzG,EAAK6mC,MAClC,EACA2P,EAAoB3pD,UAAU4qD,QAAU,WACpCjsD,KAAKkrD,SAAU,EACflrD,KAAKgrB,MAAQ,GACbhrB,KAAK45C,OAAS,GACd55C,KAAKmrD,YAAc,EACnBnrD,KAAKqU,oBACT,EACO22C,CACX,CA9HyC,GA+HzCn2C,EAAIzC,UAAU44C,EAAoB3pD,UAAWiR,GAC7C7P,EAAQuoD,oBAAsBA,CAE9B,IAEA/nD,IAAI/C,OAAO,uBAAuB,CAAC,UAAU,UAAU,SAAS,eAAe,cAAc,SAAS0B,EAASa,EAAStC,GAAQ,aAChI,IAAI8W,EAAOrV,EAAQ,cACf+Y,EAAQ/Y,EAAQ,WAAW+Y,MAC3BuxC,EAAiC,WACjC,SAASA,EAAgBnkD,EAAQokD,EAAOj5C,QACvB,IAATA,IAAmBA,EAAO,QAC9BlT,KAAKosD,UAAUrkD,GACf/H,KAAKmsD,MAAQA,EACbnsD,KAAKkT,KAAOA,CAChB,CAiCA,OAhCAg5C,EAAgB7qD,UAAU+qD,UAAY,SAAUrkD,GACxC/H,KAAK+H,OAAS,IAAMA,EAAS,KAEjC/H,KAAK+H,OAASA,EACd/H,KAAK2O,MAAQ,GACjB,EACAu9C,EAAgB7qD,UAAUgrD,OAAS,SAAUz2B,EAAM02B,EAAarvC,EAAStD,GACrE,GAAK3Z,KAAK+H,OAIV,IAFA,IAAIiT,EAAQrB,EAAO8C,SAAUvW,EAAMyT,EAAO+C,QACtC6vC,EAAuB,CAAC,EACnB9qD,EAAIuZ,EAAOvZ,GAAKyE,EAAKzE,IAAK,CAC/B,IAAIy3C,EAASl5C,KAAK2O,MAAMlN,GACV,MAAVy3C,KACAA,EAASjiC,EAAKnP,gBAAgBmV,EAAQwN,QAAQhpB,GAAIzB,KAAK+H,SAC5CxH,OAASP,KAAKwsD,aACrBtT,EAASA,EAAO72C,MAAM,EAAGrC,KAAKwsD,aAClCtT,EAASA,EAAO/zC,KAAI,SAAUuF,GAC1B,OAAO,IAAIiQ,EAAMlZ,EAAGiJ,EAAMzC,OAAQxG,EAAGiJ,EAAMzC,OAASyC,EAAMnK,OAC9D,IACAP,KAAK2O,MAAMlN,GAAKy3C,EAAO34C,OAAS24C,EAAS,IAE7C,IAAK,IAAI5+B,EAAI4+B,EAAO34C,OAAQ+Z,KAAM,CAC9B,IAAImyC,EAAqBvT,EAAO5+B,GAAG0C,cAAcC,GAC7CyvC,EAAgBD,EAAmBnrD,WACnCirD,EAAqBG,KAEzBH,EAAqBG,IAAiB,EACtCJ,EAAYK,qBAAqB/2B,EAAM62B,EAAoBzsD,KAAKmsD,MAAOxyC,GAC3E,CACJ,CACJ,EACOuyC,CACX,CAxCqC,GAyCrCA,EAAgB7qD,UAAUmrD,WAAa,IACvC/pD,EAAQypD,gBAAkBA,CAE1B,IAEAjpD,IAAI/C,OAAO,kBAAkB,CAAC,UAAU,UAAU,SAAS,cAAc,SAAS0B,EAASa,EAAStC,GAAQ,aAC5G,IAAIysD,EAA6B,WAC7B,SAASA,IACL5sD,KAAK6sD,eACL7sD,KAAK8sD,QAAU,EACf9sD,KAAK+sD,WAAY,EACjB/sD,KAAKgtD,WAAa/I,IAClBjkD,KAAKitD,OACT,CA+KA,OA9KAL,EAAYvrD,UAAU6rD,WAAa,SAAUjwC,GACzCjd,KAAK2+C,SAAW1hC,CACpB,EACA2vC,EAAYvrD,UAAU0M,IAAM,SAAU+hC,EAAOqd,EAAYlwC,GACrD,IAAIjd,KAAK+sD,WAELjd,GAAS9vC,KAAKotD,WAAlB,CAIA,GAFKptD,KAAK6sD,iBACN7sD,KAAKqtD,WAAW9sD,OAAS,IACV,IAAf4sD,IAAyBntD,KAAKstD,WAAY,CAC1CttD,KAAKstD,WAAa,GAClB,IAAIC,EAAkBvtD,KAAKwtD,WAAWjtD,OAClCgtD,EAAkBvtD,KAAKgtD,WAAa,GACpChtD,KAAKwtD,WAAW7lD,OAAO,EAAG4lD,EAAkBvtD,KAAKgtD,WAAa,GAElEhtD,KAAKwtD,WAAW3rD,KAAK7B,KAAKstD,YAC1Bxd,EAAMntC,GAAK3C,KAAKytD,OAASztD,KAAK8sD,OAClC,CACoB,UAAhBhd,EAAMxL,QAAsC,UAAhBwL,EAAMxL,SAClCtkC,KAAKotD,WAAatd,GACtB9vC,KAAKstD,WAAWzrD,KAAKiuC,EAdX,CAed,EACA8c,EAAYvrD,UAAUqsD,aAAe,SAAU3kC,EAAW4kC,GACtD3tD,KAAK2yC,WAAW9wC,KAAK,CACjB0B,MAAOwlB,EACP4kC,IAAKA,GAAO3tD,KAAKytD,MAEzB,EACAb,EAAYvrD,UAAUusD,cAAgB,WAElC,OADA5tD,KAAKstD,WAAa,KACXttD,KAAKytD,IAChB,EACAb,EAAYvrD,UAAUwsD,YAAc,SAAU7wB,EAAM2tB,GACtC,MAANA,IACAA,EAAK3qD,KAAKytD,KAAO,GAErB,IADA,IAAInS,EAAQt7C,KAAKwtD,WACR/rD,EAAI65C,EAAM/6C,OAAQkB,KAAM,CAC7B,IAAIquC,EAAQwL,EAAM75C,GAAG,GACrB,GAAIquC,EAAMntC,IAAMq6B,EACZ,MACA8S,EAAMntC,GAAKgoD,IACX7a,EAAMge,QAAS,EACvB,CACA9tD,KAAKstD,WAAa,IACtB,EACAV,EAAYvrD,UAAU0sD,aAAe,SAAUJ,EAAK/I,GAEhD,IADA,IAAItJ,EAAQt7C,KAAK2yC,WACRlxC,EAAI65C,EAAM/6C,OAAQkB,KAAM,CAC7B,IAAIsnB,EAAYuyB,EAAM75C,GACtB,GAAIsnB,EAAU4kC,IAAMA,EAGhB,OAFI/I,IACA77B,EAAYuyB,EAAM75C,EAAI,IACnBsnB,CAEf,CACJ,EACA6jC,EAAYvrD,UAAU2sD,YAAc,WAChC,OAAOhuD,KAAKytD,IAChB,EACAb,EAAYvrD,UAAU4sD,UAAY,SAAUjxB,EAAM2tB,GACpC,MAANA,IACAA,EAAK3qD,KAAKytD,KAAO,GAGrB,IAFA,IAAInS,EAAQt7C,KAAKwtD,WACbtnD,EAAM,KAAM8U,EAAQ,EACfvZ,EAAI65C,EAAM/6C,OAAQkB,KAAM,CAC7B,IAAIquC,EAAQwL,EAAM75C,GAAG,GAGrB,GAFIquC,EAAMntC,GAAKgoD,IAAOzkD,IAClBA,EAAMzE,EAAI,GACVquC,EAAMntC,IAAMq6B,EAAM,CAClBhiB,EAAQvZ,EAAI,EACZ,KACJ,CACJ,CACA,OAAO65C,EAAMj5C,MAAM2Y,EAAO9U,EAC9B,EACA0mD,EAAYvrD,UAAU6sD,iBAAmB,SAAUlxB,EAAM2tB,GAC3C,MAANA,IACAA,EAAK3qD,KAAKytD,KAAO,EACzB,EACAb,EAAYvrD,UAAU8sD,gBAAkB,SAAUnxB,EAAM2tB,GAC1C,MAANA,IACAA,EAAK3qD,KAAKytD,KAAO,EACzB,EACAb,EAAYvrD,UAAU+sD,KAAO,SAAUnxC,EAASoxC,GAC5CruD,KAAKstD,WAAa,KAClB,IAAIhS,EAAQt7C,KAAKwtD,WACjB,GA6FR,SAA4BlS,EAAOnqB,GAC/B,IAAK,IAAI1vB,EAAI0vB,EAAK1vB,KAAM,CACpB,IAAI6sD,EAAWhT,EAAM75C,GACrB,GAAI6sD,IAAaA,EAAS,GAAGR,OAAQ,CACjC,KAAOrsD,EAAI0vB,EAAM,GAAG,CAChB,IAAIo9B,EAAUC,EAAWlT,EAAM75C,GAAI65C,EAAM75C,EAAI,IAC7C65C,EAAM75C,GAAK8sD,EAAQ,GACnBjT,EAAM75C,EAAI,GAAK8sD,EAAQ,GACvB9sD,GACJ,CACA,OAAO,CACX,CACJ,CACJ,CA1GagtD,CAAmBnT,EAAOA,EAAM/6C,QAArC,CAEK0c,IACDA,EAAUjd,KAAK2+C,UACf3+C,KAAK0uD,oBAAsB1uD,KAAKytD,MAAQztD,KAAKqtD,WAAW9sD,SACxDP,KAAKqtD,WAAa,IACtBrtD,KAAK+sD,WAAY,EACjB,IAAIuB,EAAWhT,EAAMtnC,MACjB26C,EAAqB,KAOzB,OANIL,IACAK,EAAqB1xC,EAAQ2xC,YAAYN,EAAUD,GACnDruD,KAAKqtD,WAAWxrD,KAAKysD,GACrBtuD,KAAK6uD,YAET7uD,KAAK+sD,WAAY,EACV4B,CAdG,CAed,EACA/B,EAAYvrD,UAAUytD,KAAO,SAAU7xC,EAASoxC,GAK5C,GAJAruD,KAAKstD,WAAa,KACbrwC,IACDA,EAAUjd,KAAK2+C,UACnB3+C,KAAK+sD,WAAY,EACb/sD,KAAK0uD,mBAAqB1uD,KAAKytD,KAAM,CACrC,IAAIsB,EAAO/uD,KAAKiuD,UAAUjuD,KAAK0uD,kBAAmB1uD,KAAKytD,KAAO,IA8V1E,SAAyBuB,EAAWC,GAChC,IAAK,IAAIxtD,EAAI,EAAGA,EAAIwtD,EAAU1uD,OAAQkB,IAElC,IADA,IAAI0oD,EAAS8E,EAAUxtD,GACd6Y,EAAI,EAAGA,EAAI6vC,EAAO5pD,OAAQ+Z,IAC/B40C,EAAgBF,EAAW7E,EAAO7vC,GAG9C,CApWY60C,CAAgBnvD,KAAKqtD,WAAY0B,GACjC/uD,KAAK0uD,kBAAoB1uD,KAAKytD,KAC9BztD,KAAKqtD,WAAWtoD,SAAQ,SAAUic,GAC9BA,EAAE,GAAGre,KAAO3C,KAAK8sD,OACrB,GAAG9sD,KACP,CACA,IAAIsuD,EAAWtuD,KAAKqtD,WAAWr5C,MAC3Bo7C,EAAqB,KAOzB,OANId,IACAc,EAAqBnyC,EAAQoyC,YAAYf,EAAUD,GACnDruD,KAAKwtD,WAAW3rD,KAAKysD,GACrBtuD,KAAK6uD,YAET7uD,KAAK+sD,WAAY,EACVqC,CACX,EACAxC,EAAYvrD,UAAUwtD,SAAW,WAC7B,IAAIvT,EAAQt7C,KAAKwtD,WACb8B,EAAYhU,EAAMA,EAAM/6C,OAAS,GACjCoC,EAAK2sD,GAAaA,EAAU,GAAG3sD,IAAM,EACzC3C,KAAK0uD,kBAAoB/rD,EACzB3C,KAAKytD,KAAO9qD,CAChB,EACAiqD,EAAYvrD,UAAU4rD,MAAQ,WAC1BjtD,KAAKstD,WAAa,KAClBttD,KAAKotD,WAAa,KAClBptD,KAAKwtD,WAAa,GAClBxtD,KAAKqtD,WAAa,GAClBrtD,KAAKytD,KAAO,EACZztD,KAAKuvD,KAAO,EACZvvD,KAAK0uD,kBAAoB1uD,KAAKytD,KAC9BztD,KAAK2yC,WAAa,EACtB,EACAia,EAAYvrD,UAAUmuD,QAAU,WAC5B,OAAOxvD,KAAKwtD,WAAWjtD,OAAS,CACpC,EACAqsD,EAAYvrD,UAAUouD,QAAU,WAC5B,OAAOzvD,KAAKqtD,WAAW9sD,OAAS,CACpC,EACAqsD,EAAYvrD,UAAUquD,SAAW,SAAU/B,QAC5BxsD,GAAPwsD,IACAA,EAAM3tD,KAAKytD,MACfztD,KAAKuvD,KAAO5B,CAChB,EACAf,EAAYvrD,UAAUsuD,aAAe,WACjC,OAAO3vD,KAAKytD,OAASztD,KAAKuvD,IAC9B,EACA3C,EAAYvrD,UAAU23C,OAAS,WAC3B,MAAO,CACHqU,WAAYrtD,KAAKqtD,WACjBG,WAAYxtD,KAAKwtD,WAEzB,EACAZ,EAAYvrD,UAAU+3C,SAAW,SAAUwW,GACvC5vD,KAAKitD,QACLjtD,KAAKwtD,WAAaoC,EAAKpC,WACvBxtD,KAAKqtD,WAAauC,EAAKvC,UAC3B,EACAT,EAAYvrD,UAAUwuD,aAAe,SAAU/f,GAC3C,OAAIA,EACOggB,EAAehgB,GACnBggB,EAAe9vD,KAAKwtD,YAAc,UAAYsC,EAAe9vD,KAAKqtD,WAC7E,EACOT,CACX,CAvLiC,GAwLjCA,EAAYvrD,UAAUmjC,QAAUooB,EAAYvrD,UAAUmuD,QACtD5C,EAAYvrD,UAAU0uD,QAAUnD,EAAYvrD,UAAUouD,QACtD7C,EAAYvrD,UAAU2uD,QAAUpD,EAAYvrD,UAAUsuD,aACtD/C,EAAYvrD,UAAU4uD,UAAYrD,EAAYvrD,UAAUquD,SAexD,IAAI/0C,EAAQ/Y,EAAQ,WAAW+Y,MAC3Ba,EAAMb,EAAM2C,cACI3C,EAAM2C,cAwC1B,SAASssC,EAASz4B,GACd,MAAO,CAAElW,IAAKkW,EAAIlW,IAAKC,OAAQiW,EAAIjW,OACvC,CASA,SAAS40C,EAAep7B,GAEpB,GADAA,EAAIA,GAAK10B,KACLqF,MAAMmB,QAAQkuB,GACd,OAAOA,EAAEvvB,IAAI2qD,GAAgBxtD,KAAK,MAEtC,IAAI4Q,EAAO,GAmBX,OAlBIwhB,EAAE4P,QACFpxB,EAAmB,UAAZwhB,EAAE4P,OAAqB,IAAM,IACpCpxB,GAAQ,IAAMwhB,EAAE1J,MAAQ,KAEnB0J,EAAEnxB,QAEH2P,EADA7N,MAAMmB,QAAQkuB,EAAEnxB,OACTmxB,EAAEnxB,MAAM4B,IAAI+qD,GAAgB5tD,KAAK,MAGjC4tD,EAAex7B,EAAEnxB,QAG5BmxB,EAAE1Z,QACF9H,GAAQg9C,EAAex7B,KAEvBA,EAAE/xB,IAAM+xB,EAAEi5B,OACVz6C,GAAQ,OAASwhB,EAAE/xB,IAAM+xB,EAAEi5B,KAAO,KAE/Bz6C,CACX,CACA,SAASg9C,EAAerX,GACpB,OAAOA,EAAE79B,MAAMC,IAAM,IAAM49B,EAAE79B,MAAME,OAC7B,KAAO29B,EAAE3yC,IAAI+U,IAAM,IAAM49B,EAAE3yC,IAAIgV,MACzC,CACA,SAASi1C,EAAKC,EAAIC,GACd,IAAIC,EAAkB,UAAbF,EAAG9rB,OACRisB,EAAkB,UAAbF,EAAG/rB,OACZ,GAAIgsB,GAAMC,EACN,GAAI/0C,EAAI60C,EAAGr1C,MAAOo1C,EAAGlqD,MAAQ,EACzB8pB,EAAMqgC,EAAID,GAAK,OAEd,MAAI50C,EAAI60C,EAAGr1C,MAAOo1C,EAAGp1C,QAAU,GAIhC,OAAO,KAHPgV,EAAMogC,EAAIC,EAAI,EAIlB,MAEC,GAAIC,IAAOC,EACZ,GAAI/0C,EAAI60C,EAAGr1C,MAAOo1C,EAAGlqD,MAAQ,EACzB8pB,EAAMqgC,EAAID,GAAK,OAEd,MAAI50C,EAAI60C,EAAGnqD,IAAKkqD,EAAGp1C,QAAU,GAI9B,OAAO,KAHPgV,EAAMogC,EAAIC,GAAK,EAInB,MAEC,IAAKC,GAAMC,EACZ,GAAI/0C,EAAI60C,EAAGr1C,MAAOo1C,EAAGp1C,QAAU,EAC3BgV,EAAMqgC,EAAID,EAAI,OAEb,MAAI50C,EAAI60C,EAAGr1C,MAAOo1C,EAAGp1C,QAAU,GAIhC,OAAO,KAHPgV,EAAMogC,EAAIC,EAAI,EAIlB,MAEC,IAAKC,IAAOC,EACb,GAAI/0C,EAAI60C,EAAGr1C,MAAOo1C,EAAGp1C,QAAU,EAC3BgV,EAAMqgC,EAAID,EAAI,OAEb,MAAI50C,EAAI60C,EAAGnqD,IAAKkqD,EAAGp1C,QAAU,GAI9B,OAAO,KAHPgV,EAAMogC,EAAIC,GAAK,EAInB,CAEJ,MAAO,CAACA,EAAID,EAChB,CACA,SAAS5B,EAAWgC,EAAKC,GACrB,IAAK,IAAIhvD,EAAI+uD,EAAIjwD,OAAQkB,KACrB,IAAK,IAAI6Y,EAAI,EAAGA,EAAIm2C,EAAIlwD,OAAQ+Z,IAC5B,IAAK61C,EAAKK,EAAI/uD,GAAIgvD,EAAIn2C,IAAK,CACvB,KAAO7Y,EAAI+uD,EAAIjwD,QAAQ,CACnB,KAAO+Z,KACH61C,EAAKM,EAAIn2C,GAAIk2C,EAAI/uD,IAErB6Y,EAAIm2C,EAAIlwD,OACRkB,GACJ,CACA,MAAO,CAAC+uD,EAAKC,EACjB,CAKR,OAFAD,EAAIE,gBAAkBD,EAAIC,gBACtBF,EAAIG,eAAiBF,EAAIE,eAAiB,KACvC,CAACF,EAAKD,EACjB,CACA,SAASI,EAAMR,EAAIS,GACf,IAAIP,EAAkB,UAAbF,EAAG9rB,OACRisB,EAAkB,UAAbM,EAAGvsB,OACZ,GAAIgsB,GAAMC,EACF/0C,EAAI40C,EAAGp1C,MAAO61C,EAAG71C,OAAS,EAC1BgV,EAAM6gC,EAAIT,EAAI,GAGdpgC,EAAMogC,EAAIS,EAAI,QAGjB,GAAIP,IAAOC,EACR/0C,EAAI40C,EAAGp1C,MAAO61C,EAAG3qD,MAAQ,EACzB8pB,EAAMogC,EAAIS,GAAK,IAEVr1C,EAAI40C,EAAGp1C,MAAO61C,EAAG71C,QAAU,GAIhCgV,EAAMogC,EAAIz1C,EAAMgC,WAAWk0C,EAAG71C,MAAOo1C,EAAGp1C,QAAS,GAHjDgV,EAAM6gC,EAAIT,EAAI,SAOjB,IAAKE,GAAMC,EACR/0C,EAAIq1C,EAAG71C,MAAOo1C,EAAGlqD,MAAQ,EACzB8pB,EAAM6gC,EAAIT,GAAK,IAEV50C,EAAIq1C,EAAG71C,MAAOo1C,EAAGp1C,QAAU,GAIhCgV,EAAM6gC,EAAIl2C,EAAMgC,WAAWyzC,EAAGp1C,MAAO61C,EAAG71C,QAAS,GAHjDgV,EAAMogC,EAAIS,EAAI,SAOjB,IAAKP,IAAOC,EACb,GAAI/0C,EAAIq1C,EAAG71C,MAAOo1C,EAAGlqD,MAAQ,EACzB8pB,EAAM6gC,EAAIT,GAAK,OAEd,CAID,IAAIzL,EAAQC,EAJX,KAAIppC,EAAIq1C,EAAG3qD,IAAKkqD,EAAGp1C,QAAU,GAmB9B,OAdIQ,EAAI40C,EAAGp1C,MAAO61C,EAAG71C,OAAS,IAC1B2pC,EAASyL,EACTA,EAAKU,EAAWV,EAAIS,EAAG71C,QAEvBQ,EAAI40C,EAAGlqD,IAAK2qD,EAAG3qD,KAAO,IACtB0+C,EAAQkM,EAAWV,EAAIS,EAAG3qD,MAE9B6qD,EAASF,EAAG3qD,IAAKkqD,EAAGp1C,MAAOo1C,EAAGlqD,KAAM,GAChC0+C,IAAUD,IACVyL,EAAGplC,MAAQ45B,EAAM55B,MACjBolC,EAAGp1C,MAAQ4pC,EAAM5pC,MACjBo1C,EAAGlqD,IAAM0+C,EAAM1+C,IACf0+C,EAAQwL,GAEL,CAACS,EAAIlM,EAAQC,GAAOvvC,OAAO4xB,SAlBlCjX,EAAMogC,EAAIS,GAAK,EAmBnB,CAEJ,MAAO,CAACA,EAAIT,EAChB,CACA,SAASpgC,EAAMogC,EAAIC,EAAInmB,GACnB6mB,EAASX,EAAGp1C,MAAOq1C,EAAGr1C,MAAOq1C,EAAGnqD,IAAKgkC,GACrC6mB,EAASX,EAAGlqD,IAAKmqD,EAAGr1C,MAAOq1C,EAAGnqD,IAAKgkC,EACvC,CACA,SAAS6mB,EAAS5/B,EAAKnW,EAAO9U,EAAKgkC,GAC3B/Y,EAAIlW,MAAe,GAAPivB,EAAWlvB,EAAQ9U,GAAK+U,MACpCkW,EAAIjW,QAAUgvB,GAAOhkC,EAAIgV,OAASF,EAAME,SAE5CiW,EAAIlW,KAAOivB,GAAOhkC,EAAI+U,IAAMD,EAAMC,IACtC,CACA,SAAS61C,EAAWnkB,EAAGxb,GACnB,IAAInG,EAAQ2hB,EAAE3hB,MACV9kB,EAAMymC,EAAEzmC,IACZymC,EAAEzmC,IAAM0jD,EAASz4B,GACjB,IAAI6/B,EAAarkB,EAAEzmC,IAAI+U,IAAM0xB,EAAE3xB,MAAMC,IACjCg2C,EAAajmC,EAAMrjB,OAAOqpD,EAAYhmC,EAAMzqB,QAC5C2xC,EAAM8e,EAAa7/B,EAAIjW,OAASiW,EAAIjW,OAASyxB,EAAE3xB,MAAME,OASzD,OARA8P,EAAMnpB,KAAKovD,EAAW,GAAGrgB,UAAU,EAAGsB,IACtC+e,EAAW,GAAKA,EAAW,GAAGhgB,OAAOiB,GAC1B,CACPl3B,MAAO4uC,EAASz4B,GAChBjrB,IAAKA,EACL8kB,MAAOimC,EACP3sB,OAAQqI,EAAErI,OAGlB,CACA,SAAS4qB,EAAgBF,EAAWt6B,GAChCA,EArMJ,SAAoBA,GAChB,MAAO,CACH1Z,MAAO4uC,EAASl1B,EAAE1Z,OAClB9U,IAAK0jD,EAASl1B,EAAExuB,KAChBo+B,OAAQ5P,EAAE4P,OACVtZ,MAAO0J,EAAE1J,MAAM3oB,QAEvB,CA8LQ6uD,CAAWx8B,GACf,IAAK,IAAIpa,EAAI00C,EAAUzuD,OAAQ+Z,KAAM,CAEjC,IADA,IAAIg0C,EAAWU,EAAU10C,GAChB7Y,EAAI,EAAGA,EAAI6sD,EAAS/tD,OAAQkB,IAAK,CACtC,IACI0vD,EAAUP,EADNtC,EAAS7sD,GACMizB,GACvBA,EAAIy8B,EAAQ,GACU,GAAlBA,EAAQ5wD,SACJ4wD,EAAQ,IACR7C,EAAS3mD,OAAOlG,EAAI,EAAG,EAAG0vD,EAAQ,GAAIA,EAAQ,IAC9C1vD,KAEM0vD,EAAQ,KACd7C,EAAS3mD,OAAOlG,EAAG,GACnBA,KAGZ,CACK6sD,EAAS/tD,QACVyuD,EAAUrnD,OAAO2S,EAAG,EAE5B,CACA,OAAO00C,CACX,CASAvsD,EAAQmqD,YAAcA,CAEtB,IAEA3pD,IAAI/C,OAAO,6BAA6B,CAAC,UAAU,UAAU,SAAS,cAAc,SAAS0B,EAASa,EAAStC,GAAQ,aACvH,IAAIwa,EAAQ/Y,EAAQ,YAAY+Y,MAC5By2C,EAA0B,WAC1B,SAASA,EAASC,EAAUC,GACxBtxD,KAAKqxD,SAAWA,EACZhsD,MAAMmB,QAAQ8qD,GACdtxD,KAAKsxD,MAAQA,EAGbA,EAAQtxD,KAAKsxD,MAAQ,CAACA,GAE1B,IAAI7qD,EAAO6qD,EAAMA,EAAM/wD,OAAS,GAChCP,KAAKob,MAAQ,IAAIT,EAAM22C,EAAM,GAAGt2C,MAAMC,IAAKq2C,EAAM,GAAGt2C,MAAME,OAAQzU,EAAKP,IAAI+U,IAAKxU,EAAKP,IAAIgV,QACzFlb,KAAKgb,MAAQhb,KAAKob,MAAMJ,MACxBhb,KAAKkG,IAAMlG,KAAKob,MAAMlV,IACtBlG,KAAKsxD,MAAMvsD,SAAQ,SAAUk4B,GACzBA,EAAKs0B,YAAYvxD,KACrB,GAAGA,KACP,CAyKA,OAxKAoxD,EAAS/vD,UAAUmwD,SAAW,SAAUxhC,GACpChwB,KAAKgb,MAAMC,KAAO+U,EAClBhwB,KAAKkG,IAAI+U,KAAO+U,EAChBhwB,KAAKsxD,MAAMvsD,SAAQ,SAAUk4B,GACzBA,EAAKjiB,MAAMC,KAAO+U,EAClBiN,EAAK/2B,IAAI+U,KAAO+U,CACpB,GACJ,EACAohC,EAAS/vD,UAAUynC,QAAU,SAAU7L,GACnC,GAAIA,EAAKw0B,QAAS,CACd,GAAIx0B,EAAKjiB,MAAMC,IAAMjb,KAAK4a,UAAYqiB,EAAKniB,OAAS9a,KAAK8a,OACrD,MAAM,IAAIrG,MAAM,6DAEpBzU,KAAKsxD,MAAMzvD,KAAKo7B,GAChBj9B,KAAKsxD,MAAMr6B,MAAK,SAAUvwB,EAAGiuB,GACzB,OAAQjuB,EAAE0U,MAAMkB,WAAWqY,EAAE3Z,MAAMC,IAAK0Z,EAAE3Z,MAAME,OACpD,IACIlb,KAAKob,MAAMkB,WAAW2gB,EAAKjiB,MAAMC,IAAKgiB,EAAKjiB,MAAME,QAAU,GAC3Dlb,KAAKkG,IAAI+U,IAAMgiB,EAAK/2B,IAAI+U,IACxBjb,KAAKkG,IAAIgV,OAAS+hB,EAAK/2B,IAAIgV,QAEtBlb,KAAKob,MAAMiB,aAAa4gB,EAAK/2B,IAAI+U,IAAKgiB,EAAK/2B,IAAIgV,QAAU,IAC9Dlb,KAAKgb,MAAMC,IAAMgiB,EAAKjiB,MAAMC,IAC5Bjb,KAAKgb,MAAME,OAAS+hB,EAAKjiB,MAAME,OAEvC,MACK,GAAI+hB,EAAKjiB,MAAMC,KAAOjb,KAAKkG,IAAI+U,IAChCjb,KAAKsxD,MAAMzvD,KAAKo7B,GAChBj9B,KAAKkG,IAAI+U,IAAMgiB,EAAK/2B,IAAI+U,IACxBjb,KAAKkG,IAAIgV,OAAS+hB,EAAK/2B,IAAIgV,WAE1B,IAAI+hB,EAAK/2B,IAAI+U,KAAOjb,KAAKgb,MAAMC,IAMhC,MAAM,IAAIxG,MAAM,kEALhBzU,KAAKsxD,MAAMnV,QAAQlf,GACnBj9B,KAAKgb,MAAMC,IAAMgiB,EAAKjiB,MAAMC,IAC5Bjb,KAAKgb,MAAME,OAAS+hB,EAAKjiB,MAAME,MAInC,CACA+hB,EAAKsZ,SAAWv2C,IACpB,EACAoxD,EAAS/vD,UAAUqwD,YAAc,SAAUz2C,GACvC,OAAOA,GAAOjb,KAAKgb,MAAMC,KAAOA,GAAOjb,KAAKkG,IAAI+U,GACpD,EACAm2C,EAAS/vD,UAAUswD,KAAO,SAAU1wD,EAAU6Z,EAAQC,GAClD,IAAqCkiB,EAAMzhB,EAAvCo2C,EAAU,EAAGN,EAAQtxD,KAAKsxD,MAAwBO,GAAW,EACnD,MAAV/2C,IACAA,EAAS9a,KAAKkG,IAAI+U,IAClBF,EAAY/a,KAAKkG,IAAIgV,QAEzB,IAAK,IAAIzZ,EAAI,EAAGA,EAAI6vD,EAAM/wD,OAAQkB,IAAK,CAGnC,IAAY,IADZ+Z,GADAyhB,EAAOq0B,EAAM7vD,IACF2Z,MAAMiB,aAAavB,EAAQC,IAGlC,YADA9Z,EAAS,KAAM6Z,EAAQC,EAAW62C,EAASC,GAK/C,IAFO5wD,EAAS,KAAMg8B,EAAKjiB,MAAMC,IAAKgiB,EAAKjiB,MAAME,OAAQ02C,EAASC,IAClD5wD,EAASg8B,EAAK60B,YAAa70B,EAAKjiB,MAAMC,IAAKgiB,EAAKjiB,MAAME,OAAQ02C,IAC1D,IAARp2C,EACR,OAEJq2C,GAAY50B,EAAKw0B,QACjBG,EAAU30B,EAAK/2B,IAAIgV,MACvB,CACAja,EAAS,KAAM6Z,EAAQC,EAAW62C,EAASC,EAC/C,EACAT,EAAS/vD,UAAU0wD,cAAgB,SAAU92C,EAAKC,GAE9C,IADA,IAAI+hB,EAAMzhB,EACD/Z,EAAI,EAAGA,EAAIzB,KAAKsxD,MAAM/wD,OAAQkB,IAAK,CAGxC,IAAY,IADZ+Z,GADAyhB,EAAOj9B,KAAKsxD,MAAM7vD,IACP2Z,MAAMkB,WAAWrB,EAAKC,IAE7B,MAAO,CACH+hB,KAAMA,EACN+0B,KAAM,SAGT,GAAY,IAARx2C,EACL,MAAO,CACHyhB,KAAMA,EACN+0B,KAAM,SAGlB,CACA,OAAO,IACX,EACAZ,EAAS/vD,UAAU4wD,eAAiB,SAAUh3C,EAAKC,EAAQ1V,GACvD,IAA2Cy3B,EAAMq0B,EAA7CrjB,EAAMjuC,KAAK+xD,cAAc92C,EAAKC,GAClC,GAAI+yB,EAEA,GADAhR,EAAOgR,EAAIhR,KACK,UAAZgR,EAAI+jB,MACD/0B,EAAKjiB,MAAME,QAAUA,GACrB+hB,EAAKjiB,MAAMC,KAAOA,EACrBhb,OAAOW,SAAWX,OAAOW,QAAQsxD,IAAIj3C,EAAKC,EAAQ+hB,QAEjD,GAAIA,EAAKjiB,MAAMC,KAAOA,EAAK,CAE5B,IAAIxZ,GADJ6vD,EAAQtxD,KAAKsxD,OACCrvD,QAAQg7B,GAItB,IAHU,IAANx7B,IACAzB,KAAKgb,MAAME,QAAU1V,GAEjB/D,EAAI6vD,EAAM/wD,OAAQkB,IAAK,CAG3B,IAFAw7B,EAAOq0B,EAAM7vD,IACRuZ,MAAME,QAAU1V,GAChBy3B,EAAKw0B,QACN,OAEJx0B,EAAK/2B,IAAIgV,QAAU1V,CACvB,CACAxF,KAAKkG,IAAIgV,QAAU1V,CACvB,CAER,EACA4rD,EAAS/vD,UAAUc,MAAQ,SAAU8Y,EAAKC,GACtC,IAAIiW,EAAMnxB,KAAK+xD,cAAc92C,EAAKC,GAClC,IAAKiW,GAAmB,UAAZA,EAAI6gC,KACZ,OAAO,KACX,IAAI/0B,EAAO9L,EAAI8L,KACXq0B,EAAQtxD,KAAKsxD,MACbD,EAAWrxD,KAAKqxD,SAChB5vD,EAAI6vD,EAAMrvD,QAAQg7B,GAClBk1B,EAAab,EAAM7vD,EAAI,GAC3BzB,KAAKkG,IAAI+U,IAAMk3C,EAAWjsD,IAAI+U,IAC9Bjb,KAAKkG,IAAIgV,OAASi3C,EAAWjsD,IAAIgV,OAEjC,IAAIk3C,EAAc,IAAIhB,EAASC,EAD/BC,EAAQA,EAAM3pD,OAAOlG,EAAG6vD,EAAM/wD,OAASkB,IAGvC,OADA4vD,EAAS1pD,OAAO0pD,EAASpvD,QAAQjC,MAAQ,EAAG,EAAGoyD,GACxCA,CACX,EACAhB,EAAS/vD,UAAU66C,MAAQ,SAAUmW,GAEjC,IADA,IAAIf,EAAQe,EAAaf,MAChB7vD,EAAI,EAAGA,EAAI6vD,EAAM/wD,OAAQkB,IAC9BzB,KAAK8oC,QAAQwoB,EAAM7vD,IAEvB,IAAI4vD,EAAWrxD,KAAKqxD,SACpBA,EAAS1pD,OAAO0pD,EAASpvD,QAAQowD,GAAe,EACpD,EACAjB,EAAS/vD,UAAUC,SAAW,WAC1B,IAAI2sC,EAAM,CAACjuC,KAAKob,MAAM9Z,WAAa,OAKnC,OAJAtB,KAAKsxD,MAAMvsD,SAAQ,SAAUk4B,GACzBgR,EAAIpsC,KAAK,KAAOo7B,EAAK37B,WACzB,IACA2sC,EAAIpsC,KAAK,KACFosC,EAAI3rC,KAAK,KACpB,EACA8uD,EAAS/vD,UAAUixD,cAAgB,SAAUC,GAEzC,IADA,IAAIC,EAAoB,EACf/wD,EAAI,EAAGA,EAAIzB,KAAKsxD,MAAM/wD,OAAQkB,IAAK,CACxC,IAAIw7B,EAAOj9B,KAAKsxD,MAAM7vD,GAEtB,IADA8wD,GAAOt1B,EAAKjiB,MAAME,OAASs3C,GACjB,EACN,MAAO,CACHv3C,IAAKgiB,EAAKjiB,MAAMC,IAChBC,OAAQ+hB,EAAKjiB,MAAME,OAASq3C,GAIpC,IADAA,GAAOt1B,EAAK60B,YAAYvxD,QACd,EACN,OAAO08B,EAAKjiB,MAEhBw3C,EAAoBv1B,EAAK/2B,IAAIgV,MACjC,CACA,MAAO,CACHD,IAAKjb,KAAKkG,IAAI+U,IACdC,OAAQlb,KAAKkG,IAAIgV,OAASq3C,EAElC,EACOnB,CACX,CA1L8B,GA2L9B3uD,EAAQ2uD,SAAWA,CAEnB,IAEAnuD,IAAI/C,OAAO,iBAAiB,CAAC,UAAU,UAAU,SAAS,cAAc,SAAS0B,EAASa,EAAStC,GAAQ,aAC3G,IACImd,EADQ1b,EAAQ,WAAW+Y,MACL2C,cACtBm1C,EAA2B,WAC3B,SAASA,IACLzyD,KAAKk5C,OAAS,GACdl5C,KAAK0yD,MAAQ,CACjB,CAiNA,OAhNAD,EAAUpxD,UAAUsxD,WAAa,SAAUxhC,EAAKyhC,EAAcC,GAE1D,IADA,IAAI/U,EAAO99C,KAAKk5C,OACPz3C,EAAIoxD,GAAc,EAAGpxD,EAAIq8C,EAAKv9C,OAAQkB,IAAK,CAChD,IAAI2Z,EAAQ0iC,EAAKr8C,GACbgxB,EAASnV,EAAc6T,EAAK/V,EAAMlV,KACtC,KAAIusB,EAAS,GAAb,CAEA,IAAID,EAAWlV,EAAc6T,EAAK/V,EAAMJ,OACxC,OAAe,IAAXyX,EACOmgC,GAA6B,IAAbpgC,GAAkB/wB,EAAI,EAAIA,EACjD+wB,EAAW,GAAmB,IAAbA,IAAmBogC,EAC7BnxD,GACHA,EAAI,CANA,CAOhB,CACA,OAAQA,EAAI,CAChB,EACAgxD,EAAUpxD,UAAU0M,IAAM,SAAUqN,GAChC,IAAIw3C,GAAgBx3C,EAAMyB,UACtBg2C,EAAa7yD,KAAK2yD,WAAWv3C,EAAMJ,MAAO43C,GAC1CC,EAAa,IACbA,GAAcA,EAAa,GAC/B,IAAI/mC,EAAW9rB,KAAK2yD,WAAWv3C,EAAMlV,IAAK0sD,EAAcC,GAKxD,OAJI/mC,EAAW,EACXA,GAAYA,EAAW,EAEvBA,IACG9rB,KAAKk5C,OAAOvxC,OAAOkrD,EAAY/mC,EAAW+mC,EAAYz3C,EACjE,EACAq3C,EAAUpxD,UAAUyxD,QAAU,SAAUhV,GAEpC,IADA,IAAIiV,EAAU,GACLtxD,EAAIq8C,EAAKv9C,OAAQkB,KACtBsxD,EAAQlxD,KAAKlB,MAAMoyD,EAAS/yD,KAAK+N,IAAI+vC,EAAKr8C,KAE9C,OAAOsxD,CACX,EACAN,EAAUpxD,UAAU2xD,eAAiB,SAAU7hC,GAC3C,IAAI1vB,EAAIzB,KAAK2yD,WAAWxhC,GACxB,GAAI1vB,GAAK,EACL,OAAOzB,KAAKk5C,OAAOvxC,OAAOlG,EAAG,EACrC,EACAgxD,EAAUpxD,UAAU66C,MAAQ,WAOxB,IANA,IAKoB9gC,EALhB23C,EAAU,GACVjV,EAAO99C,KAAKk5C,OAIZhkB,GAHJ4oB,EAAOA,EAAK7mB,MAAK,SAAUvwB,EAAGiuB,GAC1B,OAAOrX,EAAc5W,EAAEsU,MAAO2Z,EAAE3Z,MACpC,KACgB,GACPvZ,EAAI,EAAGA,EAAIq8C,EAAKv9C,OAAQkB,IAAK,CAClC2Z,EAAQ8Z,EACRA,EAAO4oB,EAAKr8C,GACZ,IAAI+Z,EAAM8B,EAAclC,EAAMlV,IAAKgvB,EAAKla,OACpCQ,EAAM,IAEC,GAAPA,GAAaJ,EAAMyB,WAAcqY,EAAKrY,aAEtCS,EAAclC,EAAMlV,IAAKgvB,EAAKhvB,KAAO,IACrCkV,EAAMlV,IAAI+U,IAAMia,EAAKhvB,IAAI+U,IACzBG,EAAMlV,IAAIgV,OAASga,EAAKhvB,IAAIgV,QAEhC4iC,EAAKn2C,OAAOlG,EAAG,GACfsxD,EAAQlxD,KAAKqzB,GACbA,EAAO9Z,EACP3Z,IACJ,CAEA,OADAzB,KAAKk5C,OAAS4E,EACPiV,CACX,EACAN,EAAUpxD,UAAUga,SAAW,SAAUJ,EAAKC,GAC1C,OAAOlb,KAAK2yD,WAAW,CAAE13C,IAAKA,EAAKC,OAAQA,KAAa,CAC5D,EACAu3C,EAAUpxD,UAAU4xD,cAAgB,SAAU9hC,GAC1C,OAAOnxB,KAAK2yD,WAAWxhC,IAAQ,CACnC,EACAshC,EAAUpxD,UAAU6xD,aAAe,SAAU/hC,GACzC,IAAI1vB,EAAIzB,KAAK2yD,WAAWxhC,GACxB,GAAI1vB,GAAK,EACL,OAAOzB,KAAKk5C,OAAOz3C,EAC3B,EACAgxD,EAAUpxD,UAAUmb,SAAW,SAAU5B,EAAUE,GAC/C,IAAIgjC,EAAO99C,KAAKk5C,OAChB,GAAI4E,EAAK,GAAG9iC,MAAMC,IAAMH,GAAUgjC,EAAKA,EAAKv9C,OAAS,GAAGya,MAAMC,IAAML,EAChE,MAAO,GACX,IAAIi4C,EAAa7yD,KAAK2yD,WAAW,CAAE13C,IAAKL,EAAUM,OAAQ,IACtD23C,EAAa,IACbA,GAAcA,EAAa,GAC/B,IAAI/mC,EAAW9rB,KAAK2yD,WAAW,CAAE13C,IAAKH,EAAQI,OAAQ,GAAK23C,GACvD/mC,EAAW,IACXA,GAAYA,EAAW,GAE3B,IADA,IAAIqnC,EAAU,GACL1xD,EAAIoxD,EAAYpxD,EAAIqqB,EAAUrqB,IACnC0xD,EAAQtxD,KAAKi8C,EAAKr8C,IAEtB,OAAO0xD,CACX,EACAV,EAAUpxD,UAAU+xD,UAAY,WAC5B,OAAOpzD,KAAKk5C,OAAOvxC,OAAO,EAAG3H,KAAKk5C,OAAO34C,OAC7C,EACAkyD,EAAUpxD,UAAUqoC,OAAS,SAAUzsB,GAC/Bjd,KAAKid,SACLjd,KAAK2pC,SACT3pC,KAAKid,QAAUA,EACfjd,KAAK6vC,SAAW7vC,KAAKsnD,UAAUzhC,KAAK7lB,MACpCA,KAAKid,QAAQ5J,GAAG,SAAUrT,KAAK6vC,SACnC,EACA4iB,EAAUpxD,UAAUsoC,OAAS,WACpB3pC,KAAKid,UAEVjd,KAAKid,QAAQ9I,eAAe,SAAUnU,KAAK6vC,UAC3C7vC,KAAKid,QAAU,KACnB,EACAw1C,EAAUpxD,UAAUimD,UAAY,SAAUxX,GAMtC,IALA,IAAI90B,EAAQ80B,EAAM90B,MACd9U,EAAM4pC,EAAM5pC,IACZ0U,EAAWI,EAAMC,IACjBH,EAAS5U,EAAI+U,IACbi+B,EAASl5C,KAAKk5C,OACTz3C,EAAI,EAAGgL,EAAIysC,EAAO34C,OAAQkB,EAAIgL,EAAGhL,IAAK,CAE3C,IADIo3C,EAAIK,EAAOz3C,IACTyE,IAAI+U,KAAOL,EACb,KACR,CACA,GAAoB,UAAhBk1B,EAAMxL,OAGN,IAFA,IAAI+uB,EAAUv4C,EAASF,EACnByqC,GAAWrqC,EAAME,OAAShV,EAAIgV,OAC3BzZ,EAAIgL,EAAGhL,IAAK,CAEf,IADIo3C,EAAIK,EAAOz3C,IACTuZ,MAAMC,IAAML,EACd,MASJ,GARIi+B,EAAE79B,MAAMC,KAAOL,GAAYi+B,EAAE79B,MAAME,QAAUF,EAAME,SAC/C29B,EAAE79B,MAAME,QAAUF,EAAME,QAAUlb,KAAK0yD,OAAS,IAGhD7Z,EAAE79B,MAAME,QAAUmqC,EAClBxM,EAAE79B,MAAMC,KAAOo4C,IAGnBxa,EAAE3yC,IAAI+U,KAAOL,GAAYi+B,EAAE3yC,IAAIgV,QAAUF,EAAME,OAAQ,CACvD,GAAI29B,EAAE3yC,IAAIgV,QAAUF,EAAME,QAAUlb,KAAK0yD,MAAQ,EAC7C,SAEA7Z,EAAE3yC,IAAIgV,QAAUF,EAAME,QAAUmqC,EAAU,GAAK5jD,EAAIgL,EAAI,GACnDosC,EAAE3yC,IAAIgV,OAAS29B,EAAE79B,MAAME,QAAU29B,EAAE3yC,IAAIgV,QAAUg+B,EAAOz3C,EAAI,GAAGuZ,MAAME,SACrE29B,EAAE3yC,IAAIgV,QAAUmqC,GAExBxM,EAAE3yC,IAAIgV,QAAUmqC,EAChBxM,EAAE3yC,IAAI+U,KAAOo4C,CACjB,CACJ,MAKA,IAFIA,EAAUz4C,EAAWE,EACrBuqC,EAAUrqC,EAAME,OAAShV,EAAIgV,OAC1BzZ,EAAIgL,EAAGhL,IAAK,CAEf,IADIo3C,EAAIK,EAAOz3C,IACTuZ,MAAMC,IAAMH,EACd,MACA+9B,EAAE3yC,IAAI+U,IAAMH,IACRF,EAAWi+B,EAAE3yC,IAAI+U,KACdL,GAAYi+B,EAAE3yC,IAAI+U,KAAOD,EAAME,OAAS29B,EAAE3yC,IAAIgV,SACrD29B,EAAE3yC,IAAI+U,IAAML,EACZi+B,EAAE3yC,IAAIgV,OAASF,EAAME,QAEhB29B,EAAE3yC,IAAI+U,KAAOH,EACd+9B,EAAE3yC,IAAIgV,QAAUhV,EAAIgV,QAChBm4C,GAAWxa,EAAE3yC,IAAIgV,OAASF,EAAME,UAChC29B,EAAE3yC,IAAIgV,OAASF,EAAME,OACrB29B,EAAE3yC,IAAI+U,IAAMD,EAAMC,MAItB49B,EAAE3yC,IAAIgV,QAAUmqC,EAChBxM,EAAE3yC,IAAI+U,KAAOo4C,GAGZxa,EAAE3yC,IAAI+U,IAAMH,IACjB+9B,EAAE3yC,IAAI+U,KAAOo4C,GAEbxa,EAAE79B,MAAMC,IAAMH,IACVF,EAAWi+B,EAAE79B,MAAMC,KAChBL,GAAYi+B,EAAE79B,MAAMC,KAAOD,EAAME,OAAS29B,EAAE79B,MAAME,SACzD29B,EAAE79B,MAAMC,IAAML,EACdi+B,EAAE79B,MAAME,OAASF,EAAME,QAElB29B,EAAE79B,MAAMC,KAAOH,EAChB+9B,EAAE79B,MAAME,QAAUhV,EAAIgV,QAClBm4C,GAAWxa,EAAE79B,MAAME,OAASF,EAAME,UAClC29B,EAAE79B,MAAME,OAASF,EAAME,OACvB29B,EAAE79B,MAAMC,IAAMD,EAAMC,MAIxB49B,EAAE79B,MAAME,QAAUmqC,EAClBxM,EAAE79B,MAAMC,KAAOo4C,GAGdxa,EAAE79B,MAAMC,IAAMH,IACnB+9B,EAAE79B,MAAMC,KAAOo4C,EAEvB,CAEJ,GAAe,GAAXA,GAAgB5xD,EAAIgL,EACpB,KAAOhL,EAAIgL,EAAGhL,IAAK,CACf,IAAIo3C,KAAIK,EAAOz3C,IACbuZ,MAAMC,KAAOo4C,EACfxa,EAAE3yC,IAAI+U,KAAOo4C,CACjB,CAER,EACOZ,CACX,CAtN+B,GAuN/BA,EAAUpxD,UAAUic,cAAgBA,EACpC7a,EAAQgwD,UAAYA,CAEpB,IAEAxvD,IAAI/C,OAAO,wBAAwB,CAAC,UAAU,UAAU,SAAS,mBAAmB,SAAS0B,EAASa,EAAStC,GAAQ,aACvH,IAAIq0B,EAAax0B,MAAQA,KAAKw0B,WAAe,WACzC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBrzB,OAAOwzB,gBAClB,CAAEC,UAAW,cAAgBxvB,OAAS,SAAUqvB,EAAGC,GAAKD,EAAEG,UAAYF,CAAG,GAC1E,SAAUD,EAAGC,GAAK,IAAK,IAAIjZ,KAAKiZ,EAAOvzB,OAAOC,UAAUsW,eAAepW,KAAKozB,EAAGjZ,KAAIgZ,EAAEhZ,GAAKiZ,EAAEjZ,GAAI,EAC7F+Y,EAAcC,EAAGC,EAC5B,EACA,OAAO,SAAUD,EAAGC,GAChB,GAAiB,oBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIjwB,UAAU,uBAAyBf,OAAOgxB,GAAK,iCAE7D,SAASG,IAAO90B,KAAKkS,YAAcwiB,CAAG,CADtCD,EAAcC,EAAGC,GAEjBD,EAAErzB,UAAkB,OAANszB,EAAavzB,OAAOqG,OAAOktB,IAAMG,EAAGzzB,UAAYszB,EAAEtzB,UAAW,IAAIyzB,EACnF,CACJ,CAd6C,GAgBzCw+B,EAAsB,SAAUn7B,GAEhC,SAASm7B,EAAKl4C,EAAO02C,GACjB,IAAI15B,EAAQD,EAAO52B,KAAKvB,OAASA,KAQjC,OAPAo4B,EAAMme,SAAW,KACjBne,EAAM05B,YAAcA,EACpB15B,EAAMhd,MAAQA,EACdgd,EAAMpd,MAAQI,EAAMJ,MACpBod,EAAMlyB,IAAMkV,EAAMlV,IAClBkyB,EAAMq5B,QAAUr2C,EAAMJ,MAAMC,KAAOG,EAAMlV,IAAI+U,IAC7Cmd,EAAMm7B,SAAWn7B,EAAM8gB,OAAS,GACzB9gB,CACX,CAwDA,OAnEA5D,EAAU8+B,EAAMn7B,GAYhBm7B,EAAKjyD,UAAUC,SAAW,WACtB,MAAO,IAAMtB,KAAK8xD,YAAc,KAAO9xD,KAAKob,MAAM9Z,UACtD,EACAgyD,EAAKjyD,UAAUkwD,YAAc,SAAUhb,GACnCv2C,KAAKu2C,SAAWA,EAChBv2C,KAAKuzD,SAASxuD,SAAQ,SAAUk4B,GAC5BA,EAAKs0B,YAAYhb,EACrB,GACJ,EACA+c,EAAKjyD,UAAUyb,MAAQ,WACnB,IACImgB,EAAO,IAAIq2B,EADHtzD,KAAKob,MAAM0B,QACI9c,KAAK8xD,aAKhC,OAJA9xD,KAAKuzD,SAASxuD,SAAQ,SAAUyuD,GAC5Bv2B,EAAKs2B,SAAS1xD,KAAK2xD,EAAQ12C,QAC/B,IACAmgB,EAAKw2B,iBAAmBzzD,KAAKyzD,iBACtBx2B,CACX,EACAq2B,EAAKjyD,UAAUqyD,WAAa,SAAUz2B,GAClC,IAAIj9B,KAAKob,MAAMD,QAAQ8hB,GAAvB,CA2CR,IAAsB7hB,EAAO8W,EAAP9W,EAzCD6hB,EAyCQ/K,EAzCFlyB,KAAKgb,MA0C5B24C,EAAav4C,EAAMJ,MAAOkX,GAC1ByhC,EAAav4C,EAAMlV,IAAKgsB,GAzCpB,IADA,IAAIjX,EAAMgiB,EAAKjiB,MAAMC,IAAKC,EAAS+hB,EAAKjiB,MAAME,OACrCzZ,EAAI,EAAG+Z,GAAO,EAAG/Z,EAAIzB,KAAKuzD,SAAShzD,QAE7B,IADXib,EAAMxb,KAAKuzD,SAAS9xD,GAAG2Z,MAAME,QAAQL,EAAKC,IADMzZ,KAKpD,IAAImyD,EAAa5zD,KAAKuzD,SAAS9xD,GAC3BoyD,EAAgB,EACpB,GAAW,GAAPr4C,EAAU,CACV,GAAIo4C,EAAWx4C,MAAMO,cAAcshB,GAC/B,OAAO22B,EAAWF,WAAWz2B,GAE7B42B,EAAgB,CACxB,CACI54C,EAAMgiB,EAAK7hB,MAAMlV,IAAI+U,IAAKC,EAAS+hB,EAAK7hB,MAAMlV,IAAIgV,OAAtD,IACSZ,EAAI7Y,EAAb,IAAgB+Z,GAAO,EAAGlB,EAAIta,KAAKuzD,SAAShzD,QAE7B,IADXib,EAAMxb,KAAKuzD,SAASj5C,GAAGc,MAAME,QAAQL,EAAKC,IADMZ,KAKzC,GAAPkB,GACAlB,IAGJ,IAFA,IAAIw5C,EAAgB9zD,KAAKuzD,SAAS5rD,OAAOlG,EAAG6Y,EAAI7Y,EAAGw7B,GAC/Cx2B,EAAc,GAAP+U,EAAWs4C,EAAcvzD,OAAS,EAAIuzD,EAAcvzD,OACtD6E,EAAIyuD,EAAezuD,EAAIqB,EAAMrB,IAClC63B,EAAKy2B,WAAWI,EAAc1uD,IAGlC,OADA63B,EAAKs0B,YAAYvxD,KAAKu2C,UACftZ,CA9BG,CA+Bd,EACAq2B,EAAKjyD,UAAU0yD,aAAe,SAAU34C,GACpC,OAkBR,SAAsBA,EAAO8W,GACzB8hC,EAAa54C,EAAMJ,MAAOkX,GAC1B8hC,EAAa54C,EAAMlV,IAAKgsB,EAC5B,CArBe6hC,CAAa34C,EAAOpb,KAAKgb,MACpC,EACOs4C,CACX,CArE0B,CADV1xD,EAAQ,iBAAiB6wD,WAuEzC,SAASkB,EAAanM,EAAOt1B,GACzBs1B,EAAMvsC,KAAOiX,EAAOjX,IACH,GAAbusC,EAAMvsC,MACNusC,EAAMtsC,QAAUgX,EAAOhX,OAC/B,CAKA,SAAS84C,EAAaxM,EAAOt1B,GACR,GAAbs1B,EAAMvsC,MACNusC,EAAMtsC,QAAUgX,EAAOhX,QAC3BssC,EAAMvsC,KAAOiX,EAAOjX,GACxB,CAKAxY,EAAQ6wD,KAAOA,CAEf,IAEArwD,IAAI/C,OAAO,2BAA2B,CAAC,UAAU,UAAU,SAAS,YAAY,6BAA6B,wBAAwB,qBAAqB,0BAA0B,SAAS0B,EAASa,EAAStC,GAC/M,aACA,IAAIwa,EAAQ/Y,EAAQ,YAAY+Y,MAC5By2C,EAAWxvD,EAAQ,eAAewvD,SAClCkC,EAAO1xD,EAAQ,UAAU0xD,KACzB9U,EAAgB58C,EAAQ,qBAAqB48C,cAC7CngB,EAAaz8B,EAAQ,wBAAwBy8B,WAqsBjD57B,EAAQwxD,QApsBR,WACIj0D,KAAKsoC,UAAY,SAAUrtB,EAAKC,EAAQ9c,GACpC,IAAIm4C,EAAWv2C,KAAKk9B,YAAYjiB,GAChC,IAAKs7B,EACD,OAAO,KAEX,IADA,IAAI+a,EAAQ/a,EAAS+a,MACZ7vD,EAAI,EAAGA,EAAI6vD,EAAM/wD,OAAQkB,IAAK,CACnC,IAAI2Z,EAAQk2C,EAAM7vD,GAAG2Z,MACrB,GAAIA,EAAMC,SAASJ,EAAKC,GAAS,CAC7B,GAAY,GAAR9c,GAAagd,EAAMS,MAAMZ,EAAKC,KAAYE,EAAMyB,UAChD,SAEC,IAAa,GAATze,GAAcgd,EAAMU,QAAQb,EAAKC,KAAYE,EAAMyB,UACxD,SAEJ,OAAOy0C,EAAM7vD,EACjB,CACJ,CACJ,EACAzB,KAAKk0D,gBAAkB,SAAU94C,GAC7B,IAAIJ,EAAQI,EAAMJ,MACd9U,EAAMkV,EAAMlV,IACZiuD,EAAYn0D,KAAKo0D,UACjBC,EAAa,GACjBr5C,EAAME,QAAU,EAChBhV,EAAIgV,QAAU,EACd,IAAK,IAAIzZ,EAAI,EAAGA,EAAI0yD,EAAU5zD,OAAQkB,IAAK,CACvC,IAAI+Z,EAAM24C,EAAU1yD,GAAG2Z,MAAMG,aAAaH,GAC1C,GAAW,GAAPI,EAAJ,CAGK,IAAY,GAARA,EACL,MAGJ,IADA,IAAI81C,EAAQ6C,EAAU1yD,GAAG6vD,MAChBh3C,EAAI,EAAGA,EAAIg3C,EAAM/wD,OAAQ+Z,IAAK,CACnC,IAAI2iB,EAAOq0B,EAAMh3C,GAEjB,IAAY,IADZkB,EAAMyhB,EAAK7hB,MAAMG,aAAaH,IAE1B,MAEC,GAAW,GAAPI,EAAJ,CAIL,GAAW,IAAPA,EACA,MAEJ64C,EAAWxyD,KAAKo7B,EADhB,CAEJ,CAhBA,CAiBJ,CAGA,OAFAjiB,EAAME,QAAU,EAChBhV,EAAIgV,QAAU,EACPm5C,CACX,EACAr0D,KAAKs0D,oBAAsB,SAAUpb,GACjC,GAAI7zC,MAAMmB,QAAQ0yC,GAAS,CACvB,IAAIoY,EAAQ,GACZpY,EAAOn0C,SAAQ,SAAUqW,GACrBk2C,EAAQA,EAAMz0D,OAAOmD,KAAKk0D,gBAAgB94C,GAC9C,GAAGpb,KACP,MAEQsxD,EAAQtxD,KAAKk0D,gBAAgBhb,GAErC,OAAOoY,CACX,EACAtxD,KAAKu0D,YAAc,WAGf,IAFA,IAAIjD,EAAQ,GACR6C,EAAYn0D,KAAKo0D,UACZ3yD,EAAI,EAAGA,EAAI0yD,EAAU5zD,OAAQkB,IAClC,IAAK,IAAI6Y,EAAI,EAAGA,EAAI65C,EAAU1yD,GAAG6vD,MAAM/wD,OAAQ+Z,IAC3Cg3C,EAAMzvD,KAAKsyD,EAAU1yD,GAAG6vD,MAAMh3C,IACtC,OAAOg3C,CACX,EACAtxD,KAAK63C,gBAAkB,SAAU58B,EAAKC,EAAQs5C,EAAMje,GAEhD,KADAA,EAAWA,GAAYv2C,KAAKk9B,YAAYjiB,IAEpC,OAAO,KAKX,IAJA,IAGI1W,EAAK04B,EAHLw3B,EAAW,CACXvuD,IAAK,CAAEgV,OAAQ,IAGVzZ,EAAI,EAAGA,EAAI80C,EAAS+a,MAAM/wD,OAAQkB,IAAK,CAE5C,IAAI+Z,GADJyhB,EAAOsZ,EAAS+a,MAAM7vD,IACP2Z,MAAMkB,WAAWrB,EAAKC,GACrC,IAAY,GAARM,EAAW,CACXjX,EAAMvE,KACDyqB,QAAQwS,EAAKjiB,MAAMC,KACnB21B,UAAU6jB,EAASvuD,IAAIgV,OAAQ+hB,EAAKjiB,MAAME,QAC/C,KACJ,CACK,GAAY,IAARM,EACL,OAAO,KAEXi5C,EAAWx3B,CACf,CAGA,OAFK14B,IACDA,EAAMvE,KAAKyqB,QAAQwS,EAAKjiB,MAAMC,KAAK21B,UAAU6jB,EAASvuD,IAAIgV,UACjD,GAATs5C,EACOjwD,EAAIqsC,UAAU,EAAG11B,EAASu5C,EAASvuD,IAAIgV,QACjC,GAARs5C,EACEjwD,EAAIqsC,UAAU11B,EAASu5C,EAASvuD,IAAIgV,QAEpC3W,CACf,EACAvE,KAAKk9B,YAAc,SAAUuS,EAAQilB,GACjC,IAAIrD,EAAWrxD,KAAKo0D,UAChB3yD,EAAI,EAKR,IAJIizD,IACAjzD,EAAI4vD,EAASpvD,QAAQyyD,KACf,GAANjzD,IACAA,EAAI,GACAA,EAAI4vD,EAAS9wD,OAAQkB,IAAK,CAC9B,IAAI80C,EAAW8a,EAAS5vD,GACxB,GAAI80C,EAASv7B,MAAMC,KAAOw0B,GAAU8G,EAASrwC,IAAI+U,KAAOw0B,EACpD,OAAO8G,EAEN,GAAIA,EAASrwC,IAAI+U,IAAMw0B,EACxB,OAAO,IAEf,CACA,OAAO,IACX,EACAzvC,KAAK20D,gBAAkB,SAAUllB,EAAQilB,GACrC,IAAIrD,EAAWrxD,KAAKo0D,UAChB3yD,EAAI,EAKR,IAJIizD,IACAjzD,EAAI4vD,EAASpvD,QAAQyyD,KACf,GAANjzD,IACAA,EAAI,GACAA,EAAI4vD,EAAS9wD,OAAQkB,IAAK,CAC9B,IAAI80C,EAAW8a,EAAS5vD,GACxB,GAAI80C,EAASrwC,IAAI+U,KAAOw0B,EACpB,OAAO8G,CAEf,CACA,OAAO,IACX,EACAv2C,KAAK40D,kBAAoB,SAAU/I,EAAOplD,GAEtC,IADA,IAAI4qD,EAAWrxD,KAAKo0D,UAAW3b,EAAWhyC,EAAOolD,EAAQ,EAChDpqD,EAAI,EAAGA,EAAI4vD,EAAS9wD,OAAQkB,IAAK,CACtC,IAAI80C,EAAW8a,EAAS5vD,GAAIyE,EAAMqwC,EAASrwC,IAAI+U,IAAKD,EAAQu7B,EAASv7B,MAAMC,IAC3E,GAAI/U,GAAOO,EAAM,CACTuU,EAAQvU,IACJuU,GAAS6wC,EACTpT,GAAYhyC,EAAOuU,EAEnBy9B,EAAW,GAEnB,KACJ,CACSvyC,GAAO2lD,IAERpT,GADAz9B,GAAS6wC,EACG3lD,EAAM8U,EAEN9U,EAAM2lD,EAAQ,EAEtC,CACA,OAAOpT,CACX,EACAz4C,KAAK60D,aAAe,SAAUte,GAK1B,OAJAv2C,KAAKo0D,UAAUvyD,KAAK00C,GACpBv2C,KAAKo0D,UAAUn9B,MAAK,SAAUvwB,EAAGiuB,GAC7B,OAAOjuB,EAAEsU,MAAMC,IAAM0Z,EAAE3Z,MAAMC,GACjC,IACOs7B,CACX,EACAv2C,KAAK8oC,QAAU,SAAUgpB,EAAa12C,GAClC,IAEI6hB,EAFAo0B,EAAWrxD,KAAKo0D,UAChBU,GAAQ,EAERhD,aAAuBwB,EACvBr2B,EAAO60B,GAEP70B,EAAO,IAAIq2B,EAAKl4C,EAAO02C,IAClB2B,iBAAmBr4C,EAAMq4C,iBAElCzzD,KAAK+0D,qBAAqB93B,EAAK7hB,OAC/B,IAAIR,EAAWqiB,EAAKjiB,MAAMC,IACtBJ,EAAcoiB,EAAKjiB,MAAME,OACzBJ,EAASmiB,EAAK/2B,IAAI+U,IAClBF,EAAYkiB,EAAK/2B,IAAIgV,OACrB85C,EAAYh1D,KAAKsoC,UAAU1tB,EAAUC,EAAa,GAClDo6C,EAAUj1D,KAAKsoC,UAAUxtB,EAAQC,GAAY,GACjD,GAAIi6C,GAAaC,GAAWD,EACxB,OAAOA,EAAUtB,WAAWz2B,GAC5B+3B,IAAcA,EAAU55C,MAAMU,QAAQlB,EAAUC,IAChD7a,KAAKuoC,WAAWysB,GAChBC,IAAYA,EAAQ75C,MAAMS,MAAMf,EAAQC,IACxC/a,KAAKuoC,WAAW0sB,GACpB,IAAI3D,EAAQtxD,KAAKk0D,gBAAgBj3B,EAAK7hB,OAClCk2C,EAAM/wD,OAAS,IACfP,KAAKk1D,YAAY5D,GACZr0B,EAAKw2B,kBACNnC,EAAMvsD,SAAQ,SAAUyuD,GACpBv2B,EAAKy2B,WAAWF,EACpB,KAGR,IAAK,IAAI/xD,EAAI,EAAGA,EAAI4vD,EAAS9wD,OAAQkB,IAAK,CACtC,IAAI80C,EAAW8a,EAAS5vD,GACxB,GAAIqZ,GAAUy7B,EAASv7B,MAAMC,IAAK,CAC9Bs7B,EAASzN,QAAQ7L,GACjB63B,GAAQ,EACR,KACJ,CACK,GAAIl6C,GAAY27B,EAASrwC,IAAI+U,IAAK,CAGnC,GAFAs7B,EAASzN,QAAQ7L,GACjB63B,GAAQ,GACH73B,EAAKw0B,QAAS,CACf,IAAIY,EAAehB,EAAS5vD,EAAI,GAChC,GAAI4wD,GAAgBA,EAAar3C,MAAMC,KAAOH,EAAQ,CAClDy7B,EAAS2F,MAAMmW,GACf,KACJ,CACJ,CACA,KACJ,CACK,GAAIv3C,GAAUy7B,EAASv7B,MAAMC,IAC9B,KAER,CASA,OARK65C,IACDve,EAAWv2C,KAAK60D,aAAa,IAAIzD,EAASpxD,KAAKo0D,UAAWn3B,KAC1Dj9B,KAAKwwC,aACLxwC,KAAKm1D,gBAAgB5e,EAASv7B,MAAMC,IAAKs7B,EAASv7B,MAAMC,KAExDjb,KAAKo1D,sBAAsB7e,EAASv7B,MAAMC,IAAKs7B,EAASv7B,MAAMC,KAClEjb,KAAKq1D,WAAY,EACjBr1D,KAAKmT,QAAQ,aAAc,CAAEqB,KAAMyoB,EAAMqH,OAAQ,QAC1CrH,CACX,EACAj9B,KAAKs1D,SAAW,SAAUhE,GACtBA,EAAMvsD,SAAQ,SAAUk4B,GACpBj9B,KAAK8oC,QAAQ7L,EACjB,GAAGj9B,KACP,EACAA,KAAKuoC,WAAa,SAAUtL,GACxB,IAAIsZ,EAAWtZ,EAAKsZ,SAChB37B,EAAW27B,EAASv7B,MAAMC,IAC1BH,EAASy7B,EAASrwC,IAAI+U,IACtBk5C,EAAYn0D,KAAKo0D,UACjB9C,EAAQ/a,EAAS+a,MACrB,GAAoB,GAAhBA,EAAM/wD,OACN4zD,EAAUxsD,OAAOwsD,EAAUlyD,QAAQs0C,GAAW,QAGlD,GAAIA,EAASn7B,MAAMS,MAAMohB,EAAK/2B,IAAI+U,IAAKgiB,EAAK/2B,IAAIgV,QAC5Co2C,EAAMt9C,MACNuiC,EAASrwC,IAAI+U,IAAMq2C,EAAMA,EAAM/wD,OAAS,GAAG2F,IAAI+U,IAC/Cs7B,EAASrwC,IAAIgV,OAASo2C,EAAMA,EAAM/wD,OAAS,GAAG2F,IAAIgV,YAGtD,GAAIq7B,EAASn7B,MAAMU,QAAQmhB,EAAKjiB,MAAMC,IAAKgiB,EAAKjiB,MAAME,QAClDo2C,EAAMthC,QACNumB,EAASv7B,MAAMC,IAAMq2C,EAAM,GAAGt2C,MAAMC,IACpCs7B,EAASv7B,MAAME,OAASo2C,EAAM,GAAGt2C,MAAME,YAG3C,GAAI+hB,EAAKw0B,QACLH,EAAM3pD,OAAO2pD,EAAMrvD,QAAQg7B,GAAO,OAGtC,CACI,IAAIm1B,EAAc7b,EAASp0C,MAAM86B,EAAKjiB,MAAMC,IAAKgiB,EAAKjiB,MAAME,SAC5Do2C,EAAQc,EAAYd,OACdthC,QACNoiC,EAAYp3C,MAAMC,IAAMq2C,EAAM,GAAGt2C,MAAMC,IACvCm3C,EAAYp3C,MAAME,OAASo2C,EAAM,GAAGt2C,MAAME,MAC9C,CACKlb,KAAKu1D,YACFv1D,KAAKwwC,aACLxwC,KAAKm1D,gBAAgBv6C,EAAUE,GAE/B9a,KAAKo1D,sBAAsBx6C,EAAUE,IAE7C9a,KAAKq1D,WAAY,EACjBr1D,KAAKmT,QAAQ,aAAc,CAAEqB,KAAMyoB,EAAMqH,OAAQ,UACrD,EACAtkC,KAAKk1D,YAAc,SAAU5D,GAEzB,IADA,IAAIkE,EAAa,GACR/zD,EAAI,EAAGA,EAAI6vD,EAAM/wD,OAAQkB,IAC9B+zD,EAAW3zD,KAAKyvD,EAAM7vD,IAE1B+zD,EAAWzwD,SAAQ,SAAUk4B,GACzBj9B,KAAKuoC,WAAWtL,EACpB,GAAGj9B,MACHA,KAAKq1D,WAAY,CACrB,EACAr1D,KAAKwoC,WAAa,SAAUvL,GACxBj9B,KAAKuoC,WAAWtL,GAChBA,EAAKs2B,SAASxuD,SAAQ,SAAUyuD,GAC5Bv2B,EAAK82B,aAAaP,GAClBxzD,KAAK8oC,QAAQ0qB,EACjB,GAAGxzD,MACCi9B,EAAKw2B,iBAAmB,GACxBzzD,KAAKy1D,QAAQx4B,EAAKjiB,MAAMC,IAAM,EAAGgiB,EAAK/2B,IAAI+U,IAAKgiB,EAAKw2B,iBAAmB,GAE3Ex2B,EAAKs2B,SAAW,EACpB,EACAvzD,KAAK01D,YAAc,SAAUpE,GACzBA,EAAMvsD,SAAQ,SAAUk4B,GACpBj9B,KAAKwoC,WAAWvL,EACpB,GAAGj9B,KACP,EACAA,KAAK21D,OAAS,SAAU9wC,EAAU+wC,GAC9B,IAAIx6C,EAAOk2C,EACX,GAAgB,MAAZzsC,EACAzJ,EAAQ,IAAIT,EAAM,EAAG,EAAG3a,KAAK27B,YAAa,GACvB,MAAfi6B,IACAA,GAAc,QAEjB,GAAuB,iBAAZ/wC,EACZzJ,EAAQ,IAAIT,EAAMkK,EAAU,EAAGA,EAAU7kB,KAAKyqB,QAAQ5F,GAAUtkB,aAE/D,GAAI,QAASskB,EACdzJ,EAAQT,EAAMgC,WAAWkI,EAAUA,OAElC,IAAIxf,MAAMmB,QAAQqe,GAKnB,OAJAysC,EAAQ,GACRzsC,EAAS9f,SAAQ,SAAUqW,GACvBk2C,EAAQA,EAAMz0D,OAAOmD,KAAK21D,OAAOv6C,GACrC,GAAGpb,MACIsxD,EAGPl2C,EAAQyJ,CACZ,CAGA,IADA,IAAIgxC,EADJvE,EAAQtxD,KAAKs0D,oBAAoBl5C,GAEV,GAAhBk2C,EAAM/wD,QACNoa,EAAM2C,cAAcg0C,EAAM,GAAGt2C,MAAOI,EAAMJ,OAAS,GACnDL,EAAM2C,cAAcg0C,EAAM,GAAGprD,IAAKkV,EAAMlV,KAAO,GAClDlG,KAAK01D,YAAYpE,GACjBA,EAAQtxD,KAAKs0D,oBAAoBl5C,GAQrC,GANmB,GAAfw6C,EACA51D,KAAKk1D,YAAY5D,GAGjBtxD,KAAK01D,YAAYpE,GAEjBuE,EAAet1D,OACf,OAAOs1D,CACf,EACA71D,KAAK81D,YAAc,SAAUrmB,EAAQsmB,GACjC,QAAS/1D,KAAKk9B,YAAYuS,EAAQsmB,EACtC,EACA/1D,KAAKg2D,cAAgB,SAAUvmB,EAAQsmB,GACnC,IAAIxf,EAAWv2C,KAAKk9B,YAAYuS,EAAQsmB,GACxC,OAAOxf,EAAWA,EAASrwC,IAAI+U,IAAMw0B,CACzC,EACAzvC,KAAKi2D,gBAAkB,SAAUxmB,EAAQsmB,GACrC,IAAIxf,EAAWv2C,KAAKk9B,YAAYuS,EAAQsmB,GACxC,OAAOxf,EAAWA,EAASv7B,MAAMC,IAAMw0B,CAC3C,EACAzvC,KAAKk2D,mBAAqB,SAAU3f,EAAUz7B,EAAQC,EAAWH,EAAUC,GACvD,MAAZD,IACAA,EAAW27B,EAASv7B,MAAMC,KACX,MAAfJ,IACAA,EAAc,GACJ,MAAVC,IACAA,EAASy7B,EAASrwC,IAAI+U,KACT,MAAbF,IACAA,EAAY/a,KAAKyqB,QAAQ3P,GAAQva,QACrC,IAAIsM,EAAM7M,KAAK6M,IACXspD,EAAW,GAgBf,OAfA5f,EAASob,MAAK,SAAUG,EAAa72C,EAAKC,EAAQk7C,GAC9C,KAAIn7C,EAAML,GAAV,CAEA,GAAIK,GAAOL,EAAU,CACjB,GAAIM,EAASL,EACT,OACJu7C,EAAa/3D,KAAK2H,IAAI6U,EAAau7C,EACvC,CAEID,GADe,MAAfrE,EACYA,EAGAjlD,EAAI4d,QAAQxP,GAAK21B,UAAUwlB,EAAYl7C,EAV7C,CAYd,GAAGJ,EAAQC,GACJo7C,CACX,EACAn2D,KAAKk3C,eAAiB,SAAUj8B,EAAKF,EAAWH,EAAUC,GACtD,IAEQzR,EAFJmtC,EAAWv2C,KAAKk9B,YAAYjiB,GAChC,OAAKs7B,EAMMv2C,KAAKk2D,mBAAmB3f,EAAUt7B,EAAKF,EAAWH,EAAUC,IAJnEzR,EAAOpJ,KAAK6M,IAAI4d,QAAQxP,IACZ21B,UAAU/1B,GAAe,EAAGE,GAAa3R,EAAK7I,OAKlE,EACAP,KAAKq2D,eAAiB,WAClB,IAAIC,EAAK,GAOT,OANAA,EAAKt2D,KAAKo0D,UAAUjvD,KAAI,SAAUoxC,GAC9B,IAAI+a,EAAQ/a,EAAS+a,MAAMnsD,KAAI,SAAU83B,GACrC,OAAOA,EAAKngB,OAChB,IACA,OAAO,IAAIs0C,EAASkF,EAAIhF,EAC5B,GAEJ,EACAtxD,KAAKu2D,WAAa,SAAUC,GACxB,IAEIv5B,EACAw5B,EAFAr7C,EADYpb,KAAK+oB,UACCgC,WAGtB,GAAI3P,EAAMyB,UAAW,CACjB,IAAImM,EAAS5N,EAAMJ,MAEnB,GADAiiB,EAAOj9B,KAAKsoC,UAAUtf,EAAO/N,IAAK+N,EAAO9N,QAGrC,YADAlb,KAAKwoC,WAAWvL,IAGXw5B,EAAaz2D,KAAKuhD,oBAAoBv4B,IACL,GAAlC5N,EAAMK,aAAag7C,GACnBr7C,EAAMlV,IAAMuwD,GAGZr7C,EAAMJ,MAAQy7C,EACdr7C,EAAMJ,MAAME,SACZE,EAAMlV,IAAIgV,WAGTu7C,EAAaz2D,KAAKuhD,oBAAoB,CAAEtmC,IAAK+N,EAAO/N,IAAKC,OAAQ8N,EAAO9N,OAAS,MAChD,GAAlCE,EAAMK,aAAag7C,GACnBr7C,EAAMlV,IAAMuwD,EAEZr7C,EAAMJ,MAAQy7C,EAClBr7C,EAAMJ,MAAME,UAGZE,EAAQpb,KAAK02D,oBAAoB1tC,EAAO/N,IAAK+N,EAAO9N,SAAWE,CAEvE,KACK,CACD,IAAIk2C,EAAQtxD,KAAKk0D,gBAAgB94C,GACjC,GAAIo7C,GAAelF,EAAM/wD,OAErB,YADAP,KAAK01D,YAAYpE,GAGI,GAAhBA,EAAM/wD,SACX08B,EAAOq0B,EAAM,GAErB,CAGA,GAFKr0B,IACDA,EAAOj9B,KAAKsoC,UAAUltB,EAAMJ,MAAMC,IAAKG,EAAMJ,MAAME,SACnD+hB,GAAQA,EAAK7hB,MAAM9Z,YAAc8Z,EAAM9Z,WACvCtB,KAAKwoC,WAAWvL,OADpB,CAIA,IAAI60B,EAAc,MAClB,IAAK12C,EAAMgB,cAAe,CAEtB,IADA01C,EAAc9xD,KAAKwhC,aAAapmB,IAChB7a,OAAS,EACrB,OACJuxD,EAAcA,EAAY0C,OAAO5jB,UAAU,EAAG,GAAK,IACvD,CACA5wC,KAAK8oC,QAAQgpB,EAAa12C,EAR1B,CASJ,EACApb,KAAK02D,oBAAsB,SAAUz7C,EAAKC,EAAQgvB,GAC9C,IAAIjV,EAAW,IAAIupB,EAAcx+C,KAAMib,EAAKC,GACxCy/B,EAAQ1lB,EAASkqB,kBACjBjsC,EAAOynC,GAASA,EAAMznC,KAC1B,GAAIynC,GAAS,kBAAkBnvC,KAAK0H,GAAO,CAE3B,YADZA,EAAOA,EAAKxI,MAAM,kBAAkB,MAEhCwI,GAAQ,qBACZ,IAAIiF,EAAK,IAAIlP,OAAOiK,GAChBkI,EAAQ,IAAIT,EAChB,GAAW,GAAPuvB,EAAU,CACV,GACIyQ,EAAQ1lB,EAASgqB,qBACZtE,GAASxiC,EAAG3M,KAAKmvC,EAAMznC,OAChCynC,EAAQ1lB,EAASiqB,aACrB,CACA9jC,EAAMJ,MAAMC,IAAMga,EAASmqB,qBAC3BhkC,EAAMJ,MAAME,OAAS+Z,EAASoqB,wBAA0B1E,EAAMp3C,MAAMhD,OACpE00B,EAAW,IAAIupB,EAAcx+C,KAAMib,EAAKC,GACxC,IAAIy7C,EAAY32D,KAAKgsD,SAAS/2B,EAAS2pB,MACvC,IAAY,GAAR1U,EAAW,CACX,IAAIxtB,GAAW,EACf,GAEI,GADAi+B,EAAQ1lB,EAASiqB,eACD,GAAZxiC,EAAe,CACf,IAAIumB,EAAQjjC,KAAKgsD,SAAS/2B,EAAS2pB,MAC/B+X,EAAUr1D,aAAe2hC,EAAM3hC,aAC/Bob,EAAUuY,EAAS2pB,KAC3B,MACK,GAAI3pB,EAAS2pB,KAAOliC,EACrB,YAECi+B,GAASxiC,EAAG3M,KAAKmvC,EAAMznC,OAChCynC,EAAQ1lB,EAASgqB,cACrB,MAEItE,EAAQ1lB,EAASkqB,kBAGrB,OAFA/jC,EAAMlV,IAAI+U,IAAMga,EAASmqB,qBACzBhkC,EAAMlV,IAAIgV,OAAS+Z,EAASoqB,wBACrBjkC,CACX,CACJ,EACApb,KAAKy1D,QAAU,SAAU76C,EAAUE,EAAQ87C,EAAOprD,QACjCrK,GAATy1D,IACAA,EAAQ,KACZ,IAAIluB,EAAc1oC,KAAK0oC,YACvB,GAAKA,EAAL,CAEA5tB,EAASA,GAAU9a,KAAK27B,YAExB,IAAK,IAAI1gB,EADTL,EAAWA,GAAY,EACEK,EAAMH,EAAQG,IAGnC,GAFwB,MAApBytB,EAAYztB,KACZytB,EAAYztB,GAAOjb,KAAK62D,cAAc57C,IAClB,SAApBytB,EAAYztB,MAEZzP,GAASA,EAAKyP,IAAlB,CAEA,IAAIG,EAAQpb,KAAK82D,mBAAmB77C,GAChCG,GAASA,EAAMgB,eACZhB,EAAMlV,IAAI+U,KAAOH,GACjBM,EAAMJ,MAAMC,KAAOL,IACtBK,EAAMG,EAAMlV,IAAI+U,IAChBG,EAAMq4C,iBAAmBmD,EACzB52D,KAAK8oC,QAAQ,MAAO1tB,GAPZ,CATN,CAmBd,EACApb,KAAK+2D,YAAc,SAAUrkB,GAEzB,IADA1yC,KAAKy1D,UACE/iB,KAAU,GACb1yC,KAAK21D,OAAO,MAAM,EAC1B,EACA31D,KAAKg3D,gBAAkB,WACnB,IAAI/5C,EAAUjd,KACdA,KAAKy1D,QAAQ,KAAM,KAAM,MAAM,SAAUx6C,GAErC,IADA,IAAIogC,EAASp+B,EAAQ6hC,UAAU7jC,GACtBxZ,EAAI,EAAGA,EAAI45C,EAAO96C,OAAQkB,IAAK,CACpC,IAAIk5C,EAAQU,EAAO55C,GACnB,GAAkB,QAAdk5C,EAAMznC,OAAkB,QAAQ1H,KAAKmvC,EAAMp3C,OAE/C,QAAI,UAAUiI,KAAKmvC,EAAMznC,KAG7B,CACJ,GACJ,EACAlT,KAAKi3D,YAAc,CACf,OAAU,EACV,UAAa,EACb,aAAgB,GAEpBj3D,KAAKk3D,WAAa,YAClBl3D,KAAKm3D,aAAe,SAAUj6D,GAC1B,IAAK8C,KAAKi3D,YAAY/5D,GAClB,MAAM,IAAIuX,MAAM,uBAAyBvX,EAAQ,IAAMkE,OAAO0D,KAAK9E,KAAKi3D,aAAa30D,KAAK,MAAQ,KACtG,GAAItC,KAAKk3D,YAAch6D,EAAvB,CAEA8C,KAAKk3D,WAAah6D,EACL,UAATA,GACA8C,KAAK21D,SACT,IAAI/xB,EAAO5jC,KAAKo3D,UAChBp3D,KAAKq3D,YAAY,MACjBr3D,KAAKq3D,YAAYzzB,EANP,CAOd,EACA5jC,KAAKq3D,YAAc,SAAUC,GACrBt3D,KAAKo3D,WAAaE,IAEtBt3D,KAAKo3D,UAAYE,EACjBt3D,KAAKuT,IAAI,SAAUvT,KAAKu3D,oBACxBv3D,KAAKuT,IAAI,kBAAmBvT,KAAKw3D,6BACjCx3D,KAAKmT,QAAQ,oBACRmkD,GAA+B,UAAnBt3D,KAAKk3D,YAItBl3D,KAAK0oC,YAAc,GACnB1oC,KAAK62D,cAAgBS,EAAST,cAAchxC,KAAKyxC,EAAUt3D,KAAMA,KAAKk3D,YACtEl3D,KAAK82D,mBAAqBQ,EAASR,mBAAmBjxC,KAAKyxC,EAAUt3D,KAAMA,KAAKk3D,YAChFl3D,KAAKu3D,mBAAqBv3D,KAAKy3D,kBAAkB5xC,KAAK7lB,MACtDA,KAAKw3D,4BAA8Bx3D,KAAK03D,2BAA2B7xC,KAAK7lB,MACxEA,KAAKqT,GAAG,SAAUrT,KAAKu3D,oBACvBv3D,KAAKqT,GAAG,kBAAmBrT,KAAKw3D,8BAT5Bx3D,KAAK0oC,YAAc,KAU3B,EACA1oC,KAAK4oC,uBAAyB,SAAU3tB,EAAK08C,GACzC,IAAIC,EAAK53D,KAAK0oC,YACd,IAAKkvB,GAAOD,GAAiBC,EAAG38C,GAC5B,MAAO,CAAC,EAEZ,IADA,IAAiB4tB,EAAbpnC,EAAIwZ,EAAM,EACPxZ,GAAK,GAAG,CACX,IAAIkrC,EAAIirB,EAAGn2D,GAGX,GAFS,MAALkrC,IACAA,EAAIirB,EAAGn2D,GAAKzB,KAAK62D,cAAcp1D,IAC1B,SAALkrC,EAAc,CACd,IAAIvxB,EAAQpb,KAAK82D,mBAAmBr1D,GAGpC,GAFKonC,IACDA,EAAaztB,GACbA,GAASA,EAAMlV,IAAI+U,KAAOA,EAC1B,KACR,CACAxZ,GACJ,CACA,MAAO,CACH2Z,OAAc,IAAP3Z,GAAY2Z,EACnBytB,WAAYA,EAEpB,EACA7oC,KAAK2oC,kBAAoB,SAAU1tB,EAAK/R,GAChCA,aAAam1B,IACbn1B,EAAIA,EAAEwlB,UACV,IAAIniB,EAAU,CACV7P,SAAUwM,EAAEkZ,SACZxK,IAAK1O,EAAEgZ,SAAWhZ,EAAEmZ,QACpBw1C,SAAU3uD,EAAEiZ,QAGhB,IADYniB,KAAK83D,kBAAkB78C,EAAK1O,GAC5B,CACR,IAAIF,EAAMnD,EAAEzE,QAAUyE,EAAEuyB,WACpBpvB,GAAM,kBAAkBb,KAAKa,EAAG1P,aAChC0P,EAAG1P,WAAa,eACxB,CACJ,EACAqD,KAAK83D,kBAAoB,SAAU78C,EAAK1O,GACpC,GAAKvM,KAAK62D,cAAV,CAEA,IAAI3jD,EAAOlT,KAAK62D,cAAc57C,GAC1B7R,EAAOpJ,KAAKyqB,QAAQxP,GACpBivB,EAAe,QAATh3B,GAAkB,EAAI,EAC5B+pB,EAAOj9B,KAAKsoC,UAAUrtB,GAAc,IAATivB,EAAa,EAAI9gC,EAAK7I,OAAQ2pC,GAC7D,GAAIjN,EAKA,OAJI1wB,EAAQ7P,UAAY6P,EAAQqL,IAC5B5X,KAAKuoC,WAAWtL,GAEhBj9B,KAAKwoC,WAAWvL,GACbA,EAEX,IAAI7hB,EAAQpb,KAAK82D,mBAAmB77C,GAAK,GACzC,GAAIG,IAAUA,EAAMgB,gBAChB6gB,EAAOj9B,KAAKsoC,UAAUltB,EAAMJ,MAAMC,IAAKG,EAAMJ,MAAME,OAAQ,KAC/CE,EAAMD,QAAQ8hB,EAAK7hB,OAE3B,OADApb,KAAKuoC,WAAWtL,GACTA,EAGf,GAAI1wB,EAAQsrD,SAAU,CAClB,IAAIrjD,EAAOxU,KAAK4oC,uBAAuB3tB,GACvC,GAAIzG,EAAK4G,MACL,IAAIR,EAAWpG,EAAK4G,MAAMJ,MAAMC,IAAM,EAClCH,EAAStG,EAAK4G,MAAMlV,IAAI+U,IAEhCjb,KAAKy1D,QAAQ76C,EAAUE,EAAQvO,EAAQqL,IAAM,IAAQ,EACzD,MACSrL,EAAQ7P,UACboe,EAASM,EAAQA,EAAMlV,IAAI+U,IAAMjb,KAAK27B,YACtC37B,KAAKy1D,QAAQx6C,EAAM,EAAGH,EAAQvO,EAAQqL,IAAM,IAAQ,IAE/CwD,IACD7O,EAAQqL,MACRwD,EAAMq4C,iBAAmB,KAC7BzzD,KAAK8oC,QAAQ,MAAO1tB,IAExB,OAAOA,CArCG,CAsCd,EACApb,KAAK+3D,iBAAmB,SAAUC,GAC9B,IAAI/8C,EAAMjb,KAAK+oB,UAAU+qB,YAAY74B,IACrCA,EAAMjb,KAAKi2D,gBAAgBh7C,GAC3B,IAAIG,EAAQpb,KAAK83D,kBAAkB78C,EAAK,CAAC,GACzC,IAAIG,EAAJ,CAEA,IAAI5G,EAAOxU,KAAK4oC,uBAAuB3tB,GAAK,GAE5C,GADAG,EAAQ5G,EAAK4G,OAAS5G,EAAKq0B,WAChB,CACP5tB,EAAMG,EAAMJ,MAAMC,IAClB,IAAIgiB,EAAOj9B,KAAKsoC,UAAUrtB,EAAKjb,KAAKyqB,QAAQxP,GAAK1a,OAAQ,GACrD08B,EACAj9B,KAAKuoC,WAAWtL,GAGhBj9B,KAAK8oC,QAAQ,MAAO1tB,EAE5B,CAZU,CAad,EACApb,KAAKy3D,kBAAoB,SAAU3nB,GAC/B,IAAIrzB,EAAWqzB,EAAM90B,MAAMC,IACvBzV,EAAMsqC,EAAM5pC,IAAI+U,IAAMwB,EAC1B,GAAY,IAARjX,EACAxF,KAAK0oC,YAAYjsB,GAAY,UAE5B,GAAoB,UAAhBqzB,EAAMxL,OACXtkC,KAAK0oC,YAAY/gC,OAAO8U,EAAUjX,EAAM,EAAG,UAE1C,CACD,IAAIykC,EAAO5kC,MAAMG,EAAM,GACvBykC,EAAKkS,QAAQ1/B,EAAU,GACvBzc,KAAK0oC,YAAY/gC,OAAOhH,MAAMX,KAAK0oC,YAAauB,EACpD,CACJ,EACAjqC,KAAK03D,2BAA6B,SAAUxuD,GACxC,IAAIkvC,EAAOlvC,EAAEsL,KACT4jC,EAAKyT,OAASzT,EAAK3xC,MACfzG,KAAK0oC,YAAYnoC,OAAS63C,EAAKyT,OAC/B7rD,KAAK0oC,YAAY/gC,OAAOywC,EAAKyT,MAAO7rD,KAAK0oC,YAAYnoC,OAEjE,CACJ,CAGA,IAEA0C,IAAI/C,OAAO,iCAAiC,CAAC,UAAU,UAAU,SAAS,qBAAqB,cAAc,SAAS0B,EAASa,EAAStC,GAAQ,aAChJ,IAAIq+C,EAAgB58C,EAAQ,qBAAqB48C,cAC7C7jC,EAAQ/Y,EAAQ,YAAY+Y,MA2VhClY,EAAQw1D,aA1VR,WACIj4D,KAAKuhD,oBAAsB,SAAUpkD,EAAU8iB,GAC3C,GAAuB,GAAnB9iB,EAAS+d,OACT,OAAO,KACX,IAAIg9C,EAAmBj4C,GAAOjgB,KAAKyqB,QAAQttB,EAAS8d,KAAK7Y,OAAOjF,EAAS+d,OAAS,GAClF,GAAwB,IAApBg9C,EACA,OAAO,KACX,IAAIxtD,EAAQwtD,EAAiBxtD,MAAM,yBACnC,OAAKA,EAEDA,EAAM,GACC1K,KAAKm4D,oBAAoBztD,EAAM,GAAIvN,GAEnC6C,KAAKihD,oBAAoBv2C,EAAM,GAAIvN,GAJnC,IAKf,EACA6C,KAAKkzB,gBAAkB,SAAU/B,GAC7B,IACmB/V,EADfhS,EAAOpJ,KAAKyqB,QAAQ0G,EAAIlW,KACxB0pC,GAAS,EACT1kC,EAAM7W,EAAKhH,OAAO+uB,EAAIjW,OAAS,GAC/BxQ,EAAQuV,GAAOA,EAAIvV,MAAM,yBAO7B,GANKA,IACDuV,EAAM7W,EAAKhH,OAAO+uB,EAAIjW,QACtBiW,EAAM,CAAElW,IAAKkW,EAAIlW,IAAKC,OAAQiW,EAAIjW,OAAS,GAC3CxQ,EAAQuV,GAAOA,EAAIvV,MAAM,yBACzBi6C,GAAS,IAERj6C,EACD,OAAO,KACX,GAAIA,EAAM,GAAI,CAEV,KADI+rD,EAAaz2D,KAAKm4D,oBAAoBztD,EAAM,GAAIymB,IAEhD,OAAO,KACX/V,EAAQT,EAAMgC,WAAWwU,EAAKslC,GACzB9R,IACDvpC,EAAMlV,IAAIgV,SACVE,EAAMJ,MAAME,UAEhBE,EAAM4N,OAAS5N,EAAMlV,GACzB,KACK,CACD,IAAIuwD,EACJ,KADIA,EAAaz2D,KAAKihD,oBAAoBv2C,EAAM,GAAIymB,IAEhD,OAAO,KACX/V,EAAQT,EAAMgC,WAAW85C,EAAYtlC,GAChCwzB,IACDvpC,EAAMJ,MAAME,SACZE,EAAMlV,IAAIgV,UAEdE,EAAM4N,OAAS5N,EAAMJ,KACzB,CACA,OAAOI,CACX,EACApb,KAAKo4D,yBAA2B,SAAUjnC,EAAKgjB,GAC3C,IAAI/qC,EAAOpJ,KAAKyqB,QAAQ0G,EAAIlW,KACxBo9C,EAAiB,wBACjBp4C,GAAOk0B,GAAe/qC,EAAKhH,OAAO+uB,EAAIjW,OAAS,GAC/CxQ,EAAQuV,GAAOA,EAAIvV,MAAM2tD,GAS7B,GARK3tD,IACDuV,QAAuB9e,IAAhBgzC,GAA6BA,IAAgB/qC,EAAKhH,OAAO+uB,EAAIjW,QACpEiW,EAAM,CACFlW,IAAKkW,EAAIlW,IACTC,OAAQiW,EAAIjW,OAAS,GAEzBxQ,EAAQuV,GAAOA,EAAIvV,MAAM2tD,KAExB3tD,EACD,OAAO,KACX,IAAI66C,EAAa,IAAI5qC,EAAMwW,EAAIlW,IAAKkW,EAAIjW,OAAS,EAAGiW,EAAIlW,IAAKkW,EAAIjW,QAC7Du7C,EAAa/rD,EAAM,GAAK1K,KAAKm4D,oBAAoBztD,EAAM,GAAIymB,GACzDnxB,KAAKihD,oBAAoBv2C,EAAM,GAAIymB,GACzC,OAAKslC,EAGE,CAAClR,EADO,IAAI5qC,EAAM87C,EAAWx7C,IAAKw7C,EAAWv7C,OAAQu7C,EAAWx7C,IAAKw7C,EAAWv7C,OAAS,IADrF,CAACqqC,EAGhB,EACAvlD,KAAKs4D,UAAY,CACb,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAETt4D,KAAKihD,oBAAsB,SAAUmC,EAASjmD,EAAUo7D,GACpD,IAAIC,EAAcx4D,KAAKs4D,UAAUlV,GAC7BwT,EAAQ,EACR3hC,EAAW,IAAIupB,EAAcx+C,KAAM7C,EAAS8d,IAAK9d,EAAS+d,QAC1Dy/B,EAAQ1lB,EAASkqB,kBAGrB,GAFKxE,IACDA,EAAQ1lB,EAASiqB,eAChBvE,EAAL,CAEK4d,IACDA,EAAS,IAAItvD,OAAO,QAChB0xC,EAAMznC,KAAK1Q,QAAQ,IAAK,OAAOA,QAAQ,SAAU,UAC5CA,QAAQ,cAAe,uBACvBA,QAAQ,WAAY,iBACvB,OAIV,IAFA,IAAIi2D,EAAat7D,EAAS+d,OAAS+Z,EAASoqB,wBAA0B,EAClE97C,EAAQo3C,EAAMp3C,QACL,CACT,KAAOk1D,GAAc,GAAG,CACpB,IAAIx4C,EAAM1c,EAAMnB,OAAOq2D,GACvB,GAAIx4C,GAAOu4C,GAEP,GAAa,IADb5B,GAAS,GAEL,MAAO,CAAE37C,IAAKga,EAASmqB,qBACnBlkC,OAAQu9C,EAAaxjC,EAASoqB,8BAGjCp/B,GAAOmjC,IACZwT,GAAS,GAEb6B,GAAc,CAClB,CACA,GACI9d,EAAQ1lB,EAASgqB,qBACZtE,IAAU4d,EAAO/sD,KAAKmvC,EAAMznC,OACrC,GAAa,MAATynC,EACA,MAEJ8d,GADAl1D,EAAQo3C,EAAMp3C,OACKhD,OAAS,CAChC,CACA,OAAO,IAjCG,CAkCd,EACAP,KAAKm4D,oBAAsB,SAAU/U,EAASjmD,EAAUo7D,GACpD,IAAIG,EAAiB14D,KAAKs4D,UAAUlV,GAChCwT,EAAQ,EACR3hC,EAAW,IAAIupB,EAAcx+C,KAAM7C,EAAS8d,IAAK9d,EAAS+d,QAC1Dy/B,EAAQ1lB,EAASkqB,kBAGrB,GAFKxE,IACDA,EAAQ1lB,EAASiqB,eAChBvE,EAAL,CAEK4d,IACDA,EAAS,IAAItvD,OAAO,QAChB0xC,EAAMznC,KAAK1Q,QAAQ,IAAK,OAAOA,QAAQ,SAAU,UAC5CA,QAAQ,sBAAuB,uBAC/BA,QAAQ,UAAW,iBACtB,OAGV,IADA,IAAIi2D,EAAat7D,EAAS+d,OAAS+Z,EAASoqB,0BAC/B,CAGT,IAFA,IAAI97C,EAAQo3C,EAAMp3C,MACdo1D,EAAcp1D,EAAMhD,OACjBk4D,EAAaE,GAAa,CAC7B,IAAI14C,EAAM1c,EAAMnB,OAAOq2D,GACvB,GAAIx4C,GAAOy4C,GAEP,GAAa,IADb9B,GAAS,GAEL,MAAO,CAAE37C,IAAKga,EAASmqB,qBACnBlkC,OAAQu9C,EAAaxjC,EAASoqB,8BAGjCp/B,GAAOmjC,IACZwT,GAAS,GAEb6B,GAAc,CAClB,CACA,GACI9d,EAAQ1lB,EAASiqB,oBACZvE,IAAU4d,EAAO/sD,KAAKmvC,EAAMznC,OACrC,GAAa,MAATynC,EACA,MACJ8d,EAAa,CACjB,CACA,OAAO,IAjCG,CAkCd,EACAz4D,KAAK44D,gBAAkB,SAAUznC,GAC7B,IAAI8D,EAAW,IAAIupB,EAAcx+C,KAAMmxB,EAAIlW,IAAKkW,EAAIjW,QAChDy/B,EAAQ36C,KAAK64D,aAAa5jC,GAC9B,GAAK0lB,EAGL,MAAwB,MADR1lB,EAASgqB,eACX17C,MACHvD,KAAK84D,gBAAgB7jC,EAAU0lB,GAG/B36C,KAAK+4D,gBAAgB9jC,EAAU0lB,EAE9C,EACA36C,KAAK64D,aAAe,SAAU5jC,GAC1B,IAAI0lB,EAAQ1lB,EAASkqB,kBACjB6Z,GAAQ,EACRC,GAAW,EACf,GAAIte,IAA6C,IAApCA,EAAMznC,KAAKjR,QAAQ,YAC5B,IAEQ04C,EADAse,EACQhkC,EAASgqB,eAEThqB,EAASiqB,iBAEG,OAAhBvE,EAAMp3C,MACN01D,GAAW,GAE8B,IAApCte,EAAMznC,KAAKjR,QAAQ,cACxB+2D,GAAQ,UAGXre,IAAUqe,GAEvB,OAAOre,CACX,EACA36C,KAAK84D,gBAAkB,SAAU7jC,EAAU0lB,GACvC,IAAIue,EACAC,EAAaxe,EAAMp3C,MACnB0J,EAAM0tC,EAAMp3C,MACZqzD,EAAQ,EACRwC,EAAe,IAAIz+C,EAAMsa,EAASmqB,qBAAsBnqB,EAASoqB,wBAAyBpqB,EAASmqB,qBAAsBnqB,EAASoqB,wBAA0B,GAChK1E,EAAQ1lB,EAASiqB,cACjB,IAAIma,EAAc,IAAI1+C,EAAMsa,EAASmqB,qBAAsBnqB,EAASoqB,wBAAyBpqB,EAASmqB,qBAAsBnqB,EAASoqB,wBAA0B1E,EAAMp3C,MAAMhD,QACvK+4D,GAAkB,EACtB,EAAG,CAEC,IAA6C,KAD7CJ,EAAYve,GACEznC,KAAKjR,QAAQ,eAAwBq3D,EAAiB,CAChE,IAAIC,EAAa,IAAI5+C,EAAMsa,EAASmqB,qBAAsBnqB,EAASoqB,wBAAyBpqB,EAASmqB,qBAAsBnqB,EAASoqB,wBAA0B,GAC9Jia,GAAkB,CACtB,CAEA,GADA3e,EAAQ1lB,EAASiqB,cACN,CACP,GAAoB,MAAhBvE,EAAMp3C,QAAkB+1D,EAAiB,CACrCC,EAAa,IAAI5+C,EAAMsa,EAASmqB,qBAAsBnqB,EAASoqB,wBAAyBpqB,EAASmqB,qBAAsBnqB,EAASoqB,wBAA0B,GAC9Jia,GAAkB,CACtB,CACA,IAAwC,IAApC3e,EAAMznC,KAAKjR,QAAQ,aAEnB,GAAIgL,KADJksD,EAAaxe,EAAMp3C,OAEf,GAAwB,MAApB21D,EAAU31D,MACVqzD,SAEC,GAAwB,OAApBsC,EAAU31D,SACfqzD,EACY,EAAG,CACX3hC,EAASgqB,eACT,IAAIua,EAAgB,IAAI7+C,EAAMsa,EAASmqB,qBAAsBnqB,EAASoqB,wBAAyBpqB,EAASmqB,qBAAsBnqB,EAASoqB,wBAA0B,GACjK1E,EAAQ1lB,EAASiqB,cACjB,IAAIua,EAAe,IAAI9+C,EAAMsa,EAASmqB,qBAAsBnqB,EAASoqB,wBAAyBpqB,EAASmqB,qBAAsBnqB,EAASoqB,wBAA0B1E,EAAMp3C,MAAMhD,QAI5K,IAHyC,IAArCo6C,EAAMznC,KAAKjR,QAAQ,eACnB04C,EAAQ1lB,EAASiqB,gBAEjBvE,GAAyB,MAAhBA,EAAMp3C,MAIf,OAHA,IAAIm2D,EAAc,IAAI/+C,EAAMsa,EAASmqB,qBAAsBnqB,EAASoqB,wBAAyBpqB,EAASmqB,qBAAsBnqB,EAASoqB,wBAA0B,EAKvK,OAIP,GAAIpyC,IAAQksD,GAA8B,OAAhBxe,EAAMp3C,SACjCqzD,EACY,EAGJ8C,EADAD,EADAD,EAAgB,IAAI7+C,EAAMsa,EAASmqB,qBAAsBnqB,EAASoqB,wBAAyBpqB,EAASmqB,qBAAsBnqB,EAASoqB,wBAA0B,GAG7Jka,EAAa,IAAI5+C,EAAM0+C,EAAYnzD,IAAI+U,IAAKo+C,EAAYnzD,IAAIgV,OAAQm+C,EAAYnzD,IAAI+U,IAAKo+C,EAAYnzD,IAAIgV,OAAS,EAGlI,CACJ,OAASy/B,GAASic,GAAS,GAC3B,GAAIwC,GAAgBG,GAAcC,GAAiBE,GAAeL,GAAeI,EAC7E,MAAO,CACHE,QAAS,IAAIh/C,EAAMy+C,EAAap+C,MAAMC,IAAKm+C,EAAap+C,MAAME,OAAQq+C,EAAWrzD,IAAI+U,IAAKs+C,EAAWrzD,IAAIgV,QACzG0+C,SAAU,IAAIj/C,EAAM6+C,EAAcx+C,MAAMC,IAAKu+C,EAAcx+C,MAAME,OAAQw+C,EAAYxzD,IAAI+U,IAAKy+C,EAAYxzD,IAAIgV,QAC9Gm+C,YAAaA,EACbI,aAAcA,EAG1B,EACAz5D,KAAK+4D,gBAAkB,SAAU9jC,EAAU0lB,GACvC,IAAIue,EAAYjkC,EAASkqB,kBACrBlyC,EAAM0tC,EAAMp3C,MACZqzD,EAAQ,EACRh8C,EAAWqa,EAASmqB,qBACpBvkC,EAAcoa,EAASoqB,wBACvBtkC,EAAYF,EAAc,EAC1B2+C,EAAgB,IAAI7+C,EAAMC,EAAUC,EAAaD,EAAUG,GAC/Dka,EAASiqB,cACT,IAAIua,EAAe,IAAI9+C,EAAMsa,EAASmqB,qBAAsBnqB,EAASoqB,wBAAyBpqB,EAASmqB,qBAAsBnqB,EAASoqB,wBAA0B1E,EAAMp3C,MAAMhD,QAI5K,IAHyC,IAArCo6C,EAAMznC,KAAKjR,QAAQ,eACnB04C,EAAQ1lB,EAASiqB,eAEhBvE,GAAyB,MAAhBA,EAAMp3C,MAApB,CAEA,IAAIm2D,EAAc,IAAI/+C,EAAMsa,EAASmqB,qBAAsBnqB,EAASoqB,wBAAyBpqB,EAASmqB,qBAAsBnqB,EAASoqB,wBAA0B,GAC/JpqB,EAASgqB,eACThqB,EAASgqB,eACT,GAMI,GALAtE,EAAQue,EACRt+C,EAAWqa,EAASmqB,qBAEpBrkC,GADAF,EAAcoa,EAASoqB,yBACG1E,EAAMp3C,MAAMhD,OACtC24D,EAAYjkC,EAASgqB,eACjBtE,EACA,IAAwC,IAApCA,EAAMznC,KAAKjR,QAAQ,aACnB,GAAIgL,IAAQ0tC,EAAMp3C,MACd,GAAwB,MAApB21D,EAAU31D,OAEV,KADAqzD,EACY,EAAG,CACX,IAAIyC,EAAc,IAAI1+C,EAAMC,EAAUC,EAAaD,EAAUG,GACzDq+C,EAAe,IAAIz+C,EAAMsa,EAASmqB,qBAAsBnqB,EAASoqB,wBAAyBpqB,EAASmqB,qBAAsBnqB,EAASoqB,wBAA0B,GAChK,GACI1E,EAAQ1lB,EAASiqB,oBACZvE,GAAyB,MAAhBA,EAAMp3C,OACxB,IAAIg2D,EAAa,IAAI5+C,EAAMsa,EAASmqB,qBAAsBnqB,EAASoqB,wBAAyBpqB,EAASmqB,qBAAsBnqB,EAASoqB,wBAA0B,EAClK,MAEyB,OAApB6Z,EAAU31D,OACfqzD,SAIP,GAAoB,OAAhBjc,EAAMp3C,MAAgB,CAG3B,IAFA,IAAIs2D,EAAY,EACZC,EAAWZ,EACRY,GAAU,CACb,IAA2C,IAAvCA,EAAS5mD,KAAKjR,QAAQ,aAAsB63D,EAASv2D,QAAU0J,EAAK,CACpE2pD,IACA,KACJ,CACK,GAAuB,MAAnBkD,EAASv2D,MACd,MAEJu2D,EAAW7kC,EAASgqB,eACpB4a,GACJ,CACA,IAAK,IAAIp4D,EAAI,EAAGA,EAAIo4D,EAAWp4D,IAC3BwzB,EAASiqB,aAEjB,QAECga,GAAatC,GAAS,GAC/B,OAAIwC,GAAgBG,GAAcC,GAAiBE,GAAeL,GAAeI,EACtE,CACHE,QAAS,IAAIh/C,EAAMy+C,EAAap+C,MAAMC,IAAKm+C,EAAap+C,MAAME,OAAQq+C,EAAWrzD,IAAI+U,IAAKs+C,EAAWrzD,IAAIgV,QACzG0+C,SAAU,IAAIj/C,EAAM6+C,EAAcx+C,MAAMC,IAAKu+C,EAAcx+C,MAAME,OAAQw+C,EAAYxzD,IAAI+U,IAAKy+C,EAAYxzD,IAAIgV,QAC9Gm+C,YAAaA,EACbI,aAAcA,QALtB,CAjDU,CAyDd,CACJ,CAGA,IAEAx2D,IAAI/C,OAAO,mBAAmB,CAAC,UAAU,UAAU,SAAS,cAAc,eAAe,kBAAkB,aAAa,wBAAwB,gBAAgB,gBAAgB,YAAY,eAAe,2BAA2B,uBAAuB,kBAAkB,2BAA2B,mCAAmC,SAAS0B,EAASa,EAAStC,GAAQ,aAChX,IAAI0U,EAAMjT,EAAQ,aACdqV,EAAOrV,EAAQ,cACf2sC,EAAc3sC,EAAQ,iBAAiB2sC,YACvC50B,EAAS/X,EAAQ,YACjB0Q,EAAe1Q,EAAQ,uBAAuB0Q,aAC9C8gC,EAAYxxC,EAAQ,eAAewxC,UACnC2mB,EAAWn4D,EAAQ,eAAe0hD,KAClC3oC,EAAQ/Y,EAAQ,WAAW+Y,MAC3B4tC,EAAW3mD,EAAQ,cAAc2mD,SACjCyC,EAAsBppD,EAAQ,0BAA0BopD,oBACxDkB,EAAkBtqD,EAAQ,sBAAsBsqD,gBAChDU,EAAchrD,EAAQ,iBAAiBgrD,YACvCoN,EAA6B,WAC7B,SAASA,EAAYjzC,EAAM6c,GAAQ5jC,KAAK6M,IACpC7M,KAAKi6D,aAAe,GACpBj6D,KAAKk6D,aAAe,GACpBl6D,KAAKm6D,cAAgB,CAAC,EACtBn6D,KAAKo6D,aAAe,CAAC,EACrBp6D,KAAKq6D,UAAY,EACjBr6D,KAAKs6D,aAAc,EACnBt6D,KAAKo0D,UAAY,GACjBp0D,KAAK2C,GAAK,aAAeq3D,EAAYO,KACrCv6D,KAAKo0D,UAAU9yD,SAAW,WACtB,OAAOtB,KAAKsC,KAAK,KACrB,EACAtC,KAAKw6D,YAAc,IAAIxP,GAAqB,IAAI+O,GAAYvW,eAAgBxjD,MAC5E,IAAI8I,EAAQ9I,KACZA,KAAKw6D,YAAYnnD,GAAG,UAAU,SAAUnK,GACpCJ,EAAMqK,QAAQ,kBAAmBjK,EACrC,IACAlJ,KAAKqT,GAAG,aAAcrT,KAAKy6D,aAAa50C,KAAK7lB,OAC7CA,KAAKsnD,UAAYtnD,KAAK6vC,SAAShqB,KAAK7lB,MACjB,iBAAR+mB,GAAqBA,EAAK0D,UACjC1D,EAAO,IAAIwhC,EAA6BxhC,IAC5C/mB,KAAK4rD,YAAY7kC,GACjB/mB,KAAK+oB,UAAY,IAAIqqB,EAAUpzC,MAC/BA,KAAK+xC,aAAe,IAAIxD,EAAYvuC,MACpC2Z,EAAOzD,aAAalW,MACpBA,KAAK06D,QAAQ92B,GACbjqB,EAAOxG,QAAQ,UAAWnT,MAC1BA,KAAK26D,WAAY,CACrB,CA64CA,OA54CAX,EAAY34D,UAAUuqD,YAAc,SAAU/+C,GACtC7M,KAAK6M,KACL7M,KAAK6M,IAAI0G,IAAI,SAAUvT,KAAKsnD,WAChCtnD,KAAK6M,IAAMA,EACXA,EAAIwG,GAAG,SAAUrT,KAAKsnD,WAAW,GACjCtnD,KAAKw6D,YAAY5O,YAAY5rD,KAAKqzC,eAClCrzC,KAAK46D,aACT,EACAZ,EAAY34D,UAAUgyC,YAAc,WAChC,OAAOrzC,KAAK6M,GAChB,EACAmtD,EAAY34D,UAAUw5D,eAAiB,SAAUprB,GAC7C,IAAKA,EAGD,OAFAzvC,KAAKmwC,aAAe,QACpBnwC,KAAKiwC,gBAAkB,IAG3B,IAAIvuC,EAAI1B,KAAKmwC,aAAa5vC,OACtBkB,EAAIzB,KAAKkwC,kBAAkBlwC,KAAKmwC,aAAcV,GAAU,EACxD/tC,EAAID,IACJzB,KAAKmwC,aAAaxoC,OAAOlG,EAAGC,GAC5B1B,KAAKiwC,gBAAgBtoC,OAAOlG,EAAGC,GAEvC,EACAs4D,EAAY34D,UAAU6uC,kBAAoB,SAAU4qB,EAAYz3D,GAG5D,IAFA,IAAI03D,EAAM,EACN5uB,EAAK2uB,EAAWv6D,OAAS,EACtBw6D,GAAO5uB,GAAI,CACd,IAAI6uB,EAAOD,EAAM5uB,GAAO,EACpBQ,EAAImuB,EAAWE,GACnB,GAAI33D,EAAMspC,EACNouB,EAAMC,EAAM,MACX,MAAI33D,EAAMspC,GAGX,OAAOquB,EAFP7uB,EAAK6uB,EAAM,CAED,CAClB,CACA,OAAOD,EAAM,CACjB,EACAf,EAAY34D,UAAUu5D,YAAc,WAChC56D,KAAKq1D,WAAY,EACjBr1D,KAAK0wC,UAAY,GACjB1wC,KAAKi7D,gBAAkB,GACvBj7D,KAAK66D,eAAe,GACf76D,KAAK26D,WACN36D,KAAKw6D,YAAYx/C,MAAM,EAC/B,EACAg/C,EAAY34D,UAAUo5D,aAAe,SAAUvxD,GAC3C,IAAI+zB,EAAO/zB,EAAEsL,KACbxU,KAAK66D,eAAe59B,EAAKjiB,MAAMC,IACnC,EACA++C,EAAY34D,UAAUwuC,SAAW,SAAUC,GACvC9vC,KAAKq1D,WAAY,EACjBr1D,KAAK+xC,aAAalC,SAASC,GAC3B9vC,KAAK66D,eAAe/qB,EAAM90B,MAAMC,KAChC,IAAIigD,EAAel7D,KAAKm7D,4BAA4BrrB,IAC/C9vC,KAAK+sD,WAAa/sD,KAAKo7D,eACpBF,GAAgBA,EAAa36D,SAC7BP,KAAKo7D,aAAartD,IAAI,CAClBu2B,OAAQ,cACRgtB,MAAO4J,GACRl7D,KAAKq7D,iBACRr7D,KAAKq7D,iBAAkB,GAE3Br7D,KAAKo7D,aAAartD,IAAI+hC,EAAO9vC,KAAKq7D,iBAClCr7D,KAAKq7D,iBAAkB,EACvBr7D,KAAKs7D,mBAAmB7yD,YAE5BzI,KAAKw6D,YAAYzO,gBAAgBjc,GACjC9vC,KAAKmT,QAAQ,SAAU28B,EAC3B,EACAkqB,EAAY34D,UAAUqnD,SAAW,SAAU3hC,GACvC/mB,KAAK6M,IAAI67C,SAAS3hC,GAClB/mB,KAAK+oB,UAAUgsB,OAAO,EAAG,GACzB/0C,KAAK66D,eAAe,GACpB76D,KAAKu7D,eAAev7D,KAAKo7D,cACzBp7D,KAAKykC,iBAAiBwoB,OAC1B,EACA+M,EAAY5gB,SAAW,SAAUn8B,GACP,iBAAXA,IACPA,EAAUu+C,KAAKC,MAAMx+C,IACzB,IAAIy+C,EAAc,IAAI9O,EACtB8O,EAAYlO,WAAavwC,EAAQ0+C,QAAQvN,KACzCsN,EAAYrO,WAAapwC,EAAQ0+C,QAAQ7M,KACzC4M,EAAYnM,KAAOtyC,EAAQ0+C,QAAQpM,KACnCmM,EAAYjO,KAAOxwC,EAAQ0+C,QAAQhO,IACnC,IAAIiO,EAAc,IAAI5B,EAAY/8C,EAAQ1Z,OAW1C,OAVA0Z,EAAQq0C,MAAMvsD,SAAQ,SAAUk4B,GAC5B2+B,EAAY9yB,QAAQ,MAAOnuB,EAAMgC,WAAWsgB,EAAKjiB,MAAOiiB,EAAK/2B,KACjE,IACA01D,EAAYC,eAAe5+C,EAAQ+gB,aACnC49B,EAAYE,eAAe7+C,EAAQ8+C,aACnCH,EAAYlB,QAAQz9C,EAAQ2mB,MAC5Bg4B,EAAYI,cAAc/+C,EAAQooB,YAClCu2B,EAAYK,aAAah/C,EAAQi/C,WACjCN,EAAYL,eAAeG,GAC3BE,EAAY7yC,UAAUqwB,SAASn8B,EAAQ8L,WAChC6yC,CACX,EACA5B,EAAY34D,UAAU23C,OAAS,WAC3B,MAAO,CACHhb,YAAah+B,KAAK88B,aAClBi/B,YAAa/7D,KAAKi6D,aAClB3I,MAAOtxD,KAAKu0D,cAAcpvD,KAAI,SAAU83B,GACpC,OAAOA,EAAK7hB,KAChB,IACAugD,QAAS37D,KAAKykC,iBACdb,KAAM5jC,KAAK4hD,MAAM5qC,IACjBquB,WAAYrlC,KAAKm8D,YACjBD,UAAWl8D,KAAKo8D,WAChBrzC,UAAW/oB,KAAK+oB,UAAUiwB,SAC1Bz1C,MAAOvD,KAAK6M,IAAI0iC,WAExB,EACAyqB,EAAY34D,UAAUC,SAAW,WAC7B,OAAOtB,KAAK6M,IAAI0iC,UACpB,EACAyqB,EAAY34D,UAAU0sD,aAAe,WACjC,OAAO/tD,KAAK+oB,SAChB,EACAixC,EAAY34D,UAAU2qD,SAAW,SAAU/wC,GACvC,OAAOjb,KAAKw6D,YAAYxO,SAAS/wC,EACrC,EACA++C,EAAY34D,UAAUy9C,UAAY,SAAU7jC,GACxC,OAAOjb,KAAKw6D,YAAY1b,UAAU7jC,EACtC,EACA++C,EAAY34D,UAAU09C,WAAa,SAAU9jC,EAAKC,GAC9C,IACIy/B,EADAU,EAASr7C,KAAKw6D,YAAY1b,UAAU7jC,GAC7B0xB,EAAI,EACf,GAAc,MAAVzxB,EAAgB,CAChB,IAAIzZ,EAAI45C,EAAO96C,OAAS,EACxBosC,EAAI3sC,KAAKyqB,QAAQxP,GAAK1a,MAC1B,MAEI,IAASkB,EAAI,EAAGA,EAAI45C,EAAO96C,WACvBosC,GAAK0O,EAAO55C,GAAG8B,MAAMhD,SACZ2a,GAFsBzZ,KAOvC,OADAk5C,EAAQU,EAAO55C,KAGfk5C,EAAM/1C,MAAQnD,EACdk5C,EAAM3/B,MAAQ2xB,EAAIgO,EAAMp3C,MAAMhD,OACvBo6C,GAHI,IAIf,EACAqf,EAAY34D,UAAUk6D,eAAiB,SAAUG,GAI7C,GAHA17D,KAAKo7D,aAAeM,EAChB17D,KAAKs7D,oBACLt7D,KAAKs7D,mBAAmB/yD,SACxBmzD,EAAa,CACb,IAAIx6B,EAAOlhC,KACX07D,EAAYxO,WAAWltD,MACvBA,KAAKq8D,uBAAyB,WAC1Bn7B,EAAKo6B,mBAAmB/yD,SACxB24B,EAAKm6B,iBAAkB,CAC3B,EACAr7D,KAAKs7D,mBAAqBrkD,EAAKrO,YAAY5I,KAAKq8D,uBACpD,MAEIr8D,KAAKq8D,uBAAyB,WAAc,CAEpD,EACArC,EAAY34D,UAAUi7D,cAAgB,WAC9Bt8D,KAAKq8D,wBACLr8D,KAAKq8D,wBACb,EACArC,EAAY34D,UAAUojC,eAAiB,WACnC,OAAOzkC,KAAKo7D,cAAgBp7D,KAAKu8D,mBACrC,EACAvC,EAAY34D,UAAUqgD,aAAe,WACjC,OAAI1hD,KAAKokD,iBACEntC,EAAKpQ,aAAa,IAAK7G,KAAK62C,cAG5B,IAEf,EACAmjB,EAAY34D,UAAUm7D,eAAiB,SAAUn5D,GAC7CrD,KAAKiV,UAAU,cAAe5R,EAClC,EACA22D,EAAY34D,UAAU+iD,eAAiB,WACnC,OAAOpkD,KAAKy8D,eAAiBz8D,KAAK4hD,MAAM8a,eAC5C,EACA1C,EAAY34D,UAAUs7D,WAAa,SAAUhmB,GACzC32C,KAAKiV,UAAU,UAAW0hC,EAC9B,EACAqjB,EAAY34D,UAAUw1C,WAAa,WAC/B,OAAO72C,KAAK48D,QAChB,EACA5C,EAAY34D,UAAUu1C,UAAY,SAAUz5C,GACxC,OAAO6C,KAAKy8D,cAAiBt/D,EAAS+d,OAASlb,KAAK48D,WAAa,CACrE,EACA5C,EAAY34D,UAAUw7D,0BAA4B,SAAUC,GACxD98D,KAAKiV,UAAU,yBAA0B6nD,EAC7C,EACA9C,EAAY34D,UAAUy1C,0BAA4B,WAC9C,OAAO92C,KAAK+8D,uBAChB,EACA/C,EAAY34D,UAAU27D,aAAe,SAAUC,GAC3Cj9D,KAAKiV,UAAU,YAAagoD,EAChC,EACAjD,EAAY34D,UAAUgxC,aAAe,WACjC,OAAOryC,KAAKk9D,UAChB,EACAlD,EAAY34D,UAAU87D,gBAAkB,WACpCn9D,KAAKg9D,cAAch9D,KAAKk9D,WAC5B,EACAlD,EAAY34D,UAAU+7D,oBAAsB,SAAUniD,EAAKte,GAClDqD,KAAKk6D,aAAaj/C,KACnBjb,KAAKk6D,aAAaj/C,GAAO,IAC7Bjb,KAAKk6D,aAAaj/C,IAAQ,IAAMte,EAChCqD,KAAKmT,QAAQ,mBAAoB,CAAC,EACtC,EACA6mD,EAAY34D,UAAUg8D,uBAAyB,SAAUpiD,EAAKte,GAC1DqD,KAAKk6D,aAAaj/C,IAAQjb,KAAKk6D,aAAaj/C,IAAQ,IAAIzY,QAAQ,IAAM7F,EAAW,IACjFqD,KAAKmT,QAAQ,mBAAoB,CAAC,EACtC,EACA6mD,EAAY34D,UAAUi8D,eAAiB,WACnC,OAAOt9D,KAAKi6D,YAChB,EACAD,EAAY34D,UAAUy6D,eAAiB,SAAU1jB,GAC7Cp4C,KAAKi6D,aAAe,GACpB,IAAK,IAAIx4D,EAAI,EAAGA,EAAI22C,EAAK73C,OAAQkB,IAC7BzB,KAAKi6D,aAAa7hB,EAAK32C,IAAM,iBAEjCzB,KAAKmT,QAAQ,mBAAoB,CAAC,EACtC,EACA6mD,EAAY34D,UAAUk8D,iBAAmB,WACrCv9D,KAAKi6D,aAAe,GACpBj6D,KAAKmT,QAAQ,mBAAoB,CAAC,EACtC,EACA6mD,EAAY34D,UAAUm8D,cAAgB,SAAUviD,EAAKte,QAC/BwE,IAAdxE,IACAA,EAAY,kBACZA,EACAqD,KAAKi6D,aAAah/C,GAAOte,SAElBqD,KAAKi6D,aAAah/C,GAC7Bjb,KAAKmT,QAAQ,mBAAoB,CAAC,EACtC,EACA6mD,EAAY34D,UAAUo8D,gBAAkB,SAAUxiD,UACvCjb,KAAKi6D,aAAah/C,GACzBjb,KAAKmT,QAAQ,mBAAoB,CAAC,EACtC,EACA6mD,EAAY34D,UAAUu4B,UAAY,SAAUxe,EAAO+wC,EAAOj5C,EAAMwqD,GAC5D,IAAI/6D,EAAK3C,KAAKq6D,YACV7/B,EAAS,CACTpf,MAAOA,EACPlI,KAAMA,GAAQ,OACdqW,SAAyB,mBAARrW,EAAqBA,EAAO,KAC7Ci5C,MAAOA,EACPuR,UAAWA,EACX/6D,GAAIA,GAUR,OARI+6D,GACA19D,KAAKm6D,cAAcx3D,GAAM63B,EACzBx6B,KAAKmT,QAAQ,uBAGbnT,KAAKo6D,aAAaz3D,GAAM63B,EACxBx6B,KAAKmT,QAAQ,qBAEVxQ,CACX,EACAq3D,EAAY34D,UAAUs8D,iBAAmB,SAAUnjC,EAAQkjC,GACvD,GAAKljC,EAAO6xB,OAAZ,CAEA,IAAI1pD,EAAK3C,KAAKq6D,YAWd,OAVA7/B,EAAO73B,GAAKA,EACZ63B,EAAOkjC,UAAYA,EACfA,GACA19D,KAAKm6D,cAAcx3D,GAAM63B,EACzBx6B,KAAKmT,QAAQ,uBAGbnT,KAAKo6D,aAAaz3D,GAAM63B,EACxBx6B,KAAKmT,QAAQ,qBAEVqnB,CAZG,CAad,EACAw/B,EAAY34D,UAAUq5B,aAAe,SAAUkjC,GAC3C,IAAIpjC,EAASx6B,KAAKm6D,cAAcyD,IAAa59D,KAAKo6D,aAAawD,GAC1DpjC,WAESA,EAAOkjC,QAAU19D,KAAKm6D,cAAgBn6D,KAAKo6D,cACzCwD,GAChB59D,KAAKmT,QAAQqnB,EAAOkjC,QAAU,oBAAsB,oBACxD,EACA1D,EAAY34D,UAAUw8D,WAAa,SAAUH,GACzC,OAAOA,EAAU19D,KAAKm6D,cAAgBn6D,KAAKo6D,YAC/C,EACAJ,EAAY34D,UAAUy8D,UAAY,SAAU3lD,GACxC,IAAKnY,KAAK+9D,iBAAkB,CACxB,IAAID,EAAY,IAAI5R,EAAgB,KAAM,oBAAqB,QAC/DlsD,KAAK+9D,iBAAmB/9D,KAAK29D,iBAAiBG,EAClD,CACA99D,KAAK+9D,iBAAiB3R,UAAUj0C,EACpC,EACA6hD,EAAY34D,UAAU28D,eAAiB,SAAUpjD,EAAUE,EAAQqxC,EAAOuR,GACjD,iBAAV5iD,IACPqxC,EAAQrxC,EACRA,EAASF,GAERuxC,IACDA,EAAQ,YACZ,IAAI/wC,EAAQ,IAAIT,EAAMC,EAAU,EAAGE,EAAQmpC,KAE3C,OADA7oC,EAAMzY,GAAK3C,KAAK45B,UAAUxe,EAAO+wC,EAAO,WAAYuR,GAC7CtiD,CACX,EACA4+C,EAAY34D,UAAUw6D,eAAiB,SAAU79B,GAC7Ch+B,KAAK88B,aAAekB,EACpBh+B,KAAKmT,QAAQ,mBAAoB,CAAC,EACtC,EACA6mD,EAAY34D,UAAU48D,eAAiB,WACnC,OAAOj+D,KAAK88B,cAAgB,EAChC,EACAk9B,EAAY34D,UAAU68D,iBAAmB,WACrCl+D,KAAK67D,eAAe,GACxB,EACA7B,EAAY34D,UAAUwnD,eAAiB,SAAU9hC,GAC7C,IAAIrc,EAAQqc,EAAKrc,MAAM,gBAEnB1K,KAAK8oD,aADLp+C,EACoBA,EAAM,GAGN,IAE5B,EACAsvD,EAAY34D,UAAU8xB,aAAe,SAAUlY,EAAKC,GAChD,IAAI9R,EAAOpJ,KAAKyqB,QAAQxP,GACpBkjD,GAAU,EAKd,GAJIjjD,EAAS,IACTijD,IAAY/0D,EAAKhH,OAAO8Y,EAAS,GAAGxQ,MAAM1K,KAAK23C,UAC9CwmB,IACDA,IAAY/0D,EAAKhH,OAAO8Y,GAAQxQ,MAAM1K,KAAK23C,UAC3CwmB,EACA,IAAIhmD,EAAKnY,KAAK23C,aACb,GAAI,QAAQnsC,KAAKpC,EAAK/G,MAAM6Y,EAAS,EAAGA,EAAS,IAC9C/C,EAAK,UAELA,EAAKnY,KAAK03C,WAClB,IAAI18B,EAAQE,EACZ,GAAIF,EAAQ,EAAG,CACX,GACIA,UACKA,GAAS,GAAK5R,EAAKhH,OAAO4Y,GAAOtQ,MAAMyN,IAChD6C,GACJ,CAEA,IADA,IAAI9U,EAAMgV,EACHhV,EAAMkD,EAAK7I,QAAU6I,EAAKhH,OAAO8D,GAAKwE,MAAMyN,IAC/CjS,IAEJ,OAAO,IAAIyU,EAAMM,EAAKD,EAAOC,EAAK/U,EACtC,EACA8zD,EAAY34D,UAAUg1C,cAAgB,SAAUp7B,EAAKC,GAGjD,IAFA,IAAIkjD,EAAYp+D,KAAKmzB,aAAalY,EAAKC,GACnC9R,EAAOpJ,KAAKyqB,QAAQ2zC,EAAUl4D,IAAI+U,KAC/B7R,EAAKhH,OAAOg8D,EAAUl4D,IAAIgV,QAAQxQ,MAAM,UAC3C0zD,EAAUl4D,IAAIgV,QAAU,EAE5B,OAAOkjD,CACX,EACApE,EAAY34D,UAAU2nD,eAAiB,SAAUC,GAC7CjpD,KAAK6M,IAAIm8C,eAAeC,EAC5B,EACA+Q,EAAY34D,UAAU6nD,eAAiB,WACnC,OAAOlpD,KAAK6M,IAAIq8C,gBACpB,EACA8Q,EAAY34D,UAAUg9D,aAAe,SAAUC,GAAat+D,KAAKiV,UAAU,YAAaqpD,EAAY,EACpGtE,EAAY34D,UAAUk9D,aAAe,WAAc,OAAOv+D,KAAKw+D,UAAY,EAC3ExE,EAAY34D,UAAUo9D,kBAAoB,SAAUv1D,GAChD,IAAIkvC,EAAOlvC,EAAEsL,KACbxU,KAAKw6D,YAAYx/C,MAAMo9B,EAAKyT,OAC5B7rD,KAAKmT,QAAQ,kBAAmBjK,EACpC,EACA8wD,EAAY34D,UAAUq5D,QAAU,SAAU92B,EAAMprB,GAC5C,GAAIorB,GAAwB,kBAATA,EAAmB,CAClC,GAAIA,EAAK4f,aACL,OAAOxjD,KAAK0+D,cAAc96B,GAC9B,IAAIr3B,EAAUq3B,EACVryB,EAAOhF,EAAQgF,IACvB,MAEIA,EAA2BqyB,GAAS,gBAIxC,GAFK5jC,KAAK6X,OAAO,mBACb7X,KAAK6X,OAAO,iBAAmB,IAAIkiD,GACnC/5D,KAAK6X,OAAOtG,KAAUhF,EAGtB,OAFAvM,KAAK0+D,cAAc1+D,KAAK6X,OAAOtG,SAC/BiH,GAAMA,KAGVxY,KAAK2+D,QAAUptD,EACfoI,EAAOf,WAAW,CAAC,OAAQrH,GAAO,SAAUiJ,GACxC,GAAIxa,KAAK2+D,UAAYptD,EACjB,OAAOiH,GAAMA,IACbxY,KAAK6X,OAAOtG,KAAUhF,EACtBvM,KAAK0+D,cAAc1+D,KAAK6X,OAAOtG,IAE1BiJ,GAAKA,EAAE8oC,OACZ9oC,EAAI,IAAIA,EAAE8oC,KAAK/2C,GACVA,IACDvM,KAAK6X,OAAOtG,GAAQiJ,EACpBA,EAAExD,IAAMzF,GAEZvR,KAAK0+D,cAAclkD,IAEvBhC,GAAMA,GACV,EAAEqN,KAAK7lB,OACFA,KAAK4hD,OACN5hD,KAAK0+D,cAAc1+D,KAAK6X,OAAO,kBAAkB,EACzD,EACAmiD,EAAY34D,UAAUq9D,cAAgB,SAAU96B,EAAMg7B,GAGlD,GAFKA,IACD5+D,KAAK2+D,QAAU/6B,EAAK5sB,KACpBhX,KAAK4hD,QAAUhe,EAAnB,CAEA,IAAIi7B,EAAU7+D,KAAK4hD,MACnB5hD,KAAK4hD,MAAQhe,EACb5jC,KAAK8+D,cACD9+D,KAAKw+D,YACLx+D,KAAK++D,eACT,IAAI9T,EAAYrnB,EAAK4f,eACrB,QAAqBriD,IAAjB8pD,EAAU53C,GAAkB,CAC5B,IAAIorD,EAAoBz+D,KAAKy+D,kBAAkB54C,KAAK7lB,MACpDirD,EAAU53C,GAAG,SAAUorD,EAC3B,CACAz+D,KAAKw6D,YAAY7O,aAAaV,GAC9BjrD,KAAKw6D,YAAY5O,YAAY5rD,KAAKqzC,eAClCrzC,KAAK23C,QAAU/T,EAAK+T,QACpB33C,KAAK03C,WAAa9T,EAAK8T,WAClBknB,IACGh7B,EAAKo7B,iBACLp7B,EAAKo7B,gBAAgBh/D,MACzBA,KAAKoV,SAAS6pD,WAAWrpD,IAAIrU,KAAKvB,KAAMA,KAAKk/D,aAC7Cl/D,KAAKq3D,YAAYzzB,EAAKu7B,cACtBn/D,KAAKw6D,YAAYx/C,MAAM,GACvBhb,KAAK2S,MAAM,aAAc,CAAEksD,QAASA,EAASj7B,KAAMA,IArB7C,CAuBd,EACAo2B,EAAY34D,UAAUy9D,YAAc,WAC5B9+D,KAAKorD,UACLprD,KAAKorD,QAAQgU,YACbp/D,KAAKorD,QAAU,KAEvB,EACA4O,EAAY34D,UAAU09D,aAAe,WACjC,IACI/+D,KAAKorD,QAAUprD,KAAK4hD,MAAMkE,aAAa9lD,KAC3C,CACA,MAAOkJ,GACHyQ,EAAOlE,KAAK,wBAAyBvM,GACrClJ,KAAKorD,QAAU,IACnB,CACJ,EACA4O,EAAY34D,UAAUg+D,QAAU,WAC5B,OAAOr/D,KAAK4hD,KAChB,EACAoY,EAAY34D,UAAU46D,aAAe,SAAUC,GACvCl8D,KAAKo8D,aAAeF,GAAaoD,MAAMpD,KAE3Cl8D,KAAKo8D,WAAaF,EAClBl8D,KAAKmT,QAAQ,kBAAmB+oD,GACpC,EACAlC,EAAY34D,UAAUmlC,aAAe,WACjC,OAAOxmC,KAAKo8D,UAChB,EACApC,EAAY34D,UAAU26D,cAAgB,SAAU32B,GACxCrlC,KAAKm8D,cAAgB92B,GAAci6B,MAAMj6B,KAE7CrlC,KAAKm8D,YAAc92B,EACnBrlC,KAAKmT,QAAQ,mBAAoBkyB,GACrC,EACA20B,EAAY34D,UAAUk+D,cAAgB,WAClC,OAAOv/D,KAAKm8D,WAChB,EACAnC,EAAY34D,UAAUm+D,eAAiB,WAEnC,OADAx/D,KAAKy/D,gBACDz/D,KAAKs4C,YACEj6C,KAAK2H,IAAIhG,KAAK0/D,wBAAyB1/D,KAAK2/D,aAChD3/D,KAAK2/D,WAChB,EACA3F,EAAY34D,UAAUq+D,sBAAwB,WAC1C,GAA6B,MAAzB1/D,KAAK4/D,iBACL,OAAO5/D,KAAK4/D,iBAChB,IAAIphE,EAAQ,EAKZ,OAJAwB,KAAKs4C,YAAYvzC,SAAQ,SAAU4gC,GAC3BA,GAAKA,EAAEg6B,YAAcnhE,IACrBA,EAAQmnC,EAAEg6B,YAClB,IACO3/D,KAAK6/D,gBAAkBrhE,CAClC,EACAw7D,EAAY34D,UAAUo+D,cAAgB,SAAUK,GAC5C,GAAI9/D,KAAKq1D,WAAayK,EAAO,CAEzB,GADA9/D,KAAKq1D,WAAY,EACbr1D,KAAKwwC,aACL,OAAOxwC,KAAK2/D,YAAc3/D,KAAK+/D,WAQnC,IAPA,IAAI/0C,EAAQhrB,KAAK6M,IAAI87C,cACjBh6C,EAAQ3O,KAAKi7D,gBACb+E,EAAoB,EACpBC,EAAY,EACZ1pB,EAAWv2C,KAAKo0D,UAAU6L,GAC1BC,EAAY3pB,EAAWA,EAASv7B,MAAMC,IAAMgpC,IAC5Cz+C,EAAMwlB,EAAMzqB,OACPkB,EAAI,EAAGA,EAAI+D,EAAK/D,IAAK,CAC1B,GAAIA,EAAIy+D,EAAW,CAEf,IADAz+D,EAAI80C,EAASrwC,IAAI+U,IAAM,IACdzV,EACL,MAEJ06D,GADA3pB,EAAWv2C,KAAKo0D,UAAU6L,MACH1pB,EAASv7B,MAAMC,IAAMgpC,GAChD,CACgB,MAAZt1C,EAAMlN,KACNkN,EAAMlN,GAAKzB,KAAKmgE,sBAAsBn1C,EAAMvpB,IAAI,IAChDkN,EAAMlN,GAAKu+D,IACXA,EAAoBrxD,EAAMlN,GAClC,CACAzB,KAAK2/D,YAAcK,CACvB,CACJ,EACAhG,EAAY34D,UAAUopB,QAAU,SAAUxP,GACtC,OAAOjb,KAAK6M,IAAI4d,QAAQxP,EAC5B,EACA++C,EAAY34D,UAAU+nD,SAAW,SAAU3sC,EAAUC,GACjD,OAAO1c,KAAK6M,IAAIu8C,SAAS3sC,EAAUC,EACvC,EACAs9C,EAAY34D,UAAUs6B,UAAY,WAC9B,OAAO37B,KAAK6M,IAAI8uB,WACpB,EACAq+B,EAAY34D,UAAUmgC,aAAe,SAAUpmB,GAC3C,OAAOpb,KAAK6M,IAAI20B,aAAapmB,GAASpb,KAAK+oB,UAAUgC,WACzD,EACAivC,EAAY34D,UAAUghC,OAAS,SAAUllC,EAAU4pB,GAC/C,OAAO/mB,KAAK6M,IAAIw1B,OAAOllC,EAAU4pB,EACrC,EACAizC,EAAY34D,UAAUmN,OAAS,SAAU4M,GACrC,OAAOpb,KAAK6M,IAAI2B,OAAO4M,EAC3B,EACA4+C,EAAY34D,UAAUooD,gBAAkB,SAAUhtC,EAAUC,GACxD,OAAO1c,KAAK6M,IAAI48C,gBAAgBhtC,EAAUC,EAC9C,EACAs9C,EAAY34D,UAAUutD,YAAc,SAAUzE,EAAQkE,GAClD,GAAKlE,EAAO5pD,OAAZ,CAEAP,KAAK+sD,WAAY,EACjB,IAAK,IAAItrD,EAAI0oD,EAAO5pD,OAAS,GAAS,GAANkB,EAASA,IAAK,CAC1C,IAAIquC,EAAQqa,EAAO1oD,GACC,UAAhBquC,EAAMxL,QAAsC,UAAhBwL,EAAMxL,OAClCtkC,KAAK6M,IAAIw9C,YAAYva,GAEhBA,EAAMwhB,OACXtxD,KAAKs1D,SAASxlB,EAAMwhB,MAE5B,EACKjD,GAAcruD,KAAKs6D,cAChBnQ,EAAOuG,gBACP1wD,KAAK+oB,UAAUqwB,SAAS+Q,EAAOuG,iBAE/B1wD,KAAK+oB,UAAU8c,SAAS7lC,KAAKogE,kBAAkBjW,GAAQ,KAE/DnqD,KAAK+sD,WAAY,CAjBP,CAkBd,EACAiN,EAAY34D,UAAUguD,YAAc,SAAUlF,EAAQkE,GAClD,GAAKlE,EAAO5pD,OAAZ,CAEAP,KAAK+sD,WAAY,EACjB,IAAK,IAAItrD,EAAI,EAAGA,EAAI0oD,EAAO5pD,OAAQkB,IAAK,CACpC,IAAIquC,EAAQqa,EAAO1oD,GACC,UAAhBquC,EAAMxL,QAAsC,UAAhBwL,EAAMxL,QAClCtkC,KAAK6M,IAAI29C,gBAAgB1a,EAEjC,EACKue,GAAcruD,KAAKs6D,cAChBnQ,EAAOwG,eACP3wD,KAAK+oB,UAAUqwB,SAAS+Q,EAAOwG,gBAE/B3wD,KAAK+oB,UAAU8c,SAAS7lC,KAAKogE,kBAAkBjW,GAAQ,KAE/DnqD,KAAK+sD,WAAY,CAdP,CAed,EACAiN,EAAY34D,UAAUg/D,cAAgB,SAAUC,GAC5CtgE,KAAKs6D,YAAcgG,CACvB,EACAtG,EAAY34D,UAAU++D,kBAAoB,SAAUjW,EAAQoW,GACxD,SAASjW,EAASxa,GACd,OAAOywB,EAA0B,WAAjBzwB,EAAMxL,OAAuC,WAAjBwL,EAAMxL,MACtD,CAEA,IADA,IAAIlpB,EAAOosC,EACF/lD,EAAI,EAAGA,EAAI0oD,EAAO5pD,OAAQkB,IAAK,CACpC,IAAIquC,EAAQqa,EAAO1oD,GACdquC,EAAM90B,QAENI,EASDkvC,EAASxa,IACT0X,EAAQ1X,EAAM90B,OACiC,GAA3CI,EAAME,QAAQksC,EAAMvsC,IAAKusC,EAAMtsC,SAC/BE,EAAMW,SAASyrC,GAEnBA,EAAQ1X,EAAM5pC,IACgC,GAA1CkV,EAAME,QAAQksC,EAAMvsC,IAAKusC,EAAMtsC,SAC/BE,EAAMY,OAAOwrC,KAIjBA,EAAQ1X,EAAM90B,OACiC,GAA3CI,EAAME,QAAQksC,EAAMvsC,IAAKusC,EAAMtsC,UAC/BE,EAAQT,EAAMgC,WAAWmzB,EAAM90B,MAAO80B,EAAM90B,SApB5CI,EADAkvC,EAASxa,GACDn1B,EAAMgC,WAAWmzB,EAAM90B,MAAO80B,EAAM5pC,KAGpCyU,EAAMgC,WAAWmzB,EAAM90B,MAAO80B,EAAM90B,OAoBxD,CACA,OAAOI,CACX,EACA4+C,EAAY34D,UAAUmB,QAAU,SAAU4Y,EAAO2L,GAC7C,OAAO/mB,KAAK6M,IAAIrK,QAAQ4Y,EAAO2L,EACnC,EACAizC,EAAY34D,UAAU8gC,SAAW,SAAUq+B,EAAWC,EAAYl6D,GAC9D,IAAIwgB,EAAO/mB,KAAKwhC,aAAag/B,GACzBlP,EAAQtxD,KAAKk0D,gBAAgBsM,GAC7BE,EAAU/lD,EAAMgC,WAAW8jD,EAAYA,GAC3C,IAAKl6D,EAAM,CACPvG,KAAKwO,OAAOgyD,GACZ,IAAI7f,EAAU6f,EAAUxlD,MAAMC,IAAMulD,EAAUt6D,IAAI+U,KAC9C0lD,EAAWhgB,GAAW6f,EAAUt6D,IAAIgV,OAASslD,EAAUxlD,MAAME,OAASslD,EAAUt6D,IAAIgV,UAEhFwlD,EAAQ1lD,MAAMC,KAAOulD,EAAUt6D,IAAI+U,KAAOylD,EAAQ1lD,MAAME,OAASslD,EAAUt6D,IAAIgV,SAC/EwlD,EAAQ1lD,MAAME,QAAUylD,GACxBD,EAAQx6D,IAAI+U,KAAOulD,EAAUt6D,IAAI+U,KAAOylD,EAAQx6D,IAAIgV,OAASslD,EAAUt6D,IAAIgV,SAC3EwlD,EAAQx6D,IAAIgV,QAAUylD,IAE1BhgB,GAAW+f,EAAQ1lD,MAAMC,KAAOulD,EAAUt6D,IAAI+U,MAC9CylD,EAAQ1lD,MAAMC,KAAO0lC,EACrB+f,EAAQx6D,IAAI+U,KAAO0lC,EAE3B,CAEA,GADA+f,EAAQx6D,IAAMlG,KAAKqiC,OAAOq+B,EAAQ1lD,MAAO+L,GACrCuqC,EAAM/wD,OAAQ,CACd,IAAIqgE,EAAWJ,EAAUxlD,MACrB6lD,EAAWH,EAAQ1lD,MAEnB2lD,GADAhgB,EAAUkgB,EAAS5lD,IAAM2lD,EAAS3lD,IACvB4lD,EAAS3lD,OAAS0lD,EAAS1lD,QAC1Clb,KAAKs1D,SAAShE,EAAMnsD,KAAI,SAAU6b,GAQ9B,OAPAA,EAAIA,EAAElE,SACA9B,MAAMC,KAAO2lD,EAAS3lD,MACxB+F,EAAEhG,MAAME,QAAUylD,GAClB3/C,EAAE9a,IAAI+U,KAAO2lD,EAAS3lD,MACtB+F,EAAE9a,IAAIgV,QAAUylD,GACpB3/C,EAAEhG,MAAMC,KAAO0lC,EACf3/B,EAAE9a,IAAI+U,KAAO0lC,EACN3/B,CACX,IACJ,CACA,OAAO0/C,CACX,EACA1G,EAAY34D,UAAUy/D,WAAa,SAAUlmD,EAAUE,EAAQimD,GAC3DA,EAAeA,EAAav+D,QAAQ,MAAOxC,KAAK0hD,gBAChD,IAAK,IAAIzmC,EAAML,EAAUK,GAAOH,EAAQG,IACpCjb,KAAK6M,IAAI43C,aAAa,CAAExpC,IAAKA,EAAKC,OAAQ,GAAK6lD,EACvD,EACA/G,EAAY34D,UAAU2/D,YAAc,SAAU5lD,GAI1C,IAHA,IAAI6lD,EAAW7lD,EAAM2B,eACjBmkD,EAAc,IAAIvmD,EAAM,EAAG,EAAG,EAAG,GACjCk2B,EAAO7wC,KAAK62C,aACPp1C,EAAIw/D,EAASjmD,MAAMC,IAAKxZ,GAAKw/D,EAAS/6D,IAAI+U,MAAOxZ,EAAG,CACzD,IAAI2H,EAAOpJ,KAAKyqB,QAAQhpB,GACxBy/D,EAAYlmD,MAAMC,IAAMxZ,EACxBy/D,EAAYh7D,IAAI+U,IAAMxZ,EACtB,IAAK,IAAI6Y,EAAI,EAAGA,EAAIu2B,GACM,KAAlBznC,EAAKhH,OAAOkY,KADQA,GAGxBA,EAAIu2B,GAA0B,MAAlBznC,EAAKhH,OAAOkY,IACxB4mD,EAAYlmD,MAAME,OAASZ,EAC3B4mD,EAAYh7D,IAAIgV,OAASZ,EAAI,IAG7B4mD,EAAYlmD,MAAME,OAAS,EAC3BgmD,EAAYh7D,IAAIgV,OAASZ,GAE7Bta,KAAKwO,OAAO0yD,EAChB,CACJ,EACAlH,EAAY34D,UAAU8/D,WAAa,SAAU1kD,EAAUC,EAASwtB,GAG5D,GAFAztB,EAAWzc,KAAKi2D,gBAAgBx5C,GAChCC,EAAU1c,KAAKg2D,cAAct5C,GACzBwtB,EAAM,EAAG,CAET,IADIjvB,EAAMjb,KAAKi2D,gBAAgBx5C,EAAWytB,IAChC,EACN,OAAO,EACX,IAAI6kB,EAAO9zC,EAAMwB,CACrB,MACK,GAAIytB,EAAM,EAAG,CACd,IAAIjvB,EACJ,IADIA,EAAMjb,KAAKg2D,cAAct5C,EAAUwtB,IAC7BlqC,KAAK6M,IAAI8uB,YAAc,EAC7B,OAAO,EACPozB,EAAO9zC,EAAMyB,CACrB,KACK,CACDD,EAAWzc,KAAKohE,mBAAmB3kD,GAE/BsyC,GADJryC,EAAU1c,KAAKohE,mBAAmB1kD,IACbD,EAAW,CACpC,CACA,IAAIrB,EAAQ,IAAIT,EAAM8B,EAAU,EAAGC,EAASoL,OAAOusB,WAC/Cid,EAAQtxD,KAAKk0D,gBAAgB94C,GAAOjW,KAAI,SAAU6b,GAIlD,OAHAA,EAAIA,EAAElE,SACJ9B,MAAMC,KAAO8zC,EACf/tC,EAAE9a,IAAI+U,KAAO8zC,EACN/tC,CACX,IACIgK,EAAe,GAAPkf,EACNlqC,KAAK6M,IAAIu8C,SAAS3sC,EAAUC,GAC5B1c,KAAK6M,IAAI48C,gBAAgBhtC,EAAUC,GAGzC,OAFA1c,KAAK6M,IAAI08C,gBAAgB9sC,EAAWsyC,EAAM/jC,GAC1CsmC,EAAM/wD,QAAUP,KAAKs1D,SAAShE,GACvBvC,CACX,EACAiL,EAAY34D,UAAUggE,YAAc,SAAU5kD,EAAUC,GACpD,OAAO1c,KAAKmhE,WAAW1kD,EAAUC,GAAU,EAC/C,EACAs9C,EAAY34D,UAAUigE,cAAgB,SAAU7kD,EAAUC,GACtD,OAAO1c,KAAKmhE,WAAW1kD,EAAUC,EAAS,EAC9C,EACAs9C,EAAY34D,UAAUkgE,eAAiB,SAAU9kD,EAAUC,GACvD,OAAO1c,KAAKmhE,WAAW1kD,EAAUC,EAAS,EAC9C,EACAs9C,EAAY34D,UAAU+/D,mBAAqB,SAAUnmD,GACjD,OAAO5c,KAAK2H,IAAI,EAAG3H,KAAK4H,IAAIgV,EAAKjb,KAAK6M,IAAI8uB,YAAc,GAC5D,EACAq+B,EAAY34D,UAAUmgE,iBAAmB,SAAUvmD,EAAKC,GACpD,OAAIA,EAAS,EACF,EACJ7c,KAAK4H,IAAIjG,KAAK6M,IAAI4d,QAAQxP,GAAK1a,OAAQ2a,EAClD,EACA8+C,EAAY34D,UAAUkmD,wBAA0B,SAAUtsC,EAAKC,GAE3D,GADAA,EAAS7c,KAAK2H,IAAI,EAAGkV,GACjBD,EAAM,EACNA,EAAM,EACNC,EAAS,MAER,CACD,IAAI1V,EAAMxF,KAAK6M,IAAI8uB,YACf1gB,GAAOzV,GACPyV,EAAMzV,EAAM,EACZ0V,EAASlb,KAAK6M,IAAI4d,QAAQjlB,EAAM,GAAGjF,QAGnC2a,EAAS7c,KAAK4H,IAAIjG,KAAK6M,IAAI4d,QAAQxP,GAAK1a,OAAQ2a,EAExD,CACA,MAAO,CACHD,IAAKA,EACLC,OAAQA,EAEhB,EACA8+C,EAAY34D,UAAU0zD,qBAAuB,SAAU35C,GAC/CA,EAAMJ,MAAMC,IAAM,GAClBG,EAAMJ,MAAMC,IAAM,EAClBG,EAAMJ,MAAME,OAAS,GAGrBE,EAAMJ,MAAME,OAASlb,KAAKwhE,iBAAiBpmD,EAAMJ,MAAMC,IAAKG,EAAMJ,MAAME,QAE5E,IAAI1V,EAAMxF,KAAK6M,IAAI8uB,YAAc,EAQjC,OAPIvgB,EAAMlV,IAAI+U,IAAMzV,GAChB4V,EAAMlV,IAAI+U,IAAMzV,EAChB4V,EAAMlV,IAAIgV,OAASlb,KAAK6M,IAAI4d,QAAQjlB,GAAKjF,QAGzC6a,EAAMlV,IAAIgV,OAASlb,KAAKwhE,iBAAiBpmD,EAAMlV,IAAI+U,IAAKG,EAAMlV,IAAIgV,QAE/DE,CACX,EACA4+C,EAAY34D,UAAUogE,eAAiB,SAAUC,GAC7C,GAAIA,GAAe1hE,KAAKwwC,aAAc,CAIlC,GAHAxwC,KAAKwwC,aAAekxB,EACpB1hE,KAAKq1D,WAAY,EACjBr1D,KAAK66D,eAAe,GAChB6G,EAAa,CACb,IAAIl8D,EAAMxF,KAAK27B,YACf37B,KAAK0wC,UAAYrrC,MAAMG,GACvBxF,KAAKm1D,gBAAgB,EAAG3vD,EAAM,EAClC,CACAxF,KAAKmT,QAAQ,iBACjB,CACJ,EACA6mD,EAAY34D,UAAUonC,eAAiB,WACnC,OAAOzoC,KAAKwwC,YAChB,EACAwpB,EAAY34D,UAAUsgE,kBAAoB,SAAU17D,EAAKD,GACjDhG,KAAK4hE,gBAAgB37D,MAAQA,GAAOjG,KAAK4hE,gBAAgB57D,MAAQA,IACjEhG,KAAK4hE,gBAAkB,CAAE37D,IAAKA,EAAKD,IAAKA,GACxChG,KAAKq1D,WAAY,EACjBr1D,KAAK+xC,aAAab,cACdlxC,KAAKwwC,cACLxwC,KAAKmT,QAAQ,kBAEzB,EACA6mD,EAAY34D,UAAUwgE,gBAAkB,SAAUC,EAAcC,GAC5D,IAAIC,EAAShiE,KAAK4hE,gBACdI,EAAOh8D,IAAM,IACbg8D,EAAS,CAAE/7D,IAAK87D,EAAc/7D,IAAK+7D,IACvC,IAAIE,EAAYjiE,KAAKkiE,oBAAoBJ,EAAcE,EAAO/7D,IAAK+7D,EAAOh8D,KAC1E,OAAIi8D,GAAajiE,KAAK+/D,YAAckC,EAAY,IAC5CjiE,KAAK+/D,WAAakC,EAClBjiE,KAAKq1D,WAAY,EACbr1D,KAAKwwC,eACLxwC,KAAKm1D,gBAAgB,EAAGn1D,KAAK27B,YAAc,GAC3C37B,KAAK66D,eAAe,GACpB76D,KAAKmT,QAAQ,qBAEV,EAGf,EACA6mD,EAAY34D,UAAU6gE,oBAAsB,SAAUD,EAAWh8D,EAAKD,GAKlE,OAJIC,IACAg8D,EAAY5jE,KAAK2H,IAAIC,EAAKg8D,IAC1Bj8D,IACAi8D,EAAY5jE,KAAK4H,IAAID,EAAKi8D,IACvBA,CACX,EACAjI,EAAY34D,UAAU8gE,aAAe,WACjC,OAAOniE,KAAK+/D,UAChB,EACA/F,EAAY34D,UAAU+gE,aAAe,SAAUC,GAC3CriE,KAAK2hE,kBAAkBU,EAAOA,EAClC,EACArI,EAAY34D,UAAUihE,kBAAoB,WACtC,MAAO,CACHr8D,IAAKjG,KAAK4hE,gBAAgB37D,IAC1BD,IAAKhG,KAAK4hE,gBAAgB57D,IAElC,EACAg0D,EAAY34D,UAAU85D,4BAA8B,SAAUrrB,GAC1D,IAAI4xB,EAAc1hE,KAAKwwC,aACnBlM,EAASwL,EAAMxL,OACftpB,EAAQ80B,EAAM90B,MACd9U,EAAM4pC,EAAM5pC,IACZuW,EAAWzB,EAAMC,IACjByB,EAAUxW,EAAI+U,IACdzV,EAAMkX,EAAUD,EAChBy+C,EAAe,KAEnB,GADAl7D,KAAKu1D,WAAY,EACN,GAAP/vD,EACA,GAAe,WAAX8+B,EAAqB,CACrBtkC,KAAK0hE,EAAc,YAAc,mBAAmB/5D,OAAO8U,EAAUjX,GACrE,IAAI2uD,EAAYn0D,KAAKo0D,UACrB8G,EAAel7D,KAAKk0D,gBAAgBpkB,GACpC9vC,KAAKk1D,YAAYgG,GACjB,IACI3I,EAAM,EACV,GAFIhc,EAAWv2C,KAAKk9B,YAAYh3B,EAAI+U,KAEtB,CACVs7B,EAAS0b,eAAe/rD,EAAI+U,IAAK/U,EAAIgV,OAAQF,EAAME,OAAShV,EAAIgV,QAChEq7B,EAASib,UAAUhsD,GACnB,IAAI+8D,EAAiBviE,KAAKk9B,YAAYzgB,GAClC8lD,GAAkBA,IAAmBhsB,IACrCgsB,EAAermB,MAAM3F,GACrBA,EAAWgsB,GAEfhQ,EAAM4B,EAAUlyD,QAAQs0C,GAAY,CACxC,CACA,KAAUgc,EAAM4B,EAAU5zD,OAAQgyD,IAAO,EACjChc,EAAW4d,EAAU5B,IACZv3C,MAAMC,KAAO/U,EAAI+U,KAC1Bs7B,EAASib,UAAUhsD,EAE3B,CACAkX,EAAUD,CACd,KACK,CACD,IAAIwtB,EAAO5kC,MAAMG,GACjBykC,EAAKkS,QAAQ1/B,EAAU,GACvB,IAAInV,EAAMo6D,EAAc1hE,KAAK0wC,UAAY1wC,KAAKi7D,gBAC9C3zD,EAAIK,OAAOhH,MAAM2G,EAAK2iC,GAClBkqB,EAAYn0D,KAAKo0D,UAEjB7B,EAAM,EACV,GAFIhc,EAAWv2C,KAAKk9B,YAAYzgB,GAElB,CACV,IAAIjB,EAAM+6B,EAASn7B,MAAMmB,cAAcvB,EAAMC,IAAKD,EAAME,QAC7C,GAAPM,GACA+6B,EAAWA,EAASp0C,MAAM6Y,EAAMC,IAAKD,EAAME,WAEvCq7B,EAASib,SAAShsD,GAClB+wC,EAAS0b,eAAev1C,EAAS,EAAGxW,EAAIgV,OAASF,EAAME,UAInD,GAARM,IACA+6B,EAAS0b,eAAex1C,EAAU,EAAGvW,EAAIgV,OAASF,EAAME,QACxDq7B,EAASib,SAAShsD,IAEtB+sD,EAAM4B,EAAUlyD,QAAQs0C,GAAY,CACxC,CACA,KAAUgc,EAAM4B,EAAU5zD,OAAQgyD,IAAO,CACrC,IAAIhc,KAAW4d,EAAU5B,IACZv3C,MAAMC,KAAOwB,GACtB85B,EAASib,SAAShsD,EAE1B,CACJ,MAGAA,EAAMnH,KAAK6lB,IAAI4rB,EAAM90B,MAAME,OAAS40B,EAAM5pC,IAAIgV,QAC/B,WAAXopB,IACA42B,EAAel7D,KAAKk0D,gBAAgBpkB,GACpC9vC,KAAKk1D,YAAYgG,GACjB11D,GAAOA,IAEP+wC,EAAWv2C,KAAKk9B,YAAYzgB,KAE5B85B,EAAS0b,eAAex1C,EAAUzB,EAAME,OAAQ1V,GAWxD,OARIk8D,GAAe1hE,KAAK0wC,UAAUnwC,QAAUP,KAAK6M,IAAI8uB,aACjD/6B,QAAQC,MAAM,6DAElBb,KAAKu1D,WAAY,EACbmM,EACA1hE,KAAKm1D,gBAAgB14C,EAAUC,GAE/B1c,KAAKo1D,sBAAsB34C,EAAUC,GAClCw+C,CACX,EACAlB,EAAY34D,UAAU+zD,sBAAwB,SAAU34C,EAAUC,GAC9D1c,KAAKi7D,gBAAgBx+C,GAAY,KACjCzc,KAAKi7D,gBAAgBv+C,GAAW,IACpC,EACAs9C,EAAY34D,UAAU8zD,gBAAkB,SAAU14C,EAAUC,GACxD,IAII2+B,EACA9E,EALAvrB,EAAQhrB,KAAK6M,IAAI87C,cACjBhS,EAAU32C,KAAK62C,aACf2rB,EAAWxiE,KAAK0wC,UAChBuxB,EAAYjiE,KAAK+/D,WAGjB9kD,EAAMwB,EAEV,IADAC,EAAUre,KAAK4H,IAAIyW,EAASsO,EAAMzqB,OAAS,GACpC0a,GAAOyB,IACV65B,EAAWv2C,KAAKk9B,YAAYjiB,EAAKs7B,KAO7B8E,EAAS,GACT9E,EAASob,KAAK,SAAUG,EAAa72C,EAAKC,EAAQk7C,GAC9C,IAAIqM,EACJ,GAAmB,MAAf3Q,EAAqB,EACrB2Q,EAAaziE,KAAK0iE,kBAAkB5Q,EAAazW,EAAO96C,SAC7C,GAAKoiE,EAChB,IAAK,IAAIlhE,EAAI,EAAGA,EAAIghE,EAAWliE,OAAQkB,IACnCghE,EAAWhhE,GAAKmhE,CAExB,MAEIH,EAAaziE,KAAK0iE,kBAAkB13C,EAAM/P,GAAK21B,UAAUwlB,EAAYl7C,GAASmgC,EAAO96C,QAEzF86C,EAASA,EAAOx+C,OAAO4lE,EAC3B,EAAE58C,KAAK7lB,MAAOu2C,EAASrwC,IAAI+U,IAAK+P,EAAMurB,EAASrwC,IAAI+U,KAAK1a,OAAS,GACjEiiE,EAASjsB,EAASv7B,MAAMC,KAAOjb,KAAK6iE,mBAAmBxnB,EAAQ4mB,EAAWtrB,GAC1E17B,EAAMs7B,EAASrwC,IAAI+U,IAAM,IArBzBogC,EAASr7C,KAAK0iE,kBAAkB13C,EAAM/P,IACtCunD,EAASvnD,GAAOjb,KAAK6iE,mBAAmBxnB,EAAQ4mB,EAAWtrB,GAC3D17B,IAsBZ,EACA++C,EAAY34D,UAAUwhE,mBAAqB,SAAUxnB,EAAQ4mB,EAAWtrB,GACpE,GAAqB,GAAjB0E,EAAO96C,OACP,MAAO,GAEX,IAAIkwC,EAAS,GACTqyB,EAAgBznB,EAAO96C,OACvBwiE,EAAY,EAAGC,EAAe,EAC9BC,EAASjjE,KAAKkjE,YACdC,EAAmBnjE,KAAKojE,kBACxBC,EAAYpB,GAAa5jE,KAAK2H,IAAI,EAAI2wC,EAAS,KACvB,IAArBwsB,EAA6B,EAAI9kE,KAAK8mD,MAAM8c,EAAY,GAsB/D,SAASqB,EAASlqC,GAEd,IADA,IAAI5zB,EAAM4zB,EAAY2pC,EACbthE,EAAIshE,EAAWthE,EAAI23B,EAAW33B,IAAK,CACxC,IAAI2K,EAAKivC,EAAO55C,GACL,KAAP2K,GAAoB,IAAPA,IACb5G,GAAO,EACf,CACKirC,EAAOlwC,SACRowC,EA7BR,WACI,IAAI4yB,EAAc,EAClB,GAAkB,IAAdF,EACA,OAAOE,EACX,GAAIJ,EACA,IAAK,IAAI1hE,EAAI,EAAGA,EAAI45C,EAAO96C,OAAQkB,IAAK,CACpC,IAAIk5C,EAAQU,EAAO55C,GACnB,GAAIk5C,GAAS6oB,EACTD,GAAe,MACd,IAAI5oB,GAAS8oB,EAEb,IAAI9oB,GAAS+oB,EACd,SAEA,KAAK,CAJLH,GAAe5sB,CAIV,CACb,CAIJ,OAFIssB,IAA+B,IAArBE,IACVI,GAAe5sB,GACZt4C,KAAK4H,IAAIs9D,EAAaF,EACjC,CASiBM,GACTlzB,EAAOE,OAASA,GAEpBqyB,GAAgBx9D,EAChBirC,EAAO5uC,KAAKmhE,GACZD,EAAY3pC,CAChB,CAEA,IADA,IAAIuX,EAAS,EACNmyB,EAAgBC,EAAYd,EAAYtxB,GAAQ,CACnD,IAAIxuC,EAAQ4gE,EAAYd,EAAYtxB,EACpC,GAAI0K,EAAOl5C,EAAQ,IAAMqhE,GAASnoB,EAAOl5C,IAAUqhE,EAC/CF,EAASnhE,QAGb,GAAIk5C,EAAOl5C,IAAUwgE,GAAqBtnB,EAAOl5C,IAAUygE,EAA3D,CAuBA,IADA,IAAIgB,EAAWvlE,KAAK2H,IAAI7D,GAAS8/D,GAAaA,GAAa,IAAKc,EAAY,GACrE5gE,EAAQyhE,GAAYvoB,EAAOl5C,GAASwgE,GACvCxgE,IAEJ,GAAI8gE,EAAQ,CACR,KAAO9gE,EAAQyhE,GAAYvoB,EAAOl5C,GAASwgE,GACvCxgE,IAEJ,KAAOA,EAAQyhE,GAAYvoB,EAAOl5C,IAAU0hE,GACxC1hE,GAER,MAEI,KAAOA,EAAQyhE,GAAYvoB,EAAOl5C,GAASqhE,GACvCrhE,IAGJA,EAAQyhE,EACRN,IAAWnhE,IAIXk5C,EADJl5C,EAAQ4gE,EAAYd,IACC6B,GACjB3hE,IACJmhE,EAASnhE,EAAQwuC,GAzBjB,KArBA,CACI,KAAYxuC,GAAS4gE,EAAY,GACzB1nB,EAAOl5C,IAAUwgE,EADWxgE,KAKpC,GAAIA,EAAQ4gE,EAAW,CACnBO,EAASnhE,GACT,QACJ,CAEA,IADAA,EAAQ4gE,EAAYd,EACR9/D,EAAQk5C,EAAO96C,QACnB86C,EAAOl5C,IAAUygE,EADUzgE,KAKnC,GAAIA,GAASk5C,EAAO96C,OAChB,MAEJ+iE,EAASnhE,EAEb,CA0BJ,CACA,OAAOsuC,CACX,EACAupB,EAAY34D,UAAUqhE,kBAAoB,SAAUn+D,EAAK0D,GACrD,IACI0uC,EADArvC,EAAM,GAEVW,EAASA,GAAU,EACnB,IAAK,IAAIxG,EAAI,EAAGA,EAAI8C,EAAIhE,OAAQkB,IAAK,CACjC,IAAIkrC,EAAIpoC,EAAIwoC,WAAWtrC,GACvB,GAAS,GAALkrC,EAAQ,CACRgK,EAAU32C,KAAK+wC,iBAAiBzpC,EAAI/G,OAAS0H,GAC7CX,EAAIzF,KAAK4hE,GACT,IAAK,IAAIh3D,EAAI,EAAGA,EAAIkqC,EAASlqC,IACzBnF,EAAIzF,KAAK6hE,EAEjB,MACc,IAAL/2B,EACLrlC,EAAIzF,KAAK2hE,GAEH72B,EAAI,IAAMA,EAAI,IAAQA,EAAI,IAAMA,EAAI,GAC1CrlC,EAAIzF,KAAKgiE,GAEJl3B,GAAK,MAAUmE,EAAYnE,GAChCrlC,EAAIzF,KAAKkiE,EAAMD,GAGfx8D,EAAIzF,KAAKkiE,EAEjB,CACA,OAAOz8D,CACX,EACA0yD,EAAY34D,UAAU8+D,sBAAwB,SAAU57D,EAAKy/D,EAAiBC,GAC1E,GAAuB,GAAnBD,EACA,MAAO,CAAC,EAAG,GAIf,IAAIr3B,EAAGzxB,EACP,IAJuB,MAAnB8oD,IACAA,EAAkB/f,KACtBggB,EAAeA,GAAgB,EAE1B/oD,EAAS,EAAGA,EAAS3W,EAAIhE,SAEjB,IADTosC,EAAIpoC,EAAIwoC,WAAW7xB,IAEf+oD,GAAgBjkE,KAAK+wC,iBAAiBkzB,GAEjCt3B,GAAK,MAAUmE,EAAYnE,GAChCs3B,GAAgB,EAGhBA,GAAgB,IAEhBA,EAAeD,IAXe9oD,KAetC,MAAO,CAAC+oD,EAAc/oD,EAC1B,EACA8+C,EAAY34D,UAAU6iE,aAAe,SAAUjpD,GAC3C,IAAIyqB,EAAI,EAGR,OAFI1lC,KAAKs4C,cACL5S,GAAK1lC,KAAKs4C,YAAYr9B,IAAQjb,KAAKs4C,YAAYr9B,GAAKw9B,UAAY,GAC/Dz4C,KAAKwwC,cAAiBxwC,KAAK0wC,UAAUz1B,GAG/Bjb,KAAK0wC,UAAUz1B,GAAK1a,OAASmlC,EAF7BA,CAGf,EACAs0B,EAAY34D,UAAU8iE,gBAAkB,SAAUlpD,GAC9C,OAAKjb,KAAKwwC,cAAiBxwC,KAAK0wC,UAAUz1B,GAI/Bjb,KAAK0wC,UAAUz1B,GAAK1a,OAAS,EAH7B,CAKf,EACAy5D,EAAY34D,UAAU+iE,iBAAmB,SAAUxoC,GAC/C,GAAI57B,KAAKwwC,aAAc,CACnB,IAAIrf,EAAMnxB,KAAKg3C,yBAAyBpb,EAAW9T,OAAOusB,WACtD5D,EAASzwC,KAAK0wC,UAAUvf,EAAIlW,KAChC,OAAOw1B,EAAOlwC,QAAUkwC,EAAO,GAAKtf,EAAIjW,OAASu1B,EAAOE,OAAS,CACrE,CAEI,OAAO,CAEf,EACAqpB,EAAY34D,UAAUgjE,uBAAyB,SAAUzoC,GACrD,IAAIzK,EAAMnxB,KAAKg3C,yBAAyBpb,EAAW9T,OAAOusB,WAC1D,OAAOr0C,KAAKskE,uBAAuBnzC,EAAIlW,IAAKkW,EAAIjW,OACpD,EACA8+C,EAAY34D,UAAUkjE,yBAA2B,SAAU90B,EAAQ+0B,GAC/D,IAAI5oC,EAAY57B,KAAK87B,oBAAoB2T,EAAQ+0B,GACjD,OAAOxkE,KAAKqkE,uBAAuBzoC,EACvC,EACAo+B,EAAY34D,UAAUg2C,iCAAmC,SAAU5H,EAAQ+0B,GACvE,IAAI5oC,EAAY57B,KAAK87B,oBAAoB2T,EAAQ+0B,GACjD,OAAOxkE,KAAKg3C,yBAAyBpb,EAAW9T,OAAOusB,UAAY,GACvE,EACA2lB,EAAY34D,UAAUojE,gBAAkB,SAAUxpD,GAC9C,OAAKjb,KAAKwwC,aAICxwC,KAAK0wC,UAAUz1B,QAHtB,CAKR,EACA++C,EAAY34D,UAAU0vC,iBAAmB,SAAUkzB,GAC/C,OAAOjkE,KAAK48D,UAAYqH,EAAejkE,KAAK48D,SAAW,EAC3D,EACA5C,EAAY34D,UAAUqjE,oBAAsB,SAAU9oC,EAAWqoC,GAC7D,OAAOjkE,KAAKg3C,yBAAyBpb,EAAWqoC,GAAchpD,GAClE,EACA++C,EAAY34D,UAAUsjE,uBAAyB,SAAU/oC,EAAWqoC,GAChE,OAAOjkE,KAAKg3C,yBAAyBpb,EAAWqoC,GAAc/oD,MAClE,EACA8+C,EAAY34D,UAAU21C,yBAA2B,SAAUpb,EAAWqoC,EAAc5rB,GAChF,GAAIzc,EAAY,EACZ,MAAO,CAAE3gB,IAAK,EAAGC,OAAQ,GAC7B,IAAI9R,EAGA8R,EAFAu0B,EAAS,EACT+0B,EAAY,EAEZvpD,EAAM,EACN2pD,EAAY,EACZ50B,EAAWhwC,KAAKiwC,gBAChBxuC,EAAIzB,KAAKkwC,kBAAkBF,EAAUpU,GACrCl6B,EAAIsuC,EAASzvC,OACjB,GAAImB,GAAKD,GAAK,EACV,CAAIwZ,EAAM+0B,EAASvuC,GACfguC,EAASzvC,KAAKmwC,aAAa1uC,GAD/B,IAEIojE,EAAUjpC,EAAYoU,EAAStuC,EAAI,EAFlB,MAKjBmjE,GAAWnjE,EAKnB,IAHA,IAAIojE,EAAS9kE,KAAK27B,YAAc,EAC5B4a,EAAWv2C,KAAK20D,gBAAgBllB,GAChCywB,EAAY3pB,EAAWA,EAASv7B,MAAMC,IAAMgpC,IACzChpC,GAAO2gB,KAEN3gB,GADJ2pD,EAAY5kE,KAAKkkE,aAAaz0B,IACR7T,GAAa6T,GAAUq1B,IAIzC7pD,GAAO2pD,IACPn1B,EACaywB,IACTzwB,EAAS8G,EAASrwC,IAAI+U,IAAM,EAE5BilD,GADA3pB,EAAWv2C,KAAK20D,gBAAgBllB,EAAQ8G,IACjBA,EAASv7B,MAAMC,IAAMgpC,KAGhD4gB,IACA7kE,KAAKmwC,aAAatuC,KAAK4tC,GACvBzvC,KAAKiwC,gBAAgBpuC,KAAKoZ,IAGlC,GAAIs7B,GAAYA,EAASv7B,MAAMC,KAAOw0B,EAClCrmC,EAAOpJ,KAAKk2D,mBAAmB3f,GAC/B9G,EAAS8G,EAASv7B,MAAMC,QAEvB,IAAIA,EAAM2pD,GAAahpC,GAAa6T,EAASq1B,EAC9C,MAAO,CACH7pD,IAAK6pD,EACL5pD,OAAQlb,KAAKyqB,QAAQq6C,GAAQvkE,QAIjC6I,EAAOpJ,KAAKyqB,QAAQglB,GACpB8G,EAAW,IACf,CACA,IAAIxH,EAAa,EAAGW,EAAarxC,KAAK8mD,MAAMvpB,EAAY3gB,GACxD,GAAIjb,KAAKwwC,aAAc,CACnB,IAAIC,EAASzwC,KAAK0wC,UAAUjB,GACxBgB,IACAv1B,EAASu1B,EAAOf,GACZA,EAAa,GAAKe,EAAOlwC,SACzBwuC,EAAa0B,EAAOE,OACpB6zB,EAAY/zB,EAAOf,EAAa,IAAMe,EAAOA,EAAOlwC,OAAS,GAC7D6I,EAAOA,EAAKwnC,UAAU4zB,IAGlC,CAMA,YALgBrjE,IAAZk3C,GAAyBr4C,KAAK+xC,aAAavC,UAAUv0B,EAAMy0B,EAAYD,EAAQC,KAC/Eu0B,EAAejkE,KAAK+xC,aAAakB,YAAYoF,IACjDmsB,GAAaxkE,KAAKmgE,sBAAsB/2D,EAAM66D,EAAel1B,GAAY,GACrE/uC,KAAKwwC,cAAgBg0B,GAAatpD,IAClCspD,EAAYtpD,EAAS,GACrBq7B,EACOA,EAAS+b,cAAckS,GAC3B,CAAEvpD,IAAKw0B,EAAQv0B,OAAQspD,EAClC,EACAxK,EAAY34D,UAAU8b,yBAA2B,SAAUsyB,EAAQ+0B,GAC/D,GAAyB,qBAAdA,EACP,IAAIrzC,EAAMnxB,KAAKunD,wBAA2C9X,EAAQx0B,IAAwBw0B,EAAQv0B,aAElGiW,EAAMnxB,KAAKunD,wBAA4C9X,EAAS+0B,GACpE/0B,EAASte,EAAIlW,IACbupD,EAAYrzC,EAAIjW,OAChB,IAEI+hB,EAFArB,EAAY,EACZmpC,EAAe,MAEnB9nC,EAAOj9B,KAAKsoC,UAAUmH,EAAQ+0B,EAAW,MAErC/0B,EAASxS,EAAKjiB,MAAMC,IACpBupD,EAAYvnC,EAAKjiB,MAAME,QAE3B,IAAI8M,EAAQ/M,EAAM,EACd+0B,EAAWhwC,KAAKmwC,aAChB1uC,EAAIzB,KAAKkwC,kBAAkBF,EAAUP,GACrC/tC,EAAIsuC,EAASzvC,OACjB,GAAImB,GAAKD,GAAK,EACV,CAAIwZ,EAAM+0B,EAASvuC,GACfm6B,EAAY57B,KAAKiwC,gBAAgBxuC,GADrC,IAEIojE,EAAUp1B,EAASO,EAAStuC,EAAI,EAFf,MAKjBmjE,GAAWnjE,EAInB,IAFA,IAAI60C,EAAWv2C,KAAK20D,gBAAgB15C,GAChCilD,EAAY3pB,EAAWA,EAASv7B,MAAMC,IAAMgpC,IACzChpC,EAAMw0B,GAAQ,CACjB,GAAIx0B,GAAOilD,EAAW,CAElB,IADAl4C,EAASuuB,EAASrwC,IAAI+U,IAAM,GACfw0B,EACT,MAEJywB,GADA3pB,EAAWv2C,KAAK20D,gBAAgB3sC,EAAQuuB,IACjBA,EAASv7B,MAAMC,IAAMgpC,GAChD,MAEIj8B,EAAS/M,EAAM,EAEnB2gB,GAAa57B,KAAKkkE,aAAajpD,GAC/BA,EAAM+M,EACF68C,IACA7kE,KAAKmwC,aAAatuC,KAAKoZ,GACvBjb,KAAKiwC,gBAAgBpuC,KAAK+5B,GAElC,CACA,IAAIu6B,EAAW,GACX5f,GAAYt7B,GAAOilD,GACnB/J,EAAWn2D,KAAKk2D,mBAAmB3f,EAAU9G,EAAQ+0B,GACrDO,EAAexuB,EAASv7B,MAAMC,MAG9Bk7C,EAAWn2D,KAAKyqB,QAAQglB,GAAQmB,UAAU,EAAG4zB,GAC7CO,EAAet1B,GAEnB,IAAIV,EAAa,EACjB,GAAI/uC,KAAKwwC,aAAc,CACnB,IAAIw0B,EAAUhlE,KAAK0wC,UAAUq0B,GAC7B,GAAIC,EAAS,CAET,IADA,IAAIC,EAAkB,EACf9O,EAAS51D,QAAUykE,EAAQC,IAC9BrpC,IACAqpC,IAEJ9O,EAAWA,EAASvlB,UAAUo0B,EAAQC,EAAkB,IAAM,EAAG9O,EAAS51D,QAC1EwuC,EAAak2B,EAAkB,EAAID,EAAQr0B,OAAS,CACxD,CACJ,CAGA,OAFI3wC,KAAKs4C,aAAet4C,KAAKs4C,YAAYr9B,IAAQjb,KAAKs4C,YAAYr9B,GAAKu9B,YACnE5c,GAAa57B,KAAKs4C,YAAYr9B,GAAKu9B,WAChC,CACHv9B,IAAK2gB,EACL1gB,OAAQ6zB,EAAa/uC,KAAKmgE,sBAAsBhK,GAAU,GAElE,EACA6D,EAAY34D,UAAUijE,uBAAyB,SAAUrpD,EAAKupD,GAC1D,OAAOxkE,KAAKmd,yBAAyBlC,EAAKupD,GAAWtpD,MACzD,EACA8+C,EAAY34D,UAAUy6B,oBAAsB,SAAU2T,EAAQ+0B,GAC1D,OAAOxkE,KAAKmd,yBAAyBsyB,EAAQ+0B,GAAWvpD,GAC5D,EACA++C,EAAY34D,UAAU6jE,gBAAkB,WACpC,IAAIC,EAAa,EACbloC,EAAO,KACX,GAAKj9B,KAAKwwC,aAaN,IAJA,IAAI9zB,EAAU1c,KAAK0wC,UAAUnwC,OACzB0a,EAAM,EAENilD,GAFSz+D,EAAI,GACbw7B,EAAOj9B,KAAKo0D,UAAU3yD,MACHw7B,EAAKjiB,MAAMC,IAAMgpC,KACjChpC,EAAMyB,GAAS,CAClB,IAAI+zB,EAASzwC,KAAK0wC,UAAUz1B,GAC5BkqD,GAAc10B,EAASA,EAAOlwC,OAAS,EAAI,IAC3C0a,EACUilD,IACNjlD,EAAMgiB,EAAK/2B,IAAI+U,IAAM,EAErBilD,GADAjjC,EAAOj9B,KAAKo0D,UAAU3yD,MACHw7B,EAAKjiB,MAAMC,IAAMgpC,IAE5C,KAtBoB,CACpBkhB,EAAanlE,KAAK27B,YAElB,IADA,IAAI01B,EAAWrxD,KAAKo0D,UACX3yD,EAAI,EAAGA,EAAI4vD,EAAS9wD,OAAQkB,IAEjC0jE,IADAloC,EAAOo0B,EAAS5vD,IACGyE,IAAI+U,IAAMgiB,EAAKjiB,MAAMC,GAEhD,CAmBA,OAFIjb,KAAKs4C,cACL6sB,GAAcnlE,KAAKolE,0BAChBD,CACX,EACAnL,EAAY34D,UAAUgkE,gBAAkB,SAAUC,GACzCtlE,KAAKulE,iBAEVvlE,KAAKmgE,sBAAwB,SAAU57D,EAAKy/D,EAAiBC,GACzD,GAAwB,IAApBD,EACA,MAAO,CAAC,EAAG,GAIf,IAAIr3B,EAAGzxB,EACP,IAJK8oD,IACDA,EAAkB/f,KACtBggB,EAAeA,GAAgB,EAE1B/oD,EAAS,EAAGA,EAAS3W,EAAIhE,WAGtB0jE,GADM,QADVt3B,EAAIpoC,EAAInC,OAAO8Y,IAEKlb,KAAK+wC,iBAAiBkzB,GAGtBqB,EAAGE,kBAAkB74B,IAEtBq3B,GARe9oD,KAYtC,MAAO,CAAC+oD,EAAc/oD,EAC1B,EACJ,EACA8+C,EAAY34D,UAAUokE,sBAAwB,WAC1C,IAAIt0C,EAAMnxB,KAAK+oB,UAAU+qB,YACzB,OAAmB,IAAf3iB,EAAIjW,OACe,IAAZiW,EAAIlW,IAAY,GAAKjb,KAAK6M,IAAI+7C,sBAEvB5oD,KAAKyqB,QAAQ0G,EAAIlW,KAChBkW,EAAIjW,OAAS,EACpC,EACA8+C,EAAY34D,UAAUwgB,QAAU,WACvB7hB,KAAK26D,YACN36D,KAAKw6D,YAAY5O,YAAY,MAC7B5rD,KAAKw6D,YAAYvO,UACjBjsD,KAAK26D,WAAY,GAErB36D,KAAK8+D,cACL9+D,KAAKqU,qBACDrU,KAAK6M,KACL7M,KAAK6M,IAAI0G,IAAI,SAAUvT,KAAKsnD,WAEhCtnD,KAAK+oB,UAAU4gB,QACnB,EACOqwB,CACX,CA36CiC,GA46CjCA,EAAYO,KAAO,EACnBP,EAAY34D,UAAUwW,OAAS8B,EAAO9B,OACtCmiD,EAAY34D,UAAUkuC,SAAWyqB,EAAY34D,UAAUC,SACvD04D,EAAY34D,UAAUk7D,oBAAsB,CACxCnO,KAAM,WAAc,EACpBU,KAAM,WAAc,EACpBtqB,QAAS,WAAc,EACvBurB,QAAS,WAAc,EACvB9C,MAAO,WAAc,EACrBl/C,IAAK,WAAc,EACnB2/C,aAAc,WAAc,EAC5BE,cAAe,WAAc,EAC7BV,WAAY,WAAc,GAE9B8M,EAAY34D,UAAU67D,YAAa,EACnClD,EAAY34D,UAAUugD,MAAQ,KAC9BoY,EAAY34D,UAAUs9D,QAAU,KAChC3E,EAAY34D,UAAU+6D,WAAa,EACnCpC,EAAY34D,UAAU86D,YAAc,EACpCnC,EAAY34D,UAAU0+D,WAAa,GACnC/F,EAAY34D,UAAUmvC,cAAe,EACrCwpB,EAAY34D,UAAUugE,gBAAkB,CACpC37D,IAAK,KACLD,IAAK,MAETg0D,EAAY34D,UAAUi3C,YAAc,KACpC0hB,EAAY34D,UAAUyvC,YAAcA,EACpCj8B,EAAIzC,UAAU4nD,EAAY34D,UAAWiR,GACrC,IAAIyxD,EAAO,EAAGD,EAAW,EAAGnB,EAAoB,EAAGC,EAAmB,EAAGiB,EAAc,EAAGL,EAAQ,GAAIC,EAAM,GAAIC,EAAY,GAC5H,SAAS5yB,EAAYnE,GACjB,QAAIA,EAAI,QAEDA,GAAK,MAAUA,GAAK,MACvBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,MAC5B,CACA/qC,EAAQ,0BAA0BqyD,QAAQ1yD,KAAKy4D,EAAY34D,WAC3DO,EAAQ,gCAAgCq2D,aAAa12D,KAAKy4D,EAAY34D,WACtEsY,EAAO3D,cAAcgkD,EAAY34D,UAAW,UAAW,CACnDqkE,KAAM,CACF9vD,IAAK,SAAUrS,GASX,GARKA,GAAkB,OAATA,EAEI,QAATA,EACLA,GAAQ,EACM,eAATA,EACLA,GAAS,EACY,iBAATA,IACZA,EAAQkd,SAASld,EAAO,MAAO,GAN/BA,GAAQ,EAORvD,KAAK2lE,OAASpiE,EAGlB,GADAvD,KAAK2lE,MAAQpiE,EACRA,EAGA,CACD,IAAI2uC,EAAsB,iBAAT3uC,EAAoBA,EAAQ,KAC7CvD,KAAK2hE,kBAAkBzvB,EAAKA,GAC5BlyC,KAAKyhE,gBAAe,EACxB,MANIzhE,KAAKyhE,gBAAe,EAO5B,EACA3wD,IAAK,WACD,OAAI9Q,KAAKyoC,kBACc,GAAfzoC,KAAK2lE,MACE,cACN3lE,KAAKsiE,oBAAoBr8D,IAEvBjG,KAAK2lE,MADD,OAGR,KACX,EACAhwD,YAAY,GAEhBspD,WAAY,CACRrpD,IAAK,SAAUvS,IACXA,EAAa,QAAPA,EACmB,QAAnBrD,KAAK4hD,MAAM1uC,KACJ,QAAP7P,IACKrD,KAAKkjE,cACZljE,KAAKkjE,YAAc7/D,EACfrD,KAAKwwC,eACLxwC,KAAKwwC,cAAe,EACpBxwC,KAAKyhE,gBAAe,IAGhC,EACAxrD,aAAc,QAElBktD,iBAAkB,CACdvtD,IAAK,WACG5V,KAAKwwC,eACLxwC,KAAKwwC,cAAe,EACpBxwC,KAAKyhE,gBAAe,GAE5B,EACAxrD,cAAc,GAElB2vD,gBAAiB,CACbhwD,IAAK,WAAc5V,KAAKmT,QAAQ,mBAAqB,EACrD8C,aAAc,GAElBqoD,UAAW,CACP1oD,IAAK,SAAU0oD,GACXt+D,KAAKw+D,WAAaF,EAClBt+D,KAAK8+D,cACDR,GACAt+D,KAAK++D,cACb,EACA9oD,cAAc,GAElB4vD,YAAa,CAAE5vD,cAAc,GAC7B0gC,QAAS,CACL/gC,IAAK,SAAU+gC,IACXA,EAAUl2B,SAASk2B,IACL,GAAK32C,KAAK48D,WAAajmB,IACjC32C,KAAKq1D,WAAY,EACjBr1D,KAAKi7D,gBAAkB,GACvBj7D,KAAK48D,SAAWjmB,EAChB32C,KAAKmT,QAAQ,iBAErB,EACA8C,aAAc,EACdN,YAAY,GAEhBmnD,uBAAwB,CAAE7mD,cAAc,GACxC6vD,UAAW,CACPlwD,IAAK,SAAUvS,GAAOrD,KAAKm3D,aAAa9zD,EAAM,EAC9CsS,YAAY,GAEhBsnD,UAAW,CACPrnD,IAAK,SAAUvS,GAAOrD,KAAKmT,QAAQ,kBAAoB,EACvD8C,cAAc,GAElBgzC,YAAa,CACTrzC,IAAK,SAAUvS,GAAOrD,KAAK6M,IAAIm8C,eAAe3lD,EAAM,EACpDyN,IAAK,WAAc,OAAO9Q,KAAK6M,IAAIq8C,gBAAkB,EACrDvzC,YAAY,GAEhBiuB,KAAM,CACFhuB,IAAK,SAAUvS,GAAOrD,KAAK06D,QAAQr3D,EAAM,EACzCyN,IAAK,WAAc,OAAO9Q,KAAK2+D,OAAS,EACxChpD,YAAY,KAGpBlT,EAAQu3D,YAAcA,CAEtB,IAEA/2D,IAAI/C,OAAO,aAAa,CAAC,UAAU,UAAU,SAAS,eAAe,cAAc,cAAc,SAAS0B,EAASa,EAAStC,GAAQ,aACpI,IAAI8W,EAAOrV,EAAQ,cACfiT,EAAMjT,EAAQ,aACd+Y,EAAQ/Y,EAAQ,WAAW+Y,MAC3BorD,EAAwB,WACxB,SAASA,IACL/lE,KAAKoV,SAAW,CAAC,CACrB,CA6QA,OA5QA2wD,EAAO1kE,UAAUuU,IAAM,SAAUrJ,GAE7B,OADAsI,EAAI1C,MAAMnS,KAAKoV,SAAU7I,GAClBvM,IACX,EACA+lE,EAAO1kE,UAAU6T,WAAa,WAC1B,OAAO+B,EAAK/P,WAAWlH,KAAKoV,SAChC,EACA2wD,EAAO1kE,UAAU0T,WAAa,SAAUxI,GACpCvM,KAAKoV,SAAW7I,CACpB,EACAw5D,EAAO1kE,UAAUiE,KAAO,SAAU2X,GAC9B,IAAI1Q,EAAUvM,KAAKoV,SACf6f,EAAWj1B,KAAKgmE,eAAe/oD,EAAS1Q,GAC5C,IAAK0oB,EACD,OAAO,EACX,IAAI4T,EAAa,KAUjB,OATA5T,EAASlwB,SAAQ,SAAUkhE,EAAIC,EAAIC,EAAIC,GAEnC,OADAv9B,EAAa,IAAIluB,EAAMsrD,EAAIC,EAAIC,EAAIC,KAC/BF,GAAME,GAAM75D,EAAQyO,OAA4BzO,EAAQyO,MAAOA,OACrC,GAAvBzO,EAAQ85D,aAAwBx9B,EAAW1tB,QAA2B5O,EAAQyO,UACjF6tB,EAAa,MACN,EAGf,IACOA,CACX,EACAk9B,EAAO1kE,UAAUilE,QAAU,SAAUrpD,GACjC,IAAI1Q,EAAUvM,KAAKoV,SACnB,IAAK7I,EAAQg6D,OACT,MAAO,GACXvmE,KAAKwmE,gBAAgBj6D,GACrB,IAAI6O,EAAQ7O,EAAQ6O,MAChB4P,EAAQ5P,EACN6B,EAAQmsC,SAAShuC,EAAMJ,MAAMC,IAAKG,EAAMlV,IAAI+U,KAC5CgC,EAAQpQ,IAAI87C,cACdzP,EAAS,GACT/gC,EAAK5L,EAAQ4L,GACjB,GAAI5L,EAAQk6D,aAAc,CACtB,IAEIC,EAFAlhE,EAAM2S,EAAG5X,OACTukE,EAAS95C,EAAMzqB,OAASiF,EAE5BgK,EAAO,IAAK,IAAIyL,EAAM9C,EAAGlQ,QAAU,EAAGgT,GAAO6pD,EAAQ7pD,IAAO,CACxD,IAAK,IAAIX,EAAI,EAAGA,EAAI9U,EAAK8U,IACrB,IAAqC,GAAjC0Q,EAAM/P,EAAMX,GAAGi9B,OAAOp/B,EAAGmC,IACzB,SAAS9K,EACjB,IAAI+7C,EAAYvgC,EAAM/P,GAClB7R,EAAO4hB,EAAM/P,EAAMzV,EAAM,GACzBqtD,EAAatH,EAAUhrD,OAASgrD,EAAU7gD,MAAMyN,EAAG,IAAI,GAAG5X,OAC1DurB,EAAW1iB,EAAKsB,MAAMyN,EAAG3S,EAAM,IAAI,GAAGjF,OACtCmmE,GAAaA,EAAUxgE,IAAI+U,MAAQA,GACnCyrD,EAAUxgE,IAAIgV,OAAS23C,IAG3B3Z,EAAOr3C,KAAK6kE,EAAY,IAAI/rD,EAAMM,EAAK43C,EAAY53C,EAAMzV,EAAM,EAAGsmB,IAC9DtmB,EAAM,IACNyV,EAAMA,EAAMzV,EAAM,GAC1B,CACJ,MAEI,IAAK,IAAI/D,EAAI,EAAGA,EAAIupB,EAAMzqB,OAAQkB,IAC9B,KAAIuG,EAAUiP,EAAKnP,gBAAgBkjB,EAAMvpB,GAAI0W,GAC7C,IAASmC,EAAI,EAAGA,EAAItS,EAAQzH,OAAQ+Z,IAAK,CACrC,IAAI5P,EAAQ1C,EAAQsS,GACpB4+B,EAAOr3C,KAAK,IAAI8Y,EAAMlZ,EAAGiJ,EAAMzC,OAAQxG,EAAGiJ,EAAMzC,OAASyC,EAAMnK,QACnE,CAJgD,CAOxD,GAAI6a,EAAO,CACP,IAAIP,EAAcO,EAAMJ,MAAME,OAC1BH,EAAYK,EAAMlV,IAAIgV,OAE1B,IADIzZ,EAAI,EAAG6Y,EAAI4+B,EAAO34C,OAAS,EACxBkB,EAAI6Y,GAAK4+B,EAAOz3C,GAAGuZ,MAAME,OAASL,GAAsC,GAAvBq+B,EAAOz3C,GAAGuZ,MAAMC,KACpExZ,IAEJ,IADA,IAAIqZ,EAASM,EAAMlV,IAAI+U,IAAMG,EAAMJ,MAAMC,IAClCxZ,EAAI6Y,GAAK4+B,EAAO5+B,GAAGpU,IAAIgV,OAASH,GAAam+B,EAAO5+B,GAAGpU,IAAI+U,KAAOH,GACrER,IAEJ,IADA4+B,EAASA,EAAO72C,MAAMZ,EAAG6Y,EAAI,GACxB7Y,EAAI,EAAG6Y,EAAI4+B,EAAO34C,OAAQkB,EAAI6Y,EAAG7Y,IAClCy3C,EAAOz3C,GAAGuZ,MAAMC,KAAOG,EAAMJ,MAAMC,IACnCi+B,EAAOz3C,GAAGyE,IAAI+U,KAAOG,EAAMJ,MAAMC,GAEzC,CACA,OAAOi+B,CACX,EACA6sB,EAAO1kE,UAAUmB,QAAU,SAAUojD,EAAO+gB,GACxC,IAAIp6D,EAAUvM,KAAKoV,SACf+C,EAAKnY,KAAKwmE,gBAAgBj6D,GAC9B,GAAIA,EAAQk6D,aACR,OAAOE,EACX,GAAKxuD,EAAL,CAEA,IAAIzN,EAAQyN,EAAGlO,KAAK27C,GACpB,IAAKl7C,GAASA,EAAM,GAAGnK,QAAUqlD,EAAMrlD,OACnC,OAAO,KAKX,GAJKgM,EAAQxE,SACT4+D,EAAcA,EAAYnkE,QAAQ,MAAO,SAE7CmkE,EAAc/gB,EAAMpjD,QAAQ2V,EAAIwuD,GAC5Bp6D,EAAQq6D,aAAc,CACtBD,EAAcA,EAAYxkE,MAAM,IAChC,IAAK,IAAIV,EAAIpD,KAAK4H,IAAI2/C,EAAMrlD,OAAQqlD,EAAMrlD,QAASkB,KAAM,CACrD,IAAI2K,EAAKw5C,EAAMnkD,GACX2K,GAAMA,EAAGjC,eAAiBiC,EAC1Bu6D,EAAYllE,GAAKklE,EAAYllE,GAAGiZ,cAEhCisD,EAAYllE,GAAKklE,EAAYllE,GAAG0I,aACxC,CACAw8D,EAAcA,EAAYrkE,KAAK,GACnC,CACA,OAAOqkE,CAnBG,CAoBd,EACAZ,EAAO1kE,UAAUmlE,gBAAkB,SAAUj6D,EAASs6D,GAClD,GAAIt6D,EAAQg6D,kBAAkBt9D,OAC1B,OAAOsD,EAAQ4L,GAAK5L,EAAQg6D,OAChC,IAAIA,EAASh6D,EAAQg6D,OACrB,IAAKh6D,EAAQg6D,OACT,OAAOh6D,EAAQ4L,IAAK,EACnB5L,EAAQxE,SACTw+D,EAAStvD,EAAKrP,aAAa2+D,IAC/B,IAAI52C,EAAWpjB,EAAQu6D,cAAgB,KAAO,MAC9C,IACI,IAAI79D,OAAOs9D,EAAQ,KACnBh6D,EAAQw6D,sBAAuB,EAC/Bp3C,GAAY,GAChB,CACA,MAAOzmB,GACHqD,EAAQw6D,sBAAuB,CACnC,CAIA,GAHIx6D,EAAQy6D,YACRT,EA4IZ,SAAyBA,EAAQh6D,GAC7B,IAAIvD,EAAqBiO,EAAKjO,qBAC9B,SAASi+D,EAAat6B,EAAGu6B,GAGrB,YAFkB,IAAdA,IAAwBA,GAAY,IACvBl+D,GAAsBuD,EAAQw6D,qBAAuB,IAAI99D,OAAO,kBAAmB,KAAO,IAAIA,OAAO,QACvGuC,KAAKmhC,IAAMpgC,EAAQxE,OAC1BiB,GAAsBuD,EAAQw6D,qBAC1BG,EACO,0BACJ,yBAEJ,MAEJ,EACX,CACA,IAAIC,EAAc9hE,MAAM23B,KAAKupC,GACzBW,EAAYC,EAAY,GACxBC,EAAWD,EAAYA,EAAY5mE,OAAS,GAChD,OAAO0mE,EAAaC,GAAaX,EAASU,EAAaG,GAAU,EACrE,CA/JqBC,CAAgBd,EAAQh6D,IACrCA,EAAQk6D,cAAgBI,GAAyB,SAASr7D,KAAK+6D,GAC3Dh6D,EAAQk6D,aACR,OAAOl6D,EAAQ4L,GAAKnY,KAAKsnE,yBAAyBf,EAAQ52C,GAC9D,IACI,IAAIxX,EAAK,IAAIlP,OAAOs9D,EAAQ52C,EAChC,CACA,MAAOzmB,GACHiP,GAAK,CACT,CACA,OAAO5L,EAAQ4L,GAAKA,CACxB,EACA4tD,EAAO1kE,UAAUimE,yBAA2B,SAAUf,EAAQ52C,GAG1D,IAFA,IAAI3X,EAAQuuD,EAAO/jE,QAAQ,cAAe,QAAQL,MAAM,MACpDgW,EAAK,GACA1W,EAAI,EAAGA,EAAIuW,EAAMzX,OAAQkB,IAC9B,IACI0W,EAAGtW,KAAK,IAAIoH,OAAO+O,EAAMvW,GAAIkuB,GACjC,CACA,MAAOzmB,GACH,OAAO,CACX,CACJ,OAAOiP,CACX,EACA4tD,EAAO1kE,UAAU2kE,eAAiB,SAAU/oD,EAAS1Q,GACjD,IAAI4L,EAAKnY,KAAKwmE,gBAAgBj6D,GAC9B,IAAK4L,EACD,OAAO,EACX,IAAIovD,EAAiC,GAArBh7D,EAAQg7D,UACpBlB,EAAqC,GAAvB95D,EAAQ85D,YACtBh9D,EAAsB8O,EAAGoiC,QACzBn/B,EAAQ7O,EAAQ6O,MAChBJ,EAAQzO,EAAQyO,MACfA,IACDA,EAAQI,EAAQA,EAAMmsD,EAAY,MAAQ,SAAWtqD,EAAQ8L,UAAUgC,YACvE/P,EAAMA,QACNA,EAAQA,EAAMqrD,GAAekB,EAAY,MAAQ,UACrD,IAAI9qD,EAAWrB,EAAQA,EAAMJ,MAAMC,IAAM,EACrCyB,EAAUtB,EAAQA,EAAMlV,IAAI+U,IAAMgC,EAAQ0e,YAAc,EAC5D,GAAI4rC,EACA,IAAIxiE,EAAU,SAAU9D,GACpB,IAAIga,EAAMD,EAAMC,IAChB,IAAIusD,EAAcvsD,EAAKD,EAAME,OAAQja,GAArC,CAEA,IAAKga,IAAOA,GAAOwB,EAAUxB,IACzB,GAAIusD,EAAcvsD,EAAK6M,OAAOusB,UAAWpzC,GACrC,OACR,GAAoB,GAAhBsL,EAAQm5D,KAEZ,IAAKzqD,EAAMyB,EAASD,EAAWzB,EAAMC,IAAKA,GAAOwB,EAAUxB,IACvD,GAAIusD,EAAcvsD,EAAK6M,OAAOusB,UAAWpzC,GACrC,MARE,CASd,OAGI8D,EAAU,SAAU9D,GACpB,IAAIga,EAAMD,EAAMC,IAChB,IAAIusD,EAAcvsD,EAAKD,EAAME,OAAQja,GAArC,CAEA,IAAKga,GAAY,EAAGA,GAAOyB,EAASzB,IAChC,GAAIusD,EAAcvsD,EAAK,EAAGha,GACtB,OACR,GAAoB,GAAhBsL,EAAQm5D,KAEZ,IAAKzqD,EAAMwB,EAAUC,EAAU1B,EAAMC,IAAKA,GAAOyB,EAASzB,IACtD,GAAIusD,EAAcvsD,EAAK,EAAGha,GACtB,MARE,CASd,EAEJ,GAAIsL,EAAQk6D,aACR,IAAIjhE,EAAM2S,EAAG5X,OACTinE,EAAgB,SAAUvsD,EAAKhT,EAAQhH,GACvC,IAAI2Z,EAAW2sD,EAAYtsD,EAAMzV,EAAM,EAAIyV,EAC3C,KAAIL,EAAW,GAAKA,EAAWpV,EAAMyX,EAAQ0e,aAA7C,CAEA,IAAIvyB,EAAO6T,EAAQwN,QAAQ7P,GACvBi4C,EAAazpD,EAAKmuC,OAAOp/B,EAAG,IAChC,MAAKovD,GAAa1U,EAAa5qD,IAA0B,IAAhB4qD,GAAzC,CAEA,IAAK,IAAIpxD,EAAI,EAAGA,EAAI+D,EAAK/D,IAErB,IAA2B,IAD3B2H,EAAO6T,EAAQwN,QAAQ7P,EAAWnZ,IACzB81C,OAAOp/B,EAAG1W,IACf,OAER,IAAIqqB,EAAW1iB,EAAKsB,MAAMyN,EAAG3S,EAAM,IAAI,GAAGjF,OAC1C,KAAIgnE,GAAaz7C,EAAW7jB,GAE5B,QAAIhH,EAAS2Z,EAAUi4C,EAAYj4C,EAAWpV,EAAM,EAAGsmB,SAAvD,CATU,CAJA,CAed,OAEC,GAAIy7C,EACDC,EAAgB,SAAUvsD,EAAK6Q,EAAU7qB,GACzC,IAEIuZ,EAFApR,EAAO6T,EAAQwN,QAAQxP,GACvBjT,EAAU,GACPvB,EAAO,EAEd,IADA0R,EAAGlU,UAAY,EACPuW,EAAIrC,EAAGlO,KAAKb,IAAQ,CACxB,IAAI7I,EAASia,EAAE,GAAGja,OAElB,GADAkG,EAAO+T,EAAE5V,OACJrE,EAAQ,CACT,GAAIkG,GAAQ2C,EAAK7I,OACb,MACJ4X,EAAGlU,UAAYwC,GAAQwQ,EAAK9N,eAAeC,EAAM3C,EAAM4C,EAC3D,CACA,GAAImR,EAAE5V,MAAQrE,EAASurB,EACnB,MACJ9jB,EAAQnG,KAAK2Y,EAAE5V,MAAOrE,EAC1B,CACA,IAAK,IAAIkB,EAAIuG,EAAQzH,OAAS,EAAGkB,GAAK,EAAGA,GAAK,EAAG,CAC7C,IAAIyZ,EAASlT,EAAQvG,EAAI,GAEzB,GAAIR,EAASga,EAAKC,EAAQD,EAAKC,GAD3B3a,EAASyH,EAAQvG,KAEjB,OAAO,CACf,CACJ,OAGI+lE,EAAgB,SAAUvsD,EAAK43C,EAAY5xD,GAC3C,IACIwF,EACA+T,EAFApR,EAAO6T,EAAQwN,QAAQxP,GAI3B,IADA9C,EAAGlU,UAAY4uD,EACPr4C,EAAIrC,EAAGlO,KAAKb,IAAQ,CACxB,IAAI7I,EAASia,EAAE,GAAGja,OAElB,GAAIU,EAASga,EADbxU,EAAO+T,EAAE5V,MACeqW,EAAKxU,EAAOlG,GAChC,OAAO,EACX,IAAKA,IACD4X,EAAGlU,UAAYwC,GAAQwQ,EAAK9N,eAAeC,EAAM3C,EAAM4C,GACnD5C,GAAQ2C,EAAK7I,QACb,OAAO,CAEnB,CACJ,EAEJ,MAAO,CAAEwE,QAASA,EACtB,EACOghE,CACX,CAjR4B,GAsS5BtjE,EAAQsjE,OAASA,CAEjB,IAEA9iE,IAAI/C,OAAO,4BAA4B,CAAC,UAAU,UAAU,SAAS,eAAe,sBAAsB,SAAS0B,EAASa,EAAStC,GAAQ,aAC7I,IAAIq0B,EAAax0B,MAAQA,KAAKw0B,WAAe,WACzC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBrzB,OAAOwzB,gBAClB,CAAEC,UAAW,cAAgBxvB,OAAS,SAAUqvB,EAAGC,GAAKD,EAAEG,UAAYF,CAAG,GAC1E,SAAUD,EAAGC,GAAK,IAAK,IAAIjZ,KAAKiZ,EAAOvzB,OAAOC,UAAUsW,eAAepW,KAAKozB,EAAGjZ,KAAIgZ,EAAEhZ,GAAKiZ,EAAEjZ,GAAI,EAC7F+Y,EAAcC,EAAGC,EAC5B,EACA,OAAO,SAAUD,EAAGC,GAChB,GAAiB,oBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIjwB,UAAU,uBAAyBf,OAAOgxB,GAAK,iCAE7D,SAASG,IAAO90B,KAAKkS,YAAcwiB,CAAG,CADtCD,EAAcC,EAAGC,GAEjBD,EAAErzB,UAAkB,OAANszB,EAAavzB,OAAOqG,OAAOktB,IAAMG,EAAGzzB,UAAYszB,EAAEtzB,UAAW,IAAIyzB,EACnF,CACJ,CAd6C,GAcnCiU,EAAUnnC,EAAQ,eACxB+J,EAAY/J,EAAQ,oBACpB+b,EAAWorB,EAAQprB,SACnB8pD,EAAkC,WAClC,SAASA,EAAiB9tD,EAAQzP,GAC9BlK,KAAKy1B,MAAM9b,EAAQzP,GAAU,EACjC,CA4KA,OA3KAu9D,EAAiBpmE,UAAUo0B,MAAQ,SAAU9b,EAAQzP,EAAUw9D,GAC3D1nE,KAAKkK,SAAWA,IAAayB,EAAU/B,MAAQ,MAAQ,OACvD5J,KAAKiwB,SAAW,CAAC,EACjBjwB,KAAK2nE,kBAAoB,CAAC,EAC1B3nE,KAAK4nE,YAAYjuD,GACjB3Z,KAAK0nE,eAAiBA,CAC1B,EACAD,EAAiBpmE,UAAUwmE,WAAa,SAAU19C,GAC1CnqB,KAAKiwB,SAAS9F,EAAQ/mB,OACtBpD,KAAK8nE,cAAc39C,GACvBnqB,KAAKiwB,SAAS9F,EAAQ/mB,MAAQ+mB,EAC1BA,EAAQ49C,SACR/nE,KAAKgoE,cAAc79C,EAC3B,EACAs9C,EAAiBpmE,UAAUymE,cAAgB,SAAU39C,EAAS89C,GAC1D,IAAI7kE,EAAO+mB,IAA+B,kBAAZA,EAAuBA,EAAUA,EAAQ/mB,MACvE+mB,EAAUnqB,KAAKiwB,SAAS7sB,GACnB6kE,UACMjoE,KAAKiwB,SAAS7sB,GACzB,IAAI8kE,EAAMloE,KAAK2nE,kBACf,IAAK,IAAIQ,KAASD,EAAK,CACnB,IAAIE,EAAWF,EAAIC,GACnB,GAAIC,GAAYj+C,SACL+9C,EAAIC,QAEV,GAAI9iE,MAAMmB,QAAQ4hE,GAAW,CAC9B,IAAI3mE,EAAI2mE,EAASnmE,QAAQkoB,IACf,GAAN1oB,IACA2mE,EAASzgE,OAAOlG,EAAG,GACI,GAAnB2mE,EAAS7nE,SACT2nE,EAAIC,GAASC,EAAS,IAElC,CACJ,CACJ,EACAX,EAAiBpmE,UAAU0mE,QAAU,SAAU/iE,EAAKmlB,EAAShtB,GAMzD,GALkB,iBAAP6H,GAAmBA,SACV7D,GAAZhE,IACAA,EAAW6H,EAAI7H,UACnB6H,EAAMA,EAAIhF,KAAKkK,WAEdlF,EAEL,MAAsB,mBAAXmlB,EACAnqB,KAAK6nE,WAAW,CAAE59D,KAAMkgB,EAAS49C,QAAS/iE,EAAK5B,KAAM+mB,EAAQ/mB,MAAQ,SAA8B4B,EAAK7C,MAAM,KAAK4C,SAAQ,SAAUsjE,GAC5I,IAAIC,EAAQ,GACZ,IAA6B,GAAzBD,EAAQpmE,QAAQ,KAAY,CAC5B,IAAI+V,EAAQqwD,EAAQlmE,MAAM,OAC1BkmE,EAAUrwD,EAAMhE,MAChBgE,EAAMjT,SAAQ,SAAUsjE,GACpB,IAAIE,EAAUvoE,KAAKwoE,UAAUH,GACzB1lE,EAAKgb,EAAS4qD,EAAQ9jD,QAAU8jD,EAAQvjE,IAC5CsjE,IAAUA,EAAQ,IAAM,IAAM3lE,EAC9B3C,KAAKyoE,qBAAqBH,EAAO,YACrC,GAAGtoE,MACHsoE,GAAS,GACb,CACA,IAAIC,EAAUvoE,KAAKwoE,UAAUH,GACzB1lE,EAAKgb,EAAS4qD,EAAQ9jD,QAAU8jD,EAAQvjE,IAC5ChF,KAAKyoE,qBAAqBH,EAAQ3lE,EAAIwnB,EAAShtB,EACnD,GAAG6C,KACP,EACAynE,EAAiBpmE,UAAUonE,qBAAuB,SAAUN,EAAOh+C,EAAShtB,GACxE,IAAkCsE,EAA9BymE,EAAMloE,KAAK2nE,kBACf,GAAKx9C,EAGA,IAAK+9C,EAAIC,IAAUnoE,KAAK0nE,eACzBQ,EAAIC,GAASh+C,MAEZ,CACI9kB,MAAMmB,QAAQ0hE,EAAIC,KAGwB,IAArC1mE,EAAIymE,EAAIC,GAAOlmE,QAAQkoB,KAC7B+9C,EAAIC,GAAOxgE,OAAOlG,EAAG,GAHrBymE,EAAIC,GAAS,CAACD,EAAIC,IAKC,iBAAZhrE,IACPA,EAAW42C,EAAY5pB,IAE3B,IAAI8F,EAAWi4C,EAAIC,GACnB,IAAK1mE,EAAI,EAAGA,EAAIwuB,EAAS1vB,OAAQkB,IAAK,CAGlC,GADesyC,EADH9jB,EAASxuB,IAENtE,EACX,KACR,CACA8yB,EAAStoB,OAAOlG,EAAG,EAAG0oB,EAC1B,aAvBW+9C,EAAIC,EAwBnB,EACAV,EAAiBpmE,UAAUumE,YAAc,SAAU33C,GAC/CA,GAAY7uB,OAAO0D,KAAKmrB,GAAUlrB,SAAQ,SAAU3B,GAChD,IAAI+mB,EAAU8F,EAAS7sB,GACvB,GAAK+mB,EAAL,CAEA,GAAuB,kBAAZA,EACP,OAAOnqB,KAAK+nE,QAAQ59C,EAAS/mB,GACV,oBAAZ+mB,IACPA,EAAU,CAAElgB,KAAMkgB,IACC,kBAAZA,IAENA,EAAQ/mB,OACT+mB,EAAQ/mB,KAAOA,GACnBpD,KAAK6nE,WAAW19C,GATN,CAUd,GAAGnqB,KACP,EACAynE,EAAiBpmE,UAAUqnE,eAAiB,SAAUz4C,GAClD7uB,OAAO0D,KAAKmrB,GAAUlrB,SAAQ,SAAU3B,GACpCpD,KAAK8nE,cAAc73C,EAAS7sB,GAChC,GAAGpD,KACP,EACAynE,EAAiBpmE,UAAUsnE,SAAW,SAAUC,GAC5CxnE,OAAO0D,KAAK8jE,GAAS7jE,SAAQ,SAAUC,GACnChF,KAAK+nE,QAAQ/iE,EAAK4jE,EAAQ5jE,GAC9B,GAAGhF,KACP,EACAynE,EAAiBpmE,UAAU2mE,cAAgB,SAAU79C,GACjDnqB,KAAK+nE,QAAQ59C,EAAQ49C,QAAS59C,EAClC,EACAs9C,EAAiBpmE,UAAUmnE,UAAY,SAAU1jE,GAC7C,IAAIkT,EAAQlT,EAAKqF,cAAchI,MAAM,mBAAmBkT,QAAO,SAAU2L,GAAK,OAAOA,CAAG,IACpFhc,EAAMgT,EAAMhE,MACZkN,EAAU6nB,EAAQ/jC,GACtB,GAAI+jC,EAAQnrB,cAAcsD,GACtBlc,EAAM+jC,EAAQnrB,cAAcsD,GAAS/W,kBACpC,KAAK6N,EAAMzX,OACZ,MAAO,CAAEyE,IAAKA,EAAKyf,QAAS,GAC3B,GAAoB,GAAhBzM,EAAMzX,QAA2B,SAAZyX,EAAM,GAChC,MAAO,CAAEhT,IAAKA,EAAI0V,cAAe+J,QAAS,EAAG,CAEjD,IADA,IAAIA,EAAS,EACJhjB,EAAIuW,EAAMzX,OAAQkB,KAAM,CAC7B,IAAIkuB,EAAWoZ,EAAQprB,SAAS3F,EAAMvW,IACtC,GAAgB,MAAZkuB,EAGA,MAFsB,oBAAX/uB,SACPA,QAAQC,MAAM,oBAAsBmX,EAAMvW,GAAK,OAASqD,IACrD,EAEX2f,GAAUkL,CACd,CACA,MAAO,CAAE3qB,IAAKA,EAAKyf,OAAQA,EAC/B,EACAgjD,EAAiBpmE,UAAU6uB,eAAiB,SAAUzL,EAAQtD,GAC1D,IAAInc,EAAM2Y,EAAS8G,GAAUtD,EAC7B,OAAOnhB,KAAK2nE,kBAAkB3iE,EAClC,EACAyiE,EAAiBpmE,UAAUooC,eAAiB,SAAUj1B,EAAMiQ,EAAQtD,EAAWD,GAC3E,KAAIA,EAAU,GAAd,CAEA,IAAIlc,EAAM2Y,EAAS8G,GAAUtD,EACzBgJ,EAAUnqB,KAAK2nE,kBAAkB3iE,GAKrC,OAJIwP,EAAKq0D,YACLr0D,EAAKq0D,WAAa,IAAM7jE,EACxBmlB,EAAUnqB,KAAK2nE,kBAAkBnzD,EAAKq0D,YAAc1+C,IAEpDA,GACe,aAAXA,GAAyD,aAA/BA,EAAQA,EAAQ5pB,OAAS,IAKvDiU,EAAKq0D,YACCpkD,GAAoB,GAAVA,GAAoC,GAApBtD,EAAU5gB,SAEtB,GAAXkkB,GAAgBvD,EAAU,KAC/B1M,EAAKq0D,UAAY,IAFjBr0D,EAAKq0D,UAAYr0D,EAAKq0D,UAAUxmE,MAAM,GAAI2C,EAAIzE,OAAS,IAIxD,CAAE4pB,QAASA,KAVV3V,EAAKq0D,UAAYr0D,EAAKq0D,WAAa7jE,EAC5B,CAAEmlB,QAAS,QAVhB,CAoBd,EACAs9C,EAAiBpmE,UAAUwoC,cAAgB,SAAUnZ,EAAQlc,GACzD,OAAOA,EAAKq0D,WAAa,EAC7B,EACOpB,CACX,CAhLsC,GAiLtC,SAAS1zB,EAAY5pB,GACjB,MAAyB,iBAAXA,GAAuBA,EAAQ49C,SACtC59C,EAAQ49C,QAAQ5qE,WACfgtB,EAAQ2+C,WAAa,IAAM,EACvC,CACA,IAAIC,EAA6B,SAAU5wC,GAEvC,SAAS4wC,EAAYpvD,EAAQzP,GACzB,IAAIkuB,EAAQD,EAAO52B,KAAKvB,KAAM2Z,EAAQzP,IAAalK,KAEnD,OADAo4B,EAAMsvC,gBAAiB,EAChBtvC,CACX,CACA,OANA5D,EAAUu0C,EAAa5wC,GAMhB4wC,CACX,CARiC,CAQ/BtB,GACFsB,EAAYxnE,KAAO,SAAUkE,EAASkU,EAAQzP,GAC1Cu9D,EAAiBpmE,UAAUo0B,MAAMl0B,KAAKkE,EAASkU,EAAQzP,GAAU,EACrE,EACAu9D,EAAiBlmE,KAAO,SAAUkE,EAASkU,EAAQzP,GAC/Cu9D,EAAiBpmE,UAAUo0B,MAAMl0B,KAAKkE,EAASkU,EAAQzP,GAAU,EACrE,EACAzH,EAAQsmE,YAAcA,EACtBtmE,EAAQglE,iBAAmBA,CAE3B,IAEAxkE,IAAI/C,OAAO,+BAA+B,CAAC,UAAU,UAAU,SAAS,cAAc,4BAA4B,0BAA0B,SAAS0B,EAASa,EAAStC,GAAQ,aAC/K,IAAIq0B,EAAax0B,MAAQA,KAAKw0B,WAAe,WACzC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBrzB,OAAOwzB,gBAClB,CAAEC,UAAW,cAAgBxvB,OAAS,SAAUqvB,EAAGC,GAAKD,EAAEG,UAAYF,CAAG,GAC1E,SAAUD,EAAGC,GAAK,IAAK,IAAIjZ,KAAKiZ,EAAOvzB,OAAOC,UAAUsW,eAAepW,KAAKozB,EAAGjZ,KAAIgZ,EAAEhZ,GAAKiZ,EAAEjZ,GAAI,EAC7F+Y,EAAcC,EAAGC,EAC5B,EACA,OAAO,SAAUD,EAAGC,GAChB,GAAiB,oBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIjwB,UAAU,uBAAyBf,OAAOgxB,GAAK,iCAE7D,SAASG,IAAO90B,KAAKkS,YAAcwiB,CAAG,CADtCD,EAAcC,EAAGC,GAEjBD,EAAErzB,UAAkB,OAANszB,EAAavzB,OAAOqG,OAAOktB,IAAMG,EAAGzzB,UAAYszB,EAAEtzB,UAAW,IAAIyzB,EACnF,CACJ,CAd6C,GAezCjgB,EAAMjT,EAAQ,cACd6lE,EAAmB7lE,EAAQ,4BAA4B6lE,iBACvDn1D,EAAe1Q,EAAQ,wBAAwB0Q,aAC/C02D,EAAgC,SAAU7wC,GAE1C,SAAS6wC,EAAe9+D,EAAU+lB,GAC9B,IAAImI,EAAQD,EAAO52B,KAAKvB,KAAMiwB,EAAU/lB,IAAalK,KAQrD,OAPAo4B,EAAM6wC,OAAS7wC,EAAMnI,SACrBmI,EAAM1kB,kBAAkB,QAAQ,SAAUxK,GACtC,OAAKA,EAAE+gC,KAGA/gC,EAAEihB,QAAQlgB,KAAKf,EAAEwnB,OAAQxnB,EAAE+gC,KAAM/gC,EAAEkd,OAAO,GAFtCld,EAAEihB,QAAQlgB,KAAKf,EAAEwnB,OAAQ,CAAC,EAAGxnB,EAAEkd,OAAO,EAGrD,IACOgS,CACX,CA8EA,OAzFA5D,EAAUw0C,EAAgB7wC,GAY1B6wC,EAAe3nE,UAAU4I,KAAO,SAAUkgB,EAASuG,EAAQuZ,GACvD,GAAI5kC,MAAMmB,QAAQ2jB,GAAU,CACxB,IAAK,IAAI1oB,EAAI0oB,EAAQ5pB,OAAQkB,KACzB,GAAIzB,KAAKiK,KAAKkgB,EAAQ1oB,GAAIivB,EAAQuZ,GAC9B,OAAO,EAEf,OAAO,CACX,CAGA,GAFuB,kBAAZ9f,IACPA,EAAUnqB,KAAKiwB,SAAS9F,KACvBnqB,KAAKokC,WAAWja,EAASuG,GAC1B,OAAO,EAEX,IAAIxnB,EAAI,CAAEwnB,OAAQA,EAAQvG,QAASA,EAAS8f,KAAMA,GAGlD,OAFA/gC,EAAEggE,YAAclpE,KAAK2S,MAAM,OAAQzJ,GACnClJ,KAAKmT,QAAQ,YAAajK,IACD,IAAlBA,EAAEggE,WACb,EACAF,EAAe3nE,UAAU+iC,WAAa,SAAUja,EAASuG,GAGrD,MAFuB,kBAAZvG,IACPA,EAAUnqB,KAAKiwB,SAAS9F,MACvBA,MAEDuG,GAAUA,EAAOtD,YAAcjD,EAAQmE,aAEZ,GAA3BtuB,KAAKmpE,oBAA+Bh/C,EAAQi/C,cAAgBj/C,EAAQi/C,YAAY14C,IAGxF,EACAs4C,EAAe3nE,UAAUgoE,gBAAkB,SAAU34C,GACjD,IAAI1wB,KAAKspE,UAGT,OADA54C,GAAUA,EAAO/d,MAAM,gBACnB3S,KAAKupE,WACLvpE,KAAKwpE,MAAMx1D,MACXhU,KAAKuT,IAAI,OAAQvT,KAAKypE,oBACjBzpE,KAAKwpE,MAAMjpE,SACZP,KAAKwpE,MAAQxpE,KAAK0pE,UACf1pE,KAAKupE,WAAY,IAEvBvpE,KAAKypE,qBACNzpE,KAAKypE,mBAAqB,SAAUvgE,GAChClJ,KAAKwpE,MAAM3nE,KAAK,CAACqH,EAAEihB,QAASjhB,EAAE+gC,MAClC,EAAEpkB,KAAK7lB,OAEXA,KAAK0pE,SAAW1pE,KAAKwpE,MACrBxpE,KAAKwpE,MAAQ,GACbxpE,KAAKqT,GAAG,OAAQrT,KAAKypE,oBACdzpE,KAAKupE,WAAY,EAC5B,EACAP,EAAe3nE,UAAUsoE,OAAS,SAAUj5C,GACxC,IAAI1wB,KAAKspE,WAActpE,KAAKwpE,MAA5B,CAEA,GAAIxpE,KAAKupE,UACL,OAAOvpE,KAAKqpE,gBAAgB34C,GAChC,IACI1wB,KAAKspE,WAAY,EACjBtpE,KAAKwpE,MAAMzkE,SAAQ,SAAUic,GACT,iBAALA,EACPhhB,KAAKiK,KAAK+W,EAAG0P,GAEb1wB,KAAKiK,KAAK+W,EAAE,GAAI0P,EAAQ1P,EAAE,GAClC,GAAGhhB,KACP,CAAC,QAEGA,KAAKspE,WAAY,CACrB,CAdU,CAed,EACAN,EAAe3nE,UAAUuoE,UAAY,SAAUpvD,GAC3C,OAAOA,EAAErV,KAAI,SAAU6b,GAKnB,MAJmB,iBAARA,EAAE,KACTA,EAAE,GAAKA,EAAE,GAAG5d,MACX4d,EAAE,KACHA,EAAIA,EAAE,IACHA,CACX,GACJ,EACOgoD,CACX,CA3FoC,CA2FlCvB,GACF5yD,EAAIzC,UAAU42D,EAAe3nE,UAAWiR,GACxC7P,EAAQumE,eAAiBA,CAEzB,IAEA/lE,IAAI/C,OAAO,gCAAgC,CAAC,UAAU,UAAU,SAAS,eAAe,aAAa,cAAc,SAAS0B,EAASa,EAAStC,GAAQ,aACtJ,IAAI8W,EAAOrV,EAAQ,eACf+X,EAAS/X,EAAQ,aACjB+Y,EAAQ/Y,EAAQ,YAAY+Y,MAChC,SAASotD,EAAQ5iD,EAAK0kD,GAClB,MAAO,CAAE1kD,IAAKA,EAAK0kD,IAAKA,EAC5B,CACApnE,EAAQwtB,SAAW,CAAC,CACZ7sB,KAAM,mBACN0mE,YAAa,qBACb/B,QAASA,EAAQ,SAAU,aAC3B99D,KAAM,SAAUymB,GACZ/W,EAAOf,WAAW,yBAAyB,SAAUzY,GACjDA,EAAOyZ,KAAK8W,GACZA,EAAOq5C,kBACX,GACJ,EACAz7C,UAAU,GACX,CACClrB,KAAM,gBACN0mE,YAAa,mBACb/B,QAASA,EAAQ,QAAS,MAC1B99D,KAAM,SAAUymB,GACZ/W,EAAOf,WAAW,wBAAwB,SAAUzY,GAChDA,EAAO6pE,gBAAgBt5C,EAAQ,EACnC,GACJ,EACAu5C,eAAgB,UAChB37C,UAAU,GACX,CACClrB,KAAM,oBACN0mE,YAAa,uBACb/B,QAASA,EAAQ,cAAe,YAChC99D,KAAM,SAAUymB,GACZ/W,EAAOf,WAAW,wBAAwB,SAAUzY,GAChDA,EAAO6pE,gBAAgBt5C,GAAS,EACpC,GACJ,EACAu5C,eAAgB,UAChB37C,UAAU,GACX,CACClrB,KAAM,YACN0mE,YAAa,aACb/B,QAASA,EAAQ,SAAU,aAC3B99D,KAAM,SAAUymB,GAAUA,EAAOvD,WAAa,EAC9CmB,UAAU,GACX,CACClrB,KAAM,kBACN0mE,YAAa,mBACb/B,QAASA,EAAQ,KAAM,UACvB99D,KAAM,SAAUymB,GAAUA,EAAOw5C,iBAAmB,EACpD57C,UAAU,GACX,CACClrB,KAAM,WACN0mE,YAAa,gBACb/B,QAASA,EAAQ,SAAU,aAC3B99D,KAAM,SAAUymB,EAAQtnB,GACA,kBAATA,GAAsBk2D,MAAMl2D,IACnCsnB,EAAOy5C,SAAS/gE,GACpBsnB,EAAO05C,OAAO,CAAEC,MAAO,YAC3B,EACA/7C,UAAU,GACX,CACClrB,KAAM,OACN2kE,QAASA,EAAQ,gBAAiB,4BAClC99D,KAAM,SAAUymB,GAAUA,EAAOzT,QAAQs5C,YAAW,EAAQ,EAC5D+T,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,SACN2kE,QAASA,EAAQ,4BAA6B,wCAC9C99D,KAAM,SAAUymB,GAAUA,EAAOzT,QAAQs5C,YAAW,EAAO,EAC3D+T,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,mBACN0mE,YAAa,qBACb/B,QAASA,EAAQ,KAAM,MACvB99D,KAAM,SAAUymB,GAAUA,EAAOzT,QAAQ86C,kBAAoB,EAC7DuS,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,yBACN0mE,YAAa,4BACb/B,QAASA,EAAQ,SAAU,UAC3B99D,KAAM,SAAUymB,GAAUA,EAAOzT,QAAQ86C,kBAAiB,EAAO,EACjEuS,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,UACN0mE,YAAa,WACb/B,QAASA,EAAQ,KAAM,yBACvB99D,KAAM,SAAUymB,GAAUA,EAAOzT,QAAQw4C,SAAW,EACpDwU,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,kBACN0mE,YAAa,oBACb/B,QAASA,EAAQ,KAAM,yBACvB99D,KAAM,SAAUymB,GAAUA,EAAOzT,QAAQ+5C,iBAAmB,EAC5DiT,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,YACN0mE,YAAa,aACb/B,QAASA,EAAQ,QAAS,oBAC1B99D,KAAM,SAAUymB,GACZA,EAAOzT,QAAQw4C,UACf/kC,EAAOzT,QAAQ04C,OAAOjlC,EAAO3H,UAAUwhD,eAC3C,EACAN,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,YACN0mE,YAAa,aACb/B,QAASA,EAAQ,cAAe,0BAChC99D,KAAM,SAAUymB,GAAUA,EAAOzT,QAAQ04C,QAAU,EACnDsU,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,WACN0mE,YAAa,YACb/B,QAASA,EAAQ,SAAU,aAC3B99D,KAAM,SAAUymB,GAAUA,EAAO85C,UAAY,EAC7CF,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,eACN0mE,YAAa,gBACb/B,QAASA,EAAQ,eAAgB,mBACjC99D,KAAM,SAAUymB,GAAUA,EAAO+5C,cAAgB,EACjDH,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,mBACN0mE,YAAa,sBACb/B,QAASA,EAAQ,QAAS,UAC1B99D,KAAM,SAAUymB,GACRA,EAAO3H,UAAUlM,UACjB6T,EAAO3H,UAAUyc,aAEjB9U,EAAO85C,UACf,EACAl8C,UAAU,GACX,CACClrB,KAAM,uBACN0mE,YAAa,0BACb/B,QAASA,EAAQ,cAAe,gBAChC99D,KAAM,SAAUymB,GACRA,EAAO3H,UAAUlM,UACjB6T,EAAO3H,UAAUyc,aAEjB9U,EAAO+5C,cACf,EACAn8C,UAAU,GACX,CACClrB,KAAM,OACN0mE,YAAa,OACb/B,QAASA,EAAQ,SAAU,aAC3B99D,KAAM,SAAUymB,GACZ/W,EAAOf,WAAW,qBAAqB,SAAU1P,GAAKA,EAAE68D,OAAOr1C,EAAS,GAC5E,EACApC,UAAU,GACX,CACClrB,KAAM,YACN0mE,YAAa,YACb/B,QAAS,SACT99D,KAAM,SAAUymB,GAAUA,EAAOysC,iBAAmB,EACpD7uC,UAAU,GACX,CACClrB,KAAM,gBACN0mE,YAAa,kBACb/B,QAASA,EAAQ,kBAAmB,uCACpC99D,KAAM,SAAUymB,GAAUA,EAAOq9B,eAAejY,iBAAmB,EACnEw0B,kBAAmB,UACnBh8C,UAAU,EACV27C,eAAgB,UAChBS,gBAAiB,YAClB,CACCtnE,KAAM,YACN0mE,YAAa,cACb/B,QAASA,EAAQ,YAAa,2BAC9B99D,KAAM,SAAUymB,GAAUA,EAAOi6C,mBAAqB,EACtDL,kBAAmB,UACnBh8C,UAAU,EACV27C,eAAgB,UAChBS,gBAAiB,YAClB,CACCtnE,KAAM,WACN0mE,YAAa,YACb/B,QAASA,EAAQ,WAAY,yBAC7B99D,KAAM,SAAUymB,GAAUA,EAAOq9B,eAAe/Y,UAAY,EAC5Ds1B,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,WACN0mE,YAAa,aACb/B,QAASA,EAAQ,KAAM,aACvB99D,KAAM,SAAUymB,EAAQuZ,GAAQvZ,EAAOk6C,WAAW3gC,EAAK4gC,MAAQ,EAC/DP,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,cACN0mE,YAAa,gBACb/B,QAASA,EAAQ,iBAAkB,wCACnC99D,KAAM,SAAUymB,GAAUA,EAAOq9B,eAAenY,eAAiB,EACjE00B,kBAAmB,UACnBh8C,UAAU,EACV27C,eAAgB,UAChBS,gBAAiB,YAClB,CACCtnE,KAAM,UACN0mE,YAAa,YACb/B,QAASA,EAAQ,WAAY,4BAC7B99D,KAAM,SAAUymB,GAAUA,EAAOo6C,iBAAmB,EACpDR,kBAAmB,UACnBh8C,UAAU,EACV27C,eAAgB,UAChBS,gBAAiB,YAClB,CACCtnE,KAAM,aACN0mE,YAAa,cACb/B,QAASA,EAAQ,aAAc,2BAC/B99D,KAAM,SAAUymB,GAAUA,EAAOq9B,eAAe7Y,YAAc,EAC9Do1B,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,aACN0mE,YAAa,eACb/B,QAASA,EAAQ,OAAQ,eACzB99D,KAAM,SAAUymB,EAAQuZ,GAAQvZ,EAAOq6C,aAAa9gC,EAAK4gC,MAAQ,EACjEP,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,iBACN0mE,YAAa,mBACb/B,QAASA,EAAQ,kBAAmB,qBACpC99D,KAAM,SAAUymB,GAAUA,EAAOq9B,eAAe7X,gBAAkB,EAClEo0B,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,eACN0mE,YAAa,kBACb/B,QAASA,EAAQ,YAAa,eAC9B99D,KAAM,SAAUymB,GAAUA,EAAOs6C,kBAAoB,EACrDV,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,oBACN0mE,YAAa,uBACb/B,QAASA,EAAQ,iBAAkB,mCACnC99D,KAAM,SAAUymB,GAAUA,EAAOq9B,eAAevY,iBAAmB,EACnE80B,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,gBACN0mE,YAAa,mBACb/B,QAASA,EAAQ,gBAAiB,4BAClC99D,KAAM,SAAUymB,GAAUA,EAAOu6C,mBAAqB,EACtDX,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,aACN0mE,YAAa,cACb/B,QAASA,EAAQ,aAAc,2BAC/B99D,KAAM,SAAUymB,GAAUA,EAAOq9B,eAAezY,YAAc,EAC9Dg1B,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,WACN0mE,YAAa,aACb/B,QAASA,EAAQ,OAAQ,eACzB99D,KAAM,SAAUymB,EAAQuZ,GAAQvZ,EAAOw6C,aAAajhC,EAAK4gC,MAAQ,EACjEP,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,kBACN0mE,YAAa,oBACb/B,QAASA,EAAQ,mBAAoB,sBACrC99D,KAAM,SAAUymB,GAAUA,EAAOq9B,eAAe/X,iBAAmB,EACnEs0B,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,gBACN0mE,YAAa,mBACb/B,QAASA,EAAQ,aAAc,gBAC/B99D,KAAM,SAAUymB,GAAUA,EAAOy6C,mBAAqB,EACtDb,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,kBACN0mE,YAAa,qBACb/B,QAASA,EAAQ,kBAAmB,8CACpC99D,KAAM,SAAUymB,GAAUA,EAAOq9B,eAAerY,eAAiB,EACjE40B,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,cACN0mE,YAAa,iBACb/B,QAASA,EAAQ,gBAAiB,4BAClC99D,KAAM,SAAUymB,GAAUA,EAAO06C,iBAAmB,EACpDd,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,cACN0mE,YAAa,eACb/B,QAASA,EAAQ,cAAe,eAChC99D,KAAM,SAAUymB,GAAUA,EAAOq9B,eAAe3Y,aAAe,EAC/Dk1B,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,YACN0mE,YAAa,cACb/B,QAASA,EAAQ,QAAS,gBAC1B99D,KAAM,SAAUymB,EAAQuZ,GAAQvZ,EAAO26C,cAAcphC,EAAK4gC,MAAQ,EAClEP,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,iBACN0mE,YAAa,mBACb/B,QAAS,iBACT99D,KAAM,SAAUymB,GAAUA,EAAO46C,gBAAkB,EACnDh9C,UAAU,GACX,CACClrB,KAAM,WACN0mE,YAAa,YACb/B,QAASA,EAAQ,KAAM,mBACvB99D,KAAM,SAAUymB,GAAUA,EAAO66C,gBAAkB,EACnDj9C,UAAU,GACX,CACClrB,KAAM,eACN0mE,YAAa,kBACb/B,QAASA,EAAQ,WAAY,mBAC7B99D,KAAM,SAAUymB,GAAUA,EAAO86C,cAAgB,EACjDl9C,UAAU,GACX,CACClrB,KAAM,eACN0mE,YAAa,iBACb/B,QAAS,eACT99D,KAAM,SAAUymB,GAAUA,EAAO+6C,cAAgB,EACjDn9C,UAAU,GACX,CACClrB,KAAM,SACN0mE,YAAa,UACb/B,QAASA,EAAQ,KAAM,iBACvB99D,KAAM,SAAUymB,GAAUA,EAAOg7C,cAAgB,EACjDp9C,UAAU,GACX,CACClrB,KAAM,aACN0mE,YAAa,gBACb/B,QAAS,SACT99D,KAAM,SAAUymB,GAAUA,EAAOi7C,YAAc,EAC/Cr9C,UAAU,GACX,CACClrB,KAAM,WACN0mE,YAAa,YACb/B,QAASA,EAAQ,UAAW,MAC5B99D,KAAM,SAAUf,GAAKA,EAAEqgB,SAASyK,SAAS,GAAI,EAAI9qB,EAAEqgB,SAASoW,YAAYtF,WAAa,EACrF/L,UAAU,GACX,CACClrB,KAAM,aACN0mE,YAAa,cACb/B,QAASA,EAAQ,YAAa,MAC9B99D,KAAM,SAAUf,GAAKA,EAAEqgB,SAASyK,SAAS,EAAG,EAAI9qB,EAAEqgB,SAASoW,YAAYtF,WAAa,EACpF/L,UAAU,GACX,CACClrB,KAAM,kBACN0mE,YAAa,oBACb/B,QAAS,aACT99D,KAAM,SAAUymB,GAAUA,EAAOq9B,eAAevY,iBAAmB,EACnE80B,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,gBACN0mE,YAAa,kBACb/B,QAAS,YACT99D,KAAM,SAAUymB,GAAUA,EAAOq9B,eAAerY,eAAiB,EACjE40B,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,kBACN0mE,YAAa,mBACb/B,QAASA,EAAQ,aAAc,oBAC/B99D,KAAM,SAAUymB,GAAUA,EAAOT,SAASo5C,gBAAgB34C,EAAS,EACnEpC,UAAU,GACX,CACClrB,KAAM,cACN0mE,YAAa,eACb/B,QAASA,EAAQ,eAAgB,mBACjC99D,KAAM,SAAUymB,GAAUA,EAAOT,SAAS05C,OAAOj5C,EAAS,EAC1DpC,UAAU,GACX,CACClrB,KAAM,iBACN0mE,YAAa,mBACb/B,QAASA,EAAQ,iBAAkB,cACnC99D,KAAM,SAAUymB,GAAUA,EAAOk7C,gBAAkB,EACnDtB,kBAAmB,UACnBL,eAAgB,UAChB37C,UAAU,GACX,CACClrB,KAAM,mBACN0mE,YAAa,qBACb/B,QAASA,EAAQ,6BAA8B,oBAC/C99D,KAAM,SAAUymB,GAAUA,EAAOk7C,gBAAe,EAAO,EACvDtB,kBAAmB,UACnBL,eAAgB,UAChB37C,UAAU,GACX,CACClrB,KAAM,mBACN0mE,YAAa,qBACb/B,QAASA,EAAQ,eAAgB,gBACjC99D,KAAM,SAAUymB,GAAUA,EAAOk7C,gBAAe,GAAM,EAAO,EAC7DtB,kBAAmB,UACnBL,eAAgB,UAChB37C,UAAU,GACX,CACClrB,KAAM,oBACN0mE,YAAa,uBACb/B,QAASA,EAAQ,KAAM,MACvB99D,KAAM,WAAc,EACpB4hE,WAAW,EACXv9C,UAAU,GACX,CACClrB,KAAM,OACN0mE,YAAa,OACb7/D,KAAM,SAAUymB,GAChB,EACApC,UAAU,GAEd,CACIlrB,KAAM,MACN0mE,YAAa,MACb7/D,KAAM,SAAUymB,GACZ,IACItV,EADUsV,EAAOo7C,yBAA2Bp7C,EAAO3H,UAAUlM,UAC3C6T,EAAO3H,UAAUqK,eAAiB1C,EAAO3H,UAAUgC,WACzE2F,EAAO/d,MAAM,MAAOyI,GACfA,EAAMyB,WACP6T,EAAOzT,QAAQzO,OAAO4M,GAC1BsV,EAAO6P,gBACX,EACA0pC,eAAgB,SAChBK,kBAAmB,WACpB,CACClnE,KAAM,QACN0mE,YAAa,QACb7/D,KAAM,SAAUymB,EAAQuZ,GACpBvZ,EAAOq7C,aAAa9hC,EACxB,EACAggC,eAAgB,UACjB,CACC7mE,KAAM,aACN0mE,YAAa,cACb/B,QAASA,EAAQ,SAAU,aAC3B99D,KAAM,SAAUymB,GAAUA,EAAO84B,aAAe,EAChDygB,eAAgB,SAChBK,kBAAmB,eACpB,CACClnE,KAAM,qBACN0mE,YAAa,sBACb/B,QAASA,EAAQ,eAAgB,mBACjC99D,KAAM,SAAUymB,GAAUA,EAAOs7C,oBAAsB,EACvD/B,eAAgB,SAChBK,kBAAmB,WACpB,CACClnE,KAAM,YACN0mE,YAAa,aACb/B,QAASA,EAAQ,aAAc,iBAC/B99D,KAAM,SAAUymB,GAAUA,EAAOu7C,WAAa,EAC9ChC,eAAgB,YAChBK,kBAAmB,eACpB,CACClnE,KAAM,gBACN0mE,YAAa,iBACb/B,QAASA,EAAQ,SAAU,aAC3B99D,KAAM,SAAUymB,GAAUA,EAAOmzB,oBAAsB,EACvDymB,kBAAmB,cACnBL,eAAgB,iBACjB,CACC7mE,KAAM,qBACN0mE,YAAa,uBACb/B,QAASA,EAAQ,eAAgB,mBACjC99D,KAAM,SAAUymB,GAAUA,EAAO00B,oBAAsB,EACvDklB,kBAAmB,UACnBL,eAAgB,iBACjB,CACC7mE,KAAM,iBACN0mE,YAAa,mBACb/B,QAASA,EAAQ,gBAAiB,gBAClC99D,KAAM,SAAUymB,GAAUA,EAAOw7C,aAAa,EAAI,EAClDjC,eAAgB,SAChBK,kBAAmB,WACpB,CACClnE,KAAM,mBACN0mE,YAAa,qBACb/B,QAASA,EAAQ,kBAAmB,kBACpC99D,KAAM,SAAUymB,GAAUA,EAAOw7C,cAAc,EAAI,EACnDjC,eAAgB,SAChBK,kBAAmB,WACpB,CACClnE,KAAM,UACN0mE,YAAa,UACb/B,QAASA,EAAQ,SAAU,oBAC3B99D,KAAM,SAAUymB,GACZ/W,EAAOf,WAAW,qBAAqB,SAAU1P,GAAKA,EAAE68D,OAAOr1C,GAAQ,EAAO,GAClF,GACD,CACCttB,KAAM,OACN0mE,YAAa,OACb/B,QAASA,EAAQ,SAAU,aAC3B99D,KAAM,SAAUymB,GAAUA,EAAO09B,MAAQ,GAC1C,CACChrD,KAAM,OACN0mE,YAAa,OACb/B,QAASA,EAAQ,sBAAuB,6BACxC99D,KAAM,SAAUymB,GAAUA,EAAOo+B,MAAQ,GAC1C,CACC1rD,KAAM,cACN0mE,YAAa,gBACb/B,QAASA,EAAQ,eAAgB,qBACjC99D,KAAM,SAAUymB,GAAUA,EAAOy7C,aAAe,EAChDlC,eAAgB,UACjB,CACC7mE,KAAM,cACN0mE,YAAa,gBACb/B,QAASA,EAAQ,SAAU,aAC3B99D,KAAM,SAAUymB,GAAUA,EAAO2wC,aAAe,EAChD4I,eAAgB,UACjB,CACC7mE,KAAM,gBACN0mE,YAAa,kBACb/B,QAASA,EAAQ,iBAAkB,uBACnC99D,KAAM,SAAUymB,GAAUA,EAAO07C,eAAiB,EAClDnC,eAAgB,UACjB,CACC7mE,KAAM,gBACN0mE,YAAa,kBACb/B,QAASA,EAAQ,WAAY,eAC7B99D,KAAM,SAAUymB,GAAUA,EAAO4wC,eAAiB,EAClD2I,eAAgB,UACjB,CACC7mE,KAAM,MACN0mE,YAAa,SACb/B,QAASA,EAAQ,SAAU,8BAC3B99D,KAAM,SAAUymB,GAAUA,EAAOliB,OAAO,QAAU,EAClD87D,kBAAmB,UACnBL,eAAgB,UACjB,CACC7mE,KAAM,YACN0mE,YAAa,YACb/B,QAASA,EAAQ,4BAA6B,mDAC9C99D,KAAM,SAAUymB,GAAUA,EAAOliB,OAAO,OAAS,EACjD87D,kBAAmB,UACnBL,eAAgB,UACjB,CACC7mE,KAAM,gBACN0mE,YAAa,gBACb/B,QAASA,EAAQ,eAAgB,MACjC99D,KAAM,SAAUymB,GACZ,IAAIA,EAAO3H,UAAUlM,UAIjB,OAAO,EAHP6T,EAAOliB,OAAO,OAKtB,EACA87D,kBAAmB,UACnBL,eAAgB,UACjB,CACC7mE,KAAM,oBACN0mE,YAAa,uBACb/B,QAASA,EAAQ,gBAAiB,qBAClC99D,KAAM,SAAUymB,GAAUA,EAAO27C,mBAAqB,EACtD/B,kBAAmB,UACnBL,eAAgB,UACjB,CACC7mE,KAAM,kBACN0mE,YAAa,qBACb/B,QAASA,EAAQ,aAAc,yBAC/B99D,KAAM,SAAUymB,GAAUA,EAAO47C,iBAAmB,EACpDhC,kBAAmB,UACnBL,eAAgB,UACjB,CACC7mE,KAAM,wBACN0mE,YAAa,4BACb/B,QAASA,EAAQ,uBAAwB,MACzC99D,KAAM,SAAUymB,GACZ,IAAItV,EAAQsV,EAAO3H,UAAUgC,WAC7B3P,EAAMJ,MAAME,OAAS,EACrBwV,EAAOzT,QAAQzO,OAAO4M,EAC1B,EACAkvD,kBAAmB,UACnBL,eAAgB,UACjB,CACC7mE,KAAM,sBACN0mE,YAAa,0BACb/B,QAASA,EAAQ,oBAAqB,MACtC99D,KAAM,SAAUymB,GACZ,IAAItV,EAAQsV,EAAO3H,UAAUgC,WAC7B3P,EAAMlV,IAAIgV,OAAS4M,OAAOusB,UAC1B3jB,EAAOzT,QAAQzO,OAAO4M,EAC1B,EACAkvD,kBAAmB,UACnBL,eAAgB,UACjB,CACC7mE,KAAM,iBACN0mE,YAAa,mBACb/B,QAASA,EAAQ,iBAAkB,oCACnC99D,KAAM,SAAUymB,GAAUA,EAAO67C,gBAAkB,EACnDjC,kBAAmB,UACnBL,eAAgB,UACjB,CACC7mE,KAAM,kBACN0mE,YAAa,oBACb/B,QAASA,EAAQ,cAAe,cAChC99D,KAAM,SAAUymB,GAAUA,EAAO87C,iBAAmB,EACpDlC,kBAAmB,UACnBL,eAAgB,UACjB,CACC7mE,KAAM,UACN0mE,YAAa,UACb/B,QAASA,EAAQ,YAAa,aAC9B99D,KAAM,SAAUymB,GAAUA,EAAO+7C,cAAgB,EACjDnC,kBAAmB,UACnBL,eAAgB,iBACjB,CACC7mE,KAAM,SACN0mE,YAAa,SACb/B,QAASA,EAAQ,MAAO,OACxB99D,KAAM,SAAUymB,GAAUA,EAAOigB,QAAU,EAC3C25B,kBAAmB,UACnBL,eAAgB,iBACjB,CACC7mE,KAAM,eACN0mE,YAAa,gBACb/B,QAASA,EAAQ,SAAU,UAC3B99D,KAAM,SAAUymB,GAAUA,EAAO+7C,cAAgB,EACjDnC,kBAAmB,cACnBL,eAAgB,iBACjB,CACC7mE,KAAM,cACN0mE,YAAa,eACb/B,QAASA,EAAQ,SAAU,UAC3B99D,KAAM,SAAUymB,GAAUA,EAAOg8C,aAAe,EAChDpC,kBAAmB,cACnBL,eAAgB,iBACjB,CACC7mE,KAAM,eACN0mE,YAAa,gBACb7/D,KAAM,SAAUymB,EAAQnsB,GAAOmsB,EAAO2R,OAAO99B,EAAM,EACnD+lE,kBAAmB,UACnBL,eAAgB,UACjB,CACC7mE,KAAM,aACN0mE,YAAa,cACb7/D,KAAM,SAAUymB,EAAQuZ,GACpBvZ,EAAO2R,OAAOprB,EAAKpQ,aAAaojC,EAAKljB,MAAQ,GAAIkjB,EAAK4gC,OAAS,GACnE,EACAP,kBAAmB,UACnBL,eAAgB,UACjB,CACC7mE,KAAM,YACN0mE,YAAa,aACb/B,QAASA,EAAQ,KAAM,UACvB99D,KAAM,SAAUymB,GAAUA,EAAOi8C,WAAa,EAC9CrC,kBAAmB,UACnBL,eAAgB,UACjB,CACC7mE,KAAM,mBACN0mE,YAAa,oBACb/B,QAASA,EAAQ,cAAe,UAChC99D,KAAM,SAAUymB,GAAUA,EAAOk8C,kBAAoB,EACrDtC,kBAAmB,SAAU55C,GAAUA,EAAOm8C,oBAAoB,EAAI,EACtE5C,eAAgB,UACjB,CACC7mE,KAAM,cACN0mE,YAAa,eACb/B,QAASA,EAAQ,SAAU,UAC3B99D,KAAM,SAAUymB,GAAUA,EAAOhW,aAAe,EAChD4vD,kBAAmB,UACnBL,eAAgB,UACjB,CACC7mE,KAAM,cACN0mE,YAAa,eACb/B,QAASA,EAAQ,eAAgB,gBACjC99D,KAAM,SAAUymB,GAAUA,EAAOvmB,aAAe,EAChDmgE,kBAAmB,UACnBL,eAAgB,UACjB,CACC7mE,KAAM,aACN0mE,YAAa,cACb/B,QAASA,EAAQ,KAAM,MACvB99D,KAAM,SAAUymB,GAAUA,EAAOo8C,YAAc,EAC/C7C,eAAgB,WACjB,CACC7mE,KAAM,eACN0mE,YAAa,iBACb/B,QAASA,EAAQ,eAAgB,mBACjC99D,KAAM,SAAUymB,GACZ,IAAItV,EAAQsV,EAAO3H,UAAUgC,WAC7B3P,EAAMJ,MAAME,OAASE,EAAMlV,IAAIgV,OAAS,EACxCE,EAAMlV,IAAI+U,MACVyV,EAAO3H,UAAU8c,SAASzqB,GAAO,EACrC,EACAkvD,kBAAmB,UACnBL,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,WACN2kE,QAASA,EAAQ,UAAW,MAC5B99D,KAAM,SAAUymB,GAAUA,EAAOq8C,UAAY,GAC9C,CACC3pE,KAAM,YACN0mE,YAAa,aACb/B,QAASA,EAAQ,KAAM,MACvB99D,KAAM,SAAUymB,GAQZ,IAPA,IAAIyjB,EAAczjB,EAAO3H,UAAUorB,cAC/BrpB,EAAiBqpB,EAAczjB,EAAO3H,UAAUmrB,mBAAqBxjB,EAAO3H,UAAU+oB,qBACtFnnB,EAAewpB,EAAczjB,EAAO3H,UAAU+oB,qBAAuBphB,EAAO3H,UAAUmrB,mBACtF84B,EAAkBt8C,EAAOzT,QAAQpQ,IAAI4d,QAAQK,EAAe7P,KAAK1a,OAEjE0sE,EADev8C,EAAOzT,QAAQpQ,IAAI20B,aAAa9Q,EAAO3H,UAAUgC,YACnCvoB,QAAQ,QAAS,KAAKjC,OACnD2sE,EAAax8C,EAAOzT,QAAQpQ,IAAI4d,QAAQK,EAAe7P,KAClDxZ,EAAIqpB,EAAe7P,IAAM,EAAGxZ,GAAKkpB,EAAa1P,IAAM,EAAGxZ,IAAK,CACjE,IAAI0rE,EAAUl2D,EAAKjQ,eAAeiQ,EAAKhQ,gBAAgBypB,EAAOzT,QAAQpQ,IAAI4d,QAAQhpB,KAC3D,IAAnB0rE,EAAQ5sE,SACR4sE,EAAU,IAAMA,GAEpBD,GAAcC,CAClB,CACIxiD,EAAa1P,IAAM,EAAKyV,EAAOzT,QAAQpQ,IAAI8uB,YAAc,IACzDuxC,GAAcx8C,EAAOzT,QAAQpQ,IAAI+7C,uBAErCl4B,EAAO6P,iBACP7P,EAAOzT,QAAQpQ,IAAIrK,QAAQ,IAAImY,EAAMmQ,EAAe7P,IAAK,EAAG0P,EAAa1P,IAAM,EAAG,GAAIiyD,GAClFD,EAAgB,GAChBv8C,EAAO3H,UAAU+rB,aAAahqB,EAAe7P,IAAK6P,EAAe5P,QACjEwV,EAAO3H,UAAUyS,SAAS1Q,EAAe7P,IAAK6P,EAAe5P,OAAS+xD,KAGtED,EAAkBt8C,EAAOzT,QAAQpQ,IAAI4d,QAAQK,EAAe7P,KAAK1a,OAASysE,EAAmBA,EAAkB,EAAKA,EACpHt8C,EAAO3H,UAAU+rB,aAAahqB,EAAe7P,IAAK+xD,GAE1D,EACA1C,kBAAmB,UACnBh8C,UAAU,GACX,CACClrB,KAAM,kBACN0mE,YAAa,mBACb/B,QAASA,EAAQ,KAAM,MACvB99D,KAAM,SAAUymB,GACZ,IAAI5V,EAAS4V,EAAOzT,QAAQpQ,IAAI8uB,YAAc,EAC1C8W,EAAS/hB,EAAOzT,QAAQpQ,IAAI4d,QAAQ3P,GAAQva,OAC5C24C,EAASxoB,EAAO3H,UAAUswB,UAAUH,OACpCk0B,EAAY,GACZl0B,EAAO34C,OAAS,IAChB24C,EAAS,CAACxoB,EAAO3H,UAAUgC,aAE/B,IAAK,IAAItpB,EAAI,EAAGA,EAAIy3C,EAAO34C,OAAQkB,IAC3BA,GAAMy3C,EAAO34C,OAAS,IAChB24C,EAAOz3C,GAAGyE,IAAI+U,MAAQH,GAAUo+B,EAAOz3C,GAAGyE,IAAIgV,SAAWu3B,GAC3D26B,EAAUvrE,KAAK,IAAI8Y,EAAMu+B,EAAOz3C,GAAGyE,IAAI+U,IAAKi+B,EAAOz3C,GAAGyE,IAAIgV,OAAQJ,EAAQ23B,KAGxE,IAANhxC,EAC8B,IAAxBy3C,EAAOz3C,GAAGuZ,MAAMC,KAAwC,IAA3Bi+B,EAAOz3C,GAAGuZ,MAAME,QAC/CkyD,EAAUvrE,KAAK,IAAI8Y,EAAM,EAAG,EAAGu+B,EAAOz3C,GAAGuZ,MAAMC,IAAKi+B,EAAOz3C,GAAGuZ,MAAME,SAIxEkyD,EAAUvrE,KAAK,IAAI8Y,EAAMu+B,EAAOz3C,EAAI,GAAGyE,IAAI+U,IAAKi+B,EAAOz3C,EAAI,GAAGyE,IAAIgV,OAAQg+B,EAAOz3C,GAAGuZ,MAAMC,IAAKi+B,EAAOz3C,GAAGuZ,MAAME,SAGvHwV,EAAO28C,sBACP38C,EAAO6P,iBACP,IAAS9+B,EAAI,EAAGA,EAAI2rE,EAAU7sE,OAAQkB,IAClCivB,EAAO3H,UAAUwwB,SAAS6zB,EAAU3rE,IAAI,EAEhD,EACA6sB,UAAU,EACV27C,eAAgB,QACjB,CACC7mE,KAAM,eACN0mE,YAAa,sCACb7/D,KAAM,SAAUymB,GACZA,EAAO3H,UAAUwX,iBACjB7P,EAAO06C,kBACP16C,EAAO2R,OAAO,KAClB,EACAioC,kBAAmB,UACnBL,eAAgB,UACjB,CACC7mE,KAAM,gBACN0mE,YAAa,uCACb7/D,KAAM,SAAUymB,GACZA,EAAO3H,UAAUwX,iBACjB,IAAIvX,EAAS0H,EAAOmhB,oBACpBnhB,EAAO3H,UAAUgsB,OAAO/rB,EAAO/N,IAAM,EAAG6M,OAAOusB,WAC/C3jB,EAAO2R,OAAO,MACK,IAAfrZ,EAAO/N,KACPyV,EAAOk6C,YACf,EACAN,kBAAmB,UACnBL,eAAgB,UACjB,CACC7mE,KAAM,qBACN6G,KAAM,SAAUymB,GACZ9vB,QAAQ6U,KAAK,yEACbib,EAAO05C,OAAO,CAAEC,MAAO,YAC3B,EACA/7C,UAAU,GACX,CACClrB,KAAM,qBACN0mE,YAAa,uBACb/B,QAASA,EAAQ,KAAM,MACvB99D,KAAM,SAAUymB,GACZA,EAAO05C,OAAO,CAAEC,MAAO,YAC3B,EACA/7C,UAAU,GACX,CACClrB,KAAM,aACN0mE,YAAa,0BACb/B,QAASA,EAAQ,KAAM,MACvB99D,KAAM,SAAUymB,GACZA,EAAO05C,OAAO,CAAEC,MAAO,SAC3B,EACA/7C,UAAU,IAElB,IAAK,IAAI7sB,EAAI,EAAGA,EAAI,EAAGA,IACnBgB,EAAQwtB,SAASpuB,KAAK,CAClBuB,KAAM,cAAgB3B,EACtBqoE,YAAa,iBAAmBroE,EAChCixC,MAAOjxC,EACPwI,KAAM,SAAUymB,GAAUA,EAAOzT,QAAQ85C,YAAY/2D,KAAK0yC,MAAQ,EAClEu3B,eAAgB,SAChB37C,UAAU,GAIlB,IAEArrB,IAAI/C,OAAO,mBAAmB,CAAC,UAAU,UAAU,SAAS,gBAAgB,SAAS0B,EAASa,EAAStC,GAAQ,aAC/G,IAAI0Q,EAAMjP,EAAQ,aACd0rE,EAA6B,WAC7B,SAASA,EAAYrwD,GACjBjd,KAAKid,QAAUA,EACfjd,KAAKid,QAAQswD,cAAgBvtE,KAC7BA,KAAKid,QAAQinD,aAAelkE,KAAKkkE,aACjClkE,KAAKid,QAAQmoD,uBAAyBplE,KAAKolE,uBAC3CplE,KAAKwtE,eAAiBxtE,KAAKwtE,eAAe3nD,KAAK7lB,MAC/CA,KAAKytE,cAAgBztE,KAAKytE,cAAc5nD,KAAK7lB,MAC7CA,KAAK0tE,eAAiB1tE,KAAK0tE,eAAe7nD,KAAK7lB,MAC/CA,KAAKid,QAAQ0wD,gBAAkB,GAC/B3tE,KAAK4tE,gBAAkB5tE,KAAK4tE,gBAAgB/nD,KAAK7lB,MACjDA,KAAKid,QAAQ5J,GAAG,SAAUrT,KAAKwtE,gBAC/BxtE,KAAKid,QAAQ5J,GAAG,aAAcrT,KAAK6tE,cACnC7tE,KAAKid,QAAQ5J,GAAG,eAAgBrT,KAAK4tE,gBACzC,CA6TA,OA5TAN,EAAYjsE,UAAU6iE,aAAe,SAAUjpD,GAC3C,IAAIyqB,EAKJ,OAHIA,EADA1lC,KAAKs4C,aACDt4C,KAAKs4C,YAAYr9B,IAAQjb,KAAKs4C,YAAYr9B,GAAKw9B,UAE/C,EACHz4C,KAAmB,cAAMA,KAAgB,UAAEib,GAIrCjb,KAAgB,UAAEib,GAAK1a,OAAS,EAAImlC,EAHpC,EAAIA,CAKnB,EACA4nC,EAAYjsE,UAAU+jE,uBAAyB,WAC3C,IAAID,EAAa,EAKjB,OAJAnlE,KAAKs4C,YAAYvzC,SAAQ,SAAU4gC,GAC3BA,GAAKA,EAAE8S,WAAa9S,EAAErwB,SACtB6vD,GAAcx/B,EAAE8S,SACxB,IACO0sB,CACX,EACAmI,EAAYjsE,UAAUusE,gBAAkB,SAAU1kE,GAC9ClJ,KAAK0pC,OAAOxgC,EAAEwnB,OAClB,EACA48C,EAAYjsE,UAAUqoC,OAAS,SAAUhZ,GACjCA,GAAUA,EAAO68C,eAAiB78C,EAAO68C,eAAiBvtE,MAC1D0wB,EAAO68C,cAAc5jC,SACrB3pC,KAAK0wB,QAAUA,IAEnB1wB,KAAK2pC,SACL3pC,KAAK0wB,OAASA,EACVA,IACAA,EAAO68C,cAAgBvtE,KACvB0wB,EAAOnH,SAASlW,GAAG,eAAgBrT,KAAK0tE,gBACxCh9C,EAAOnH,SAASlW,GAAG,cAAerT,KAAKytE,gBAE/C,EACAH,EAAYjsE,UAAUsoC,OAAS,SAAUzgC,GACrC,IAAIwnB,EAAS1wB,KAAK0wB,OAClB,GAAKA,EAAL,CAEA1wB,KAAK0wB,OAAS,KACdA,EAAO68C,cAAgB,KACvB78C,EAAOnH,SAAShW,IAAI,eAAgBvT,KAAK0tE,gBACzCh9C,EAAOnH,SAAShW,IAAI,cAAevT,KAAKytE,eACxC,IAAIn1B,EAAct4C,KAAKid,QAAQq7B,YAC/BA,GAAeA,EAAYvzC,SAAQ,SAAU4gC,GACrCA,GAAKA,EAAEt5B,IAAMs5B,EAAEt5B,GAAGwa,aAClB8e,EAAEmoC,aAAc,EAChBnoC,EAAEt5B,GAAGwa,WAAW/W,YAAY61B,EAAEt5B,IAEtC,GAXU,CAYd,EACAihE,EAAYjsE,UAAUwsE,aAAe,SAAU3kE,EAAG+T,GAC9C,IAAIq7B,EAAcr7B,EAAQq7B,YAC1B,GAAKA,GAAgBpvC,EAAEo7B,OAAvB,CAMA,IAJA,IAAIrH,EAAO/zB,EAAEsL,KACTwG,EAAQiiB,EAAKjiB,MAAMC,IACnB/U,EAAM+2B,EAAK/2B,IAAI+U,IACfib,EAAmB,OAAZhtB,EAAEo7B,OACJ7iC,EAAIuZ,EAAQ,EAAGvZ,EAAIyE,EAAKzE,IACzB62C,EAAY72C,KACZ62C,EAAY72C,GAAG6T,OAAS4gB,GAE5BoiB,EAAYpyC,KACRgwB,EACKoiB,EAAYt9B,GAGbs9B,EAAYpyC,GAAKoP,OAAS4gB,EAF1BoiB,EAAYt9B,GAASs9B,EAAYpyC,IAKjCoyC,EAAYt9B,IAAUs9B,EAAYpyC,KAClCoyC,EAAYt9B,QAAS7Z,GACzBm3C,EAAYpyC,GAAKoP,OAAS4gB,GAnBxB,CAsBd,EACAo3C,EAAYjsE,UAAUmsE,eAAiB,SAAU19B,GAC7C,IAAIwI,EAAct4C,KAAKid,QAAQq7B,YAC/B,GAAKA,EAAL,CAEA,IAAI19B,EAAWk1B,EAAM90B,MAAMC,IACvBzV,EAAMsqC,EAAM5pC,IAAI+U,IAAML,EAC1B,GAAY,IAARpV,QAEC,GAAoB,UAAhBsqC,EAAMxL,OAAoB,CAC/B,IAAIyuB,EAAUza,EAAY3wC,OAAOiT,EAAW,EAAGpV,IAC1C8yC,EAAY19B,IAAam4C,EAAQA,EAAQxyD,OAAS,KACnD+3C,EAAY19B,GAAYm4C,EAAQ/+C,OAEpC++C,EAAQhuD,SAAQ,SAAU4gC,GACtBA,GAAK3lC,KAAK+tE,iBAAiBpoC,EAC/B,GAAG3lC,MACHA,KAAKguE,aACT,KACK,CACD,IAAI/jC,EAAO,IAAI5kC,MAAMG,GACjB8yC,EAAY19B,IAA6C,MAAhC09B,EAAY19B,GAAUM,QAC3C40B,EAAM90B,MAAME,OAASo9B,EAAY19B,GAAUM,QAC3CN,IAERqvB,EAAKkS,QAAQvhC,EAAU,GACvB09B,EAAY3wC,OAAOhH,MAAM23C,EAAarO,GACtCjqC,KAAKguE,aACT,CAxBU,CAyBd,EACAV,EAAYjsE,UAAU2sE,YAAc,WAChC,IAAI11B,EAAct4C,KAAKid,QAAQq7B,YAC/B,GAAKA,EAAL,CAEA,IAAI21B,GAAY,EAChB31B,EAAYvzC,SAAQ,SAAU4gC,EAAGlkC,GAC7B,GAAIkkC,EAGA,IAFAsoC,GAAY,EACZtoC,EAAE1qB,IAAMxZ,EACDkkC,EAAEuoC,YACLvoC,EAAEuoC,WAAWjzD,IAAMxZ,EACnBkkC,EAAIA,EAAEuoC,UAGlB,IACID,IACAjuE,KAAKid,QAAQq7B,YAAc,KAbrB,CAcd,EACAg1B,EAAYjsE,UAAU8sE,oBAAsB,SAAUxoC,GAC7C3lC,KAAKid,QAAQq7B,cACdt4C,KAAKid,QAAQq7B,YAAc,IAAIjzC,MAAMrF,KAAKid,QAAQ0e,cACtD,IAAI9nB,EAAM7T,KAAKid,QAAQq7B,YAAY3S,EAAE1qB,KASrC,OARIpH,IACA8xB,EAAEuoC,WAAar6D,EACXA,EAAIxH,IAAMwH,EAAIxH,GAAGwa,aACjBhT,EAAIxH,GAAGwa,WAAW/W,YAAY+D,EAAIxH,IAClCwH,EAAIi6D,aAAc,IAG1B9tE,KAAKid,QAAQq7B,YAAY3S,EAAE1qB,KAAO0qB,EAC3BA,CACX,EACA2nC,EAAYjsE,UAAU+sE,cAAgB,SAAUzoC,GAG5C,GAFA3lC,KAAKmuE,oBAAoBxoC,GACzBA,EAAE1oB,QAAUjd,KAAKid,SACZjd,KAAK0wB,OACN,OAAOiV,EACX,IAAIpc,EAAWvpB,KAAK0wB,OAAOnH,SACvBoc,EAAE/P,OAAS+P,EAAEt5B,KACbs5B,EAAEt5B,GAAKwE,EAAIvE,cAAc,OACzBq5B,EAAEt5B,GAAGgB,UAAYs4B,EAAE/P,MAEnB+P,EAAE5e,OAAS4e,EAAEt5B,KACbs5B,EAAEt5B,GAAKwE,EAAIvE,cAAc,OACzBq5B,EAAEt5B,GAAGiB,YAAcq4B,EAAE5e,MAErB4e,EAAEt5B,KACFwE,EAAIlD,YAAYg4B,EAAEt5B,GAAI,2BAClBs5B,EAAEhpC,WACFkU,EAAIlD,YAAYg4B,EAAEt5B,GAAIs5B,EAAEhpC,WAE5BgpC,EAAEt5B,GAAGnP,MAAMC,SAAW,WACtBwoC,EAAEt5B,GAAGnP,MAAMD,OAAS,IACpBssB,EAAS1a,UAAU3C,YAAYy5B,EAAEt5B,IACjCs5B,EAAEmoC,aAAc,EACXnoC,EAAE0oC,cACH1oC,EAAEt5B,GAAGnP,MAAMD,OAAS,KAEH,MAAjB0oC,EAAE2oC,cACF3oC,EAAE2oC,YAAc3oC,EAAEt5B,GAAG+pB,eAGX,MAAduP,EAAE8S,WACF9S,EAAE8S,SAAW9S,EAAE2oC,YAAc/kD,EAASoW,YAAYtF,YAEtD,IAAI4C,EAAOj9B,KAAKid,QAAQqrB,UAAU3C,EAAE1qB,IAAK,GAEzC,GADA0qB,EAAE4oC,MAAQtxC,EACNA,EAAM,CACN,IAAIqb,EAAct4C,KAAKid,QAAQq7B,YAC3B3S,EAAE1qB,KAAOgiB,EAAK/2B,IAAI+U,KAAQq9B,EAAYrb,EAAKjiB,MAAMC,KAGjD0qB,EAAErwB,QAAS,EAFXgjC,EAAYrb,EAAKjiB,MAAMC,KAAO0qB,CAGtC,CAKA,OAJA3lC,KAAKid,QAAQtK,MAAM,aAAc,CAAE6B,KAAM,CAAEwG,MAAO,CAAEC,IAAK0qB,EAAE1qB,QAC3Djb,KAAKguE,cACLhuE,KAAKytE,cAAc,KAAMlkD,GACzBvpB,KAAKwuE,gBAAgB7oC,GACdA,CACX,EACA2nC,EAAYjsE,UAAU0sE,iBAAmB,SAAUpoC,GAK/C,GAJAA,EAAEmoC,aAAc,EAChBnoC,EAAE1oB,QAAU,KACR0oB,EAAEt5B,IAAMs5B,EAAEt5B,GAAGwa,YACb8e,EAAEt5B,GAAGwa,WAAW/W,YAAY61B,EAAEt5B,IAC9Bs5B,EAAEjV,QAAUiV,EAAEjV,OAAO7O,QACrB,IACI8jB,EAAEjV,OAAO7O,SACb,CACA,MAAO3Y,GAAK,CAChB,GAAIlJ,KAAKid,QAAQq7B,YAAa,CAC1B,IAAIm2B,EAAKzuE,KAAKid,QAAQq7B,YAAY3S,EAAE1qB,KACpC,GAAIwzD,GAAM9oC,EACN3lC,KAAKid,QAAQq7B,YAAY3S,EAAE1qB,KAAO0qB,EAAEuoC,WAChCvoC,EAAEuoC,YACFluE,KAAKwuE,gBAAgB7oC,EAAEuoC,iBAG3B,KAAOO,GAAI,CACP,GAAIA,EAAGP,YAAcvoC,EAAG,CACpB8oC,EAAGP,WAAavoC,EAAEuoC,WAClB,KACJ,CACAO,EAAKA,EAAGP,UACZ,CAER,CACAluE,KAAKid,QAAQtK,MAAM,aAAc,CAAE6B,KAAM,CAAEwG,MAAO,CAAEC,IAAK0qB,EAAE1qB,QAC3Djb,KAAKguE,aACT,EACAV,EAAYjsE,UAAUqtE,gBAAkB,SAAUzzD,GAI9C,IAHA,IAAIq9B,EAAct4C,KAAKid,QAAQq7B,YAC3B3S,EAAI2S,GAAeA,EAAYr9B,GAC/B6iC,EAAO,GACJnY,GACHmY,EAAKj8C,KAAK8jC,GACVA,EAAIA,EAAEuoC,WAEV,OAAOpwB,CACX,EACAwvB,EAAYjsE,UAAUmtE,gBAAkB,SAAU7oC,GAC9C3lC,KAAKid,QAAQ0wD,gBAAgB9rE,KAAK8jC,GAClC3lC,KAAK0wB,QAAU1wB,KAAK0wB,OAAOnH,SAASolD,YACxC,EACArB,EAAYjsE,UAAUqsE,eAAiB,SAAUxkE,EAAGqgB,GAChD,IAAIqlD,EAAiB5uE,KAAKid,QAAQ0wD,gBAC9Bh0D,EAAS4P,EAASoW,YACtB,GAAKivC,GAAmBA,EAAeruE,OAAvC,CAGA,IADA,IAAI0F,EAAMg+C,IACDxiD,EAAI,EAAGA,EAAImtE,EAAeruE,OAAQkB,IAAK,CAC5C,IAAIkkC,EAAIipC,EAAentE,GACvB,GAAKkkC,GAAMA,EAAEt5B,IAETs5B,EAAE1oB,SAAWjd,KAAKid,QAAtB,CAEA,IAAK0oB,EAAEmoC,YAAa,CAChB,GAAI9tE,KAAKid,QAAQq7B,YAAY3S,EAAE1qB,MAAQ0qB,EACnC,SACJA,EAAEmoC,aAAc,EAChBvkD,EAAS1a,UAAU3C,YAAYy5B,EAAEt5B,GACrC,CACAs5B,EAAED,EAAIC,EAAEt5B,GAAG+pB,aACNuP,EAAEkpC,aACHlpC,EAAEA,EAAIA,EAAEt5B,GAAGsD,YACXg2B,EAAEg6B,YAActhE,KAAKywE,KAAKnpC,EAAEA,EAAIhsB,EAAOkV,iBAE3C,IAAI4pB,EAAW9S,EAAED,EAAI/rB,EAAO0gB,WACxBsL,EAAEopC,YACFt2B,GAAYz4C,KAAKid,QAAQknD,gBAAgBx+B,EAAE1qB,MAC5B,IACXw9B,EAAW,GAEf9S,EAAE8S,UAAYA,IACd9S,EAAE8S,SAAWA,EACT9S,EAAE1qB,IAAMhV,IACRA,EAAM0/B,EAAE1qB,KArBJ,CAuBhB,CACIhV,GAAOg+C,MACPjkD,KAAKid,QAAQtK,MAAM,aAAc,CAAE6B,KAAM,CAAEwG,MAAO,CAAEC,IAAKhV,MACzDjG,KAAKid,QAAQ4iD,gBAAkB,MAEnC7/D,KAAKid,QAAQ0wD,gBAAkB,EAnCrB,CAoCd,EACAL,EAAYjsE,UAAUosE,cAAgB,SAAUvkE,EAAGqgB,GAC/C,IAAI5P,EAAS4P,EAASoW,YAClB2Y,EAAct4C,KAAKid,QAAQq7B,YAC/B,GAAKA,EAAL,CAIA,IAFA,IAAIuT,EAAQxtD,KAAK4H,IAAIjG,KAAKyc,SAAU9C,EAAO8C,UACvChW,EAAOpI,KAAK2H,IAAIhG,KAAK0c,QAAS/C,EAAO+C,QAAS47B,EAAY/3C,QACvDsrD,EAAQ,IAAMvT,EAAYuT,IAC7BA,IACJ7rD,KAAKyc,SAAW9C,EAAO8C,SACvBzc,KAAK0c,QAAU/C,EAAO+C,QACtB6M,EAASiX,aAAa7mB,OAASA,EAC/B,IAAK,IAAIlY,EAAIoqD,EAAOpqD,GAAKgF,EAAMhF,IAAK,CAChC,IAAIkkC,EAAI2S,EAAY72C,GACpB,GAAKkkC,GAAMA,EAAEt5B,GAEb,GAAIs5B,EAAErwB,OACFqwB,EAAEt5B,GAAGnP,MAAME,KAAO,KAAOuoC,EAAE2oC,aAAe,GAAK,SADnD,CAIK3oC,EAAEmoC,cACHnoC,EAAEmoC,aAAc,EAChBvkD,EAAS1a,UAAU3C,YAAYy5B,EAAEt5B,KAErC,IAAIjP,EAAMmsB,EAASiX,aAAawF,iBAAiB,CAAE/qB,IAAKxZ,EAAGyZ,OAAQ,IAAK,GAAM9d,IACzEuoC,EAAEopC,YACH3xE,GAAOuc,EAAO0gB,WAAar6B,KAAKid,QAAQknD,gBAAgBx+B,EAAE1qB,MAC9D0qB,EAAEt5B,GAAGnP,MAAME,IAAMA,EAAMuc,EAAO1R,OAAS,KACvC,IAAI1K,EAAOooC,EAAE0oC,YAAc,EAAI9kD,EAASylD,YACnCrpC,EAAEkpC,aACHtxE,GAAQgsB,EAAS8b,YACrBM,EAAEt5B,GAAGnP,MAAMK,KAAOA,EAAO,KACrBooC,EAAEspC,WAAatpC,EAAEg6B,cACjBh6B,EAAEt5B,GAAGnP,MAAMqS,SAAWoK,EAAOnb,MAAQ,EAAImb,EAAOu1D,QAAU,MAE1DvpC,EAAEkpC,WACFlpC,EAAEt5B,GAAGnP,MAAMG,MAAQksB,EAAS4lD,UAAU94C,WAAa,KAGnDsP,EAAEt5B,GAAGnP,MAAMG,MAAQ,EApBvB,CAsBJ,CArCU,CAsCd,EACOiwE,CACX,CA5UiC,GA6UjC7qE,EAAQ6qE,YAAcA,CAEtB,IAEArqE,IAAI/C,OAAO,8BAA8B,CAAC,UAAU,UAAU,SAAS,eAAe,qCAAqC,SAAS0B,EAASa,EAAStC,GAAQ,aAC9J,IAAI2E,EAAOlD,EAAQ,eACfw5B,EAAgBx5B,EAAQ,mCAAmCw5B,cAC3Dg0C,EAAuC,WACvC,SAASA,EAAsB1+C,GAC3B1wB,KAAK0wB,OAASA,EACd1wB,KAAKqvE,YAAc3+C,EAAOnH,SAAS2R,aACnCl7B,KAAKoN,QAAUsjB,EAAOnH,SAAS8S,QAC/Br8B,KAAKgrB,MAAQ0F,EAAOnH,SAAS2R,aAAaiB,OAC1Cn8B,KAAKsvE,eAAiB,KACtBtvE,KAAKuvE,WAAa,KAClBvvE,KAAKwvE,kBAAoB,IAAIp0C,EAAcp7B,KAAK0wB,OACpD,CAsUA,OArUA0+C,EAAsB/tE,UAAUygB,YAAc,WAC1C9hB,KAAKoN,QAAQ6G,iBAAiB,UAAWjU,KAAKyvE,iBAAiB5pD,KAAK7lB,OACpEA,KAAKoN,QAAQ6G,iBAAiB,WAAYjU,KAAK0vE,YAAY7pD,KAAK7lB,OAChEA,KAAK0wB,OAAOrd,GAAG,aAAcrT,KAAK0vE,YAAY7pD,KAAK7lB,MACvD,EACAovE,EAAsB/tE,UAAU8S,eAAiB,WAC7CnU,KAAKoN,QAAQgH,oBAAoB,UAAWpU,KAAKyvE,iBAAiB5pD,KAAK7lB,OACvEA,KAAKoN,QAAQgH,oBAAoB,WAAYpU,KAAK0vE,YAAY7pD,KAAK7lB,OACnEA,KAAK0wB,OAAOnd,IAAI,aAAcvT,KAAK0vE,YAAY7pD,KAAK7lB,MACxD,EACAovE,EAAsB/tE,UAAUouE,iBAAmB,SAAUvmE,GACzD,GAAIlJ,KAAKwvE,kBAAkBl6C,OAIvB,OAHApsB,EAAEuJ,sBACEvJ,EAAEgY,UAAYpc,EAAa,QAC3B9E,KAAKwvE,kBAAkBn0C,eAG/B,GAAInyB,EAAEzE,SAAWzE,KAAKoN,QAAS,CAC3B,GAAIlE,EAAEgY,SAAWpc,EAAY,MACzB,OAEJoE,EAAEuJ,iBACF,IAAIwI,EAAMjb,KAAK0wB,OAAOmhB,oBAAoB52B,IAmC1C,OAlCKjb,KAAK0wB,OAAOi/C,aAAa10D,IAC1Bjb,KAAK0wB,OAAOk/C,aAAa30D,GAAK,GAAM,QACxCzS,WACA,WACI,IAAI5D,EAAQ5E,KAAK6vE,eAAe7vE,KAAKqvE,YAAYS,YAAY70D,KACzD80D,EAAmB/vE,KAAKgwE,uBAAuBprE,GAC/CqrE,EAAyBjwE,KAAKkwE,uBAAuBtrE,GACzD,GAAyB,OAArBmrE,GAAwD,OAA3BE,EAEjC,OAAyB,OAArBF,GAAwD,OAA3BE,GAC7BjwE,KAAKsvE,eAAiBW,EACtBjwE,KAAKuvE,WAAa,kBAClBvvE,KAAKmwE,iBAAiBnwE,KAAKsvE,iBAGN,OAArBS,GAAwD,OAA3BE,GAC7BjwE,KAAKsvE,eAAiBS,EACtB/vE,KAAKuvE,WAAa,YAClBvvE,KAAKowE,iBAAiBpwE,KAAKsvE,iBAG3BjxE,KAAK6lB,IAAI+rD,EAAyBrrE,GAASvG,KAAK6lB,IAAI6rD,EAAmBnrE,IACvE5E,KAAKsvE,eAAiBW,EACtBjwE,KAAKuvE,WAAa,kBAClBvvE,KAAKmwE,iBAAiBnwE,KAAKsvE,kBAI3BtvE,KAAKsvE,eAAiBS,EACtB/vE,KAAKuvE,WAAa,YAClBvvE,KAAKowE,iBAAiBpwE,KAAKsvE,gBAGnC,EAAEzpD,KAAK7lB,MAAO,GAElB,CACAA,KAAKqwE,iCAAiCnnE,GACtCV,WAAW,WACPxI,KAAK0wB,OAAOvd,QAAQ,gBAAiB,IAAIm9D,EAAoBpnE,EAAGlJ,MACpE,EAAE6lB,KAAK7lB,MAAO,GAClB,EACAovE,EAAsB/tE,UAAUgvE,iCAAmC,SAAUnnE,GACzE,GAAIA,EAAEgY,UAAYpc,EAAU,IAA5B,CAIA,GAAIoE,EAAEgY,UAAYpc,EAAa,OAK3B,OAJAoE,EAAEuJ,iBACFzS,KAAK0vE,cACL1vE,KAAKoN,QAAQkc,aACbtpB,KAAKuwE,KAAO,MAGhB,GAAIrnE,EAAEgY,UAAYpc,EAAS,GAY3B,GAAIoE,EAAEgY,UAAYpc,EAAW,KAA7B,CAYA,GAAIoE,EAAEgY,UAAYpc,EAAW,KAGzB,OAFAoE,EAAEuJ,sBACFzS,KAAKwwE,YAAY,cAGrB,GAAItnE,EAAEgY,UAAYpc,EAAY,MAG1B,OAFAoE,EAAEuJ,sBACFzS,KAAKwwE,YAAY,QAGrB,GAAItnE,EAAEgY,UAAYpc,EAAY,OAAKoE,EAAEgY,UAAYpc,EAAY,YAEzD,OADAoE,EAAEuJ,iBACMzS,KAAKuvE,YACT,IAAK,OACD,GAAuF,UAAnFvvE,KAAKqvE,YAAYpyD,QAAQyrB,YAAY1oC,KAAKywE,eAAezwE,KAAKsvE,iBAA8B,CAC5F,IAAIoB,EAAmB1wE,KAAKywE,eAAezwE,KAAKsvE,gBAChDtvE,KAAK0wB,OAAOzT,QAAQ0rB,kBAAkB3oC,KAAKywE,eAAezwE,KAAKsvE,gBAAiBpmE,GAChFV,WACA,WACQxI,KAAKywE,eAAezwE,KAAKsvE,kBAAoBoB,IAC7C1wE,KAAK2wE,gBAAgB3wE,KAAKsvE,gBAC1BtvE,KAAKsvE,eAAiBtvE,KAAK6vE,eAAea,GAC1C1wE,KAAKowE,iBAAiBpwE,KAAKsvE,gBAEnC,EAAEzpD,KAAK7lB,MAAO,IACd,KACJ,CACK,GAAuF,QAAnFA,KAAKqvE,YAAYpyD,QAAQyrB,YAAY1oC,KAAKywE,eAAezwE,KAAKsvE,iBACnE,MAEJ,OACJ,IAAK,aACD,IACIxgD,EADgB9uB,KAAKgrB,MAAM4lD,MAAM5wE,KAAKsvE,gBAAgBliE,QAAQyjE,WAAW,GACpDlnD,wBACrBzsB,EAAQ8C,KAAKwvE,kBAAkBphD,aAAalxB,MAChDA,EAAMK,KAAOuxB,EAAKzxB,MAAQ,KAC1BH,EAAME,IAAM0xB,EAAKxxB,OAAS,KAC1B0C,KAAKwvE,kBAAkBzzC,YAAY/7B,KAAKywE,eAAezwE,KAAKsvE,iBAtCxE,MATI,OADApmE,EAAEuJ,iBACMzS,KAAKuvE,YACT,IAAK,OACDvvE,KAAK8wE,sBACL,MACJ,IAAK,aACD9wE,KAAK+wE,2BAjBb,OADA7nE,EAAEuJ,iBACMzS,KAAKuvE,YACT,IAAK,OACDvvE,KAAKgxE,oBACL,MACJ,IAAK,aACDhxE,KAAKixE,oBAfjB,MAFI/nE,EAAEuJ,gBA4EV,EACA28D,EAAsB/tE,UAAUquE,YAAc,WAC1C,GAA4B,OAAxB1vE,KAAKsvE,eACL,OAAQtvE,KAAKuvE,YACT,IAAK,OACDvvE,KAAK2wE,gBAAgB3wE,KAAKsvE,gBAC1B,MACJ,IAAK,aACDtvE,KAAKkxE,gBAAgBlxE,KAAKsvE,gBAIlCtvE,KAAKwvE,kBAAkBl6C,QACvBt1B,KAAKwvE,kBAAkBn0C,aAE/B,EACA+zC,EAAsB/tE,UAAU8vE,qBAAuB,SAAUvsE,GAC7D,IAAIwsE,EAAoBpxE,KAAK0wB,OAAO0gD,kBAAkBpxE,KAAKywE,eAAe7rE,IACtEysE,EAA6D,SAA7CrxE,KAAKsxE,eAAe1sE,GAAO1H,MAAMS,QACrD,OAAOyzE,GAAqBC,CAChC,EACAjC,EAAsB/tE,UAAUkwE,qBAAuB,SAAU3sE,GAC7D,IAAIwsE,EAAoBpxE,KAAK0wB,OAAO0gD,kBAAkBpxE,KAAKywE,eAAe7rE,IACtEysE,EAA6D,SAA7CrxE,KAAKwxE,eAAe5sE,GAAO1H,MAAMS,QACrD,OAAOyzE,GAAqBC,CAChC,EACAjC,EAAsB/tE,UAAUiwE,eAAiB,SAAU1sE,GAGvD,OAFW5E,KAAKgrB,MAAMla,IAAIlM,GACPwI,QACJyjE,WAAW,EAC9B,EACAzB,EAAsB/tE,UAAUmwE,eAAiB,SAAU5sE,GAGvD,OAFW5E,KAAKgrB,MAAMla,IAAIlM,GACPwI,QACJyjE,WAAW,EAC9B,EACAzB,EAAsB/tE,UAAU2uE,uBAAyB,SAAUprE,GAC/D,GAAI5E,KAAKmxE,qBAAqBvsE,GAC1B,OAAOA,EAEX,IADA,IAAInD,EAAI,EACDmD,EAAQnD,EAAI,GAAKmD,EAAQnD,EAAIzB,KAAKgrB,MAAM2Q,YAAc,GAAG,CAE5D,GAAI/2B,IADJnD,GACiB,GAAKzB,KAAKmxE,qBAAqBvsE,EAAQnD,GACpD,OAAOmD,EAAQnD,EACnB,GAAImD,EAAQnD,GAAKzB,KAAKgrB,MAAM2Q,YAAc,GAAK37B,KAAKmxE,qBAAqBvsE,EAAQnD,GAC7E,OAAOmD,EAAQnD,CACvB,CACA,OAAO,IACX,EACA2tE,EAAsB/tE,UAAU6uE,uBAAyB,SAAUtrE,GAC/D,GAAI5E,KAAKuxE,qBAAqB3sE,GAC1B,OAAOA,EAEX,IADA,IAAInD,EAAI,EACDmD,EAAQnD,EAAI,GAAKmD,EAAQnD,EAAIzB,KAAKgrB,MAAM2Q,YAAc,GAAG,CAE5D,GAAI/2B,IADJnD,GACiB,GAAKzB,KAAKuxE,qBAAqB3sE,EAAQnD,GACpD,OAAOmD,EAAQnD,EACnB,GAAImD,EAAQnD,GAAKzB,KAAKgrB,MAAM2Q,YAAc,GAAK37B,KAAKuxE,qBAAqB3sE,EAAQnD,GAC7E,OAAOmD,EAAQnD,CACvB,CACA,OAAO,IACX,EACA2tE,EAAsB/tE,UAAU+uE,iBAAmB,SAAUxrE,GACzD,GAAa,MAATA,EAAJ,CAEA,IAAI6sE,EAAazxE,KAAKsxE,eAAe1sE,GACrC6sE,EAAW52C,UAAU9sB,IAAI/N,KAAK0wB,OAAOnH,SAASmoD,wBAC9CD,EAAWnoD,OAHD,CAId,EACA8lD,EAAsB/tE,UAAU8uE,iBAAmB,SAAUvrE,GACzD,GAAa,MAATA,EAAJ,CAEA,IAAIg4B,EAAa58B,KAAKwxE,eAAe5sE,GACrCg4B,EAAW/B,UAAU9sB,IAAI/N,KAAK0wB,OAAOnH,SAASmoD,wBAC9C90C,EAAWtT,OAHD,CAId,EACA8lD,EAAsB/tE,UAAUsvE,gBAAkB,SAAU/rE,GACxD,IAAI6sE,EAAazxE,KAAKsxE,eAAe1sE,GACrC6sE,EAAW52C,UAAUrsB,OAAOxO,KAAK0wB,OAAOnH,SAASmoD,wBACjDD,EAAWznD,MACf,EACAolD,EAAsB/tE,UAAU6vE,gBAAkB,SAAUtsE,GACxD,IAAIg4B,EAAa58B,KAAKwxE,eAAe5sE,GACrCg4B,EAAW/B,UAAUrsB,OAAOxO,KAAK0wB,OAAOnH,SAASmoD,wBACjD90C,EAAW5S,MACf,EACAolD,EAAsB/tE,UAAU2vE,kBAAoB,WAEhD,IADA,IAAIpsE,EAAQ5E,KAAKsvE,eACV1qE,EAAQ,GAEX,GADAA,IACI5E,KAAKmxE,qBAAqBvsE,GAI1B,OAHA5E,KAAK2wE,gBAAgB3wE,KAAKsvE,gBAC1BtvE,KAAKsvE,eAAiB1qE,OACtB5E,KAAKowE,iBAAiBpwE,KAAKsvE,eAKvC,EACAF,EAAsB/tE,UAAUyvE,oBAAsB,WAElD,IADA,IAAIlsE,EAAQ5E,KAAKsvE,eACV1qE,EAAQ5E,KAAKgrB,MAAM2Q,YAAc,GAEpC,GADA/2B,IACI5E,KAAKmxE,qBAAqBvsE,GAI1B,OAHA5E,KAAK2wE,gBAAgB3wE,KAAKsvE,gBAC1BtvE,KAAKsvE,eAAiB1qE,OACtB5E,KAAKowE,iBAAiBpwE,KAAKsvE,eAKvC,EACAF,EAAsB/tE,UAAU4vE,kBAAoB,WAEhD,IADA,IAAIrsE,EAAQ5E,KAAKsvE,eACV1qE,EAAQ,GAEX,GADAA,IACI5E,KAAKuxE,qBAAqB3sE,GAI1B,OAHA5E,KAAKkxE,gBAAgBlxE,KAAKsvE,gBAC1BtvE,KAAKsvE,eAAiB1qE,OACtB5E,KAAKmwE,iBAAiBnwE,KAAKsvE,eAKvC,EACAF,EAAsB/tE,UAAU0vE,oBAAsB,WAElD,IADA,IAAInsE,EAAQ5E,KAAKsvE,eACV1qE,EAAQ5E,KAAKgrB,MAAM2Q,YAAc,GAEpC,GADA/2B,IACI5E,KAAKuxE,qBAAqB3sE,GAI1B,OAHA5E,KAAKkxE,gBAAgBlxE,KAAKsvE,gBAC1BtvE,KAAKsvE,eAAiB1qE,OACtB5E,KAAKmwE,iBAAiBnwE,KAAKsvE,eAKvC,EACAF,EAAsB/tE,UAAUmvE,YAAc,SAAUmB,GACpD,OAAQA,GACJ,IAAK,aACD,GAAwB,eAApB3xE,KAAKuvE,WACL,MAEJ,IAAIqC,EAAkB5xE,KAAKkwE,uBAAuBlwE,KAAKsvE,gBACvD,GAAuB,MAAnBsC,EACA,MAEJ5xE,KAAKuvE,WAAa,aAClBvvE,KAAK2wE,gBAAgB3wE,KAAKsvE,gBAC1BtvE,KAAKsvE,eAAiBsC,EACtB5xE,KAAKmwE,iBAAiBnwE,KAAKsvE,gBAC3B,MACJ,IAAK,OACD,GAAwB,SAApBtvE,KAAKuvE,WACL,MAEJ,IAAIsC,EAAkB7xE,KAAKgwE,uBAAuBhwE,KAAKsvE,gBACvD,GAAuB,MAAnBuC,EACA,MAEJ7xE,KAAKuvE,WAAa,OAClBvvE,KAAKkxE,gBAAgBlxE,KAAKsvE,gBAC1BtvE,KAAKsvE,eAAiBuC,EACtB7xE,KAAKowE,iBAAiBpwE,KAAKsvE,gBAIvC,EACAF,EAAsB/tE,UAAUovE,eAAiB,SAAU7rE,GACvD,IAAIktE,EAAO9xE,KAAKgrB,MAAMla,IAAIlM,GAC1B,OAAIktE,EACOA,EAAK72D,IACT,IACX,EACAm0D,EAAsB/tE,UAAUwuE,eAAiB,SAAU50D,GACvD,IAAK,IAAIxZ,EAAI,EAAGA,EAAIzB,KAAKgrB,MAAM2Q,YAAal6B,IAAK,CAE7C,GADWzB,KAAKgrB,MAAMla,IAAIrP,GACjBwZ,KAAOA,EACZ,OAAOxZ,CACf,CACA,OAAO,IACX,EACO2tE,CACX,CAhV2C,GAiV3C3sE,EAAQ2sE,sBAAwBA,EAChC,IAAIkB,EAAqC,WACrC,SAASA,EAAoB5hD,EAAUqjD,GACnC/xE,KAAK+xE,sBAAwBA,EAC7B/xE,KAAK0uB,SAAWA,CACpB,CAaA,OAZA4hD,EAAoBjvE,UAAU2wE,OAAS,WACnC,OAAOltE,EAAKmc,gBAAgBjhB,KAAK0uB,SAASxN,QAC9C,EACAovD,EAAoBjvE,UAAU4wE,OAAS,WACnC,OAAOjyE,KAAK+xE,sBAAsBtB,eAAezwE,KAAK+xE,sBAAsBzC,eAChF,EACAgB,EAAoBjvE,UAAU6wE,mBAAqB,WAC/C,MAAiD,eAA1ClyE,KAAK+xE,sBAAsBxC,UACtC,EACAe,EAAoBjvE,UAAU8wE,aAAe,WACzC,MAAiD,SAA1CnyE,KAAK+xE,sBAAsBxC,UACtC,EACOe,CACX,CAlByC,GAmBzC7tE,EAAQ6tE,oBAAsBA,CAE9B,IAEArtE,IAAI/C,OAAO,aAAa,CAAC,UAAU,UAAU,SAAS,cAAc,cAAc,eAAe,oBAAoB,yBAAyB,0BAA0B,yBAAyB,0BAA0B,mBAAmB,aAAa,YAAY,wBAAwB,+BAA+B,gCAAgC,aAAa,qBAAqB,mBAAmB,8BAA8B,aAAa,gBAAgB,iBAAiB,SAAS0B,EAASa,EAAStC,GAAQ,aAClgB,IAAI40B,EAAY/0B,MAAQA,KAAK+0B,UAAa,SAAS7vB,GAC/C,IAAIsM,EAAsB,oBAAXwjB,QAAyBA,OAAOC,SAAUza,EAAIhJ,GAAKtM,EAAEsM,GAAI/P,EAAI,EAC5E,GAAI+Y,EAAG,OAAOA,EAAEjZ,KAAK2D,GACrB,GAAIA,GAAyB,kBAAbA,EAAE3E,OAAqB,MAAO,CAC1C20B,KAAM,WAEF,OADIhwB,GAAKzD,GAAKyD,EAAE3E,SAAQ2E,OAAI,GACrB,CAAE3B,MAAO2B,GAAKA,EAAEzD,KAAM0zB,MAAOjwB,EACxC,GAEJ,MAAM,IAAIR,UAAU8M,EAAI,0BAA4B,kCACxD,EACIqD,EAAMjT,EAAQ,aACdiP,EAAMjP,EAAQ,aACdqV,EAAOrV,EAAQ,cACf+J,EAAY/J,EAAQ,mBACpBukB,EAAYvkB,EAAQ,wBAAwBukB,UAC5CugB,EAAe9kC,EAAQ,yBAAyB8kC,aAChD2B,EAAczmC,EAAQ,wBAAwBymC,YAC9CW,EAAapnC,EAAQ,yBAAyBonC,WAC9CgxB,EAAcp4D,EAAQ,kBAAkBo4D,YACxC+L,EAASnkE,EAAQ,YAAYmkE,OAC7BprD,EAAQ/Y,EAAQ,WAAW+Y,MAC3BrI,EAAe1Q,EAAQ,uBAAuB0Q,aAC9C02D,EAAiBpnE,EAAQ,8BAA8BonE,eACvDoJ,EAAkBxwE,EAAQ,+BAA+BquB,SACzDtW,EAAS/X,EAAQ,YACjB48C,EAAgB58C,EAAQ,oBAAoB48C,cAC5C8uB,EAAc1rE,EAAQ,kBAAkB0rE,YACxC8B,EAAwBxtE,EAAQ,6BAA6BwtE,sBAC7D34D,EAAM7U,EAAQ,YAAY6U,IAC1B4P,EAAYzkB,EAAQ,eACpBkD,EAAOlD,EAAQ,cACfywE,EAAwB,WACxB,SAASA,EAAO9oD,EAAUtM,EAAS1Q,GAAWvM,KAAKid,QAC/Cjd,KAAKgiB,WAAa,GAClB,IAAInT,EAAY0a,EAAS+oD,sBACzBtyE,KAAK6O,UAAYA,EACjB7O,KAAKupB,SAAWA,EAChBvpB,KAAK2C,GAAK,YAAc0vE,EAAO9X,KAC/Bv6D,KAAKiwB,SAAW,IAAI+4C,EAAer9D,EAAU/B,MAAQ,MAAQ,MAAOwoE,GAC7C,iBAAZpmE,WACPhM,KAAKovB,UAAY,IAAIjJ,EAAUoD,EAASgpD,uBAAwBvyE,MAChEA,KAAKupB,SAASipD,SAAWxyE,KAAKovB,UAAUhB,aACxCpuB,KAAKyvB,cAAgB,IAAIiX,EAAa1mC,MACtC,IAAIqoC,EAAYroC,OAEpBA,KAAKyyE,WAAa,IAAIzpC,EAAWhpC,MACjCA,KAAK0yE,SAAU,IAAI3M,GAASnwD,IAAI,CAC5B8vD,MAAM,IAEV1lE,KAAK2yE,gBAAkB3yE,KAAK2yE,gBAAgB9sD,KAAK7lB,MACjDA,KAAKiwB,SAAS5c,GAAG,OAAQrT,KAAK2yE,iBAC9B3yE,KAAK4yE,0BACL5yE,KAAK6yE,iBAAmB57D,EAAKrO,YAAY,WACrC5I,KAAKmT,QAAQ,QAAS,CAAC,GACnBnT,KAAKid,UAAYjd,KAAKid,QAAQ09C,WAC9B36D,KAAKid,QAAQu9C,YAAY1O,eACjC,EAAEjmC,KAAK7lB,OACPA,KAAKqT,GAAG,UAAU,SAAU1B,EAAG7I,GAC3BA,EAAM+pE,iBAAiBpqE,SAAS,GACpC,IACAzI,KAAK8yE,WAAW71D,GAAW1Q,GAAWA,EAAQ0Q,SAAW,IAAI+8C,EAAY,KACzErgD,EAAOzD,aAAalW,MAChBuM,GACAvM,KAAK+U,WAAWxI,GACpBoN,EAAOxG,QAAQ,SAAUnT,KAC7B,CAmpDA,OAlpDAqyE,EAAOhxE,UAAUuxE,wBAA0B,WACvC5yE,KAAKiwB,SAAS5c,GAAG,OAAQrT,KAAK8nC,eAAejiB,KAAK7lB,OAAO,GACzDA,KAAKiwB,SAAS5c,GAAG,YAAarT,KAAK6nC,aAAahiB,KAAK7lB,OAAO,GAC5DA,KAAK+yE,cAAgB97D,EAAKrO,YAAY5I,KAAK6nC,aAAahiB,KAAK7lB,MAAM,IACnEA,KAAKqT,GAAG,SAAU,WACTrT,KAAKiqB,QACNjqB,KAAK8nC,iBACL9nC,KAAKiqB,MAAMymC,gBAAkB1wD,KAAKgzE,UAEtChzE,KAAKiqB,MAAMI,YAAa,CAC5B,EAAExE,KAAK7lB,OAAO,GACdA,KAAKqT,GAAG,kBAAmB,WAClBrT,KAAKiqB,QACNjqB,KAAK8nC,iBACL9nC,KAAKiqB,MAAMymC,gBAAkB1wD,KAAKgzE,UAEtChzE,KAAKiqB,MAAMK,kBAAmB,CAClC,EAAEzE,KAAK7lB,OAAO,EAClB,EACAqyE,EAAOhxE,UAAUymC,eAAiB,SAAUmrC,GACxC,GAAIjzE,KAAKiqB,MAAO,CACZ,IAAKgpD,GAAgBjzE,KAAKiqB,MAAME,QAC5B,OACJnqB,KAAKkzE,OAASlzE,KAAKiqB,KACvB,CACKgpD,IACDjzE,KAAKmzE,gBAAkB,KACvBF,EAAe,CAAC,GAEpBjzE,KAAK+yE,cAActqE,WACnBzI,KAAKiqB,MAAQjqB,KAAKid,QAAQgN,MAAQ,CAC9BE,QAAS8oD,EAAa9oD,SAAW,CAAC,EAClC8f,KAAMgpC,EAAahpC,KACnBiyB,UAAWl8D,KAAKupB,SAAS2yC,WAE7Bl8D,KAAKiqB,MAAMymC,gBAAkB1wD,KAAK+oB,UAAUiwB,QAChD,EACAq5B,EAAOhxE,UAAUwmC,aAAe,SAAU3+B,GACtC,GAAIlJ,KAAKiqB,OAASjqB,KAAKid,QAAS,CAC5B,GAAI/T,IAAuB,IAAlBA,EAAEggE,cAA0BlpE,KAAKid,QACtC,OAAQjd,KAAKiqB,MAAQ,KACzB,GAAS,GAAL/gB,GAAalJ,KAAKiqB,MAAME,SAAsC,SAA3BnqB,KAAKiqB,MAAME,QAAQ/mB,KACtD,OAEJ,GADApD,KAAKmT,QAAQ,uBACRnT,KAAKiqB,MACN,OACJ,IAAIE,EAAUnqB,KAAKiqB,MAAME,QACrB8/C,EAAiB9/C,GAAWA,EAAQ8/C,eACxC,GAAIA,EAAgB,CAChB,OAAQA,GACJ,IAAK,iBACDA,EAAiB,UACrB,IAAK,SACDjqE,KAAKupB,SAAS+I,qBAAqB,KAAM,IACzC,MACJ,IAAK,UACL,IAAK,SACDtyB,KAAKupB,SAAS+I,uBACd,MACJ,IAAK,gBACD,IAAIlX,EAAQpb,KAAK+oB,UAAUgC,WACvBpR,EAAS3Z,KAAKupB,SAASoW,aACvBvkB,EAAMJ,MAAMC,KAAOtB,EAAO+C,SAAWtB,EAAMlV,IAAI+U,KAAOtB,EAAO8C,WAC7Dzc,KAAKupB,SAAS6pD,wBAAwBpzE,KAAK+oB,UAAUmJ,OAAQlyB,KAAK+oB,UAAUuqB,MAMlE,WAAlB22B,GACAjqE,KAAKupB,SAAS8pD,iBAAiBrzE,KAAKiqB,MAAMiyC,UAClD,CACA,IAAIoX,EAAMtzE,KAAK+oB,UAAUiwB,SACzBh5C,KAAKiqB,MAAM0mC,eAAiB2iB,EAC5BtzE,KAAKgzE,SAAWhzE,KAAK+oB,UAAUiwB,SAC/Bh5C,KAAKid,QAAQwnB,iBAAiBipB,aAAa4lB,GAC3CtzE,KAAKkzE,OAASlzE,KAAKiqB,MACnBjqB,KAAKiqB,MAAQ,IACjB,CACJ,EACAooD,EAAOhxE,UAAUsxE,gBAAkB,SAAUzpE,GACzC,GAAKlJ,KAAKuzE,iBAAV,CAEA,IAAIC,EAAOxzE,KAAKkzE,OACZO,EAAoBzzE,KAAK0zE,mBACzBC,EAAcH,EAAKrpD,SAAYjhB,EAAEihB,QAAQ/mB,MAAQowE,EAAKrpD,QAAQ/mB,KAClE,GAAsB,gBAAlB8F,EAAEihB,QAAQ/mB,KAAwB,CAClC,IAAI2jB,EAAO7d,EAAE+gC,UACiB9oC,IAA1BnB,KAAK4zE,mBACL5zE,KAAK4zE,kBAAmB,GAC5BD,EAAcA,GACP3zE,KAAK4zE,oBACH,KAAKpoE,KAAKub,IAAS,KAAKvb,KAAKgoE,EAAKvpC,OAC3CjqC,KAAK4zE,kBAAmB,CAC5B,MAEID,EAAcA,IACwC,IAA/CF,EAAkBxxE,QAAQiH,EAAEihB,QAAQ/mB,MAElB,UAAzBpD,KAAKuzE,kBACFttD,KAAKC,MAAQlmB,KAAK6zE,kBAAoB,MACzCF,GAAc,GAEdA,EACA3zE,KAAKid,QAAQo+C,iBAAkB,GACqB,IAA/CoY,EAAkBxxE,QAAQiH,EAAEihB,QAAQ/mB,QACzCpD,KAAK6zE,kBAAoB5tD,KAAKC,MAxBxB,CAyBd,EACAmsD,EAAOhxE,UAAUmoC,mBAAqB,SAAUsqC,EAAiBt7D,GAC7D,GAAIs7D,GAA8C,kBAApBA,GAAmD,OAAnBA,EAA0B,CACpF9zE,KAAK+zE,cAAgBD,EACrB,IAAIhrE,EAAQ9I,KACZ2Z,EAAOf,WAAW,CAAC,aAAck7D,IAAkB,SAAU3zE,GACrD2I,EAAMirE,eAAiBD,GACvBhrE,EAAM2pE,WAAWjpC,mBAAmBrpC,GAAUA,EAAOqlB,SACzDhN,GAAMA,GACV,GACJ,MAEIxY,KAAK+zE,cAAgB,KACrB/zE,KAAKyyE,WAAWjpC,mBAAmBsqC,GACnCt7D,GAAMA,GAEd,EACA65D,EAAOhxE,UAAUuoC,mBAAqB,WAClC,OAAO5pC,KAAKyyE,WAAW7oC,oBAC3B,EACAyoC,EAAOhxE,UAAUyxE,WAAa,SAAU71D,GACpC,GAAIjd,KAAKid,SAAWA,EAApB,CAEIjd,KAAKiqB,OACLjqB,KAAK6nC,eACT7nC,KAAKiqB,MAAQ,CAAC,EACd,IAAI+pD,EAAah0E,KAAKid,QACtB,GAAI+2D,EAAY,CACZh0E,KAAKid,QAAQ1J,IAAI,SAAUvT,KAAKi0E,mBAChCj0E,KAAKid,QAAQ1J,IAAI,aAAcvT,KAAK0+D,eACpC1+D,KAAKid,QAAQ1J,IAAI,kBAAmBvT,KAAKk0E,oBACzCl0E,KAAKid,QAAQ1J,IAAI,gBAAiBvT,KAAKm0E,kBACvCn0E,KAAKid,QAAQ1J,IAAI,kBAAmBvT,KAAKo0E,oBACzCp0E,KAAKid,QAAQ1J,IAAI,iBAAkBvT,KAAKq0E,mBACxCr0E,KAAKid,QAAQ1J,IAAI,aAAcvT,KAAKs0E,eACpCt0E,KAAKid,QAAQ1J,IAAI,oBAAqBvT,KAAKu0E,sBAC3Cv0E,KAAKid,QAAQ1J,IAAI,mBAAoBvT,KAAKw0E,qBAC1Cx0E,KAAKid,QAAQ1J,IAAI,mBAAoBvT,KAAKy0E,qBAC1Cz0E,KAAKid,QAAQ1J,IAAI,mBAAoBvT,KAAK00E,qBAC1C10E,KAAKid,QAAQ1J,IAAI,kBAAmBvT,KAAK20E,iBACzC30E,KAAKid,QAAQ1J,IAAI,kBAAmBvT,KAAK40E,oBACzC50E,KAAKid,QAAQ1J,IAAI,mBAAoBvT,KAAK60E,qBAC1C,IAAI9rD,EAAY/oB,KAAKid,QAAQ8wC,eAC7BhlC,EAAUxV,IAAI,eAAgBvT,KAAK20E,iBACnC5rD,EAAUxV,IAAI,kBAAmBvT,KAAK80E,mBAC1C,CACA90E,KAAKid,QAAUA,EACXA,GACAjd,KAAKi0E,kBAAoBj0E,KAAK+0E,iBAAiBlvD,KAAK7lB,MACpDid,EAAQ5J,GAAG,SAAUrT,KAAKi0E,mBAC1Bj0E,KAAKupB,SAASupD,WAAW71D,GACzBjd,KAAK0+D,cAAgB1+D,KAAKg1E,aAAanvD,KAAK7lB,MAC5Cid,EAAQ5J,GAAG,aAAcrT,KAAK0+D,eAC9B1+D,KAAKk0E,mBAAqBl0E,KAAKi1E,kBAAkBpvD,KAAK7lB,MACtDid,EAAQ5J,GAAG,kBAAmBrT,KAAKk0E,oBACnCl0E,KAAKm0E,iBAAmBn0E,KAAKupB,SAAS2rD,gBAAgBrvD,KAAK7lB,KAAKupB,UAChEtM,EAAQ5J,GAAG,gBAAiBrT,KAAKm0E,kBACjCn0E,KAAKo0E,mBAAqBp0E,KAAKm1E,kBAAkBtvD,KAAK7lB,MACtDid,EAAQ5J,GAAG,kBAAmBrT,KAAKo0E,oBACnCp0E,KAAKq0E,kBAAoBr0E,KAAKo1E,iBAAiBvvD,KAAK7lB,MACpDid,EAAQ5J,GAAG,iBAAkBrT,KAAKq0E,mBAClCr0E,KAAKs0E,cAAgBt0E,KAAKy6D,aAAa50C,KAAK7lB,MAC5Cid,EAAQ5J,GAAG,aAAcrT,KAAKs0E,eAC9Bt0E,KAAKu0E,qBAAuBv0E,KAAKq1E,oBAAoBxvD,KAAK7lB,MAC1DA,KAAKid,QAAQ5J,GAAG,oBAAqBrT,KAAKu0E,sBAC1Cv0E,KAAKw0E,oBAAsBx0E,KAAKs1E,mBAAmBzvD,KAAK7lB,MACxDA,KAAKid,QAAQ5J,GAAG,mBAAoBrT,KAAKw0E,qBACzCx0E,KAAKy0E,oBAAsBz0E,KAAKu1E,mBAAmB1vD,KAAK7lB,MACxDA,KAAKid,QAAQ5J,GAAG,mBAAoBrT,KAAKy0E,qBACzCz0E,KAAK00E,oBAAsB10E,KAAKw1E,mBAAmB3vD,KAAK7lB,MACxDA,KAAKid,QAAQ5J,GAAG,mBAAoBrT,KAAK00E,qBACzC10E,KAAK20E,gBAAkB30E,KAAKy1E,eAAe5vD,KAAK7lB,MAChDA,KAAKid,QAAQ5J,GAAG,kBAAmBrT,KAAK20E,iBACxC30E,KAAK40E,mBAAqB50E,KAAK01E,kBAAkB7vD,KAAK7lB,MACtDA,KAAKid,QAAQ5J,GAAG,kBAAmBrT,KAAK40E,oBACxC50E,KAAK60E,oBAAsB70E,KAAK21E,mBAAmB9vD,KAAK7lB,MACxDA,KAAKid,QAAQ5J,GAAG,mBAAoBrT,KAAK60E,qBACzC70E,KAAK+oB,UAAY9L,EAAQ8wC,eACzB/tD,KAAK+oB,UAAU1V,GAAG,eAAgBrT,KAAK20E,iBACvC30E,KAAK80E,mBAAqB90E,KAAK41E,kBAAkB/vD,KAAK7lB,MACtDA,KAAK+oB,UAAU1V,GAAG,kBAAmBrT,KAAK80E,oBAC1C90E,KAAKg1E,eACLh1E,KAAKy1E,iBACLz1E,KAAK01E,oBACL11E,KAAK21E,qBACL31E,KAAK41E,oBACL51E,KAAKq1E,sBACLr1E,KAAKs1E,qBACLt1E,KAAKu1E,qBACLv1E,KAAKw1E,qBACLx1E,KAAKid,QAAQwrB,kBAAoBzoC,KAAKupB,SAASs4C,kBAC/C7hE,KAAKupB,SAASolD,eAGd3uE,KAAK+oB,UAAY,KACjB/oB,KAAKupB,SAASupD,WAAW71D,IAE7Bjd,KAAKmT,QAAQ,gBAAiB,CAC1B8J,QAASA,EACT+2D,WAAYA,IAEhBh0E,KAAKiqB,MAAQ,KACb+pD,GAAcA,EAAW7gE,QAAQ,eAAgB,CAAE0iE,UAAW71E,OAC9Did,GAAWA,EAAQ9J,QAAQ,eAAgB,CAAEud,OAAQ1wB,OACjDid,IAAYA,EAAQ09C,WACpB19C,EAAQu9C,YAAY1O,eAnFd,CAoFd,EACAumB,EAAOhxE,UAAUy0E,WAAa,WAC1B,OAAO91E,KAAKid,OAChB,EACAo1D,EAAOhxE,UAAUqnD,SAAW,SAAUrlD,EAAK0iC,GAQvC,OAPA/lC,KAAKid,QAAQpQ,IAAI67C,SAASrlD,GACrB0iC,EAEiB,GAAbA,EACL/lC,KAAK8qE,mBACc,GAAd/kC,GACL/lC,KAAK2qE,oBAJL3qE,KAAKmtB,YAKF9pB,CACX,EACAgvE,EAAOhxE,UAAUkuC,SAAW,WACxB,OAAOvvC,KAAKid,QAAQsyB,UACxB,EACA8iC,EAAOhxE,UAAU0sD,aAAe,WAC5B,OAAO/tD,KAAK+oB,SAChB,EACAspD,EAAOhxE,UAAU00E,OAAS,SAAUjW,GAChC9/D,KAAKupB,SAASysD,SAASlW,EAC3B,EACAuS,EAAOhxE,UAAU00B,SAAW,SAAUC,EAAOxd,GACzCxY,KAAKupB,SAASwM,SAASC,EAAOxd,EAClC,EACA65D,EAAOhxE,UAAU40E,SAAW,WACxB,OAAOj2E,KAAKupB,SAAS0sD,UACzB,EACA5D,EAAOhxE,UAAU4O,SAAW,SAAU/S,GAClC8C,KAAKupB,SAAStZ,SAAS/S,EAC3B,EACAm1E,EAAOhxE,UAAUsxB,WAAa,SAAUz1B,GACpC8C,KAAKupB,SAASoJ,WAAWz1B,EAC7B,EACAm1E,EAAOhxE,UAAU60E,YAAc,WAC3B,OAAOl2E,KAAKuV,UAAU,aAClB1E,EAAId,cAAc/P,KAAK6O,WAAWyY,QAC1C,EACA+qD,EAAOhxE,UAAU80E,YAAc,SAAUtlC,GACrC7wC,KAAKiV,UAAU,WAAY47B,EAC/B,EACAwhC,EAAOhxE,UAAU+0E,mBAAqB,WAClC,IAAIp2E,KAAKq2E,kBAAT,CAGA,IAAIn1C,EAAOlhC,KACXA,KAAKq2E,mBAAoB,EACzB7tE,YAAW,WACP04B,EAAKm1C,mBAAoB,EACzB,IAAIp5D,EAAUikB,EAAKjkB,QACnB,GAAKA,IAAWA,EAAQ09C,UAAxB,CAEI19C,EAAQq5D,oBACRr5D,EAAQq5D,kBAAkBC,UAAUxxE,SAAQ,SAAUpC,GAClDsa,EAAQyd,aAAa/3B,EACzB,IACAsa,EAAQq5D,kBAAoB,MAEhC,IAAInlD,EAAM+P,EAAK2Q,oBACXrsB,EAAU0b,EAAK0I,qBACfuK,EAAc3uB,GAAWA,EAAQgxD,2BAA6BhxD,EAAQgxD,0BAA0Bt1C,GAChGgY,EAASj8B,EAAQm7C,yBAAyBjnC,EAAKgjB,GACnD,IAAK+E,EAAQ,CACT,IACIyB,EADW,IAAI6D,EAAcvhC,EAASkU,EAAIlW,IAAKkW,EAAIjW,QAClCikC,kBACrB,GAAIxE,GAAS,0BAA0BnvC,KAAKmvC,EAAMznC,MAAO,CACrD,IAAIujE,EAAiBx5D,EAAQ27C,gBAAgBznC,GACzCslD,IACAv9B,EAAS,CACLu9B,EAAepd,YAAYx8C,UAAY45D,EAAe9c,QAAU8c,EAAepd,YAC/Eod,EAAehd,aAAa58C,UAAY45D,EAAe7c,SAAW6c,EAAehd,cAG7F,CACJ,CAGA,IAFKvgB,GAAUj8B,EAAQ2kC,MAAM80B,cACzBx9B,EAASj8B,EAAQ2kC,MAAM80B,YAAYx1C,EAAKjkB,UACvCi8B,EAAL,CAKA,IAAIy9B,EAAa,cACZtxE,MAAMmB,QAAQ0yC,GAGO,GAAjBA,EAAO34C,SACZo2E,EAAa,qBAHbz9B,EAAS,CAACA,GAKO,GAAjBA,EAAO34C,SACoD,GAAvDoa,EAAM2C,cAAc47B,EAAO,GAAGhzC,IAAKgzC,EAAO,GAAGl+B,OAC7Ck+B,EAAS,CAACv+B,EAAMgC,WAAWu8B,EAAO,GAAGl+B,MAAOk+B,EAAO,GAAGhzC,MACM,GAAvDyU,EAAM2C,cAAc47B,EAAO,GAAGl+B,MAAOk+B,EAAO,GAAGhzC,OACpDgzC,EAAS,CAACv+B,EAAMgC,WAAWu8B,EAAO,GAAGl+B,MAAOk+B,EAAO,GAAGhzC,QAE9D+W,EAAQq5D,kBAAoB,CACxBp9B,OAAQA,EACRq9B,UAAWr9B,EAAO/zC,KAAI,SAAUiW,GAC5B,OAAO6B,EAAQ2c,UAAUxe,EAAOu7D,EAAY,OAChD,KAEAz1C,EAAK01C,4BACL11C,EAAK3X,SAASstD,WAAWC,uBArB7B,MAHQ51C,EAAK01C,4BACL11C,EAAK3X,SAASstD,WAAWC,uBA5BvB,CAoDd,GAAG,GA3DH,CA4DJ,EACAzE,EAAOhxE,UAAUioB,MAAQ,WACrBtpB,KAAKovB,UAAU9F,OACnB,EACA+oD,EAAOhxE,UAAU8mB,UAAY,WACzB,OAAOnoB,KAAKovB,UAAUjH,WAC1B,EACAkqD,EAAOhxE,UAAU2oB,KAAO,WACpBhqB,KAAKovB,UAAUpF,MACnB,EACAqoD,EAAOhxE,UAAU8nB,QAAU,SAAUjgB,GAC7BlJ,KAAK+2E,aAET/2E,KAAK+2E,YAAa,EAClB/2E,KAAKupB,SAASytD,aACdh3E,KAAKupB,SAAS0tD,iBACdj3E,KAAK2S,MAAM,QAASzJ,GACxB,EACAmpE,EAAOhxE,UAAU4nB,OAAS,SAAU/f,GAC3BlJ,KAAK+2E,aAEV/2E,KAAK+2E,YAAa,EAClB/2E,KAAKupB,SAAS2tD,aACdl3E,KAAKupB,SAAS4tD,gBACdn3E,KAAK2S,MAAM,OAAQzJ,GACvB,EACAmpE,EAAOhxE,UAAU+1E,cAAgB,WAC7Bp3E,KAAKupB,SAAS8tD,eACdr3E,KAAKo2E,qBACLp2E,KAAKs3E,4BACT,EACAjF,EAAOhxE,UAAU0zE,iBAAmB,SAAUjlC,GAC1C,IAAI41B,EAAO1lE,KAAKid,QAAQuzB,aACpB9zB,EAAWozB,EAAM90B,MAAMC,KAAO60B,EAAM5pC,IAAI+U,IAAM60B,EAAM5pC,IAAI+U,IAAMgpC,IAClEjkD,KAAKupB,SAASguD,YAAYznC,EAAM90B,MAAMC,IAAKyB,EAASgpD,GACpD1lE,KAAKmT,QAAQ,SAAU28B,GACvB9vC,KAAKo3E,eACT,EACA/E,EAAOhxE,UAAU4zE,kBAAoB,SAAU/rE,GAC3C,IAAIkvC,EAAOlvC,EAAEsL,KACbxU,KAAKupB,SAASguD,YAAYn/B,EAAKyT,MAAOzT,EAAK3xC,KAC/C,EACA4rE,EAAOhxE,UAAUq0E,kBAAoB,WACjC11E,KAAKupB,SAASiuD,UAAUx3E,KAAKid,QAAQupB,eACzC,EACA6rC,EAAOhxE,UAAUs0E,mBAAqB,WAClC31E,KAAKupB,SAASkuD,UAAUz3E,KAAKid,QAAQsiD,gBACzC,EACA8S,EAAOhxE,UAAUo0E,eAAiB,WAC9Bz1E,KAAKo3E,gBACLp3E,KAAKmT,QAAQ,kBACjB,EACAk/D,EAAOhxE,UAAUi2E,2BAA6B,WAC1C,IACIxZ,EADA7gD,EAAUjd,KAAK81E,aAUnB,GARI91E,KAAK03E,uBACuB,QAAxB13E,KAAK23E,iBAA8B33E,KAAK+oB,UAAU3M,gBAClD0hD,EAAY99D,KAAK6xC,qBACjB7xC,KAAKupB,SAASyM,OAASh2B,KAAKupB,SAASyM,MAAM4hD,0BAA4B53E,KAAK+oB,UAAUlM,YACtFihD,GAAY,IACZ99D,KAAKupB,SAASsuD,WAA0C,IAA7B73E,KAAKid,QAAQ0e,aAAuB37B,KAAKupB,SAASuuD,UAAY,IACzFha,GAAY,IAEhB7gD,EAAQ86D,uBAAyBja,EACjC7gD,EAAQyd,aAAazd,EAAQ86D,qBAAqBp1E,IAClDsa,EAAQ86D,qBAAuB,UAE9B,IAAK96D,EAAQ86D,sBAAwBja,EAAW,CACjD,IAAI1iD,EAAQ,IAAIT,EAAMmjD,EAAU7iD,IAAK6iD,EAAU5iD,OAAQ4iD,EAAU7iD,IAAKgpC,KACtE7oC,EAAMzY,GAAKsa,EAAQ2c,UAAUxe,EAAO,kBAAmB,cACvD6B,EAAQ86D,qBAAuB38D,CACnC,MACS0iD,IACL7gD,EAAQ86D,qBAAqB/8D,MAAMC,IAAM6iD,EAAU7iD,IACnDgC,EAAQ86D,qBAAqB7xE,IAAI+U,IAAM6iD,EAAU7iD,IACjDgC,EAAQ86D,qBAAqB/8D,MAAME,OAAS4iD,EAAU5iD,OACtD+B,EAAQ9J,QAAQ,oBAExB,EACAk/D,EAAOhxE,UAAUu0E,kBAAoB,SAAU1sE,GAC3C,IAAI+T,EAAUjd,KAAKid,QAKnB,GAJIA,EAAQ+6D,kBACR/6D,EAAQyd,aAAazd,EAAQ+6D,kBAEjC/6D,EAAQ+6D,iBAAmB,KACtBh4E,KAAK+oB,UAAUlM,UAMhB7c,KAAKs3E,iCANsB,CAC3B,IAAIl8D,EAAQpb,KAAK+oB,UAAUgC,WACvB7tB,EAAQ8C,KAAKsgC,oBACjBrjB,EAAQ+6D,iBAAmB/6D,EAAQ2c,UAAUxe,EAAO,gBAAiBle,EACzE,CAIA,IAAIib,EAAKnY,KAAKi4E,wBAA0Bj4E,KAAKk4E,+BAC7Cl4E,KAAKid,QAAQ6gD,UAAU3lD,GACvBnY,KAAKmT,QAAQ,kBACjB,EACAk/D,EAAOhxE,UAAU62E,6BAA+B,WAC5C,IAAIj7D,EAAUjd,KAAKid,QACf8L,EAAY/oB,KAAKiuB,oBACrB,IAAIlF,EAAUlM,YAAakM,EAAU3M,cAArC,CAEA,IAAIvB,EAAckO,EAAU/N,MAAME,OAC9BH,EAAYgO,EAAU7iB,IAAIgV,OAC1B9R,EAAO6T,EAAQwN,QAAQ1B,EAAU/N,MAAMC,KACvCsrD,EAASn9D,EAAKwnC,UAAU/1B,EAAaE,GACzC,KAAIwrD,EAAOhmE,OAAS,MAAS,SAASiL,KAAK+6D,GAA3C,CAEA,IAAIpuD,EAAKnY,KAAK0yE,QAAQlM,gBAAgB,CAClCQ,WAAW,EACXF,eAAe,EACfP,OAAQA,IAER4R,EAAmB/uE,EAAKwnC,UAAU/1B,EAAc,EAAGE,EAAY,GACnE,GAAK5C,EAAG3M,KAAK2sE,GAEb,OAAOhgE,CATG,CANA,CAgBd,EACAk6D,EAAOhxE,UAAUg0E,oBAAsB,WACnCr1E,KAAKupB,SAAS6uD,oBAClB,EACA/F,EAAOhxE,UAAUi0E,mBAAqB,WAClCt1E,KAAKupB,SAAS8uD,mBAClB,EACAhG,EAAOhxE,UAAUk0E,mBAAqB,WAClCv1E,KAAKupB,SAAS+uD,mBAClB,EACAjG,EAAOhxE,UAAUm0E,mBAAqB,WAClCx1E,KAAKupB,SAASsyC,eAAe77D,KAAKid,QAAQghD,iBAC9C,EACAoU,EAAOhxE,UAAU2zE,aAAe,SAAU9rE,GACtClJ,KAAKupB,SAASgvD,aACdv4E,KAAK2S,MAAM,aAAczJ,EAC7B,EACAmpE,EAAOhxE,UAAU8zE,kBAAoB,WACjCn1E,KAAKupB,SAASolD,YAClB,EACA0D,EAAOhxE,UAAU+zE,iBAAmB,WAChCp1E,KAAKupB,SAASysD,UAAS,EAC3B,EACA3D,EAAOhxE,UAAUo5D,aAAe,WAC5Bz6D,KAAKs3E,6BACLt3E,KAAKupB,SAASolD,YAClB,EACA0D,EAAOhxE,UAAUm3E,gBAAkB,WAC/B,OAAOx4E,KAAKid,QAAQukB,aAAaxhC,KAAKiuB,oBAC1C,EACAokD,EAAOhxE,UAAUwrB,YAAc,WAC3B,IAAI9F,EAAO/mB,KAAKw4E,kBACZC,EAAKz4E,KAAKid,QAAQpQ,IAAI+7C,sBACtB8vB,GAAW,EACf,IAAK3xD,GAAQ/mB,KAAK8rE,wBAAyB,CACvC4M,GAAW,EAEX,IADA,IAAIx/B,EAASl5C,KAAK+oB,UAAUwhD,eACnB9oE,EAAI,EAAGA,EAAIy3C,EAAO34C,OAAQkB,IAAK,CACpC,IAAI2Z,EAAQ89B,EAAOz3C,GACfA,GAAKy3C,EAAOz3C,EAAI,GAAGuZ,MAAMC,KAAOG,EAAMJ,MAAMC,MAEhD8L,GAAQ/mB,KAAKid,QAAQwN,QAAQrP,EAAMJ,MAAMC,KAAOw9D,EACpD,CACJ,CACA,IAAIvvE,EAAI,CAAE6d,KAAMA,GAGhB,OAFA/mB,KAAKmT,QAAQ,OAAQjK,GACrBmd,EAAUN,WAAW2yD,GAAWxvE,EAAE6d,KAC3B7d,EAAE6d,IACb,EACAsrD,EAAOhxE,UAAU0rB,OAAS,WACtB/sB,KAAKiwB,SAAShmB,KAAK,OAAQjK,KAC/B,EACAqyE,EAAOhxE,UAAUyrB,MAAQ,WACrB9sB,KAAKiwB,SAAShmB,KAAK,MAAOjK,KAC9B,EACAqyE,EAAOhxE,UAAUmqB,QAAU,SAAUzE,EAAMX,GACvC,IAAIld,EAAI,CAAE6d,KAAMA,EAAMX,MAAOA,GAC7BpmB,KAAKiwB,SAAShmB,KAAK,QAASjK,KAAMkJ,EACtC,EACAmpE,EAAOhxE,UAAU0qE,aAAe,SAAU7iE,GACtB,iBAALA,IACPA,EAAI,CAAE6d,KAAM7d,IAChBlJ,KAAKmT,QAAQ,QAASjK,GACtB,IAAI6d,EAAO7d,EAAE6d,KACThB,EAAWgB,IAASV,EAAUN,SAC9B9I,EAAUjd,KAAKid,QACnB,IAAKjd,KAAKyxB,mBAAqBzxB,KAAK24E,uBAC5B5yD,EACA9I,EAAQolB,OAAO,CAAEpnB,IAAKjb,KAAK+oB,UAAUuqB,KAAKr4B,IAAKC,OAAQ,GAAK6L,GAE5D/mB,KAAKqiC,OAAOtb,QAEf,GAAIhB,EACL/lB,KAAK+oB,UAAUswB,UAAUH,OAAOn0C,SAAQ,SAAUqW,GAC9C6B,EAAQolB,OAAO,CAAEpnB,IAAKG,EAAMJ,MAAMC,IAAKC,OAAQ,GAAK6L,EACxD,QAEC,CACD,IAAIiE,EAAQjE,EAAK5kB,MAAM,cACnB+2C,EAASl5C,KAAK+oB,UAAUswB,UAAUH,OAClC0/B,EAA6B,GAAhB5tD,EAAMzqB,UAAiByqB,EAAM,KAAOA,EAAM,IAC3D,GAAIA,EAAMzqB,QAAU24C,EAAO34C,QAAUq4E,EACjC,OAAO54E,KAAKiwB,SAAShmB,KAAK,eAAgBjK,KAAM+mB,GACpD,IAAK,IAAItlB,EAAIy3C,EAAO34C,OAAQkB,KAAM,CAC9B,IAAI2Z,EAAQ89B,EAAOz3C,GACd2Z,EAAMyB,WACPI,EAAQzO,OAAO4M,GACnB6B,EAAQolB,OAAOjnB,EAAMJ,MAAOgQ,EAAMvpB,GACtC,CACJ,CACJ,EACA4wE,EAAOhxE,UAAU+qB,YAAc,SAAUjC,EAAS8f,GAC9C,OAAOjqC,KAAKiwB,SAAShmB,KAAKkgB,EAASnqB,KAAMiqC,EAC7C,EACAooC,EAAOhxE,UAAUghC,OAAS,SAAUtb,EAAMG,GACtC,IAAIjK,EAAUjd,KAAKid,QACf2mB,EAAO3mB,EAAQoiD,UACfr2C,EAAShpB,KAAK6xC,oBAClB,GAAI7xC,KAAK64E,yBAA2B3xD,EAAQ,CACxC,IAAIvoB,EAAYilC,EAAK4iB,gBAAgBvpC,EAAQ+uC,SAAShjC,EAAO/N,KAAM,YAAajb,KAAMid,EAAS8J,GAC3FpoB,IACIooB,IAASpoB,EAAUooB,OACd/mB,KAAK24E,yBACN34E,KAAKid,QAAQo+C,iBAAkB,EAC/Br7D,KAAK4zE,kBAAmB,IAGhC7sD,EAAOpoB,EAAUooB,KAEzB,CAGA,GAFY,MAARA,IACAA,EAAO/mB,KAAKid,QAAQykC,gBACnB1hD,KAAK+oB,UAAUlM,WAKf,GAAI7c,KAAKid,QAAQo1B,iBAAyC,GAAvBtrB,EAAK9kB,QAAQ,MAAa,EAC1DmZ,EAAQT,EAAMgC,WAAWqM,EAAQA,IAC/B9iB,IAAIgV,QAAU6L,EAAKxmB,OACzBP,KAAKid,QAAQzO,OAAO4M,EACxB,MAT+B,CAC3B,IAAIA,EAAQpb,KAAKiuB,oBACjBjF,EAAShpB,KAAKid,QAAQzO,OAAO4M,GAC7Bpb,KAAKugC,gBACT,CAMA,GAAY,MAARxZ,GAAwB,QAARA,EAAgB,CAChC,IAAI3d,EAAO6T,EAAQwN,QAAQzB,EAAO/N,KAClC,GAAI+N,EAAO9N,OAAS9R,EAAKmuC,OAAO,QAAS,CACrC,IAAI7iB,EAAItrB,EAAK6nC,OAAOjoB,EAAO9N,QAAQq8B,OAAO,QAC1Ct6B,EAAQpQ,IAAImlC,aAAahpB,EAAO/N,IAAK+N,EAAO9N,OAAQ8N,EAAO9N,OAASwZ,EACxE,CACJ,CACA10B,KAAKugC,iBACL,IAAIvlB,EAAQgO,EAAO9N,OACf49D,EAAY77D,EAAQ+uC,SAAShjC,EAAO/N,KAEpC89D,GADA3vE,EAAO6T,EAAQwN,QAAQzB,EAAO/N,KACd2oB,EAAK+hB,aAAamzB,EAAW1vE,EAAM2d,IAUvD,GATA9J,EAAQolB,OAAOrZ,EAAQjC,GACnBpoB,GAAaA,EAAUoqB,YACW,GAA9BpqB,EAAUoqB,UAAUxoB,OACpBP,KAAK+oB,UAAU6B,kBAAkB,IAAIjQ,EAAMqO,EAAO/N,IAAKD,EAAQrc,EAAUoqB,UAAU,GAAIC,EAAO/N,IAAKD,EAAQrc,EAAUoqB,UAAU,KAG/H/oB,KAAK+oB,UAAU6B,kBAAkB,IAAIjQ,EAAMqO,EAAO/N,IAAMtc,EAAUoqB,UAAU,GAAIpqB,EAAUoqB,UAAU,GAAIC,EAAO/N,IAAMtc,EAAUoqB,UAAU,GAAIpqB,EAAUoqB,UAAU,MAGrK/oB,KAAKg5E,kBAAmB,CACxB,GAAI/7D,EAAQo2B,cAAc8V,UAAUpiC,GAAO,CACvC,IAAIkyD,EAAar1C,EAAK6hB,kBAAkBqzB,EAAW1vE,EAAK/G,MAAM,EAAG2mB,EAAO9N,QAAS+B,EAAQykC,gBACzFzkC,EAAQolB,OAAO,CAAEpnB,IAAK+N,EAAO/N,IAAM,EAAGC,OAAQ,GAAK+9D,EACvD,CACIF,GACAn1C,EAAKiiB,YAAYizB,EAAW77D,EAAS+L,EAAO/N,IACpD,CACJ,EACAo3D,EAAOhxE,UAAUyrE,WAAa,WAU1B,IATA,IAAI7vD,EAAUjd,KAAKid,QACf2mB,EAAO3mB,EAAQoiD,UACfnmB,EAASl5C,KAAK+oB,UAAUlM,UACtB,CAAC,IAAIlC,EAAM,EAAG,EAAGsC,EAAQpQ,IAAI8uB,YAAc,EAAG,IAC9C37B,KAAK+oB,UAAUwhD,eACjB2O,EAAgB,GAChBjuD,EAAW,GACXguD,EAAa,GACbvzB,EAAMzoC,EAAQykC,eACTjgD,EAAI,EAAGA,EAAIy3C,EAAO34C,OAAQkB,IAG/B,IAFA,IAAImZ,EAAWs+B,EAAOz3C,GAAGuZ,MAAMC,IAC3BH,EAASo+B,EAAOz3C,GAAGyE,IAAI+U,IAClBA,EAAML,EAAUK,GAAOH,EAAQG,IAAO,CACvCA,EAAM,IACNi+D,EAAgBj8D,EAAQ+uC,SAAS/wC,EAAM,GACvCgQ,EAAWhO,EAAQwN,QAAQxP,EAAM,GACjCg+D,EAAar1C,EAAK6hB,kBAAkByzB,EAAejuD,EAAUy6B,IAEjE,IAAIt8C,EAAO6T,EAAQwN,QAAQxP,GACvBk+D,EAAav1C,EAAK6d,WAAWr4C,GACjC,GAAI6vE,IAAeE,EAAY,CAC3B,GAAIA,EAAW54E,OAAS,EAAG,CACvB,IAAI6a,EAAQ,IAAIT,EAAMM,EAAK,EAAGA,EAAKk+D,EAAW54E,QAC9C0c,EAAQzO,OAAO4M,EACnB,CACI69D,EAAW14E,OAAS,GACpB0c,EAAQolB,OAAO,CAAEpnB,IAAKA,EAAKC,OAAQ,GAAK+9D,EAEhD,CACAr1C,EAAKiiB,YAAYqzB,EAAej8D,EAAShC,EAC7C,CAER,EACAo3D,EAAOhxE,UAAU2qB,YAAc,SAAUjF,EAAMqyD,GAC3C,IAAKA,EACD,OAAOp5E,KAAKyyE,WAAWzmD,YAAYjF,GACvC/mB,KAAK8nC,eAAe,CAAE3d,QAAS,CAAE/mB,KAAM,kBACvC,IAAIi2E,EAAmBr5E,KAAKq5E,iBAAiBxzD,KAAK7lB,KAAM+mB,EAAMqyD,GAC1Dp5E,KAAK+oB,UAAUkwB,WACfj5C,KAAKs5E,iBAAiBD,GAEtBA,IACJr5E,KAAK6nC,cACT,EACAwqC,EAAOhxE,UAAUg4E,iBAAmB,SAAUtyD,EAAMqyD,GAE5C,IAcIvgC,GAfJugC,EAAY3tD,YAAc2tD,EAAY1tD,gBAClCmtB,EAAI74C,KAAK+oB,UAAUgC,YACrB/P,MAAME,QAAUk+D,EAAY3tD,WAC9BotB,EAAE3yC,IAAIgV,QAAUk+D,EAAY1tD,YACxBmtB,EAAE79B,MAAME,OAAS,IACjB29B,EAAE79B,MAAMC,MACR49B,EAAE79B,MAAME,QAAUlb,KAAKid,QAAQwN,QAAQouB,EAAE79B,MAAMC,KAAK1a,OAAS,GAEjEP,KAAK+oB,UAAU8c,SAASgT,GACnB9xB,GAAS8xB,EAAEh8B,WACZ7c,KAAKwO,YAETuY,GAAS/mB,KAAK+oB,UAAUlM,WACxB7c,KAAKqiC,OAAOtb,GAAM,GAClBqyD,EAAYxtD,cAAgBwtD,EAAYvtD,eACpCgtB,EAAI74C,KAAK+oB,UAAUgC,YACrB/P,MAAME,QAAUk+D,EAAYxtD,aAC9BitB,EAAE3yC,IAAIgV,QAAUk+D,EAAYvtD,WAC5B7rB,KAAK+oB,UAAU8c,SAASgT,GAEhC,EACAw5B,EAAOhxE,UAAU4rB,aAAe,SAAU/jB,EAAGub,EAAQvD,GACjD,OAAOlhB,KAAKyyE,WAAWxlD,aAAa/jB,EAAGub,EAAQvD,EACnD,EACAmxD,EAAOhxE,UAAU27D,aAAe,SAAUC,GACtCj9D,KAAKid,QAAQ+/C,aAAaC,EAC9B,EACAoV,EAAOhxE,UAAUgxC,aAAe,WAC5B,OAAOryC,KAAKid,QAAQo1B,cACxB,EACAggC,EAAOhxE,UAAU87D,gBAAkB,WAC/Bn9D,KAAKid,QAAQkgD,iBACjB,EACAkV,EAAOhxE,UAAUk4E,eAAiB,SAAUxlD,GACxC/zB,KAAKiV,UAAU,cAAe8e,EAClC,EACAs+C,EAAOhxE,UAAUm4E,eAAiB,WAC9B,OAAOx5E,KAAKuV,UAAU,cAC1B,EACA88D,EAAOhxE,UAAUo4E,aAAe,SAAUxxC,GACtCjoC,KAAKiV,UAAU,YAAagzB,EAChC,EACAoqC,EAAOhxE,UAAUshC,aAAe,WAC5B,OAAO3iC,KAAKuV,UAAU,YAC1B,EACA88D,EAAOhxE,UAAUq4E,kBAAoB,SAAUr2E,GAC3CrD,KAAKiV,UAAU,iBAAkB5R,EACrC,EACAgvE,EAAOhxE,UAAUi/B,kBAAoB,WACjC,OAAOtgC,KAAKuV,UAAU,iBAC1B,EACA88D,EAAOhxE,UAAUs4E,uBAAyB,SAAUC,GAChD55E,KAAKiV,UAAU,sBAAuB2kE,EAC1C,EACAvH,EAAOhxE,UAAUw4E,uBAAyB,WACtC,OAAO75E,KAAKuV,UAAU,sBAC1B,EACA88D,EAAOhxE,UAAUy4E,uBAAyB,SAAUF,GAChD55E,KAAKiV,UAAU,sBAAuB2kE,EAC1C,EACAvH,EAAOhxE,UAAU04E,uBAAyB,WACtC,OAAO/5E,KAAKuV,UAAU,sBAC1B,EACA88D,EAAOhxE,UAAU24E,yBAA2B,SAAUJ,GAClD55E,KAAKiV,UAAU,wBAAyB2kE,EAC5C,EACAvH,EAAOhxE,UAAU44E,yBAA2B,WACxC,OAAOj6E,KAAKi4E,sBAChB,EACA5F,EAAOhxE,UAAU64E,kBAAoB,SAAUC,GAC3Cn6E,KAAKupB,SAAS2wD,kBAAkBC,EACpC,EACA9H,EAAOhxE,UAAU+4E,kBAAoB,WACjC,OAAOp6E,KAAKupB,SAAS6wD,mBACzB,EACA/H,EAAOhxE,UAAUkwC,kBAAoB,SAAU3C,GAC3C5uC,KAAKupB,SAASgoB,kBAAkB3C,EACpC,EACAyjC,EAAOhxE,UAAUg5E,kBAAoB,WACjC,OAAOr6E,KAAKupB,SAAS8wD,mBACzB,EACAhI,EAAOhxE,UAAUi5E,uBAAyB,SAAU38E,GAChDqC,KAAKupB,SAAS+wD,uBAAuB38E,EACzC,EACA00E,EAAOhxE,UAAUk5E,uBAAyB,WACtC,OAAOv6E,KAAKupB,SAASgxD,wBACzB,EACAlI,EAAOhxE,UAAUm5E,yBAA2B,SAAU1c,GAClD99D,KAAKupB,SAASixD,yBAAyB1c,EAC3C,EACAuU,EAAOhxE,UAAUu1E,yBAA2B,WACxC,OAAO52E,KAAKupB,SAASqtD,0BACzB,EACAvE,EAAOhxE,UAAUo5E,mBAAqB,SAAUC,GAC5C16E,KAAKupB,SAASkxD,mBAAmBC,EACrC,EACArI,EAAOhxE,UAAUs5E,mBAAqB,WAClC,OAAO36E,KAAKupB,SAASoxD,oBACzB,EACAtI,EAAOhxE,UAAUu5E,qBAAuB,SAAUF,GAC9C16E,KAAKupB,SAASqxD,qBAAqBF,EACvC,EACArI,EAAOhxE,UAAUw5E,qBAAuB,WACpC,OAAO76E,KAAKupB,SAASsxD,sBACzB,EACAxI,EAAOhxE,UAAUktB,YAAc,SAAUD,GACrCtuB,KAAKiV,UAAU,WAAYqZ,EAC/B,EACA+jD,EAAOhxE,UAAUggC,YAAc,WAC3B,OAAOrhC,KAAKuV,UAAU,WAC1B,EACA88D,EAAOhxE,UAAUy5E,qBAAuB,SAAUC,GAC9C/6E,KAAKiV,UAAU,oBAAqB8lE,EACxC,EACA1I,EAAOhxE,UAAUw3E,qBAAuB,WACpC,OAAO74E,KAAKuV,UAAU,oBAC1B,EACA88D,EAAOhxE,UAAU25E,yBAA2B,SAAUD,GAClD/6E,KAAKiV,UAAU,wBAAyB8lE,EAC5C,EACA1I,EAAOhxE,UAAUu/C,yBAA2B,WACxC,OAAO5gD,KAAKuV,UAAU,wBAC1B,EACA88D,EAAOhxE,UAAU45E,mBAAqB,SAAUhlD,GAC5Cj2B,KAAKiV,UAAU,kBAAmBghB,EACtC,EACAo8C,EAAOhxE,UAAU65E,mBAAqB,WAClC,OAAOl7E,KAAKuV,UAAU,kBAC1B,EACA88D,EAAOhxE,UAAU85E,mBAAqB,SAAUC,GAC5Cp7E,KAAKiV,UAAU,kBAAmBmmE,EACtC,EACA/I,EAAOhxE,UAAUg6E,mBAAqB,WAClC,OAAOr7E,KAAKuV,UAAU,kBAC1B,EACA88D,EAAOhxE,UAAUmN,OAAS,SAAU07B,GAC5BlqC,KAAK+oB,UAAUlM,YACJ,QAAPqtB,EACAlqC,KAAK+oB,UAAUusB,aAEft1C,KAAK+oB,UAAUqsB,eAEvB,IAAIh6B,EAAQpb,KAAKiuB,oBACjB,GAAIjuB,KAAK64E,uBAAwB,CAC7B,IAAI57D,EAAUjd,KAAKid,QACfgmB,EAAQhmB,EAAQ+uC,SAAS5wC,EAAMJ,MAAMC,KACrCqgE,EAAYr+D,EAAQoiD,UAAU7Y,gBAAgBvjB,EAAO,WAAYjjC,KAAMid,EAAS7B,GACpF,GAAyB,IAArBA,EAAMlV,IAAIgV,OAAc,CACxB,IAAI6L,EAAO9J,EAAQukB,aAAapmB,GAChC,GAA6B,MAAzB2L,EAAKA,EAAKxmB,OAAS,GAAY,CAC/B,IAAI6I,EAAO6T,EAAQwN,QAAQrP,EAAMlV,IAAI+U,KACjC,QAAQzP,KAAKpC,KACbgS,EAAMlV,IAAIgV,OAAS9R,EAAK7I,OAEhC,CACJ,CACI+6E,IACAlgE,EAAQkgE,EAChB,CACAt7E,KAAKid,QAAQzO,OAAO4M,GACpBpb,KAAKugC,gBACT,EACA8xC,EAAOhxE,UAAUmrE,gBAAkB,WAC3BxsE,KAAK+oB,UAAUlM,WACf7c,KAAK+oB,UAAUitB,kBACnBh2C,KAAKid,QAAQzO,OAAOxO,KAAKiuB,qBACzBjuB,KAAKugC,gBACT,EACA8xC,EAAOhxE,UAAUkrE,eAAiB,WAC1BvsE,KAAK+oB,UAAUlM,WACf7c,KAAK+oB,UAAUmtB,iBACnBl2C,KAAKid,QAAQzO,OAAOxO,KAAKiuB,qBACzBjuB,KAAKugC,gBACT,EACA8xC,EAAOhxE,UAAUgrE,kBAAoB,WAC7BrsE,KAAK+oB,UAAUlM,WACf7c,KAAK+oB,UAAUysB,kBACfx1C,KAAK+oB,UAAUlM,WACf7c,KAAK+oB,UAAUusB,aACnBt1C,KAAKid,QAAQzO,OAAOxO,KAAKiuB,qBACzBjuB,KAAKugC,gBACT,EACA8xC,EAAOhxE,UAAUirE,gBAAkB,WAC3BtsE,KAAK+oB,UAAUlM,WACf7c,KAAK+oB,UAAU2sB,gBACnB,IAAIt6B,EAAQpb,KAAKiuB,oBACb7S,EAAMJ,MAAME,QAAUE,EAAMlV,IAAIgV,QAAUE,EAAMJ,MAAMC,KAAOG,EAAMlV,IAAI+U,MACvEG,EAAMlV,IAAIgV,OAAS,EACnBE,EAAMlV,IAAI+U,OAEdjb,KAAKid,QAAQzO,OAAO4M,GACpBpb,KAAKugC,gBACT,EACA8xC,EAAOhxE,UAAUsrE,UAAY,WACpB3sE,KAAK+oB,UAAUlM,YAChB7c,KAAKid,QAAQzO,OAAOxO,KAAKiuB,qBACzBjuB,KAAKugC,kBAET,IAAIvX,EAAShpB,KAAK6xC,oBAClB7xC,KAAKqiC,OAAO,MACZriC,KAAKy/B,qBAAqBzW,EAC9B,EACAqpD,EAAOhxE,UAAUk6E,aAAe,SAAUx0D,EAAM5pB,GACvC6C,KAAKid,QAAQswD,gBACdvtE,KAAKid,QAAQswD,cAAgB,IAAID,EAAYttE,KAAKid,SAClDjd,KAAKid,QAAQswD,cAAc7jC,OAAO1pC,OAEtCA,KAAKupB,SAASgyD,aAAax0D,EAAM5pB,EACrC,EACAk1E,EAAOhxE,UAAUm6E,gBAAkB,WAC1Bx7E,KAAKid,QAAQswD,eAElBvtE,KAAKupB,SAASiyD,iBAClB,EACAnJ,EAAOhxE,UAAUurE,iBAAmB,WAChC,GAAK5sE,KAAK+oB,UAAUlM,UAApB,CAGA,IAAImM,EAAShpB,KAAK6xC,oBACd32B,EAAS8N,EAAO9N,OACpB,GAAe,IAAXA,EAAJ,CAEA,IACIi1C,EAAM/0C,EADNhS,EAAOpJ,KAAKid,QAAQwN,QAAQzB,EAAO/N,KAEnCC,EAAS9R,EAAK7I,QACd4vD,EAAO/mD,EAAKhH,OAAO8Y,GAAU9R,EAAKhH,OAAO8Y,EAAS,GAClDE,EAAQ,IAAIT,EAAMqO,EAAO/N,IAAKC,EAAS,EAAG8N,EAAO/N,IAAKC,EAAS,KAG/Di1C,EAAO/mD,EAAKhH,OAAO8Y,EAAS,GAAK9R,EAAKhH,OAAO8Y,EAAS,GACtDE,EAAQ,IAAIT,EAAMqO,EAAO/N,IAAKC,EAAS,EAAG8N,EAAO/N,IAAKC,IAE1Dlb,KAAKid,QAAQza,QAAQ4Y,EAAO+0C,GAC5BnwD,KAAKid,QAAQ8L,UAAUuI,eAAelW,EAAMlV,IAZlC,CAJV,CAiBJ,EACAmsE,EAAOhxE,UAAU8I,YAAc,WAC3B,IAAIsxE,EAAgBz7E,KAAKiuB,oBACrBjuB,KAAK+oB,UAAUlM,WACf7c,KAAK+oB,UAAUyc,aAEnB,IAAIpqB,EAAQpb,KAAKiuB,oBACblH,EAAO/mB,KAAKid,QAAQukB,aAAapmB,GACrCpb,KAAKid,QAAQza,QAAQ4Y,EAAO2L,EAAK5c,eACjCnK,KAAK+oB,UAAU6B,kBAAkB6wD,EACrC,EACApJ,EAAOhxE,UAAUqZ,YAAc,WAC3B,IAAI+gE,EAAgBz7E,KAAKiuB,oBACrBjuB,KAAK+oB,UAAUlM,WACf7c,KAAK+oB,UAAUyc,aAEnB,IAAIpqB,EAAQpb,KAAKiuB,oBACblH,EAAO/mB,KAAKid,QAAQukB,aAAapmB,GACrCpb,KAAKid,QAAQza,QAAQ4Y,EAAO2L,EAAKrM,eACjC1a,KAAK+oB,UAAU6B,kBAAkB6wD,EACrC,EACApJ,EAAOhxE,UAAUsvC,OAAS,WACtB,IAAI1zB,EAAUjd,KAAKid,QACf7B,EAAQpb,KAAKiuB,oBACjB,KAAI7S,EAAMJ,MAAMC,IAAMG,EAAMlV,IAAI+U,KAAhC,CAKK,GAAIG,EAAMJ,MAAME,OAASE,EAAMlV,IAAIgV,OAAQ,CAC5C,IAAI6L,EAAO9J,EAAQukB,aAAapmB,GAChC,IAAK,QAAQ5P,KAAKub,GAAO,CACjBqxB,EAAOp4C,KAAK07E,mBAEhB,YADAz+D,EAAQ6jD,WAAW1oB,EAAKyT,MAAOzT,EAAK3xC,KAAM,KAE9C,CACJ,CACA,IAAI2C,EAAO6T,EAAQwN,QAAQrP,EAAMJ,MAAMC,KACnC9d,EAAWie,EAAMJ,MACjB61B,EAAO5zB,EAAQ45B,aACf37B,EAAS+B,EAAQqnD,uBAAuBnnE,EAAS8d,IAAK9d,EAAS+d,QACnE,GAAIlb,KAAKid,QAAQmnC,iBACb,IAAIjgD,EAAS0sC,EAAO31B,EAAS21B,EACzBkwB,EAAe9pD,EAAKpQ,aAAa,IAAK1C,OAEzC,CAED,IADIA,EAAQ+W,EAAS21B,EACkB,KAAhCznC,EAAKgS,EAAMJ,MAAME,OAAS,IAAa/W,GAC1CiX,EAAMJ,MAAME,SACZ/W,IAEJnE,KAAK+oB,UAAU6B,kBAAkBxP,GACjC2lD,EAAe,IACnB,CACA,OAAO/gE,KAAKqiC,OAAO0+B,EAlBnB,CAXI,IAAI3oB,EAAOp4C,KAAK07E,mBAChBz+D,EAAQ6jD,WAAW1oB,EAAKyT,MAAOzT,EAAK3xC,KAAM,KA6BlD,EACA4rE,EAAOhxE,UAAUqrE,YAAc,WAC3B,IAAIt0B,EAAOp4C,KAAK07E,mBAChB17E,KAAKid,QAAQ6jD,WAAW1oB,EAAKyT,MAAOzT,EAAK3xC,KAAM,KACnD,EACA4rE,EAAOhxE,UAAUorE,aAAe,WAC5B,IAAI1jD,EAAY/oB,KAAKid,QAAQ8wC,eAC7B/tD,KAAKid,QAAQ+jD,YAAYj4C,EAAUgC,WACvC,EACAsnD,EAAOhxE,UAAU4qE,UAAY,WAIzB,IAHA,IAAI7zB,EAAOp4C,KAAK07E,mBACZz+D,EAAUjd,KAAKid,QACf+N,EAAQ,GACHvpB,EAAI22C,EAAKyT,MAAOpqD,GAAK22C,EAAK3xC,KAAMhF,IACrCupB,EAAMnpB,KAAKob,EAAQwN,QAAQhpB,IAC/BupB,EAAMiM,MAAK,SAAUvwB,EAAGiuB,GACpB,OAAIjuB,EAAEyD,cAAgBwqB,EAAExqB,eACZ,EACRzD,EAAEyD,cAAgBwqB,EAAExqB,cACb,EACJ,CACX,IACA,IAAI+2D,EAAc,IAAIvmD,EAAM,EAAG,EAAG,EAAG,GACrC,IAASlZ,EAAI22C,EAAKyT,MAAOpqD,GAAK22C,EAAK3xC,KAAMhF,IAAK,CAC1C,IAAI2H,EAAO6T,EAAQwN,QAAQhpB,GAC3By/D,EAAYlmD,MAAMC,IAAMxZ,EACxBy/D,EAAYh7D,IAAI+U,IAAMxZ,EACtBy/D,EAAYh7D,IAAIgV,OAAS9R,EAAK7I,OAC9B0c,EAAQza,QAAQ0+D,EAAal2C,EAAMvpB,EAAI22C,EAAKyT,OAChD,CACJ,EACAwmB,EAAOhxE,UAAUwiD,mBAAqB,WAClC,IAAI5gB,EAAQjjC,KAAKid,QAAQ+uC,SAAShsD,KAAK6xC,oBAAoB52B,KACvDm9B,EAAOp4C,KAAK07E,mBAChB17E,KAAKid,QAAQoiD,UAAUxb,mBAAmB5gB,EAAOjjC,KAAKid,QAASm7B,EAAKyT,MAAOzT,EAAK3xC,KACpF,EACA4rE,EAAOhxE,UAAU+jD,mBAAqB,WAClC,IAAIp8B,EAAShpB,KAAK6xC,oBACd5O,EAAQjjC,KAAKid,QAAQ+uC,SAAShjC,EAAO/N,KACrCG,EAAQpb,KAAKiuB,oBACjBjuB,KAAKid,QAAQoiD,UAAUja,mBAAmBniB,EAAOjjC,KAAKid,QAAS7B,EAAO4N,EAC1E,EACAqpD,EAAOhxE,UAAUs6E,YAAc,SAAU1gE,EAAKC,GAC1C,IAAI0gE,EAAY,4BAChBA,EAAU33E,UAAY,EAEtB,IADA,IAAIuN,EAAIxR,KAAKid,QAAQwN,QAAQxP,GACtB2gE,EAAU33E,UAAYiX,GAAQ,CACjC,IAAIV,EAAIohE,EAAU3xE,KAAKuH,GACvB,GAAIgJ,EAAE5V,OAASsW,GAAUV,EAAE5V,MAAQ4V,EAAE,GAAGja,QAAU2a,EAM9C,MALa,CACT3X,MAAOiX,EAAE,GACTQ,MAAOR,EAAE5V,MACTsB,IAAKsU,EAAE5V,MAAQ4V,EAAE,GAAGja,OAIhC,CACA,OAAO,IACX,EACA8xE,EAAOhxE,UAAU6qE,aAAe,SAAU2P,GACtC,IAAI5gE,EAAMjb,KAAK+oB,UAAU+qB,YAAY74B,IACjCC,EAASlb,KAAK+oB,UAAU+qB,YAAY54B,OACpC4gE,EAAY,IAAInhE,EAAMM,EAAKC,EAAS,EAAGD,EAAKC,GAC5CyxB,EAAI3sC,KAAKid,QAAQukB,aAAas6C,GAClC,IAAKxc,MAAM70D,WAAWkiC,KAAOovC,SAASpvC,GAAI,CACtC,IAAIqvC,EAAKh8E,KAAK27E,YAAY1gE,EAAKC,GAC/B,GAAI8gE,EAAI,CACJ,IAAIC,EAAKD,EAAGz4E,MAAMtB,QAAQ,MAAQ,EAAI+5E,EAAGhhE,MAAQghE,EAAGz4E,MAAMtB,QAAQ,KAAO,EAAI+5E,EAAG91E,IAC5Eg2E,EAAWF,EAAGhhE,MAAQghE,EAAGz4E,MAAMhD,OAAS07E,EACxCpyD,EAAIpf,WAAWuxE,EAAGz4E,OACtBsmB,GAAKxrB,KAAK0iB,IAAI,GAAIm7D,GACdD,IAAOD,EAAG91E,KAAOgV,EAAS+gE,EAC1BJ,GAAUx9E,KAAK0iB,IAAI,GAAIi7D,EAAG91E,IAAMgV,EAAS,GAGzC2gE,GAAUx9E,KAAK0iB,IAAI,GAAIi7D,EAAG91E,IAAMgV,GAEpC2O,GAAKgyD,EAEL,IAAIM,GADJtyD,GAAKxrB,KAAK0iB,IAAI,GAAIm7D,IACNE,QAAQF,GAChBG,EAAe,IAAI1hE,EAAMM,EAAK+gE,EAAGhhE,MAAOC,EAAK+gE,EAAG91E,KACpDlG,KAAKid,QAAQza,QAAQ65E,EAAcF,GACnCn8E,KAAK80C,aAAa75B,EAAK5c,KAAK2H,IAAIg2E,EAAGhhE,MAAQ,EAAGE,EAASihE,EAAI57E,OAASy7E,EAAGz4E,MAAMhD,QACjF,CACJ,MAEIP,KAAKs8E,YAEb,EACAjK,EAAOhxE,UAAUi7E,WAAa,WAC1B,IAAIrhE,EAAMjb,KAAK+oB,UAAU+qB,YAAY74B,IACjCC,EAASlb,KAAK+oB,UAAU+qB,YAAY54B,OACxClb,KAAK+oB,UAAUyc,aACf,IAAIsW,EAAe97C,KAAKw4E,kBACpB+D,EAAgBv8E,KAAK+oB,UAAUoK,eAAenY,MAAME,OACpDshE,EAAY1gC,EAAat5C,QAAQ,+BAAgC,OAAOL,MAAM,MAC9E2tC,EAAQ50B,EAASqhE,EAAgB,EACjCzsC,EAAQ,IACRA,EAAQ,GACZ,IAAI2sC,EAAY,EAAGC,EAAW,EAC1BC,EAAO38E,KACP87C,EAAapxC,MAAM,kBACnB8xE,EAAUz3E,SAAQ,SAAUa,EAAMnE,GAC9Bi7E,EAAWD,EAAY72E,EAAKrF,OACxBuvC,GAAS2sC,GAAa3sC,GAAS4sC,IAC/B5gC,EAAel2C,EACf+2E,EAAK5zD,UAAUwX,iBACfo8C,EAAK7nC,aAAa75B,EAAKwhE,EAAYF,GACnCI,EAAK5zD,UAAUyS,SAASvgB,EAAKyhE,EAAWH,IAE5CE,EAAYC,CAChB,IAIJ,IAFA,IACIE,EADAC,EAAY78E,KAAK88E,iBAEZr7E,EAAI,EAAGA,EAAIo7E,EAAUt8E,OAAQkB,IAElC,IADA,IAAImE,EAAOi3E,EAAUp7E,GACZ6Y,EAAI,EAAGA,GAAK,EAAGA,IAAK,CACzB,IAAIyiE,IAAWziE,EACX0iE,EAAiBlhC,EAAapxC,MAAM,IAAIzB,OAAO,WAAagO,EAAKrP,aAAahC,EAAK0U,IAAM,SAAU,MACvG,GAAI0iE,EACsBlhC,EAAapxC,MAAM,IAAIzB,OAAO,eAAiBgO,EAAKrP,aAAao1E,EAAe,IAAM,WAAY,QAEpHJ,EAAM9gC,EAAat5C,QAAQ,IAAIyG,OAAOgO,EAAKrP,aAAahC,EAAK0U,IAAK,MAAM,SAAUlW,GAC9E,IAAI64E,EAAMr3E,EAAKm3E,GAOf,OANI34E,EAAOsW,eAAiBtW,EACxB64E,EAAMA,EAAIviE,cAELtW,EAAOhC,OAAO,GAAGsY,eAAiBtW,EAAOhC,OAAO,KACrD66E,EAAMA,EAAIhsC,OAAO,EAAG,GAAKrrC,EAAKm3E,GAAQ36E,OAAO,GAAGsY,cAAgBuiE,EAAIhsC,OAAO,IAExEgsC,CACX,IACAj9E,KAAKqiC,OAAOu6C,GACZA,EAAM,GAGlB,CAER,EACAvK,EAAOhxE,UAAU67E,WAAa,SAAUjiE,EAAKC,GACzC,IAAI2b,EAAKC,EAEL0lD,EADOx8E,KAAKid,QAAQwN,QAAQxP,GACX9Y,MAAM,8BACvBg7E,EAAiBjiE,EACjBiiE,EAAiB,IACjBA,EAAiB,GACrB,IAA+CzyE,EAA3C0yE,EAAmB,EAAGC,EAAkB,EAC5C,IACI,IAAK,IAAIC,EAAcvoD,EAASynD,GAAYe,EAAgBD,EAAYpoD,QAASqoD,EAAcpoD,KAAMooD,EAAgBD,EAAYpoD,OAAQ,CACrI,IAAItvB,EAAO23E,EAAch6E,MAEzB,GADA85E,EAAkBD,EAAmBx3E,EAAKrF,OACtC48E,GAAkBC,GAAoBD,GAAkBE,GACpDz3E,EAAK8E,MAAM,8BAA+B,CAC1CA,EAAQ9E,EAAKpD,QAAQ,kBAAmB,IACxC,KACJ,CAEJ46E,EAAmBC,CACvB,CACJ,CACA,MAAOxlD,GAAShB,EAAM,CAAEh2B,MAAOg3B,EAAS,CAAC,QAErC,IACQ0lD,IAAkBA,EAAcpoD,OAAS2B,EAAKwmD,EAAY1lD,SAASd,EAAGv1B,KAAK+7E,EACnF,CAAC,QACS,GAAIzmD,EAAK,MAAMA,EAAIh2B,KAAO,CACxC,CACA,OAAO6J,CACX,EACA2nE,EAAOhxE,UAAU0rE,SAAW,WACxB,IAAI/jD,EAAShpB,KAAK+oB,UAAU+qB,YACxB/iC,EAAM/Q,KAAKk9E,WAAWl0D,EAAO/N,IAAK+N,EAAO9N,QAG7C,OAFInK,GACA9Q,OAAOvC,KAAKqT,EAAK,UACP,MAAPA,CACX,EACAshE,EAAOhxE,UAAUmoD,YAAc,WAC3B,IAAIpR,EAAOp4C,KAAK07E,mBAChB17E,KAAKid,QAAQwsC,gBAAgBrR,EAAKyT,MAAOzT,EAAK3xC,MAC9CzG,KAAKugC,gBACT,EACA8xC,EAAOhxE,UAAU2qE,mBAAqB,WAClC,IAAIsH,EAAMtzE,KAAK+oB,UACXlc,EAAM7M,KAAKid,QACX7B,EAAQk4D,EAAIvoD,WACZnkB,EAAU0sE,EAAIn/B,cAClB,GAAI/4B,EAAMyB,UAAW,CACjB,IAAI5B,EAAMG,EAAMJ,MAAMC,IACtBpO,EAAI00D,eAAetmD,EAAKA,EAC5B,KACK,CACD,IAAIusC,EAAQ5gD,EAAUwU,EAAMJ,MAAQI,EAAMlV,IACtCs3E,EAAW3wE,EAAIw1B,OAAOmlB,EAAO36C,EAAI20B,aAAapmB,IAClDA,EAAMJ,MAAQwsC,EACdpsC,EAAMlV,IAAMs3E,EACZlK,EAAI1oD,kBAAkBxP,EAAOxU,EACjC,CACJ,EACAyrE,EAAOhxE,UAAUigE,cAAgB,WAC7BthE,KAAKmhE,WAAW,GAAG,EACvB,EACAkR,EAAOhxE,UAAUggE,YAAc,WAC3BrhE,KAAKmhE,YAAY,GAAG,EACxB,EACAkR,EAAOhxE,UAAU8gC,SAAW,SAAU/mB,EAAOqlD,EAAYl6D,GACrD,OAAOvG,KAAKid,QAAQklB,SAAS/mB,EAAOqlD,EAAYl6D,EACpD,EACA8rE,EAAOhxE,UAAU8qE,YAAc,WAC3BnsE,KAAKmhE,YAAY,GAAG,EACxB,EACAkR,EAAOhxE,UAAU+qE,cAAgB,WAC7BpsE,KAAKmhE,WAAW,GAAG,EACvB,EACAkR,EAAOhxE,UAAU8/D,WAAa,SAAUj3B,EAAK3jC,GACzC,IAAI6xC,EAAMqlC,EACN10D,EAAY/oB,KAAK+oB,UACrB,IAAKA,EAAU0I,mBAAqBzxB,KAAK24E,uBAAwB,CAC7D,IAAIv9D,EAAQ2N,EAAUsX,kBACtB+X,EAAOp4C,KAAK07E,iBAAiBtgE,GAC7BqiE,EAAQz9E,KAAKid,QAAQkkD,WAAW/oB,EAAKyT,MAAOzT,EAAK3xC,KAAMF,EAAO,EAAI2jC,GAC9D3jC,IAAgB,GAAR2jC,IACRuzC,EAAQ,GACZriE,EAAMiC,OAAOogE,EAAO,GACpB10D,EAAU8X,kBAAkBzlB,EAChC,KACK,CACD,IAAI89B,EAASnwB,EAAUswB,UAAUH,OACjCnwB,EAAUswB,UAAU1P,OAAO3pC,KAAKid,SAChCjd,KAAK24E,wBAAyB,EAI9B,IAHA,IAAI5pB,EAAO,EACP2uB,EAAY,EACZh8E,EAAIw3C,EAAO34C,OACNkB,EAAI,EAAGA,EAAIC,EAAGD,IAAK,CACxB,IAAIk8E,EAAal8E,EACjBy3C,EAAOz3C,GAAG4b,OAAO0xC,EAAM,GAIvB,IAFA,IAAIlD,GADJzT,EAAOp4C,KAAK07E,iBAAiBxiC,EAAOz3C,KACnBoqD,MACbplD,EAAO2xC,EAAK3xC,OACPhF,EAAIC,GAAG,CACRg8E,GACAxkC,EAAOz3C,GAAG4b,OAAOqgE,EAAW,GAChC,IAAIE,EAAU59E,KAAK07E,iBAAiBxiC,EAAOz3C,IAC3C,GAAI8E,GAAQq3E,EAAQ/xB,OAASplD,EACzB,MACC,IAAKF,GAAQq3E,EAAQ/xB,MAAQplD,EAAO,EACrC,MACJA,EAAOm3E,EAAQn3E,IACnB,CAKA,IAJAhF,IACAstD,EAAO/uD,KAAKid,QAAQkkD,WAAWtV,EAAOplD,EAAMF,EAAO,EAAI2jC,GACnD3jC,IAAgB,GAAR2jC,IACRyzC,EAAal8E,EAAI,GACdk8E,GAAcl8E,GACjBy3C,EAAOykC,GAAYtgE,OAAO0xC,EAAM,GAChC4uB,IAECp3E,IACDwoD,EAAO,GACX2uB,GAAa3uB,CACjB,CACAhmC,EAAU8X,kBAAkB9X,EAAUmwB,OAAO,IAC7CnwB,EAAUswB,UAAU3P,OAAO1pC,KAAKid,SAChCjd,KAAK24E,wBAAyB,CAClC,CACJ,EACAtG,EAAOhxE,UAAUq6E,iBAAmB,SAAUtgE,GAE1C,OADAA,GAASA,GAASpb,KAAKiuB,qBAAqBlR,eACrC,CACH8uC,MAAO7rD,KAAKid,QAAQg5C,gBAAgB76C,EAAMJ,MAAMC,KAChDxU,KAAMzG,KAAKid,QAAQ+4C,cAAc56C,EAAMlV,IAAI+U,KAEnD,EACAo3D,EAAOhxE,UAAU2sB,mBAAqB,SAAU6vD,GAC5C79E,KAAKupB,SAASu0D,gBAAgBD,EAClC,EACAxL,EAAOhxE,UAAU6qB,oBAAsB,SAAUnF,GAC7C/mB,KAAKupB,SAASw0D,mBAAmBh3D,EACrC,EACAsrD,EAAOhxE,UAAUkpB,iBAAmB,WAChCvqB,KAAKupB,SAASy0D,iBAClB,EACA3L,EAAOhxE,UAAU48E,mBAAqB,WAClC,OAAOj+E,KAAKupB,SAAS00D,oBACzB,EACA5L,EAAOhxE,UAAU68E,kBAAoB,WACjC,OAAOl+E,KAAKupB,SAAS20D,mBACzB,EACA7L,EAAOhxE,UAAUsuE,aAAe,SAAU10D,GACtC,OAAQA,GAAOjb,KAAKi+E,sBAAwBhjE,GAAOjb,KAAKk+E,mBAC5D,EACA7L,EAAOhxE,UAAU+vE,kBAAoB,SAAUn2D,GAC3C,OAAQA,GAAOjb,KAAKupB,SAAS40D,2BAA6BljE,GAAOjb,KAAKupB,SAAS60D,wBACnF,EACA/L,EAAOhxE,UAAUg9E,oBAAsB,WACnC,OAAOr+E,KAAKupB,SAAS+0D,qBAAuBt+E,KAAKupB,SAASg1D,kBAAoB,CAClF,EACAlM,EAAOhxE,UAAUm9E,YAAc,SAAUt0C,EAAKld,GAC1C,IAAIzD,EAAWvpB,KAAKupB,SAChB5P,EAAS3Z,KAAKupB,SAASoW,YACvByY,EAAOlO,EAAM7rC,KAAK8mD,MAAMxrC,EAAO7b,OAAS6b,EAAO0gB,aACpC,IAAXrN,EACAhtB,KAAK+oB,UAAU6rB,gBAAe,WAC1B50C,KAAKy2C,aAAa2B,EAAM,EAC5B,KAEgB,IAAXprB,IACLhtB,KAAK+oB,UAAU0tB,aAAa2B,EAAM,GAClCp4C,KAAK+oB,UAAUwX,kBAEnB,IAAI27B,EAAY3yC,EAAS2yC,UACzB3yC,EAASyK,SAAS,EAAGokB,EAAOz+B,EAAO0gB,YACrB,MAAVrN,GACAzD,EAAS+I,qBAAqB,KAAM,IACxC/I,EAAS8pD,iBAAiBnX,EAC9B,EACAmW,EAAOhxE,UAAUiqE,eAAiB,WAC9BtrE,KAAKw+E,YAAY,GAAG,EACxB,EACAnM,EAAOhxE,UAAUoqE,aAAe,WAC5BzrE,KAAKw+E,aAAa,GAAG,EACzB,EACAnM,EAAOhxE,UAAUmqE,aAAe,WAC5BxrE,KAAKw+E,YAAY,GAAG,EACxB,EACAnM,EAAOhxE,UAAUsqE,WAAa,WAC1B3rE,KAAKw+E,aAAa,GAAG,EACzB,EACAnM,EAAOhxE,UAAUkqE,eAAiB,WAC9BvrE,KAAKw+E,YAAY,EACrB,EACAnM,EAAOhxE,UAAUqqE,aAAe,WAC5B1rE,KAAKw+E,aAAa,EACtB,EACAnM,EAAOhxE,UAAUo9E,YAAc,SAAUxjE,GACrCjb,KAAKupB,SAASk1D,YAAYxjE,EAC9B,EACAo3D,EAAOhxE,UAAUuuE,aAAe,SAAUxmE,EAAMs1E,EAAQC,EAAS19E,GAC7DjB,KAAKupB,SAASqmD,aAAaxmE,EAAMs1E,EAAQC,EAAS19E,EACtD,EACAoxE,EAAOhxE,UAAU6oE,gBAAkB,WAC/B,IAAI9uD,EAAQpb,KAAKiuB,oBACbkD,EAAM,CACNlW,IAAK5c,KAAK8mD,MAAM/pC,EAAMJ,MAAMC,KAAOG,EAAMlV,IAAI+U,IAAMG,EAAMJ,MAAMC,KAAO,GACtEC,OAAQ7c,KAAK8mD,MAAM/pC,EAAMJ,MAAME,QAAUE,EAAMlV,IAAIgV,OAASE,EAAMJ,MAAME,QAAU,IAEtFlb,KAAKupB,SAASq1D,YAAYztD,EAAK,GACnC,EACAkhD,EAAOhxE,UAAUwwC,kBAAoB,WACjC,OAAO7xC,KAAK+oB,UAAU+qB,WAC1B,EACAu+B,EAAOhxE,UAAUw9E,wBAA0B,WACvC,OAAO7+E,KAAKid,QAAQE,yBAAyBnd,KAAK6xC,oBACtD,EACAwgC,EAAOhxE,UAAU4sB,kBAAoB,WACjC,OAAOjuB,KAAK+oB,UAAUgC,UAC1B,EACAsnD,EAAOhxE,UAAU8rB,UAAY,WACzBntB,KAAK+oB,UAAUoE,WACnB,EACAklD,EAAOhxE,UAAUk/B,eAAiB,WAC9BvgC,KAAK+oB,UAAUwX,gBACnB,EACA8xC,EAAOhxE,UAAUyzC,aAAe,SAAU75B,EAAKC,GAC3Clb,KAAK+oB,UAAU+rB,aAAa75B,EAAKC,EACrC,EACAm3D,EAAOhxE,UAAUo+B,qBAAuB,SAAUtO,GAC9CnxB,KAAK+oB,UAAU0W,qBAAqBtO,EACxC,EACAkhD,EAAOhxE,UAAUuqE,eAAiB,SAAU5+C,EAAQ8xD,GAChD,IAAI91D,EAAShpB,KAAK6xC,oBACd5c,EAAW,IAAIupB,EAAcx+C,KAAKid,QAAS+L,EAAO/N,IAAK+N,EAAO9N,QAC9Dg+C,EAAYjkC,EAASkqB,kBACrB4/B,EAAa,EACb7lB,IAAqD,IAAxCA,EAAUhmD,KAAKjR,QAAQ,cACpCi3D,EAAYjkC,EAASgqB,gBAEzB,IAAItE,EAAQue,GAAajkC,EAASiqB,cAClC,GAAKvE,EAAL,CAEA,IAAIqkC,EAIAC,EAHAjmB,GAAQ,EACRpC,EAAQ,CAAC,EACTn1D,EAAIunB,EAAO9N,OAASy/B,EAAM3/B,MAE1BkkE,EAAW,CACX,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KAET,EAAG,CACC,GAAIvkC,EAAMp3C,MAAMmH,MAAM,gBAClB,KAAOjJ,EAAIk5C,EAAMp3C,MAAMhD,SAAWy4D,EAAOv3D,IACrC,GAAKy9E,EAASvkC,EAAMp3C,MAAM9B,IAO1B,OAJAw9E,EAAcC,EAASvkC,EAAMp3C,MAAM9B,IAAM,IAAMk5C,EAAMznC,KAAK1Q,QAAQ,SAAU,UACxE88D,MAAM1I,EAAMqoB,MACZroB,EAAMqoB,GAAe,GAEjBtkC,EAAMp3C,MAAM9B,IAChB,IAAK,IACL,IAAK,IACL,IAAK,IACDm1D,EAAMqoB,KACN,MACJ,IAAK,IACL,IAAK,IACL,IAAK,IACDroB,EAAMqoB,MACsB,IAAxBroB,EAAMqoB,KACND,EAAY,UACZhmB,GAAQ,SAMiB,IAApCre,EAAMznC,KAAKjR,QAAQ,cACpBq9D,MAAM1I,EAAMjc,EAAMp3C,UAClBqzD,EAAMjc,EAAMp3C,OAAS,GAED,MAApB21D,EAAU31D,OAAiBw7E,EAAa,EACxCnoB,EAAMjc,EAAMp3C,SAEa,OAApB21D,EAAU31D,OACfqzD,EAAMjc,EAAMp3C,UAEY,IAAxBqzD,EAAMjc,EAAMp3C,SACZy7E,EAAY,MACZhmB,GAAQ,IAGXA,IACDE,EAAYve,EACZokC,IACApkC,EAAQ1lB,EAASiqB,cACjBz9C,EAAI,EAEZ,OAASk5C,IAAUqe,GACnB,GAAKgmB,EAAL,CAEA,IAAI5jE,EAAO+V,EACX,GAAkB,YAAd6tD,GACA5jE,EAAQpb,KAAKid,QAAQiW,gBAAgBlK,MAGjCmI,GADA/V,EAAQ,IAAIT,EAAMsa,EAASmqB,qBAAsBnqB,EAASoqB,wBAA0B59C,EAAI,EAAGwzB,EAASmqB,qBAAsBnqB,EAASoqB,wBAA0B59C,EAAI,IACrJuZ,OACR8jE,GAAU3tD,EAAIlW,MAAQ+N,EAAO/N,KAAO5c,KAAK6lB,IAAIiN,EAAIjW,OAAS8N,EAAO9N,QAC/D,KACFE,EAAQpb,KAAKid,QAAQiW,gBAAgB/B,UAG5C,GAAkB,QAAd6tD,EAAqB,CAC1B,IAAKrkC,IAA6C,IAApCA,EAAMznC,KAAKjR,QAAQ,YAC7B,OAEJ,GAAiD,KADjDmZ,EAAQ,IAAIT,EAAMsa,EAASmqB,qBAAsBnqB,EAASoqB,wBAA0B,EAAGpqB,EAASmqB,qBAAsBnqB,EAASoqB,wBAA0B,IAC/I/jC,QAAQ0N,EAAO/N,IAAK+N,EAAO9N,QAAe,CAChD,IAAIikE,EAAan/E,KAAKid,QAAQ27C,gBAAgB5vC,GAC1Cm2D,IACIA,EAAWxlB,QAAQt+C,SAAS2N,EAAO/N,IAAK+N,EAAO9N,QAE/CiW,GADA/V,EAAQ+jE,EAAWvlB,UACP5+C,OAGZI,EAAQ+jE,EAAWxlB,QAGfxoC,EAFAguD,EAAWvlB,SAAS5+C,MAAMC,MAAQ+N,EAAO/N,KAAOkkE,EAAWvlB,SAAS5+C,MAAME,SACtE8N,EAAO9N,OACLE,EAAMlV,IAENkV,EAAMJ,OAG5B,CACAmW,EAAMA,GAAO/V,EAAMJ,KACvB,EACAmW,EAAM/V,GAASA,EAAM4N,QAAUmI,KAEvBnE,EACI5R,GAAS0jE,EACT9+E,KAAK+oB,UAAU8c,SAASzqB,GAEnBA,GAASA,EAAMD,QAAQnb,KAAKiuB,qBACjCjuB,KAAKugC,iBAGLvgC,KAAK+oB,UAAUyS,SAASrK,EAAIlW,IAAKkW,EAAIjW,QAIzClb,KAAK+oB,UAAUgsB,OAAO5jB,EAAIlW,IAAKkW,EAAIjW,QAjDjC,CAjEA,CAqHd,EACAm3D,EAAOhxE,UAAU8oE,SAAW,SAAUiV,EAAYlkE,EAAQyjE,GACtD3+E,KAAK+oB,UAAUwX,iBACfvgC,KAAKid,QAAQ04C,OAAO,CAAE16C,IAAKmkE,EAAa,EAAGlkE,OAAQA,GAAU,IAC7Dlb,KAAKqtE,qBAAuBrtE,KAAKqtE,sBACjCrtE,KAAK80C,aAAasqC,EAAa,EAAGlkE,GAAU,GACvClb,KAAKoxE,kBAAkBgO,EAAa,IACrCp/E,KAAK4vE,aAAawP,EAAa,GAAG,EAAMT,EAChD,EACAtM,EAAOhxE,UAAUg+E,WAAa,SAAUpkE,EAAKC,GACzClb,KAAK+oB,UAAUgsB,OAAO95B,EAAKC,EAC/B,EACAm3D,EAAOhxE,UAAUupE,WAAa,SAAUC,GACpC,GAAI7qE,KAAK+oB,UAAU3M,gBAAkBpc,KAAK+oB,UAAUorB,cAAe,CAC/D,IAAIrpB,EAAiB9qB,KAAK+oB,UAAUmJ,OAAO6hB,cAC3C,OAAO/zC,KAAKy/B,qBAAqB3U,EACrC,CACA9qB,KAAK+oB,UAAUwX,iBACfvgC,KAAK+oB,UAAU0tB,cAAco0B,IAAU,EAAG,EAC9C,EACAwH,EAAOhxE,UAAU0pE,aAAe,SAAUF,GACtC,GAAI7qE,KAAK+oB,UAAU3M,eAAiBpc,KAAK+oB,UAAUorB,cAAe,CAC9D,IAAIxpB,EAAe3qB,KAAK+oB,UAAUmJ,OAAO6hB,cACzC,OAAO/zC,KAAKy/B,qBAAqB9U,EACrC,CACA3qB,KAAK+oB,UAAUwX,iBACfvgC,KAAK+oB,UAAU0tB,aAAao0B,GAAS,EAAG,EAC5C,EACAwH,EAAOhxE,UAAU6pE,aAAe,SAAUL,GACtC,GAAK7qE,KAAK+oB,UAAUlM,UAMhB,IADAguD,EAAQA,GAAS,EACVA,KACH7qE,KAAK+oB,UAAUwsB,qBAPQ,CAC3B,IAAIzqB,EAAiB9qB,KAAKiuB,oBAAoBjT,MAC9Chb,KAAKy/B,qBAAqB3U,EAC9B,CAOA9qB,KAAKugC,gBACT,EACA8xC,EAAOhxE,UAAUgqE,cAAgB,SAAUR,GACvC,GAAK7qE,KAAK+oB,UAAUlM,UAMhB,IADAguD,EAAQA,GAAS,EACVA,KACH7qE,KAAK+oB,UAAUssB,sBAPQ,CAC3B,IAAI1qB,EAAe3qB,KAAKiuB,oBAAoB/nB,IAC5ClG,KAAKy/B,qBAAqB9U,EAC9B,CAOA3qB,KAAKugC,gBACT,EACA8xC,EAAOhxE,UAAU4pE,kBAAoB,WACjCjrE,KAAK+oB,UAAU0sB,sBACfz1C,KAAKugC,gBACT,EACA8xC,EAAOhxE,UAAU+pE,gBAAkB,WAC/BprE,KAAK+oB,UAAU4sB,oBACf31C,KAAKugC,gBACT,EACA8xC,EAAOhxE,UAAUypE,gBAAkB,WAC/B9qE,KAAK+oB,UAAU8sB,oBACf71C,KAAKugC,gBACT,EACA8xC,EAAOhxE,UAAUspE,kBAAoB,WACjC3qE,KAAK+oB,UAAUgtB,sBACf/1C,KAAKugC,gBACT,EACA8xC,EAAOhxE,UAAU8pE,kBAAoB,WACjCnrE,KAAK+oB,UAAUktB,sBACfj2C,KAAKugC,gBACT,EACA8xC,EAAOhxE,UAAU2pE,iBAAmB,WAChChrE,KAAK+oB,UAAUotB,qBACfn2C,KAAKugC,gBACT,EACA8xC,EAAOhxE,UAAUmB,QAAU,SAAUmkE,EAAap6D,GAC1CA,GACAvM,KAAK0yE,QAAQ98D,IAAIrJ,GACrB,IAAI6O,EAAQpb,KAAK0yE,QAAQptE,KAAKtF,KAAKid,SAC/BqiE,EAAW,EACf,OAAKlkE,GAEDpb,KAAKu/E,YAAYnkE,EAAOurD,KACxB2Y,EAAW,GAEft/E,KAAK+oB,UAAU6B,kBAAkBxP,GACjCpb,KAAKupB,SAAS6pD,wBAAwBh4D,EAAMJ,MAAOI,EAAMlV,KAClDo5E,GANIA,CAOf,EACAjN,EAAOhxE,UAAUm+E,WAAa,SAAU7Y,EAAap6D,GAC7CA,GACAvM,KAAK0yE,QAAQ98D,IAAIrJ,GAErB,IAAI2sC,EAASl5C,KAAK0yE,QAAQpM,QAAQtmE,KAAKid,SACnCqiE,EAAW,EACf,IAAKpmC,EAAO34C,OACR,OAAO++E,EACX,IAAIv2D,EAAY/oB,KAAKiuB,oBACrBjuB,KAAK+oB,UAAUgsB,OAAO,EAAG,GACzB,IAAK,IAAItzC,EAAIy3C,EAAO34C,OAAS,EAAGkB,GAAK,IAAKA,EAClCzB,KAAKu/E,YAAYrmC,EAAOz3C,GAAIklE,IAC5B2Y,IAIR,OADAt/E,KAAK+oB,UAAU6B,kBAAkB7B,GAC1Bu2D,CACX,EACAjN,EAAOhxE,UAAUk+E,YAAc,SAAUnkE,EAAOurD,GAC5C,IAAI/gB,EAAQ5lD,KAAKid,QAAQukB,aAAapmB,GAEtC,OAAoB,QADpBurD,EAAc3mE,KAAK0yE,QAAQlwE,QAAQojD,EAAO+gB,KAEtCvrD,EAAMlV,IAAMlG,KAAKid,QAAQza,QAAQ4Y,EAAOurD,GACjCvrD,GAGA,IAEf,EACAi3D,EAAOhxE,UAAUo+E,qBAAuB,WACpC,OAAOz/E,KAAK0yE,QAAQx9D,YACxB,EACAm9D,EAAOhxE,UAAUiE,KAAO,SAAUihE,EAAQh6D,EAASoyE,GAC1CpyE,IACDA,EAAU,CAAC,GACM,iBAAVg6D,GAAsBA,aAAkBt9D,OAC/CsD,EAAQg6D,OAASA,EACK,iBAAVA,GACZ1xD,EAAI1C,MAAM5F,EAASg6D,GACvB,IAAInrD,EAAQpb,KAAK+oB,UAAUgC,WACL,MAAlBxe,EAAQg6D,UACRA,EAASvmE,KAAKid,QAAQukB,aAAapmB,IAC5Bpb,KAAK0yE,QAAQt9D,SAASmxD,UAEzBnrD,EAAQpb,KAAKid,QAAQkW,aAAa/X,EAAMJ,MAAMC,IAAKG,EAAMJ,MAAME,QAC/DqrD,EAASvmE,KAAKid,QAAQukB,aAAapmB,IAEvCpb,KAAK0yE,QAAQ98D,IAAI,CAAE2wD,OAAQA,KAE/BvmE,KAAK0yE,QAAQ98D,IAAIrJ,GACZA,EAAQyO,OACThb,KAAK0yE,QAAQ98D,IAAI,CAAEoF,MAAOI,IAC9B,IAAIskE,EAAW1/E,KAAK0yE,QAAQptE,KAAKtF,KAAKid,SACtC,OAAI1Q,EAAQkd,cACDi2D,EACPA,GACA1/E,KAAK2/E,YAAYD,EAAUf,GACpBe,IAEPnzE,EAAQg7D,UACRnsD,EAAMJ,MAAQI,EAAMlV,IAEpBkV,EAAMlV,IAAMkV,EAAMJ,WACtBhb,KAAK+oB,UAAU8c,SAASzqB,GAC5B,EACAi3D,EAAOhxE,UAAUmpE,SAAW,SAAUj+D,EAASoyE,GAC3C3+E,KAAKsF,KAAK,CAAE+gE,aAAa,EAAMkB,WAAW,GAASh7D,EAASoyE,EAChE,EACAtM,EAAOhxE,UAAUopE,aAAe,SAAUl+D,EAASoyE,GAC/C3+E,KAAKsF,KAAKiH,EAAS,CAAE85D,aAAa,EAAMkB,WAAW,GAAQoX,EAC/D,EACAtM,EAAOhxE,UAAUs+E,YAAc,SAAUvkE,EAAOujE,GAC5C3+E,KAAKid,QAAQ04C,OAAOv6C,GACpBpb,KAAK+oB,UAAU6B,kBAAkBxP,GACjC,IAAI8gD,EAAYl8D,KAAKupB,SAAS2yC,UAC9Bl8D,KAAKupB,SAAS6pD,wBAAwBh4D,EAAMJ,MAAOI,EAAMlV,IAAK,KAC9C,IAAZy4E,GACA3+E,KAAKupB,SAAS8pD,iBAAiBnX,EACvC,EACAmW,EAAOhxE,UAAU+sD,KAAO,WACpBpuD,KAAKid,QAAQwnB,iBAAiB2pB,KAAKpuD,KAAKid,SACxCjd,KAAKupB,SAAS+I,qBAAqB,KAAM,GAC7C,EACA+/C,EAAOhxE,UAAUytD,KAAO,WACpB9uD,KAAKid,QAAQwnB,iBAAiBqqB,KAAK9uD,KAAKid,SACxCjd,KAAKupB,SAAS+I,qBAAqB,KAAM,GAC7C,EACA+/C,EAAOhxE,UAAUwgB,QAAU,WACnB7hB,KAAKgiB,aACLhiB,KAAKgiB,WAAWjd,SAAQ,SAAUsH,GAC9BA,EAAGwV,SACP,IACA7hB,KAAKgiB,WAAa,MAElBhiB,KAAKyvB,eACLzvB,KAAKyvB,cAAc5N,UACvB7hB,KAAKupB,SAAS1H,UACd7hB,KAAKmT,QAAQ,UAAWnT,MACpBA,KAAKid,SACLjd,KAAKid,QAAQ4E,UACb7hB,KAAK6yE,kBACL7yE,KAAK6yE,iBAAiBtqE,SAC1BvI,KAAKqU,oBACT,EACAg+D,EAAOhxE,UAAUu+E,4BAA8B,SAAUtf,GACrD,GAAKA,EAAL,CAEA,IAAIxxC,EACAoS,EAAOlhC,KACP6/E,GAAe,EACd7/E,KAAK8/E,gBACN9/E,KAAK8/E,cAAgB9zE,SAASM,cAAc,QAChD,IAAIyzE,EAAe//E,KAAK8/E,cACxBC,EAAa7iF,MAAMwP,QAAU,oBAC7B1M,KAAK6O,UAAUE,aAAagxE,EAAc//E,KAAK6O,UAAUG,YACzD,IAAIgxE,EAAoBhgF,KAAKqT,GAAG,mBAAmB,WAC/CwsE,GAAe,CACnB,IACII,EAAiBjgF,KAAKupB,SAASlW,GAAG,gBAAgB,WAC9CwsE,IACA/wD,EAAOoS,EAAK3X,SAAS1a,UAAU8a,wBACvC,IACIu2D,EAAgBlgF,KAAKupB,SAASlW,GAAG,eAAe,WAChD,GAAIwsE,GAAgB/wD,IAASoS,EAAK/Y,aAC3B+Y,EAAKi/C,WAAaj/C,EAAKi/C,UAAUh4D,aAAc,CAClD,IAAIoB,EAAW2X,EAAK3X,SAChB4H,EAAM5H,EAASiX,aAAa4/C,UAC5BzmE,EAAS4P,EAASoW,YAClBviC,EAAM+zB,EAAI/zB,IAAMuc,EAAO1R,OAWP,OAThB43E,EADA1uD,EAAI/zB,KAAO,GAAKA,EAAM0xB,EAAK1xB,IAAM,KAG5B+zB,EAAI/zB,IAAMuc,EAAO7b,QACtBqzB,EAAI/zB,IAAM0xB,EAAK1xB,IAAMuc,EAAO0gB,WAAap6B,OAAOk6B,cAIjC,QAGf4lD,EAAa7iF,MAAME,IAAMA,EAAM,KAC/B2iF,EAAa7iF,MAAMK,KAAO4zB,EAAI5zB,KAAO,KACrCwiF,EAAa7iF,MAAMY,OAAS6b,EAAO0gB,WAAa,KAChD0lD,EAAa9V,eAAe4V,IAEhCA,EAAe/wD,EAAO,IAC1B,CACJ,IACA9uB,KAAK4/E,4BAA8B,SAAUtf,GACrCA,WAEGtgE,KAAK4/E,4BACZ5/E,KAAKuT,IAAI,kBAAmBysE,GAC5BhgF,KAAKupB,SAAShW,IAAI,cAAe2sE,GACjClgF,KAAKupB,SAAShW,IAAI,eAAgB0sE,GACtC,CAjDU,CAkDd,EACA5N,EAAOhxE,UAAUy/B,kBAAoB,WACjC,IAAI5jC,EAAQ8C,KAAKqgF,cAAgB,MAC7BC,EAActgF,KAAKupB,SAASiX,aAC3B8/C,IAELA,EAAYC,kBAAkB,SAAS/0E,KAAKtO,IAC5CojF,EAAYE,YAAcxgF,KAAKotB,WAAsB,QAATlwB,EAC5C2T,EAAI7C,YAAYsyE,EAAYlzE,QAAS,mBAAoB,OAAO5B,KAAKtO,IACzE,EACAm1E,EAAOhxE,UAAU+oE,OAAS,SAAUv0D,EAAStJ,EAAStL,GAClD,IAAIyvB,EAAS1wB,KACb2Z,EAAOf,WAAW,kBAAkB,SAAUzY,GAC1CA,EAAOiqE,OAAO15C,EAAQ7a,EAAStJ,EAAStL,EAC5C,GACJ,EACOoxE,CACX,CAtrD4B,GAurD5BA,EAAO9X,KAAO,EACd8X,EAAOhxE,UAAU4oB,MAAQ,KACzBooD,EAAOhxE,UAAU6xE,OAAS,CAAC,EAC3Bb,EAAOhxE,UAAUqyE,mBAAqB,CAAC,YAAa,MAAO,gBAC3DrB,EAAOhxE,UAAUy7E,iBAAmB,CAChC,CAAC,QAAS,QACV,CAAC,OAAQ,SACT,CAAC,MAAO,MACR,CAAC,QAAS,UACV,CAAC,MAAO,UACR,CAAC,QAAS,QACV,CAAC,KAAM,OACP,CAAC,IAAK,KACN,CAAC,MAAO,OACR,CAAC,MAAO,OACR,CAAC,aAAc,YACf,CAAC,OAAQ,QACT,CAAC,MAAO,UACR,CAAC,KAAM,QACP,CAAC,SAAU,SACX,CAAC,OAAQ,OACT,CAAC,KAAM,OACP,CAAC,SAAU,WACX,CAAC,OAAQ,YACT,CAAC,WAAY,YACb,CAAC,SAAU,UACX,CAAC,KAAM,MACP,CAAC,KAAM,OAEXjoE,EAAIzC,UAAUigE,EAAOhxE,UAAWiR,GAChCqH,EAAO3D,cAAcq8D,EAAOhxE,UAAW,SAAU,CAC7Co/E,eAAgB,CACZ7qE,IAAK,SAAU1Y,GACX8C,KAAK41E,oBACL51E,KAAKmT,QAAQ,uBAAwB,CAAEqB,KAAMtX,GACjD,EACA+Y,aAAc,QAElByqE,oBAAqB,CACjB9qE,IAAK,WAAc5V,KAAKs3E,4BAA8B,EACtDrhE,cAAc,GAElB0qE,sBAAuB,CACnB/qE,IAAK,SAAUgkE,GAAmB55E,KAAK80E,oBAAsB,EAC7D7+D,cAAc,GAElBqY,SAAU,CACN1Y,IAAK,SAAU0Y,GACXtuB,KAAKovB,UAAUb,YAAYD,GAC3BtuB,KAAK8gC,mBACT,EACA7qB,cAAc,GAElB2qE,uBAAwB,CACpBhrE,IAAK,SAAUrS,GACXvD,KAAKovB,UAAUZ,0BAA0BjrB,EAC7C,EACA0S,cAAc,GAElB8sB,YAAa,CACTntB,IAAK,SAAUvS,GAAOrD,KAAK8gC,mBAAqB,EAChD77B,OAAQ,CAAC,MAAO,OAAQ,SAAU,QAClCgR,aAAc,OAElBolD,gBAAiB,CACbp2D,OAAQ,EAAC,GAAO,EAAM,UACtBgR,cAAc,GAElB4qE,kBAAmB,CAAE5qE,cAAc,GACnC6qE,sBAAuB,CAAE7qE,cAAc,GACvC8qE,iBAAkB,CAAE9qE,cAAc,GAClC+qE,yBAA0B,CACtBprE,IAAK,SAAUvS,GAAOrD,KAAK4/E,4BAA4Bv8E,EAAM,GAEjEywE,gBAAiB,CACbl+D,IAAK,SAAUvS,GAAOrD,KAAKwpC,mBAAmBnmC,EAAM,EACpDyN,IAAK,WAAc,OAAO9Q,KAAK+zE,aAAe,EAC9Cp+D,YAAY,GAEhBpS,MAAO,CACHqS,IAAK,SAAUvS,GAAOrD,KAAKid,QAAQyrC,SAASrlD,EAAM,EAClDyN,IAAK,WAAc,OAAO9Q,KAAKuvC,UAAY,EAC3C55B,YAAY,EACZL,QAAQ,GAEZ2H,QAAS,CACLrH,IAAK,SAAUvS,GAAOrD,KAAK8yE,WAAWzvE,EAAM,EAC5CyN,IAAK,WAAc,OAAO9Q,KAAKid,OAAS,EACxCtH,YAAY,EACZL,QAAQ,GAEZ2rE,gBAAiB,CACbrrE,IAAK,SAAUqgB,GACXj2B,KAAKupB,SAAS2R,aAAagmD,mBAAmBjrD,GAC9Cj2B,KAAKupB,SAAS43D,MAAM14E,SAASzI,KAAKupB,SAAS63D,eACvCnrD,GAAQj2B,KAAKqhF,qBACbC,EAAuB53C,OAAO1pC,MAE9BshF,EAAuB33C,OAAO3pC,KACtC,EACAiW,cAAc,GAElBsrE,oBAAqB,CACjB3rE,IAAK,SAAUrS,GACPvD,KAAKwhF,kBAAoBj+E,EACzB+9E,EAAuB53C,OAAO1pC,MAE9BshF,EAAuB33C,OAAO3pC,KACtC,GAEJ8xD,YAAa,CACTl8C,IAAK,SAAUC,GACN7V,KAAKyhF,qBACNzhF,KAAKyhF,mBAAqB,WACtB,IAAIC,EAAW1hF,KAAKid,UAAYjd,KAAKupB,SAASo4D,cAC1C3hF,KAAKid,QAAQ0e,YAAc,GAAK37B,KAAKid,QAAQwN,QAAQ,GAAGlqB,OAAS,GACrE,GAAImhF,GAAY1hF,KAAKupB,SAASq4D,gBAC1B5hF,KAAKupB,SAAShW,IAAI,cAAevT,KAAKyhF,oBACtC5wE,EAAIjD,eAAe5N,KAAK6O,UAAW,sBACnC7O,KAAKupB,SAASq4D,gBAAgBpzE,SAC9BxO,KAAKupB,SAASq4D,gBAAkB,UAE/B,GAAKF,GAAa1hF,KAAKupB,SAASq4D,iBAS3BF,GAAY1hF,KAAKupB,SAASq4D,kBAChC5hF,KAAKupB,SAASq4D,gBAAgBt0E,YAActN,KAAK6hF,cAAgB,QAVf,CAClD7hF,KAAKupB,SAASlW,GAAG,cAAerT,KAAKyhF,oBACrC5wE,EAAIlD,YAAY3N,KAAK6O,UAAW,sBAChC,IAAIxC,EAAKwE,EAAIvE,cAAc,OAC3BD,EAAG1P,UAAY,kBACf0P,EAAGiB,YAActN,KAAK6hF,cAAgB,GACtC7hF,KAAKupB,SAASq4D,gBAAkBv1E,EAChCrM,KAAKupB,SAASu4D,QAAQ51E,YAAYlM,KAAKupB,SAASq4D,gBACpD,CAIJ,EAAE/7D,KAAK7lB,MACPA,KAAKqT,GAAG,QAASrT,KAAKyhF,qBAE1BzhF,KAAKyhF,oBACT,GAEJj4D,4BAA6B,CACzB5T,IAAK,SAAUrS,GACX,IAmBIwuE,EAnBAgQ,EAAc,CACd3+E,KAAM,gBACN0mE,YAAa,wEACb/B,QAAS,MACT99D,KAAM,SAAUymB,GACZA,EAAO1G,OACP0G,EAAOnH,SAAS8F,SAAS/F,OAC7B,EACAgF,UAAU,GAEV0zD,EAAoB,SAAU94E,GAC9B,GAAIA,EAAEzE,QAAUzE,KAAKupB,SAAS8F,UAAYnmB,EAAEgY,UAAYpc,EAAY,MAAG,CACnEoE,EAAEuJ,iBACF,IAAIwI,EAAMjb,KAAK6xC,oBAAoB52B,IAC9Bjb,KAAK2vE,aAAa10D,IACnBjb,KAAK4vE,aAAa30D,GAAK,GAAM,GACjCjb,KAAKspB,OACT,CACJ,EAEI/lB,GACAvD,KAAKupB,SAASC,6BAA8B,EAC5CxpB,KAAKupB,SAASmoD,uBAAyB,qBACvC1xE,KAAKovB,UAAUhB,aAAazhB,aAAa,YAAa,GACtD3M,KAAKovB,UAAU/G,sBAAsB1c,EAAUpB,MAAQ,EAAI,GAC3DvK,KAAKupB,SAAS8F,SAAS1iB,aAAa,WAAY,GAChD3M,KAAKupB,SAAS8F,SAAS1iB,aAAa,OAAQ,SAC5C3M,KAAKupB,SAAS8F,SAAS1iB,aAAa,uBAAwB8J,EAAI,uCAAwC,WACxGzW,KAAKupB,SAAS8F,SAASwL,UAAU9sB,IAAI/N,KAAKupB,SAASmoD,wBACnD1xE,KAAKupB,SAAS8F,SAAS1iB,aAAa,aAAc8J,EAAI,6BAA8B,uEACpFzW,KAAKupB,SAAS8F,SAASpb,iBAAiB,QAAS+tE,EAAkBn8D,KAAK7lB,OACxEA,KAAKiwB,SAAS43C,WAAWka,GACzB/hF,KAAKupB,SAAS8S,QAAQ1vB,aAAa,WAAY,GAC/C3M,KAAKupB,SAAS8S,QAAQ1vB,aAAa,eAAe,GAClD3M,KAAKupB,SAAS8S,QAAQ1vB,aAAa,OAAQ,SAC3C3M,KAAKupB,SAAS8S,QAAQ1vB,aAAa,uBAAwB8J,EAAI,qCAAsC,WACrGzW,KAAKupB,SAAS8S,QAAQ1vB,aAAa,aAAc8J,EAAI,2BAA4B,gGACjFzW,KAAKupB,SAAS8S,QAAQxB,UAAU9sB,IAAI/N,KAAKupB,SAASmoD,wBAClD1xE,KAAKupB,SAASu4D,QAAQn1E,aAAa,eAAe,GAC7ColE,IACDA,EAAwB,IAAI3C,EAAsBpvE,OACtD+xE,EAAsBjwD,cACtB9hB,KAAKovB,UAAU7G,eAAe,CAC1BK,UAAU,MAId5oB,KAAKupB,SAASC,6BAA8B,EAC5CxpB,KAAKovB,UAAUhB,aAAazhB,aAAa,WAAY,GACrD3M,KAAKovB,UAAU/G,sBAAsB,GACrCroB,KAAKupB,SAAS8F,SAAS1iB,aAAa,YAAa,GACjD3M,KAAKupB,SAAS8F,SAAS3G,gBAAgB,QACvC1oB,KAAKupB,SAAS8F,SAAS3G,gBAAgB,wBACvC1oB,KAAKupB,SAAS8F,SAASwL,UAAUrsB,OAAOxO,KAAKupB,SAASmoD,wBACtD1xE,KAAKupB,SAAS8F,SAAS3G,gBAAgB,cACvC1oB,KAAKupB,SAAS8F,SAASjb,oBAAoB,QAAS4tE,EAAkBn8D,KAAK7lB,OAC3EA,KAAKiwB,SAAS63C,cAAcia,GAC5B/hF,KAAKupB,SAASu4D,QAAQp5D,gBAAgB,eACtC1oB,KAAKupB,SAAS8S,QAAQ1vB,aAAa,YAAa,GAChD3M,KAAKupB,SAAS8S,QAAQ1vB,aAAa,eAAe,GAClD3M,KAAKupB,SAAS8S,QAAQ3T,gBAAgB,QACtC1oB,KAAKupB,SAAS8S,QAAQ3T,gBAAgB,wBACtC1oB,KAAKupB,SAAS8S,QAAQ3T,gBAAgB,cACtC1oB,KAAKupB,SAAS8S,QAAQxB,UAAUrsB,OAAOxO,KAAKupB,SAASmoD,wBACjDK,GACAA,EAAsB59D,iBAElC,EACA8B,cAAc,GAElBgsE,mBAAoB,CAChBrsE,IAAK,SAAUvS,GAAOrD,KAAK8oB,oBAAsBzlB,CAAK,EACtD4S,aAAc,IAElBisE,iBAAkB,CACdtsE,IAAK,SAAUvS,GAAOrD,KAAKmiF,kBAAoB9+E,CAAK,EACpD4S,cAAc,GAElBmsE,gBAAiB,WACjBC,wBAAyB,WACzBC,wBAAyB,WACzBC,oBAAqB,WACrBC,eAAgB,WAChB5zC,eAAgB,WAChB8rC,gBAAiB,WACjB+H,kBAAmB,WACnBC,YAAa,WACbC,gBAAiB,WACjBC,gBAAiB,WACjBC,oBAAqB,WACrBC,sBAAuB,WACvBC,WAAY,WACZz7D,SAAU,WACV07D,WAAY,WACZC,SAAU,WACVC,SAAU,WACVC,cAAe,WACfC,iBAAkB,WAClBptD,MAAO,WACPqtD,iBAAkB,WAClBC,eAAgB,WAChBh2D,kBAAmB,WACnBi2D,kBAAmB,WACnBC,kBAAmB,WACnBC,sBAAuB,WACvBz7C,YAAa,gBACbC,UAAW,gBACXC,YAAa,gBACbC,aAAc,gBACdC,oBAAqB,gBACrBw9B,gBAAiB,UACjB3I,UAAW,UACXhU,YAAa,UACbqV,UAAW,UACXuH,YAAa,UACb/I,uBAAwB,UACxBnmB,QAAS,UACT+uB,KAAM,UACNvC,iBAAkB,UAClB2C,UAAW,UACXliC,KAAM,YAEV,IAAI09C,EAAyB,CACzBoC,QAAS,SAAkCzmE,EAA4BhC,GACnE,OAAQ5c,KAAK6lB,IAAIjH,EAAQ8L,UAAUuqB,KAAKr4B,IAAMA,IAASA,EAAM,GAAKA,EAAM,EAAI,OAAS,KAAQ,EACjG,EACAob,SAAU,SAAUpZ,EAA4B0mE,EAAgBhqE,GAC5D,OAAOtb,KAAK2H,IAAI29E,EAAeriF,WAAWf,QAASoZ,EAAO+C,QAAU,GAAGpb,WAAWf,OAAQ,GAAKoZ,EAAOkV,cAC1G,EACAw9B,OAAQ,SAAUnjD,EAAsBwnB,GACpCA,EAAOnH,SAAS43D,MAAM14E,SAASioB,EAAOnH,SAAS63D,cACnD,EACA13C,OAAQ,SAA6BhZ,GACjCA,EAAOnH,SAAS2R,aAAa0oD,UAAY5jF,KACzC0wB,EAAOrd,GAAG,kBAAmBrT,KAAKqsD,QAClCrsD,KAAKqsD,OAAO,KAAM37B,EACtB,EACAiZ,OAAQ,SAA6BjZ,GAC7BA,EAAOnH,SAAS2R,aAAa0oD,WAAa5jF,OAC1C0wB,EAAOnH,SAAS2R,aAAa0oD,UAAY,MAC7ClzD,EAAOnd,IAAI,kBAAmBvT,KAAKqsD,QACnCrsD,KAAKqsD,OAAO,KAAM37B,EACtB,GAEJjuB,EAAQ4vE,OAASA,CAEjB,IAEApvE,IAAI/C,OAAO,kBAAkB,CAAC,UAAU,UAAU,SAAS,gBAAgB,SAAS0B,EAASa,EAAStC,GAAQ,aAC9G,IAAI0Q,EAAMjP,EAAQ,cACdiiF,EAAuB,WACvB,SAASA,EAAMz2E,EAAS02E,GACpB9jF,KAAKoN,QAAUA,EACfpN,KAAK8jF,aAAeA,GAAgB,IACpC9jF,KAAKoN,QAAQlQ,MAAMY,OAA8B,EAApBkC,KAAK8jF,aAAoB,KACtD9jF,KAAK4wE,MAAQ,GACb5wE,KAAK+jF,UAAY,GACjB/jF,KAAKgkF,mBAAqB,CAC9B,CAwFA,OAvFAH,EAAMxiF,UAAU4iF,cAAgB,SAAUtqE,GACtC9I,EAAIH,UAAU1Q,KAAKoN,QAAS,GAAMuM,EAAOuqE,eAAiBvqE,EAAO0gB,WAAcr6B,KAAK8jF,aAAgBnqE,EAAO1R,OAASjI,KAAKgkF,mBAC7H,EACAH,EAAMxiF,UAAU8iF,YAAc,SAAUC,EAAWC,GAC/C,OAAQhmF,KAAK8mD,MAAOi/B,EAAUF,eAAiBE,EAAU/pD,WAAcr6B,KAAK8jF,gBACxEzlF,KAAK8mD,MAAOk/B,EAAUH,eAAiBG,EAAUhqD,WAAcr6B,KAAK8jF,aAC5E,EACAD,EAAMxiF,UAAUijF,eAAiB,SAAUrpE,EAAKtB,EAAQsD,GACpD,IAAIsnE,EAAY5qE,EAAOuqE,eAAiBvqE,EAAO0gB,WAC3CmqD,EAAanmF,KAAK8mD,MAAMo/B,EAAYvkF,KAAK8jF,cAE7C,OADc7mE,EAAQ6e,oBAAoB7gB,EAAK,GAAKtB,EAAO0gB,WACzCmqD,EAAaxkF,KAAK8jF,YACxC,EACAD,EAAMxiF,UAAUojF,kBAAoB,SAAUxpE,EAAKtB,EAAQsD,GACvD,OAAOtD,EAAO0gB,WAAapd,EAAQknD,gBAAgBlpD,EACvD,EACA4oE,EAAMxiF,UAAUs6B,UAAY,WACxB,OAAO37B,KAAK4wE,MAAMrwE,MACtB,EACAsjF,EAAMxiF,UAAUyP,IAAM,SAAUlM,GAC5B,OAAO5E,KAAK4wE,MAAMhsE,EACtB,EACAi/E,EAAMxiF,UAAU2uB,MAAQ,WACpBhwB,KAAK0kF,WAAW1kF,KAAK4wE,MAAM5gD,QAC/B,EACA6zD,EAAMxiF,UAAU2S,IAAM,WAClBhU,KAAK0kF,WAAW1kF,KAAK4wE,MAAM58D,MAC/B,EACA6vE,EAAMxiF,UAAUQ,KAAO,SAAUiwE,GAC7B,GAAIzsE,MAAMmB,QAAQsrE,GAAO,CACrB9xE,KAAK4wE,MAAM/uE,KAAKlB,MAAMX,KAAK4wE,MAAOkB,GAElC,IADA,IAAI6S,EAAW9zE,EAAIrD,eAAexN,KAAKoN,SAC9B3L,EAAI,EAAGA,EAAIqwE,EAAKvxE,OAAQkB,IAC7BkjF,EAASz4E,YAAY4lE,EAAKrwE,GAAG2L,SAEjCpN,KAAKoN,QAAQlB,YAAYy4E,EAC7B,MAEI3kF,KAAK4wE,MAAM/uE,KAAKiwE,GAChB9xE,KAAKoN,QAAQlB,YAAY4lE,EAAK1kE,QAEtC,EACAy2E,EAAMxiF,UAAU86C,QAAU,SAAU21B,GAChC,GAAIzsE,MAAMmB,QAAQsrE,GAAO,CACrB9xE,KAAK4wE,MAAMz0B,QAAQx7C,MAAMX,KAAK4wE,MAAOkB,GAErC,IADA,IAAI6S,EAAW9zE,EAAIrD,eAAexN,KAAKoN,SAC9B3L,EAAI,EAAGA,EAAIqwE,EAAKvxE,OAAQkB,IAC7BkjF,EAASz4E,YAAY4lE,EAAKrwE,GAAG2L,SAE7BpN,KAAKoN,QAAQ4B,WACbhP,KAAKoN,QAAQ2B,aAAa41E,EAAU3kF,KAAKoN,QAAQ4B,YAEjDhP,KAAKoN,QAAQlB,YAAYy4E,EACjC,MAEI3kF,KAAK4wE,MAAMz0B,QAAQ21B,GACnB9xE,KAAKoN,QAAQw3E,sBAAsB,aAAc9S,EAAK1kE,QAE9D,EACAy2E,EAAMxiF,UAAUoF,KAAO,WACnB,OAAIzG,KAAK4wE,MAAMrwE,OACJP,KAAK4wE,MAAM5wE,KAAK4wE,MAAMrwE,OAAS,GAE/B,IACf,EACAsjF,EAAMxiF,UAAUqjF,WAAa,SAAU5S,GAC9BA,IAELA,EAAK1kE,QAAQoB,SACbxO,KAAK+jF,UAAUliF,KAAKiwE,GACxB,EACA+R,EAAMxiF,UAAUwjF,WAAa,SAAU5pE,EAAKtB,EAAQsD,EAAS6nE,GACzD,IAAIhT,EAAO9xE,KAAK+jF,UAAU/vE,MAC1B,IAAK89D,EAAM,CACP,IAAI1kE,EAAUyD,EAAIvE,cAAc,OAC5Bw4E,GACAA,EAAY13E,GAChBpN,KAAKoN,QAAQlB,YAAYkB,GACzB0kE,EAAO,CACH1kE,QAASA,EACT2Z,KAAM,GACN9L,IAAKA,EAEb,CAEA,OADA62D,EAAK72D,IAAMA,EACJ62D,CACX,EACO+R,CACX,CAjG2B,GAkG3BphF,EAAQohF,MAAQA,CAEhB,IAEA5gF,IAAI/C,OAAO,mBAAmB,CAAC,UAAU,UAAU,SAAS,cAAc,cAAc,eAAe,wBAAwB,kBAAkB,eAAe,SAAS0B,EAASa,EAAStC,GAAQ,aACnM,IAAI0Q,EAAMjP,EAAQ,cACdiT,EAAMjT,EAAQ,cACdqV,EAAOrV,EAAQ,eACf0Q,EAAe1Q,EAAQ,wBAAwB0Q,aAC/CuxE,EAAQjiF,EAAQ,WAAWiiF,MAC3BptE,EAAM7U,EAAQ,aAAa6U,IAC3BsuE,EAAwB,WACxB,SAASA,EAAOC,GACZhlF,KAAKoN,QAAUyD,EAAIvE,cAAc,OACjCtM,KAAKoN,QAAQzQ,UAAY,6BACzBqoF,EAAS94E,YAAYlM,KAAKoN,SAC1BpN,KAAKi7E,mBAAmBj7E,KAAKilF,kBAC7BjlF,KAAKgvE,YAAc,EACnBhvE,KAAK88B,aAAe,GACpB98B,KAAKklF,mBAAqBllF,KAAKklF,mBAAmBr/D,KAAK7lB,MACvDA,KAAKm8B,OAAS,IAAI0nD,EAAM7jF,KAAKoN,SAC7BpN,KAAKm8B,OAAO6nD,mBAAqB,CACrC,CA4ZA,OA3ZAe,EAAO1jF,UAAUyxE,WAAa,SAAU71D,GAChCjd,KAAKid,SACLjd,KAAKid,QAAQ1J,IAAI,SAAUvT,KAAKklF,oBACpCllF,KAAKid,QAAUA,EACXA,GACAA,EAAQ5J,GAAG,SAAUrT,KAAKklF,mBAClC,EACAH,EAAO1jF,UAAU+7D,oBAAsB,SAAUniD,EAAKte,GAC9CsD,OAAOW,SACPA,QAAQ6U,MAAQ7U,QAAQ6U,KAAK,8CACjCzV,KAAKid,QAAQmgD,oBAAoBniD,EAAKte,EAC1C,EACAooF,EAAO1jF,UAAUg8D,uBAAyB,SAAUpiD,EAAKte,GACjDsD,OAAOW,SACPA,QAAQ6U,MAAQ7U,QAAQ6U,KAAK,iDACjCzV,KAAKid,QAAQogD,uBAAuBpiD,EAAKte,EAC7C,EACAooF,EAAO1jF,UAAUw6D,eAAiB,SAAU79B,GACxCh+B,KAAK88B,aAAe,GACpB,IAAK,IAAIr7B,EAAI,EAAGA,EAAIu8B,EAAYz9B,OAAQkB,IAAK,CACzC,IAAIm7B,EAAaoB,EAAYv8B,GACzBwZ,EAAM2hB,EAAW3hB,IACjBkqE,EAAUnlF,KAAK88B,aAAa7hB,GAC3BkqE,IACDA,EAAUnlF,KAAK88B,aAAa7hB,GAAO,CAAE8L,KAAM,GAAI7T,KAAM,GAAI6pB,YAAa,KAC1E,IAAIqoD,EAAWxoD,EAAW7V,KACtBs+D,EAAkBzoD,EAAW7V,KAC7Bu+D,EAAW1oD,EAAW1pB,KAC1BkyE,EAAWA,EAAWnuE,EAAKpP,WAAWu9E,GAAYxoD,EAAWhH,MAAQ,GACrEyvD,EAAkBA,IAAoCzoD,EAAWhH,MAAQ,KACjC,IAApCuvD,EAAQp+D,KAAK9kB,QAAQmjF,KACrBD,EAAQp+D,KAAKllB,KAAKujF,GAClBD,EAAQjyE,KAAKrR,KAAKyjF,GAClBH,EAAQpoD,YAAYl7B,KAAKwjF,IAE7B,IAAI1oF,EAAYigC,EAAWjgC,UACvBA,EACAwoF,EAAQxoF,UAAYA,EACH,SAAZ2oF,EACLH,EAAQxoF,UAAY,aACH,WAAZ2oF,GAA8C,cAArBH,EAAQxoF,UACtCwoF,EAAQxoF,UAAY,eACH,QAAZ2oF,GAAwBH,EAAQxoF,YACrCwoF,EAAQxoF,UAAY,YAC5B,CACJ,EACAooF,EAAO1jF,UAAU6jF,mBAAqB,SAAUp1C,GAC5C,GAAK9vC,KAAK88B,aAAav8B,OAAvB,CAEA,IAAIkc,EAAWqzB,EAAM90B,MAAMC,IACvBzV,EAAMsqC,EAAM5pC,IAAI+U,IAAMwB,EAC1B,GAAY,IAARjX,QAEC,GAAoB,UAAhBsqC,EAAMxL,OACXtkC,KAAK88B,aAAan1B,OAAO8U,EAAUjX,EAAM,EAAG,UAE3C,CACD,IAAIykC,EAAO,IAAI5kC,MAAMG,EAAM,GAC3BykC,EAAKkS,QAAQ1/B,EAAU,GACvBzc,KAAK88B,aAAan1B,OAAOhH,MAAMX,KAAK88B,aAAcmN,EACtD,CAZU,CAad,EACA86C,EAAO1jF,UAAUgrD,OAAS,SAAU1yC,GAChC3Z,KAAK2Z,OAASA,EACd,IAAIsD,EAAUjd,KAAKid,QACfR,EAAW9C,EAAO8C,SAClBC,EAAUre,KAAK4H,IAAI0T,EAAO+C,QAAU/C,EAAO4rE,aAC/CtoE,EAAQ0e,YAAc,GACtB37B,KAAKwlF,WAAa9oE,EAClB1c,KAAK2Z,OAASA,EACd3Z,KAAKm8B,OAAO8nD,cAActqE,GAC1B3Z,KAAKylF,mBAML,IALA,IAAIxoD,EAAOhgB,EAAQ03C,gBAAgBl4C,GAC/ByjD,EAAYjjC,EAAOA,EAAKjiB,MAAMC,IAAMgpC,IACpC6tB,EAAO,KACPltE,GAAS,EACTqW,EAAMwB,IACG,CAMT,GALIxB,EAAMilD,IACNjlD,EAAMgiB,EAAK/2B,IAAI+U,IAAM,EAErBilD,GADAjjC,EAAOhgB,EAAQ03C,gBAAgB15C,EAAKgiB,IACjBA,EAAKjiB,MAAMC,IAAMgpC,KAEpChpC,EAAMyB,EAAS,CACf,KAAO1c,KAAKm8B,OAAOR,YAAc/2B,EAAQ,GACrC5E,KAAKm8B,OAAOnoB,MAChB,KACJ,EACA89D,EAAO9xE,KAAKm8B,OAAOrrB,MAAMlM,IAErBktE,EAAK72D,IAAMA,GAGX62D,EAAO9xE,KAAKm8B,OAAO0oD,WAAW5pE,EAAKtB,EAAQ3Z,KAAKid,QAASyoE,GACzD1lF,KAAKm8B,OAAOt6B,KAAKiwE,IAErB9xE,KAAK2lF,YAAY7T,EAAMn4D,EAAQsjB,EAAMhiB,GACrCA,GACJ,CACAjb,KAAKmT,QAAQ,eACbnT,KAAK4lF,mBAAmBjsE,EAC5B,EACAorE,EAAO1jF,UAAUukF,mBAAqB,SAAUjsE,GAC5C,IAAIsD,EAAUjd,KAAKid,QACf4oE,EAAiB5oE,EAAQ4oE,gBAAkB7lF,KAAK4jF,UAChDhe,EAAkB3oD,EAAQ6oE,iBAC1BC,EAAe/lF,KAAKm8B,OAAO11B,OAASzG,KAAKm8B,OAAO11B,OAAOsgB,KAAO,IAC9D/mB,KAAKgmF,aAAe/oE,EAAQuzB,gBAC5Bu1C,EAAe9oE,EAAQ0e,YAAciqC,EAAkB,GAC3D,IAAIoJ,EAAc6W,EACZA,EAAexvD,SAASpZ,EAAS8oE,EAAcpsE,GAC/CosE,EAAazkF,WAAWf,OAASoZ,EAAOkV,eAC1CqgD,EAAUlvE,KAAKimF,UAAYjmF,KAAKkmF,mBACpClX,GAAeE,EAAQ3xE,KAAO2xE,EAAQ7xE,SAClB2C,KAAKgvE,aAAgB1P,MAAM0P,KAC3ChvE,KAAKgvE,YAAcA,EAAchvE,KAAKoN,QAAQyZ,WAAY3pB,MAAMsB,MAC5DwB,KAAKoN,QAAQlQ,MAAMsB,MAAQH,KAAKywE,KAAK9uE,KAAKgvE,aAAe,KAC7DhvE,KAAKmT,QAAQ,oBAAqB67D,GAE1C,EACA+V,EAAO1jF,UAAUokF,iBAAmB,WAChC,GAAKzlF,KAAKmmF,qBAAV,CAEA,IAAIhpF,EAAW6C,KAAKid,QAAQ8L,UAAU+qB,YAClC9zC,KAAKomF,aAAejpF,EAAS8d,MAEjCjb,KAAKomF,WAAajpF,EAAS8d,IAJjB,CAKd,EACA8pE,EAAO1jF,UAAUglF,oBAAsB,WACnC,GAAKrmF,KAAKmmF,qBAAV,CAEA,IAAIlrE,EAAMjb,KAAKid,QAAQ8L,UAAUC,OAAO/N,IAExC,GADAjb,KAAKomF,WAAanrE,GACdjb,KAAK8vE,aAAe9vE,KAAK8vE,YAAY70D,KAAOA,EAAhD,CAEIjb,KAAK8vE,cACL9vE,KAAK8vE,YAAY1iE,QAAQzQ,UAAYqD,KAAK8vE,YAAY1iE,QAAQzQ,UAAU6F,QAAQ,0BAA2B,KAC/G,IAAIouE,EAAQ5wE,KAAKm8B,OAAOy0C,MACxB5wE,KAAK8vE,YAAc,KACnB,IAAK,IAAIruE,EAAI,EAAGA,EAAImvE,EAAMrwE,OAAQkB,IAAK,CACnC,IAAIqwE,EAAOlB,EAAMnvE,GACjB,GAAIqwE,EAAK72D,KAAOjb,KAAKomF,WAAY,CAC7B,GAAItU,EAAK72D,IAAMjb,KAAKomF,WAAY,CAC5B,IAAInpD,EAAOj9B,KAAKid,QAAQigB,YAAYl9B,KAAKomF,YACzC,KAAI3kF,EAAI,GAAKw7B,GAAQA,EAAKjiB,MAAMC,KAAO21D,EAAMnvE,EAAI,GAAGwZ,KAGhD,MAFA62D,EAAOlB,EAAMnvE,EAAI,EAGzB,CACAqwE,EAAK1kE,QAAQzQ,UAAY,0BAA4Bm1E,EAAK1kE,QAAQzQ,UAClEqD,KAAK8vE,YAAcgC,EACnB,KACJ,CACJ,CAnBU,CAJA,CAwBd,EACAiT,EAAO1jF,UAAUilF,YAAc,SAAU3sE,GACrC,IAAIyqE,EAAYpkF,KAAK2Z,OAGrB,GAFA3Z,KAAK2Z,OAASA,EACd3Z,KAAKylF,mBACDzlF,KAAKm8B,OAAOgoD,YAAYC,EAAWzqE,GACnC,OAAO3Z,KAAKqsD,OAAO1yC,GACvB3Z,KAAKm8B,OAAO8nD,cAActqE,GAC1B,IAAI+C,EAAUre,KAAK4H,IAAI0T,EAAO+C,QAAU/C,EAAO4rE,aAC/CvlF,KAAKid,QAAQ0e,YAAc,GACvB6pD,EAAaxlF,KAAKwlF,WAEtB,GADAxlF,KAAKwlF,WAAa9oE,GACb0nE,GAAaoB,EAAa7rE,EAAO8C,SAClC,OAAOzc,KAAKqsD,OAAO1yC,GACvB,GAAI+C,EAAU0nE,EAAU3nE,SACpB,OAAOzc,KAAKqsD,OAAO1yC,GACvB,GAAIyqE,EAAU3nE,SAAW9C,EAAO8C,SAC5B,IAAK,IAAIxB,EAAMjb,KAAKid,QAAQ23C,kBAAkBwvB,EAAU3nE,SAAU9C,EAAO8C,SAAW,GAAIxB,EAAM,EAAGA,IAC7Fjb,KAAKm8B,OAAOnM,QACpB,GAAIw1D,EAAa9oE,EACb,IAASzB,EAAMjb,KAAKid,QAAQ23C,kBAAkBl4C,EAAU,EAAG8oE,GAAavqE,EAAM,EAAGA,IAC7Ejb,KAAKm8B,OAAOnoB,MAChB2F,EAAO8C,SAAW2nE,EAAU3nE,UAC5Bzc,KAAKm8B,OAAOggB,QAAQn8C,KAAKumF,aAAa5sE,EAAQA,EAAO8C,SAAU2nE,EAAU3nE,SAAW,IAEpFC,EAAU8oE,GACVxlF,KAAKm8B,OAAOt6B,KAAK7B,KAAKumF,aAAa5sE,EAAQ6rE,EAAa,EAAG9oE,IAE/D1c,KAAKqmF,sBACLrmF,KAAKmT,QAAQ,eACbnT,KAAK4lF,mBAAmBjsE,EAC5B,EACAorE,EAAO1jF,UAAUklF,aAAe,SAAU5sE,EAAQ8C,EAAUC,GAKxD,IAJA,IAAIioE,EAAW,GACX1pE,EAAMwB,EACN85B,EAAWv2C,KAAKid,QAAQ03C,gBAAgB15C,GACxCilD,EAAY3pB,EAAWA,EAASv7B,MAAMC,IAAMgpC,IAExChpC,EAAMilD,IACNjlD,EAAMs7B,EAASrwC,IAAI+U,IAAM,EAEzBilD,GADA3pB,EAAWv2C,KAAKid,QAAQ03C,gBAAgB15C,EAAKs7B,IACtBA,EAASv7B,MAAMC,IAAMgpC,OAE5ChpC,EAAMyB,IAND,CAQT,IAAIo1D,EAAO9xE,KAAKm8B,OAAO0oD,WAAW5pE,EAAKtB,EAAQ3Z,KAAKid,QAASyoE,GAC7D1lF,KAAK2lF,YAAY7T,EAAMn4D,EAAQ48B,EAAUt7B,GACzC0pE,EAAS9iF,KAAKiwE,GACd72D,GACJ,CACA,OAAO0pE,CACX,EACAI,EAAO1jF,UAAUskF,YAAc,SAAU7T,EAAMn4D,EAAQsjB,EAAMhiB,GACzD,IAAI7N,EAAU0kE,EAAK1kE,QACf6P,EAAUjd,KAAKid,QACfupE,EAAWp5E,EAAQyjE,WAAW,GAC9BY,EAAarkE,EAAQyjE,WAAW,GAChC4V,EAAiBr5E,EAAQyjE,WAAW,GACpC6V,EAAqBD,EAAez3E,WACpC42D,EAAkB3oD,EAAQ6oE,iBAC1B/pB,EAAc9+C,EAAQg9C,aACtB0sB,EAAc1pE,EAAQi9C,aACtB2rB,EAAiB5oE,EAAQ4oE,gBAAkB7lF,KAAK4jF,UAChDl7C,EAAc1oC,KAAKilF,kBAAoBhoE,EAAQyrB,YAC/Cw3B,EAAYjjC,EAAOA,EAAKjiB,MAAMC,IAAM6M,OAAOusB,UAC3Cha,EAAa1gB,EAAO0gB,WAAa,KACjC19B,EAAYqD,KAAK29B,mBAAqB,6BAA+B,mBACrED,EAAgB19B,KAAK29B,mBAAqB,eAAiB,WAC3DipD,GAAWf,EACTA,EAAenC,QAAQzmE,EAAShC,GAChCA,EAAM2qD,GAAiBtkE,WAiB7B,GAhBItB,KAAKmmF,uBACDlrE,GAAOjb,KAAKomF,YAAenpD,GAAQhiB,EAAMjb,KAAKomF,YAAcnrE,GAAOilD,GAAalgE,KAAKomF,YAAcnpD,EAAK/2B,IAAI+U,OAC5Gte,GAAa,0BACTqD,KAAK8vE,aAAegC,IAChB9xE,KAAK8vE,cACL9vE,KAAK8vE,YAAY1iE,QAAQzQ,UAAYqD,KAAK8vE,YAAY1iE,QAAQzQ,UAAU6F,QAAQ,0BAA2B,KAC/GxC,KAAK8vE,YAAcgC,IAI3B/V,EAAY9gD,KACZte,GAAao/D,EAAY9gD,IACzB0rE,EAAY1rE,KACZte,GAAagqF,EAAY1rE,IACzBjb,KAAK88B,aAAa7hB,IAAQA,IAAQilD,IAClCvjE,GAAaqD,KAAK88B,aAAa7hB,GAAKte,WACpC+rC,EAAa,CACb,IAAIiE,EAAIjE,EAAYztB,GACX,MAAL0xB,IACAA,EAAIjE,EAAYztB,GAAOgC,EAAQ45C,cAAc57C,GACrD,CACA,GAAI0xB,EAAG,CACH,IAAIk6C,EAAY,uBAAyBl6C,EACrCm6C,EAAoB,SAALn6C,GAAgB1xB,GAAOilD,GAAajlD,EAAMgiB,EAAK/2B,IAAI+U,IACtE,GAAI6rE,EAAc,CACdD,GAAa,cAGb,IAFA,IAAIE,EAAsB,GACtBC,GAAmB,EACdvlF,EAAIwZ,EAAM,EAAGxZ,GAAKw7B,EAAK/2B,IAAI+U,IAAKxZ,IACrC,GAAKzB,KAAK88B,aAAar7B,GAAvB,CAEA,GAAuC,eAAnCzB,KAAK88B,aAAar7B,GAAG9E,UAA4B,CACjDqqF,GAAmB,EACnBD,EAAsB,kBACtB,KACJ,CACuC,iBAAnC/mF,KAAK88B,aAAar7B,GAAG9E,YACrBqqF,GAAmB,EACnBD,EAAsB,oBARd,CAYhBpqF,GAAaoqF,CACjB,MAEIF,GAAa,YACbpV,EAAW90E,WAAakqF,IACxBpV,EAAW90E,UAAYkqF,GAC3Bh2E,EAAIZ,SAASwhE,EAAWv0E,MAAO,SAAUm9B,GACzCxpB,EAAIZ,SAASwhE,EAAWv0E,MAAO,UAAW,gBAC1Cu0E,EAAW9kE,aAAa,OAAQ,UAChC8kE,EAAW9kE,aAAa,WAAY,MACpC,IAAIs6E,EAAYhqE,EAAQ65C,mBAAmB77C,GACvCgsE,EACAxV,EAAW9kE,aAAa,aAAc8J,EAAI,uCAAwC,0CAA2C,CAACwwE,EAAUjsE,MAAMC,IAAM,EAAGgsE,EAAU/gF,IAAI+U,IAAM,KAEvKgiB,EACAw0C,EAAW9kE,aAAa,aAAc8J,EAAI,wCAAyC,0CAA2C,CAACwmB,EAAKjiB,MAAMC,IAAM,EAAGgiB,EAAK/2B,IAAI+U,IAAM,KAElKw2D,EAAW9kE,aAAa,aAAc8J,EAAI,sCAAuC,8BAA+B,CAACwE,EAAM,KAE3H6rE,GACArV,EAAW9kE,aAAa,gBAAiB,SACzC8kE,EAAW9kE,aAAa,QAAS8J,EAAI,mCAAoC,kBAGzEg7D,EAAW9kE,aAAa,gBAAiB,QACzC8kE,EAAW9kE,aAAa,QAAS8J,EAAI,iCAAkC,cAE/E,MAEQg7D,IACA5gE,EAAIZ,SAASwhE,EAAWv0E,MAAO,UAAW,QAC1Cu0E,EAAW9kE,aAAa,WAAY,KACpC8kE,EAAW/oD,gBAAgB,QAC3B+oD,EAAW/oD,gBAAgB,eAGnC,GAAIs+D,GAAoBhnF,KAAKm9B,uBAAwB,CAQjD,OAPAspD,EAAe9pF,UAAY,wBAC3B+pF,EAAmB/pF,UAAY+gC,EAC/BgpD,EAAmB/pF,WAAaoqF,EAChCl2E,EAAIZ,SAASy2E,EAAmBxpF,MAAO,SAAUm9B,GACjDxpB,EAAIZ,SAASw2E,EAAevpF,MAAO,UAAW,SAC9C2T,EAAIZ,SAASw2E,EAAevpF,MAAO,SAAUm9B,GAErC0sD,GACJ,IAAK,kBACDG,EAAYzwE,EAAI,qCAAsC,0BAA2B,CAACmwE,IAClF,MACJ,IAAK,oBACDM,EAAYzwE,EAAI,uCAAwC,0BAA2B,CAACmwE,IAG5FH,EAAe95E,aAAa,aAAcu6E,GAC1CT,EAAe95E,aAAa,WAAY,MACxC85E,EAAe95E,aAAa,OAAQ,SACxC,MACK,GAAI3M,KAAK88B,aAAa7hB,GAAM,CAU7B,IAAIisE,EACJ,OAVAT,EAAe9pF,UAAY,wBAC3B+pF,EAAmB/pF,UAAY+gC,EAC3B19B,KAAK29B,mBACL+oD,EAAmB/pF,WAAaqD,KAAK88B,aAAa7hB,GAAKte,UAEvDyQ,EAAQytB,UAAU9sB,IAAI/N,KAAK88B,aAAa7hB,GAAKte,UAAU6F,QAAQ,IAAK,KACxEqO,EAAIZ,SAASy2E,EAAmBxpF,MAAO,SAAUm9B,GACjDxpB,EAAIZ,SAASw2E,EAAevpF,MAAO,UAAW,SAC9C2T,EAAIZ,SAASw2E,EAAevpF,MAAO,SAAUm9B,GAErCr6B,KAAK88B,aAAa7hB,GAAKte,WAC3B,IAAK,aACDuqF,EAAYzwE,EAAI,qCAAsC,0BAA2B,CAACmwE,IAClF,MACJ,IAAK,eACDM,EAAYzwE,EAAI,uCAAwC,0BAA2B,CAACmwE,IACpF,MACJ,IAAK,YACDM,EAAYzwE,EAAI,oCAAqC,0BAA2B,CAACmwE,IAGzFH,EAAe95E,aAAa,aAAcu6E,GAC1CT,EAAe95E,aAAa,WAAY,MACxC85E,EAAe95E,aAAa,OAAQ,SACxC,MAEIkE,EAAIZ,SAASw2E,EAAevpF,MAAO,UAAW,QAC9CupF,EAAe/9D,gBAAgB,cAC/B+9D,EAAe/9D,gBAAgB,QAC/B+9D,EAAe95E,aAAa,WAAY,KAc5C,OAZIi6E,IAAYJ,EAAShyE,OACrBgyE,EAAShyE,KAAOoyE,GAEhBx5E,EAAQzQ,WAAaA,IACrByQ,EAAQzQ,UAAYA,GACxBkU,EAAIZ,SAAS6hE,EAAK1kE,QAAQlQ,MAAO,SAAU8C,KAAKm8B,OAAOsoD,kBAAkBxpE,EAAKtB,EAAQsD,GAAW,MACjGpM,EAAIZ,SAAS6hE,EAAK1kE,QAAQlQ,MAAO,MAAO8C,KAAKm8B,OAAOmoD,eAAerpE,EAAKtB,EAAQsD,GAAW,MAC3F60D,EAAK/qD,KAAO6/D,EACyB,SAAjCH,EAAevpF,MAAMS,SAAmD,SAA7B8zE,EAAWv0E,MAAMS,QAC5Dm0E,EAAK1kE,QAAQT,aAAa,eAAe,GAEzCmlE,EAAK1kE,QAAQT,aAAa,eAAe,GACtCmlE,CACX,EACAiT,EAAO1jF,UAAUy4E,uBAAyB,SAAUyI,GAChDviF,KAAKmmF,qBAAuB5D,CAChC,EACAwC,EAAO1jF,UAAU6/E,mBAAqB,SAAUjrD,GAC5Cj2B,KAAK4jF,WAAa3tD,GAAQ,CACtBI,SAAU,WAAc,OAAO,CAAG,EAClCqtD,QAAS,WAAc,MAAO,EAAI,EAE1C,EACAqB,EAAO1jF,UAAU8lF,mBAAqB,WAClC,OAAOnnF,KAAKwhF,gBAChB,EACAuD,EAAO1jF,UAAU45E,mBAAqB,SAAUhlD,GACxCA,EACAplB,EAAIlD,YAAY3N,KAAKoN,QAAS,uBAE9ByD,EAAIjD,eAAe5N,KAAKoN,QAAS,uBACrCpN,KAAKilF,iBAAmBhvD,EACxBj2B,KAAKimF,SAAW,IACpB,EACAlB,EAAO1jF,UAAU65E,mBAAqB,WAClC,OAAOl7E,KAAKilF,gBAChB,EACAF,EAAO1jF,UAAU6kF,gBAAkB,WAC/B,IAAKlmF,KAAKoN,QAAQ4B,WACd,MAAO,CAAEzR,KAAM,EAAGF,MAAO,GAC7B,IAAIH,EAAQ2T,EAAId,cAAmC/P,KAAKoN,QAAQ4B,YAMhE,OALAhP,KAAKimF,SAAW,CAAC,EACjBjmF,KAAKimF,SAAS1oF,MAAQkjB,SAASvjB,EAAM8xB,kBAAoB,IAClDvO,SAASvjB,EAAMkqF,cAAgB,GAAK,EAC3CpnF,KAAKimF,SAAS5oF,OAASojB,SAASvjB,EAAMmqF,mBAAqB,IACpD5mE,SAASvjB,EAAMoqF,eAAiB,GAChCtnF,KAAKimF,QAChB,EACAlB,EAAO1jF,UAAUk6B,UAAY,SAAUisB,GACnC,IAAI0nB,EAAUlvE,KAAKimF,UAAYjmF,KAAKkmF,kBAChCp3D,EAAO9uB,KAAKoN,QAAQuc,wBACxB,OAAI69B,EAAMxmC,EAAIkuD,EAAQ3xE,KAAOuxB,EAAKvxB,KACvB,UACPyC,KAAKilF,kBAAoBz9B,EAAMxmC,EAAI8N,EAAKzxB,MAAQ6xE,EAAQ7xE,MACjD,mBADX,CAEJ,EACO0nF,CACX,CAxa4B,GA+a5B,SAASW,EAAat4E,GAClB,IAAIo5E,EAAWx6E,SAASC,eAAe,IACvCmB,EAAQlB,YAAYs6E,GACpB,IAAI/U,EAAa5gE,EAAIvE,cAAc,QACnCc,EAAQlB,YAAYulE,GACpB,IAAIgV,EAAiB51E,EAAIvE,cAAc,QACvCc,EAAQlB,YAAYu6E,GACpB,IAAIC,EAAqB71E,EAAIvE,cAAc,QAE3C,OADAm6E,EAAev6E,YAAYw6E,GACpBt5E,CACX,CAhBA23E,EAAO1jF,UAAU2kF,aAAc,EAC/BjB,EAAO1jF,UAAU8kF,sBAAuB,EACxCpB,EAAO1jF,UAAUuiF,UAAY,GAC7BmB,EAAO1jF,UAAUmgF,kBAAmB,EACpCuD,EAAO1jF,UAAU4jF,kBAAmB,EACpCpwE,EAAIzC,UAAU2yE,EAAO1jF,UAAWiR,GAYhC7P,EAAQsiF,OAASA,CAEjB,IAEA9hF,IAAI/C,OAAO,mBAAmB,CAAC,UAAU,UAAU,SAAS,YAAY,gBAAgB,SAAS0B,EAASa,EAAStC,GAAQ,aAC3H,IAAIwa,EAAQ/Y,EAAQ,YAAY+Y,MAC5B9J,EAAMjP,EAAQ,cACd2lF,EAAwB,WACxB,SAASA,EAAOvC,GACZhlF,KAAKoN,QAAUyD,EAAIvE,cAAc,OACjCtM,KAAKoN,QAAQzQ,UAAY,6BACzBqoF,EAAS94E,YAAYlM,KAAKoN,QAC9B,CAqKA,OApKAm6E,EAAOlmF,UAAUmmF,WAAa,SAAUtY,GACpClvE,KAAKimF,SAAW/W,CACpB,EACAqY,EAAOlmF,UAAUyxE,WAAa,SAAU71D,GACpCjd,KAAKid,QAAUA,CACnB,EACAsqE,EAAOlmF,UAAUomF,WAAa,SAAUC,GACpC1nF,KAAK0nF,QAAUA,CACnB,EACAH,EAAOlmF,UAAUsmF,IAAM,SAAUhrF,EAAWirF,GACxC,IAAI5mE,GAAe,GAAXhhB,KAAKyB,GAAWzB,KAAKoN,QAAQyjE,WAAW7wE,KAAKyB,GAChDuf,EAMDhhB,KAAKyB,KALLuf,EAAIhV,SAASM,cAAc,OAC3BtM,KAAKoN,QAAQlB,YAAY8U,GACzBhhB,KAAKyB,GAAK,GAKduf,EAAE9jB,MAAMwP,QAAUk7E,EAClB5mE,EAAErkB,UAAYA,CAClB,EACA4qF,EAAOlmF,UAAUgrD,OAAS,SAAU1yC,GAChC,GAAKA,EAAL,CAIA,IAAIic,EACJ,IAAK,IAAI5wB,KAHThF,KAAK2Z,OAASA,EACd3Z,KAAKyB,EAAI,EAEOzB,KAAK0nF,QAAS,CAC1B,IAAIltD,EAASx6B,KAAK0nF,QAAQ1iF,GAC1B,GAAKw1B,EAAOpf,MAAZ,CAIA,IAAIA,EAAQof,EAAOpf,MAAMoB,SAAS7C,EAAO8C,SAAU9C,EAAO+C,SAC1D,IAAItB,EAAMyB,UAGV,GADAzB,EAAQA,EAAM4B,cAAchd,KAAKid,SAC7Bud,EAAOjR,SAAU,CACjB,IAAInsB,EAAM4C,KAAK6nF,QAAQzsE,EAAMJ,MAAMC,IAAKtB,GACpCpc,EAAOyC,KAAKimF,SAAW7qE,EAAMJ,MAAME,OAASvB,EAAOkV,eACvD2L,EAAOjR,SAASqM,EAAMxa,EAAO7d,EAAMH,EAAKuc,EAC5C,KACwB,YAAf6gB,EAAOtnB,KACZlT,KAAK8nF,mBAAmBlyD,EAAMxa,EAAOof,EAAO2xB,MAAOxyC,GAE/B,cAAf6gB,EAAOtnB,KACZlT,KAAK+nF,qBAAqBnyD,EAAMxa,EAAOof,EAAO2xB,MAAOxyC,GAEhDyB,EAAMgB,cACQ,QAAfoe,EAAOtnB,KACPlT,KAAKgoF,eAAepyD,EAAMxa,EAAOof,EAAO2xB,MAAOxyC,GAE/C3Z,KAAKioF,oBAAoBryD,EAAMxa,EAAOof,EAAO2xB,MAAOxyC,GAGxD3Z,KAAK2sD,qBAAqB/2B,EAAMxa,EAAOof,EAAO2xB,MAAP3xB,sBAA2C7gB,EAvBtF,MAFI6gB,EAAO6xB,OAAOz2B,EAAM51B,KAAMA,KAAKid,QAAStD,EA2BhD,CACA,IAAe,GAAX3Z,KAAKyB,EACL,KAAOzB,KAAKyB,EAAIzB,KAAKoN,QAAQ86E,mBACzBloF,KAAKoN,QAAQ0C,YAAY9P,KAAKoN,QAAQ+6E,UArCpC,CAuCd,EACAZ,EAAOlmF,UAAUwmF,QAAU,SAAU5sE,EAAK0kB,GACtC,OAAQ1kB,EAAM0kB,EAAYukD,gBAAkBvkD,EAAYtF,UAC5D,EACAktD,EAAOlmF,UAAU2mF,eAAiB,SAAUI,EAAehtE,EAAO+wC,EAAOxsB,EAAa0oD,GASlF,IARA,IAAIprE,EAAUjd,KAAKid,QACfjC,EAAQI,EAAMJ,MAAMC,IACpB/U,EAAMkV,EAAMlV,IAAI+U,IAChBA,EAAMD,EACNw4D,EAAO,EACP8U,EAAO,EACPpzD,EAAOjY,EAAQonD,uBAAuBppD,GACtCstE,EAAY,IAAI5tE,EAAMM,EAAKG,EAAMJ,MAAME,OAAQD,EAAKqtE,GACjDrtE,GAAO/U,EAAK+U,IACfstE,EAAUvtE,MAAMC,IAAMstE,EAAUriF,IAAI+U,IAAMA,EAC1CstE,EAAUvtE,MAAME,OAASD,GAAOD,EAAQI,EAAMJ,MAAME,OAAS+B,EAAQmnD,iBAAiBnpD,GACtFstE,EAAUriF,IAAIgV,OAASga,EACvBs+C,EAAO8U,EACPA,EAAOpzD,EACPA,EAAOja,EAAM,EAAI/U,EAAM+W,EAAQonD,uBAAuBppD,EAAM,GAAKA,GAAO/U,EAAM,EAAIkV,EAAMlV,IAAIgV,OAC5Flb,KAAK2sD,qBAAqBy7B,EAAeG,EAAWp8B,GAASlxC,GAAOD,EAAQ,aAAe,IAAM,YAC5EC,GAAOD,GAASC,GAAOD,EAAQ,GAAKI,EAAMJ,MAAME,OAoFhE,EAAI,IApFoEs4D,EAAO8U,EAoFhE,EAAI,IApFkEA,EAAOpzD,EAoF9D,EAAI,IApFgEja,GAAO/U,EAoF5D,EAAI,IApF8Dy5B,EAAa1kB,GAAO/U,EAAM,EAAI,EAAGmiF,EAE7J,EACAd,EAAOlmF,UAAU4mF,oBAAsB,SAAUG,EAAehtE,EAAO+wC,EAAOxyC,EAAQ0uE,GAClF,IAAInZ,EAAUlvE,KAAKimF,SACfnoF,EAAS6b,EAAO0gB,WAChBj9B,EAAM4C,KAAK6nF,QAAQzsE,EAAMJ,MAAMC,IAAKtB,GACpCpc,EAAO2xE,EAAU9zD,EAAMJ,MAAME,OAASvB,EAAOkV,gBACjDw5D,EAAaA,GAAc,GACvBroF,KAAKid,QAAQ80B,aAAavC,UAAUp0B,EAAMJ,MAAMC,QAC5CutE,EAASptE,EAAM0B,SACZ5W,IAAI+U,IAAMutE,EAAOxtE,MAAMC,IAC9ButE,EAAOtiF,IAAIgV,OAASlb,KAAKid,QAAQwN,QAAQ+9D,EAAOxtE,MAAMC,KAAK1a,OAC3DP,KAAKyoF,yBAAyBL,EAAeI,EAAQr8B,EAAQ,qBAAsBxyC,EAAQ,KAAM0uE,IAGjGroF,KAAK2nF,IAAIx7B,EAAQ,qBAAsB,UAAYruD,EAAZ,kBAAmDV,EAAM,WAAaG,EAAO,OAAS8qF,GAAc,KAE/I,GAAIroF,KAAKid,QAAQ80B,aAAavC,UAAUp0B,EAAMlV,IAAI+U,KAAM,CACpD,IAAIutE,KAASptE,EAAM0B,SACZ9B,MAAMC,IAAMutE,EAAOtiF,IAAI+U,IAC9ButE,EAAOxtE,MAAME,OAAS,EACtBlb,KAAKyoF,yBAAyBL,EAAeI,EAAQr8B,EAAQ,YAAaxyC,EAAQ,KAAM0uE,EAC5F,KACK,CACDjrF,EAAM4C,KAAK6nF,QAAQzsE,EAAMlV,IAAI+U,IAAKtB,GAClC,IAAInb,EAAQ4c,EAAMlV,IAAIgV,OAASvB,EAAOkV,eACtC7uB,KAAK2nF,IAAIx7B,EAAQ,YAAa,UAAYruD,EAAZ,YACfU,EADe,UAEjBpB,EAFiB,WAGhB8xE,EAAU,OAASmZ,GAAc,IACnD,CAEA,MADAvqF,GAAUsd,EAAMlV,IAAI+U,IAAMG,EAAMJ,MAAMC,IAAM,GAAKtB,EAAO0gB,aAC1C,GAAd,CAEAj9B,EAAM4C,KAAK6nF,QAAQzsE,EAAMJ,MAAMC,IAAM,EAAGtB,GACxC,IAAI+uE,GAAettE,EAAMJ,MAAME,OAAS,EAAI,IAAME,EAAMlV,IAAIgV,OAAS,EAAI,GACzElb,KAAK2nF,IAAIx7B,GAASu8B,EAAc,UAAYA,EAAc,IAAK,UAAY5qF,EAAZ,kBAElDV,EAFkD,WAGjD8xE,EAAU,OAASmZ,GAAc,IANrC,CAOd,EACAd,EAAOlmF,UAAUsrD,qBAAuB,SAAUy7B,EAAehtE,EAAO+wC,EAAOxyC,EAAQgvE,EAAaN,GAChG,GAAIroF,KAAKid,QAAQ80B,aAAavC,UAAUp0B,EAAMJ,MAAMC,KAChD,OAAOjb,KAAKyoF,yBAAyBL,EAAehtE,EAAO+wC,EAAOxyC,EAAQgvE,EAAaN,GAC3F,IAAIvqF,EAAS6b,EAAO0gB,WAChB77B,GAAS4c,EAAMlV,IAAIgV,QAAUytE,GAAe,GAAKvtE,EAAMJ,MAAME,QAAUvB,EAAOkV,eAC9EzxB,EAAM4C,KAAK6nF,QAAQzsE,EAAMJ,MAAMC,IAAKtB,GACpCpc,EAAOyC,KAAKimF,SAAW7qE,EAAMJ,MAAME,OAASvB,EAAOkV,eACvD7uB,KAAK2nF,IAAIx7B,EAAO,UAAYruD,EAAZ,YACDU,EADC,UAEHpB,EAFG,WAGFG,EAAO,OAAS8qF,GAAc,IAChD,EACAd,EAAOlmF,UAAUonF,yBAA2B,SAAUL,EAAehtE,EAAO+wC,EAAOxyC,EAAQgvE,EAAaN,GACpG,IAAIvqF,EAAS6b,EAAO0gB,WAAYj9B,EAAM4C,KAAK6nF,QAAQzsE,EAAMJ,MAAMC,IAAKtB,GAASu1D,EAAUlvE,KAAKimF,SAC3EjmF,KAAKid,QAAQ80B,aAAaQ,cAAcn3B,EAAMJ,MAAME,OAAQE,EAAMlV,IAAIgV,QAC5EnW,SAAQ,SAAUgkB,GACzB/oB,KAAK2nF,IAAIx7B,EAAO,UAAYruD,EAAZ,aACAirB,EAAUvqB,OAASmqF,GAAe,IADlC,UAEHvrF,EAFG,YAGD8xE,EAAUnmD,EAAUxrB,MAAQ,OAAS8qF,GAAc,IACtE,GAAGroF,KACP,EACAunF,EAAOlmF,UAAUymF,mBAAqB,SAAUM,EAAehtE,EAAO+wC,EAAOxyC,EAAQ0uE,GACjF,IAAIjrF,EAAM4C,KAAK6nF,QAAQzsE,EAAMJ,MAAMC,IAAKtB,GACpC7b,EAAS6b,EAAO0gB,WAChBjf,EAAMJ,MAAMC,KAAOG,EAAMlV,IAAI+U,MAC7Bnd,GAAUkC,KAAK6nF,QAAQzsE,EAAMlV,IAAI+U,IAAKtB,GAAUvc,GACpD4C,KAAK2nF,IAAIx7B,EAAO,UAAYruD,EAAZ,UACHV,EADG,sBAESirF,GAAc,IAC3C,EACAd,EAAOlmF,UAAU0mF,qBAAuB,SAAUK,EAAehtE,EAAO+wC,EAAOxyC,EAAQ0uE,GACnF,IAAIjrF,EAAM4C,KAAK6nF,QAAQzsE,EAAMJ,MAAMC,IAAKtB,GACpC7b,EAAS6b,EAAO0gB,WACpBr6B,KAAK2nF,IAAIx7B,EAAO,UAAYruD,EAAZ,UACHV,EADG,sBAESirF,GAAc,IAC3C,EACOd,CACX,CA3K4B,GA4K5BA,EAAOlmF,UAAU4kF,SAAW,EAI5BxjF,EAAQ8kF,OAASA,CAEjB,IAEAtkF,IAAI/C,OAAO,sBAAsB,CAAC,UAAU,UAAU,WAAW,SAAS0B,EAASa,EAAStC,GAC5F,IAAIyoF,EAAa,IAAIC,IAAI,CAAC,OAAQ,SAAU,WAC5CpmF,EAAQqmF,YAAc,SAAUC,GAC5B,OAAOH,EAAWI,IAAID,EAC1B,CAEA,IAEA9lF,IAAI/C,OAAO,iBAAiB,CAAC,UAAU,UAAU,SAAS,cAAc,cAAc,eAAe,kBAAkB,wBAAwB,aAAa,wBAAwB,SAAS0B,EAASa,EAAStC,GAAQ,aACvN,IAAI0U,EAAMjT,EAAQ,cACdiP,EAAMjP,EAAQ,cACdqV,EAAOrV,EAAQ,eACfiiF,EAAQjiF,EAAQ,WAAWiiF,MAC3BvxE,EAAe1Q,EAAQ,wBAAwB0Q,aAC/CmE,EAAM7U,EAAQ,aAAa6U,IAC3BqyE,EAAclnF,EAAQ,eAAeknF,YACrCG,EAAsB,WACtB,SAASA,EAAKjE,GACVhlF,KAAK6Q,IAAMA,EACX7Q,KAAKoN,QAAUpN,KAAK6Q,IAAIvE,cAAc,OACtCtM,KAAKoN,QAAQzQ,UAAY,2BACzBqoF,EAAS94E,YAAYlM,KAAKoN,SAC1BpN,KAAKkpF,eAAiBlpF,KAAKkpF,eAAerjE,KAAK7lB,MAC/CA,KAAKm8B,OAAS,IAAI0nD,EAAM7jF,KAAKoN,QACjC,CAklBA,OAjlBA67E,EAAK5nF,UAAU6nF,eAAiB,WAC5B,IAAIr8E,EAAM7M,KAAKid,QAAQpQ,IAEnBs8E,EADwC,MAA7Bt8E,EAAI+7C,uBAAyD,WAAxB/7C,EAAIq8C,iBAC9BlpD,KAAKopF,YAAcppF,KAAKqpF,cAClD,GAAIrpF,KAAKmpF,UAAYA,EAEjB,OADAnpF,KAAKmpF,SAAWA,GACT,CAEf,EACAF,EAAK5nF,UAAUmmF,WAAa,SAAUtY,GAClClvE,KAAKimF,SAAW/W,EAChBlvE,KAAKoN,QAAQlQ,MAAMosF,OAAS,KAAOpa,EAAU,IACjD,EACA+Z,EAAK5nF,UAAUkoF,cAAgB,WAC3B,OAAOvpF,KAAKwpF,aAAap4C,eAAetzC,QAAU,CACtD,EACAmrF,EAAK5nF,UAAUmkE,kBAAoB,WAC/B,OAAOxlE,KAAKwpF,aAAap4C,eAAe5yC,OAAS,CACrD,EACAyqF,EAAK5nF,UAAUgkE,gBAAkB,SAAUokB,GACvCzpF,KAAKwpF,aAAeC,EACpBzpF,KAAKwpF,aAAan2E,GAAG,sBACrB,SAAUnK,GACNlJ,KAAKmT,QAAQ,sBAAuBjK,EACxC,EAAE2c,KAAK7lB,OACPA,KAAK0pF,kBACT,EACAT,EAAK5nF,UAAUsoF,oBAAsB,WACjC3pF,KAAKwpF,aAAaG,qBACtB,EACAV,EAAK5nF,UAAUqoF,iBAAmB,WAC9B,OAAO1pF,KAAK4pF,sBAAwB5pF,KAAKwpF,aAAaE,kBAC1D,EACAT,EAAK5nF,UAAUyxE,WAAa,SAAU71D,GAClCjd,KAAKid,QAAUA,EACXA,GACAjd,KAAK6pF,mBACb,EACAZ,EAAK5nF,UAAUkwC,kBAAoB,SAAU3C,GACzC,OAAI5uC,KAAK4uC,gBAAkBA,IAE3B5uC,KAAK4uC,eAAiBA,EACO,iBAAlBA,GACP5uC,KAAK8pF,WAAa,OAAOt+E,KAAKojC,GAC9B5uC,KAAK+pF,SAAW,SAASv+E,KAAKojC,GAC9B5uC,KAAKgqF,QAAU,OAAOx+E,KAAKojC,IAG3B5uC,KAAK8pF,WAAa9pF,KAAK+pF,SAAW/pF,KAAKgqF,QAAUp7C,EAErD5uC,KAAK6pF,qBACE,EACX,EACAZ,EAAK5nF,UAAUi5E,uBAAyB,SAAU38E,GAC9C,OAAIqC,KAAK6iF,qBAAuBllF,IAEhCqC,KAAK6iF,oBAAsBllF,EAC3BqC,KAAK6pF,qBACE,EACX,EACAZ,EAAK5nF,UAAUm5E,yBAA2B,SAAU1c,GAChD,OAAI99D,KAAKiqF,yBAA2BnsB,IAEpC99D,KAAKiqF,uBAAyBnsB,EACvBA,EACX,EACAmrB,EAAK5nF,UAAUwoF,kBAAoB,WAC/B,IAAIlzC,EAAU32C,KAAKid,QAAQ45B,aAC3B72C,KAAK22C,QAAUA,EACf,IADwB,IAAIuzC,EAASlqF,KAAKmqF,YAAc,CAAC,GAChD1oF,EAAI,EAAGA,EAAIk1C,EAAU,EAAGl1C,IAAK,CAClC,GAAIzB,KAAK+pF,UACDK,EAAOpqF,KAAK6Q,IAAIvE,cAAc,SAC7B3P,UAAY,kCACjBytF,EAAK98E,YAAc2J,EAAKpQ,aAAa7G,KAAKqqF,SAAU5oF,GACpDyoF,EAAOroF,KAAKuoF,QAGZF,EAAOroF,KAAK7B,KAAK6Q,IAAI5E,eAAegL,EAAKpQ,aAAa,IAAKpF,GAAIzB,KAAKoN,SAE5E,CACA,GAAIpN,KAAK6iF,oBAAqB,CAC1B7iF,KAAKsqF,eAAiB,mBACtB,IAaIF,EAbAztF,EAAY,mBACZ4tF,EAAavqF,KAAK8pF,WAAa,qCAAuC,GACtEU,EAAexqF,KAAK8pF,WAClB7yE,EAAKpQ,aAAa7G,KAAKyqF,WAAYzqF,KAAK22C,SACxC1/B,EAAKpQ,aAAa,IAAK7G,KAAK22C,SAC9B+zC,EAAW1qF,KAAK+pF,SAAW,mCAAqC,GAChEY,EAAa3qF,KAAK+pF,SAChB9yE,EAAKpQ,aAAa7G,KAAKqqF,SAAUrqF,KAAK22C,SACtC6zC,GACFJ,EAAOpqF,KAAK6Q,IAAIvE,cAAc,SAC7B3P,UAAYA,EAAY4tF,EAC7BH,EAAK98E,YAAck9E,EACnBxqF,KAAKmqF,YAAY,KAAOC,GACpBA,EAAOpqF,KAAK6Q,IAAIvE,cAAc,SAC7B3P,UAAYA,EAAY+tF,EAC7BN,EAAK98E,YAAcq9E,EACnB3qF,KAAKmqF,YAAY,MAAQC,CAC7B,CACJ,EACAnB,EAAK5nF,UAAUk2E,YAAc,SAAU59D,EAAQ8C,EAAUC,GACrD,GAAI1c,KAAK2Z,OAAO+C,SAAW/C,EAAO+C,SAC9B1c,KAAK2Z,OAAO8C,UAAY9C,EAAO8C,SAC/B,OAAOzc,KAAKqsD,OAAO1yC,GAEvB3Z,KAAK2Z,OAASA,EAKd,IAJA,IAAIkyC,EAAQxtD,KAAK2H,IAAIyW,EAAU9C,EAAO8C,UAClChW,EAAOpI,KAAK4H,IAAIyW,EAAS/C,EAAO+C,SAChCkuE,EAAe5qF,KAAKoN,QAAQyjE,WAC5Bga,EAAkB,EACb5vE,EAAMtB,EAAO8C,SAAUxB,EAAM4wC,EAAO5wC,IAAO,CAEhD,GADIs7B,EAAWv2C,KAAKid,QAAQigB,YAAYjiB,GAC1B,CACV,GAAIs7B,EAASmb,YAAY7F,GAAQ,CAC7BA,EAAQtV,EAASv7B,MAAMC,IACvB,KACJ,CAEIA,EAAMs7B,EAASrwC,IAAI+U,GAE3B,CACA4vE,GACJ,CAKA,IAJA,IAEIt0C,EAFAu0C,GAAgB,EAGhB5qB,GAFAjlD,EAAM4wC,GACNtV,EAAWv2C,KAAKid,QAAQ03C,gBAAgB15C,IACjBs7B,EAASv7B,MAAMC,IAAMgpC,KAExChpC,EAAMilD,IACNjlD,EAAMs7B,EAASrwC,IAAI+U,IAAM,EAEzBilD,GADA3pB,EAAWv2C,KAAKid,QAAQ03C,gBAAgB15C,EAAKs7B,IACtBA,EAASv7B,MAAMC,IAAMgpC,OAE5ChpC,EAAMxU,IAND,CAOE,IAAIm3B,EAAcgtD,EAAaC,KAC1C,GAAIjtD,EAAa,CACb59B,KAAK6Q,IAAI1D,eAAeywB,GACxB59B,KAAK+qF,YAAYntD,EAAa3iB,EAAKA,GAAOilD,GAAY3pB,GAClDu0C,IACAltD,EAAY1gC,MAAME,IAAM4C,KAAKm8B,OAAOmoD,eAAerpE,EAAKtB,EAAQ3Z,KAAKid,SAAW,MACpF,IAAInf,EAAU6b,EAAO0gB,WAAar6B,KAAKid,QAAQinD,aAAajpD,GAAQ,KAChE2iB,EAAY1gC,MAAMY,QAAUA,IAC5BgtF,GAAgB,EAChBltD,EAAY1gC,MAAMY,OAASA,EAEnC,CACAmd,GACJ,CACA,GAAI6vE,EACA,KAAOD,EAAkB7qF,KAAKm8B,OAAOy0C,MAAMrwE,QAAQ,CAC/C,IAAIuxE,EAAO9xE,KAAKm8B,OAAOy0C,MAAMia,KAC7B/Y,EAAK1kE,QAAQlQ,MAAME,IAAM4C,KAAKm8B,OAAOmoD,eAAexS,EAAK72D,IAAKtB,EAAQ3Z,KAAKid,SAAW,IAC1F,CAER,EACAgsE,EAAK5nF,UAAUilF,YAAc,SAAU3sE,GACnC,IAAIyqE,EAAYpkF,KAAK2Z,OAErB,GADA3Z,KAAK2Z,OAASA,EACV3Z,KAAKm8B,OAAOgoD,YAAYC,EAAWzqE,GACnC,OAAO3Z,KAAKqsD,OAAO1yC,GACvB3Z,KAAKm8B,OAAO8nD,cAActqE,GAC1B,IAAI+C,EAAU/C,EAAO+C,QACjB8oE,EAAapB,EAAYA,EAAU1nE,SAAW,EAClD,IAAK0nE,GAAaoB,EAAa7rE,EAAO8C,SAClC,OAAOzc,KAAKqsD,OAAO1yC,GACvB,GAAI+C,EAAU0nE,EAAU3nE,SACpB,OAAOzc,KAAKqsD,OAAO1yC,GACvB,IAAKyqE,GAAaA,EAAU1nE,QAAU/C,EAAO8C,SACzC,OAAOzc,KAAKqsD,OAAO1yC,GACvB,GAAIA,EAAO+C,QAAU0nE,EAAU3nE,SAC3B,OAAOzc,KAAKqsD,OAAO1yC,GACvB,GAAIyqE,EAAU3nE,SAAW9C,EAAO8C,SAC5B,IAAK,IAAIxB,EAAMjb,KAAKid,QAAQ23C,kBAAkBwvB,EAAU3nE,SAAU9C,EAAO8C,SAAW,GAAIxB,EAAM,EAAGA,IAC7Fjb,KAAKm8B,OAAOnM,QACpB,GAAIo0D,EAAU1nE,QAAU/C,EAAO+C,QAC3B,IAASzB,EAAMjb,KAAKid,QAAQ23C,kBAAkBj7C,EAAO+C,QAAU,EAAG0nE,EAAU1nE,SAAUzB,EAAM,EAAGA,IAC3Fjb,KAAKm8B,OAAOnoB,MAChB2F,EAAO8C,SAAW2nE,EAAU3nE,UAC5Bzc,KAAKm8B,OAAOggB,QAAQn8C,KAAKgrF,qBAAqBrxE,EAAQA,EAAO8C,SAAU2nE,EAAU3nE,SAAW,IAE5F9C,EAAO+C,QAAU0nE,EAAU1nE,SAC3B1c,KAAKm8B,OAAOt6B,KAAK7B,KAAKgrF,qBAAqBrxE,EAAQyqE,EAAU1nE,QAAU,EAAG/C,EAAO+C,UAErF1c,KAAK82E,uBACT,EACAmS,EAAK5nF,UAAU2pF,qBAAuB,SAAUrxE,EAAQ8C,EAAUC,GAK9D,IAJA,IAAIioE,EAAW,GACX1pE,EAAMwB,EACN85B,EAAWv2C,KAAKid,QAAQ03C,gBAAgB15C,GACxCilD,EAAY3pB,EAAWA,EAASv7B,MAAMC,IAAMgpC,IAExChpC,EAAMilD,IACNjlD,EAAMs7B,EAASrwC,IAAI+U,IAAM,EAEzBilD,GADA3pB,EAAWv2C,KAAKid,QAAQ03C,gBAAgB15C,EAAKs7B,IACtBA,EAASv7B,MAAMC,IAAMgpC,OAE5ChpC,EAAMyB,IAND,CAQT,IAAItT,EAAOpJ,KAAKm8B,OAAO0oD,WAAW5pE,EAAKtB,EAAQ3Z,KAAKid,SAChDguE,EAAS7hF,EAAKgE,QAClBpN,KAAK6Q,IAAI1D,eAAe89E,GACxBp6E,EAAIZ,SAASg7E,EAAO/tF,MAAO,SAAU8C,KAAKm8B,OAAOsoD,kBAAkBxpE,EAAKtB,EAAQ3Z,KAAKid,SAAW,MAChGpM,EAAIZ,SAASg7E,EAAO/tF,MAAO,MAAO8C,KAAKm8B,OAAOmoD,eAAerpE,EAAKtB,EAAQ3Z,KAAKid,SAAW,MAC1Fjd,KAAK+qF,YAAYE,EAAQhwE,EAAKA,GAAOilD,GAAY3pB,GAC7Cv2C,KAAKkrF,iBACLD,EAAOtuF,UAAY,iBAGnBsuF,EAAOtuF,UAAY,WAEvBgoF,EAAS9iF,KAAKuH,GACd6R,GACJ,CACA,OAAO0pE,CACX,EACAsE,EAAK5nF,UAAUgrD,OAAS,SAAU1yC,GAC9B3Z,KAAKm8B,OAAO8nD,cAActqE,GAC1B3Z,KAAK2Z,OAASA,EAId,IAHA,IAAI8C,EAAW9C,EAAO8C,SAClBC,EAAU/C,EAAO+C,QACjBsO,EAAQhrB,KAAKm8B,OACVnR,EAAM2Q,aACT3Q,EAAMhX,MACVgX,EAAMnpB,KAAK7B,KAAKgrF,qBAAqBrxE,EAAQ8C,EAAUC,GAC3D,EACAusE,EAAK5nF,UAAU8pF,aAAe,SAAUt/E,EAAQo4D,EAActpB,EAAOp3C,GAMjE,IALA,IAGIiX,EAHA0mB,EAAOlhC,KACPmY,EAAK,gnBACLizE,EAAgBprF,KAAK6Q,IAAIrD,eAAexN,KAAKoN,SAE7C3L,EAAI,EACD+Y,EAAIrC,EAAGlO,KAAK1G,IAAQ,CACvB,IAAImiD,EAAMlrC,EAAE,GACR6wE,EAAc7wE,EAAE,GAChB8wE,EAAmB9wE,EAAE,GACrB+wE,EAAW/wE,EAAE,GACbgxE,EAAMhxE,EAAE,GACZ,GAAK0mB,EAAK4oD,aAAcuB,EAAxB,CAEA,IAAI1mC,EAASljD,GAAK+Y,EAAE5V,MAAQrB,EAAMlB,MAAMZ,EAAG+Y,EAAE5V,OAAS,GAKtD,GAJAnD,EAAI+Y,EAAE5V,MAAQ4V,EAAE,GAAGja,OACfokD,GACAymC,EAAcl/E,YAAYlM,KAAK6Q,IAAI5E,eAAe04C,EAAQ3kD,KAAKoN,UAE/Ds4C,EAAK,CACL,IAAI/O,EAAUzV,EAAKjkB,QAAQ8zB,iBAAiBkzB,EAAezpD,EAAE5V,OAC7DwmF,EAAcl/E,YAAYg1B,EAAKipD,YAAYxzC,GAAS80C,WAAU,IAC9DxnB,GAAgBttB,EAAU,CAC9B,MACK,GAAI00C,EAAa,CAClB,GAAInqD,EAAK4oD,YACDM,EAAOpqF,KAAK6Q,IAAIvE,cAAc,SAC7B3P,UAAY,oCACjBytF,EAAK98E,YAAc2J,EAAKpQ,aAAaq6B,EAAKupD,WAAYY,EAAY9qF,QAClE6qF,EAAcl/E,YAAYk+E,QAG1BgB,EAAcl/E,YAAYlM,KAAK6Q,IAAI5E,eAAeo/E,EAAarrF,KAAKoN,SAE5E,MACK,GAAIk+E,EAAkB,EACnBlB,EAAOpqF,KAAK6Q,IAAIvE,cAAc,SAC7B3P,UAAY,gDACjBytF,EAAK98E,YAAc2J,EAAKpQ,aAAaq6B,EAAKupD,WAAYa,EAAiB/qF,QACvE6qF,EAAcl/E,YAAYk+E,EAC9B,MACK,GAAImB,EAAU,CACftnB,GAAgB,GACZmmB,EAAOpqF,KAAK6Q,IAAIvE,cAAc,SAC7BpP,MAAMsB,MAAsC,EAA7B0iC,EAAKvnB,OAAOkV,eAAsB,KACtDu7D,EAAKztF,UAAYukC,EAAK4oD,WAAa,4CAA8C,UACjFM,EAAK98E,YAAc4zB,EAAK4oD,WAAa5oD,EAAKupD,WAAac,EACvDH,EAAcl/E,YAAYk+E,EAC9B,MACK,GAAIoB,EAAK,CACVvnB,GAAgB,GACZmmB,EAAOpqF,KAAK6Q,IAAIvE,cAAc,SAC7BpP,MAAMsB,MAAsC,EAA7B0iC,EAAKvnB,OAAOkV,eAAsB,KACtDu7D,EAAKztF,UAAY,UACjBytF,EAAK98E,YAAck+E,EACnBJ,EAAcl/E,YAAYk+E,EAC9B,CA3CY,CA4ChB,CAEA,GADAgB,EAAcl/E,YAAYlM,KAAK6Q,IAAI5E,eAAexK,EAAI8B,EAAMlB,MAAMZ,GAAK8B,EAAOvD,KAAKoN,UAC9E07E,EAAYnuC,EAAMznC,MAYnBrH,EAAOK,YAAYk/E,OAZO,CAC1B,IAAIv9E,EAAU,OAAS8sC,EAAMznC,KAAK1Q,QAAQ,MAAO,SAC7C4nF,EAAOpqF,KAAK6Q,IAAIvE,cAAc,QAChB,QAAdquC,EAAMznC,OACNk3E,EAAKltF,MAAMsB,MAASm8C,EAAMp3C,MAAMhD,OAASP,KAAK2Z,OAAOkV,eAAkB,KACvEu7D,EAAKz9E,aAAa,QAAS8J,EAAI,2BAA4B,iBAE/D2zE,EAAKztF,UAAYkR,EACjBu8E,EAAKl+E,YAAYk/E,GACjBv/E,EAAOK,YAAYk+E,EACvB,CAIA,OAAOnmB,EAAe1gE,EAAMhD,MAChC,EACA0oF,EAAK5nF,UAAUqqF,kBAAoB,SAAU7/E,EAAQtI,EAAOyC,GACxD,IAAI2lF,EAAOpoF,EAAMg0C,OAAOv3C,KAAKsqF,gBAC7B,GAAIqB,GAAQ,GAAKA,GAAQ3lF,EACrB,OAAOzC,EACX,GAAgB,KAAZA,EAAM,GAAW,CAGjB,IADA,IAAIY,GADJwnF,GAAQA,EAAO3rF,KAAK22C,SACD32C,KAAK22C,QACfl1C,EAAI,EAAGA,EAAI0C,EAAO1C,IACvBoK,EAAOK,YAAYlM,KAAKmqF,YAAY,KAAKsB,WAAU,IAGvD,OADAzrF,KAAK82E,wBACEvzE,EAAM0tC,OAAO06C,EACxB,CACK,GAAgB,MAAZpoF,EAAM,GAAY,CACvB,IAAS9B,EAAI,EAAGA,EAAIkqF,EAAMlqF,IACtBoK,EAAOK,YAAYlM,KAAKmqF,YAAY,MAAMsB,WAAU,IAGxD,OADAzrF,KAAK82E,wBACEvzE,EAAM0tC,OAAO06C,EACxB,CAEA,OADA3rF,KAAK82E,wBACEvzE,CACX,EACA0lF,EAAK5nF,UAAUy1E,sBAAwB,WACnC,GAAK92E,KAAKiqF,wBAA2BjqF,KAAK6iF,oBAA1C,CAEA7iF,KAAK4rF,4BAA8B,CAC/BC,iBAAa1qF,EACb6Z,WAAO7Z,EACP+E,SAAK/E,EACL+oC,SAAK/oC,GAET,IAAI6pB,EAAQhrB,KAAKid,QAAQpQ,IAAIsvB,OAC7B,GAAKnR,EAAL,CAEA,IAAIhC,EAAShpB,KAAKid,QAAQ8L,UAAU+qB,YAChCg4C,EAAgB,OAAO7hF,KAAKjK,KAAKid,QAAQpQ,IAAI4d,QAAQzB,EAAO/N,MAAM,GAAG1a,OACrEwrF,EAAqB1tF,KAAK8mD,MAAM2mC,EAAgB9rF,KAAK22C,SAMzD,GALA32C,KAAK4rF,4BAA8B,CAC/BC,YAAaE,EACb/wE,MAAOgO,EAAO/N,KAEKjb,KAAKid,QAAQq5D,kBAGhC,IADA,IAAIp9B,EAASl5C,KAAKid,QAAQq5D,kBAAkBp9B,OACnCz3C,EAAI,EAAGA,EAAIy3C,EAAO34C,OAAQkB,IAC/B,GAAIunB,EAAO/N,MAAQi+B,EAAOz3C,GAAGuZ,MAAMC,IAAK,CACpCjb,KAAK4rF,4BAA4B1lF,IAAMgzC,EAAOz3C,GAAGuZ,MAAMC,IACnD+N,EAAO/N,IAAMi+B,EAAOz3C,GAAGuZ,MAAMC,IAC7Bjb,KAAK4rF,4BAA4B1hD,KAAO,EAGxClqC,KAAK4rF,4BAA4B1hD,IAAM,EAE3C,KACJ,CAGR,IAAKlqC,KAAK4rF,4BAA4B1lF,KACR,KAAtB8kB,EAAMhC,EAAO/N,MAAe+N,EAAO9N,SAAW8P,EAAMhC,EAAO/N,KAAK1a,OAAQ,CACxEP,KAAK4rF,4BAA4B1hD,IAAM,EACvC,IAASzoC,EAAIunB,EAAO/N,IAAM,EAAGxZ,EAAIupB,EAAMzqB,OAAQkB,IAAK,CAChD,IAAI2H,EAAO4hB,EAAMvpB,GACbuqF,EAAgB,OAAO/hF,KAAKb,GAAM,GAAG7I,OACzC,GAAa,KAAT6I,IACApJ,KAAK4rF,4BAA4B1lF,IAAMzE,EACnCuqF,GAAiBF,GACjB,KAEZ,CACJ,CAEJ9rF,KAAKisF,6BAtCK,CATA,CAgDd,EACAhD,EAAK5nF,UAAU6qF,wBAA0B,WAErC,IADA,IAAItb,EAAQ5wE,KAAKm8B,OAAOy0C,MACfnvE,EAAI,EAAGA,EAAImvE,EAAMrwE,OAAQkB,IAAK,CACnC,IACIovE,EADOD,EAAMnvE,GACK2L,QAAQyjE,WAC9B,GAAIA,EAAWtwE,OAAS,EACpB,IAAK,IAAI+Z,EAAI,EAAGA,EAAIu2D,EAAWtwE,OAAQ+Z,IACnC,GAAIu2D,EAAWv2D,GAAGugB,WAAag2C,EAAWv2D,GAAGugB,UAAUxf,SAAS,2BAA4B,CACxFw1D,EAAWv2D,GAAGugB,UAAUrsB,OAAO,2BAC/B,KACJ,CAGZ,CACJ,EACAy6E,EAAK5nF,UAAU8qF,sBAAwB,SAAUra,EAAM+Z,GAEnD,GAAa,KADF7rF,KAAKid,QAAQpQ,IAAI4d,QAAQqnD,EAAK72D,KACxB,CACb,IAAI41D,EAAaiB,EAAK1kE,QAAQyjE,WAC9B,GAAIA,EAAY,CACZ,IAAI5iE,EAAO4iE,EAAWgb,EAAc,GAChC59E,GAAQA,EAAK4sB,WAAa5sB,EAAK4sB,UAAUxf,SAAS,qBAClDpN,EAAK4sB,UAAU9sB,IAAI,0BAC3B,CACJ,CACJ,EACAk7E,EAAK5nF,UAAU4qF,4BAA8B,WACzC,GAAKjsF,KAAKm8B,OAAV,CAEA,IAAIy0C,EAAQ5wE,KAAKm8B,OAAOy0C,MACxB5wE,KAAKksF,0BACL,IAAIL,EAAc7rF,KAAK4rF,4BAA4BC,YACnD,GAAoB,IAAhBA,EACA,GAA6C,IAAzC7rF,KAAK4rF,4BAA4B1hD,IACjC,IAAK,IAAIzoC,EAAI,EAAGA,EAAImvE,EAAMrwE,OAAQkB,IAAK,CACnC,IAAIqwE,EAAOlB,EAAMnvE,GACjB,GAAIzB,KAAK4rF,4BAA4B1lF,KAAO4rE,EAAK72D,KAAOjb,KAAK4rF,4BAA4B5wE,MACnF,EAAG,CACL,GAAI82D,EAAK72D,KAAOjb,KAAK4rF,4BAA4B1lF,IAC7C,MACJlG,KAAKmsF,sBAAsBra,EAAM+Z,EACrC,CACJ,MAGA,IAASpqF,EAAImvE,EAAMrwE,OAAS,EAAGkB,GAAK,EAAGA,IAAK,CACpCqwE,EAAOlB,EAAMnvE,GACjB,GAAIzB,KAAK4rF,4BAA4B1lF,KAAO4rE,EAAK72D,IAAMjb,KAAK4rF,4BAA4B5wE,MAAO,CAC3F,GAAI82D,EAAK72D,KAAOjb,KAAK4rF,4BAA4B1lF,IAC7C,MACJlG,KAAKmsF,sBAAsBra,EAAM+Z,EACrC,CACJ,CAxBE,CA2Bd,EACA5C,EAAK5nF,UAAU+qF,mBAAqB,SAAUvgF,GAC1C,IAAIo/E,EAASjrF,KAAK6Q,IAAIvE,cAAc,OAGpC,OAFA2+E,EAAOtuF,UAAY,WACnBsuF,EAAO/tF,MAAMY,OAASkC,KAAK2Z,OAAO0gB,WAAa,KACxC4wD,CACX,EACAhC,EAAK5nF,UAAUgrF,mBAAqB,SAAUxgF,EAAQwvC,EAAQ5K,GAC1D,IAAInE,EAAQ,EACRnqC,EAAQ,EACRmqF,EAAa77C,EAAO,GACpBwzB,EAAe,EACfgnB,EAASjrF,KAAKosF,qBAClBvgF,EAAOK,YAAY++E,GACnB,IAAK,IAAIxpF,EAAI,EAAGA,EAAI45C,EAAO96C,OAAQkB,IAAK,CACpC,IAAIk5C,EAAQU,EAAO55C,GACf8B,EAAQo3C,EAAMp3C,MAClB,GAAS,GAAL9B,GAAUzB,KAAK6iF,oBAAqB,CAGpC,GAFAv2C,EAAQ/oC,EAAMhD,SACdgD,EAAQvD,KAAK0rF,kBAAkBT,EAAQ1nF,EAAO+oF,IAE1C,SACJhgD,GAAS/oC,EAAMhD,MACnB,CACA,GAAI+rC,EAAQ/oC,EAAMhD,OAAS+rF,EACvBroB,EAAejkE,KAAKmrF,aAAaF,EAAQhnB,EAActpB,EAAOp3C,GAC9D+oC,GAAS/oC,EAAMhD,WAEd,CACD,KAAO+rC,EAAQ/oC,EAAMhD,QAAU+rF,GAC3BroB,EAAejkE,KAAKmrF,aAAaF,EAAQhnB,EAActpB,EAAOp3C,EAAMqtC,UAAU,EAAG07C,EAAahgD,IAC9F/oC,EAAQA,EAAMqtC,UAAU07C,EAAahgD,GACrCA,EAAQggD,EACRrB,EAASjrF,KAAKosF,qBACdvgF,EAAOK,YAAY++E,GACnBA,EAAO/+E,YAAYlM,KAAK6Q,IAAI5E,eAAegL,EAAKpQ,aAAa,OAAQ4pC,EAAOE,QAAS3wC,KAAKoN,UAE1F62D,EAAe,EACfqoB,EAAa77C,IAFbtuC,IAE8B2lB,OAAOusB,UAErB,GAAhB9wC,EAAMhD,SACN+rC,GAAS/oC,EAAMhD,OACf0jE,EAAejkE,KAAKmrF,aAAaF,EAAQhnB,EAActpB,EAAOp3C,GAEtE,CACJ,CACIktC,EAAOA,EAAOlwC,OAAS,GAAKP,KAAKymB,iBACjCzmB,KAAKusF,uBAAuBtB,EAAQhnB,EAAc,KAAM,IAAI,EACpE,EACAglB,EAAK5nF,UAAUmrF,kBAAoB,SAAU3gF,EAAQwvC,GAEjD,IADA,IAAI4oB,EAAe,EACVxiE,EAAI,EAAGA,EAAI45C,EAAO96C,OAAQkB,IAAK,CACpC,IAAIk5C,EAAQU,EAAO55C,GACf8B,EAAQo3C,EAAMp3C,MAClB,GAAS,GAAL9B,IAAUzB,KAAK6iF,sBACft/E,EAAQvD,KAAK0rF,kBAAkB7/E,EAAQtI,IAD3C,CAKA,GAAI0gE,EAAe1gE,EAAMhD,OAASP,KAAKymB,gBACnC,OAAOzmB,KAAKusF,uBAAuB1gF,EAAQo4D,EAActpB,EAAOp3C,GACpE0gE,EAAejkE,KAAKmrF,aAAat/E,EAAQo4D,EAActpB,EAAOp3C,EAH9D,CAIJ,CACJ,EACA0lF,EAAK5nF,UAAUkrF,uBAAyB,SAAU1gF,EAAQo4D,EAActpB,EAAOp3C,EAAO2yB,GAClFykB,GAAS36C,KAAKmrF,aAAat/E,EAAQo4D,EAActpB,EAAOp3C,EAAMlB,MAAM,EAAGrC,KAAKymB,gBAAkBw9C,IAC9F,IAAIwoB,EAAazsF,KAAK6Q,IAAIvE,cAAc,QACxCmgF,EAAW9vF,UAAY,gDACvB8vF,EAAWn/E,YAAc4oB,EAAO,SAAW,yBAC3CrqB,EAAOK,YAAYugF,EACvB,EACAxD,EAAK5nF,UAAU0pF,YAAc,SAAUl/E,EAAQoP,EAAKs7B,GAGhD,GAFKA,GAAwB,GAAZA,IACbA,EAAWv2C,KAAKid,QAAQigB,YAAYjiB,IACpCs7B,EACA,IAAI8E,EAASr7C,KAAK0sF,mBAAmBzxE,EAAKs7B,QAEtC8E,EAASr7C,KAAKid,QAAQ6hC,UAAU7jC,GACxC,IAAI0xE,EAAa9gF,EACjB,GAAIwvC,EAAO96C,OAAQ,CACf,IAAIkwC,EAASzwC,KAAKid,QAAQwnD,gBAAgBxpD,GAC1C,GAAIw1B,GAAUA,EAAOlwC,OAAQ,CACzBP,KAAKqsF,mBAAmBxgF,EAAQwvC,EAAQ5K,GACpCk8C,EAAa9gF,EAAOs8E,SAC5B,KACK,CACGwE,EAAa9gF,EACb7L,KAAKkrF,mBACLyB,EAAa3sF,KAAKosF,qBAClBvgF,EAAOK,YAAYygF,IAEvB3sF,KAAKwsF,kBAAkBG,EAAYtxC,EACvC,CACJ,MACSr7C,KAAKkrF,mBACVyB,EAAa3sF,KAAKosF,qBAClBvgF,EAAOK,YAAYygF,IAEvB,GAAI3sF,KAAKgqF,SAAW2C,EAAY,CACxBp2C,IACAt7B,EAAMs7B,EAASrwC,IAAI+U,KACvB,IAAI2xE,EAAc5sF,KAAK6Q,IAAIvE,cAAc,QACzCsgF,EAAYjwF,UAAY,kCACxBiwF,EAAYt/E,YAAc2N,GAAOjb,KAAKid,QAAQ0e,YAAc,EAAI37B,KAAK6sF,SAAW7sF,KAAKmpF,SACrFwD,EAAWzgF,YAAY0gF,EAC3B,CACJ,EACA3D,EAAK5nF,UAAUqrF,mBAAqB,SAAUzxE,EAAKs7B,GAC/C,IAAIt5B,EAAUjd,KAAKid,QACf6vE,EAAe,GAkCnB,IAAIzxC,EAASp+B,EAAQ6hC,UAAU7jC,GAe/B,OAdAs7B,EAASob,MAAK,SAAUG,EAAa72C,EAAKC,EAAQk7C,EAAYvE,GACvC,MAAfC,EACAg7B,EAAajrF,KAAK,CACdqR,KAAM,OACN3P,MAAOuuD,KAIPD,IACAxW,EAASp+B,EAAQ6hC,UAAU7jC,IAC3BogC,EAAO96C,QA5CnB,SAAmB86C,EAAQre,EAAM2tB,GAE7B,IADA,IAAI4H,EAAM,EAAGrgB,EAAM,EACXA,EAAMmJ,EAAOkX,GAAKhvD,MAAMhD,OAAUy8B,GAGtC,GAFAkV,GAAOmJ,EAAOkX,GAAKhvD,MAAMhD,SACzBgyD,GACWlX,EAAO96C,OACd,OAaR,IAXI2xC,GAAOlV,KACHz5B,EAAQ83C,EAAOkX,GAAKhvD,MAAMqtC,UAAU5T,EAAOkV,IACrC3xC,OAAUoqD,EAAK3tB,IACrBz5B,EAAQA,EAAMqtC,UAAU,EAAG+Z,EAAK3tB,IACpC8vD,EAAajrF,KAAK,CACdqR,KAAMmoC,EAAOkX,GAAKr/C,KAClB3P,MAAOA,IAEX2uC,EAAMlV,EAAOz5B,EAAMhD,OACnBgyD,GAAO,GAEJrgB,EAAMyY,GAAM4H,EAAMlX,EAAO96C,QAAQ,CACpC,IAAIgD,KAAQ83C,EAAOkX,GAAKhvD,OACdhD,OAAS2xC,EAAMyY,EACrBmiC,EAAajrF,KAAK,CACdqR,KAAMmoC,EAAOkX,GAAKr/C,KAClB3P,MAAOA,EAAMqtC,UAAU,EAAG+Z,EAAKzY,KAInC46C,EAAajrF,KAAKw5C,EAAOkX,IAC7BrgB,GAAO3uC,EAAMhD,OACbgyD,GAAO,CACX,CACJ,CAaYw6B,CAAU1xC,EAAQ+a,EAAYl7C,GAE1C,GAAGq7B,EAASrwC,IAAI+U,IAAKjb,KAAKid,QAAQwN,QAAQ8rB,EAASrwC,IAAI+U,KAAK1a,QACrDusF,CACX,EACA7D,EAAK5nF,UAAU6pF,eAAiB,WAC5B,OAAOlrF,KAAKid,QAAQwrB,gBACxB,EACOwgD,CACX,CA3lB0B,GA4lB1BA,EAAK5nF,UAAUwrF,SAAW,OAC1B5D,EAAK5nF,UAAU+nF,YAAc,OAC7BH,EAAK5nF,UAAUgoF,cAAgB,OAC/BJ,EAAK5nF,UAAU8nF,SAAWF,EAAK5nF,UAAU+nF,YACzCH,EAAK5nF,UAAUgpF,SAAW,SAC1BpB,EAAK5nF,UAAUopF,WAAa,OAC5BxB,EAAK5nF,UAAU4kF,SAAW,EAC1BgD,EAAK5nF,UAAUolB,gBAAkB,IACjCwiE,EAAK5nF,UAAUutC,gBAAiB,EAChCq6C,EAAK5nF,UAAUyoF,YAAa,EAC5Bb,EAAK5nF,UAAU0oF,UAAW,EAC1Bd,EAAK5nF,UAAU2oF,SAAU,EACzBf,EAAK5nF,UAAUwhF,qBAAsB,EACrCoG,EAAK5nF,UAAU4oF,wBAAyB,EACxChB,EAAK5nF,UAAU8oF,YAAc,GAC7BlB,EAAK5nF,UAAUwgB,QAAU,CAAC,EAC1BonE,EAAK5nF,UAAU6zE,gBAAkB+T,EAAK5nF,UAAUwoF,kBAChDh1E,EAAIzC,UAAU62E,EAAK5nF,UAAWiR,GAC9B7P,EAAQwmF,KAAOA,CAEf,IAEAhmF,IAAI/C,OAAO,mBAAmB,CAAC,UAAU,UAAU,SAAS,gBAAgB,SAAS0B,EAASa,EAAStC,GAAQ,aAC/G,IAAI0Q,EAAMjP,EAAQ,cACdorF,EAAwB,WACxB,SAASA,EAAOhI,GACZhlF,KAAKoN,QAAUyD,EAAIvE,cAAc,OACjCtM,KAAKoN,QAAQzQ,UAAY,6BACzBqoF,EAAS94E,YAAYlM,KAAKoN,SAC1BpN,KAAKitF,WAAY,EACjBjtF,KAAKwgF,YAAa,EAClBxgF,KAAKktF,cAAgB,IACrBltF,KAAKmtF,gBAAiB,EACtBntF,KAAKotF,QAAU,GACfptF,KAAKgpB,OAAShpB,KAAKqtF,YACnBx8E,EAAIlD,YAAY3N,KAAKoN,QAAS,sBAC9BpN,KAAKstF,eAAiBttF,KAAKutF,eAAe1nE,KAAK7lB,KACnD,CA+KA,OA9KAgtF,EAAO3rF,UAAUksF,eAAiB,SAAUlqF,GAExC,IADA,IAAI+pF,EAAUptF,KAAKotF,QACV3rF,EAAI2rF,EAAQ7sF,OAAQkB,KACzBoP,EAAIZ,SAASm9E,EAAQ3rF,GAAGvE,MAAO,UAAWmG,EAAM,GAAK,IAC7D,EACA2pF,EAAO3rF,UAAUmsF,mBAAqB,WAElC,IADA,IAAIJ,EAAUptF,KAAKotF,QACV3rF,EAAI2rF,EAAQ7sF,OAAQkB,KACzB2rF,EAAQ3rF,GAAGvE,MAAMuwF,kBAAoBztF,KAAKktF,cAAgB,KAC9DltF,KAAK0tF,cAAe,EACpBllF,WAAW,WACHxI,KAAK0tF,cACL78E,EAAIlD,YAAY3N,KAAKoN,QAAS,uBAEtC,EAAEyY,KAAK7lB,MACX,EACAgtF,EAAO3rF,UAAUssF,kBAAoB,WACjC3tF,KAAK0tF,cAAe,EACpB78E,EAAIjD,eAAe5N,KAAKoN,QAAS,uBACrC,EACA4/E,EAAO3rF,UAAUmmF,WAAa,SAAUtY,GACpClvE,KAAKimF,SAAW/W,CACpB,EACA8d,EAAO3rF,UAAUyxE,WAAa,SAAU71D,GACpCjd,KAAKid,QAAUA,CACnB,EACA+vE,EAAO3rF,UAAUo/B,YAAc,SAAUmtD,GACjCA,GAAY5tF,KAAKwgF,aACjBxgF,KAAKwgF,WAAaoN,EAClB5tF,KAAK6tF,eAEb,EACAb,EAAO3rF,UAAUysF,iBAAmB,SAAUZ,GACtCA,GAAiBltF,KAAKktF,gBACtBltF,KAAKktF,cAAgBA,EACrBltF,KAAK6tF,eAEb,EACAb,EAAO3rF,UAAUk/E,kBAAoB,SAAU4M,GACvCA,GAAkBntF,KAAKmtF,iBACvBntF,KAAKmtF,eAAiBA,EACtBt8E,EAAI7C,YAAYhO,KAAKoN,QAAS,sBAAuB+/E,GACrDntF,KAAKstF,gBAAe,GACpBttF,KAAK6tF,eAEb,EACAb,EAAO3rF,UAAUgsF,UAAY,WACzB,IAAIhhF,EAAKwE,EAAIvE,cAAc,OAI3B,OAHAD,EAAG1P,UAAY,aACfqD,KAAKoN,QAAQlB,YAAYG,GACzBrM,KAAKotF,QAAQvrF,KAAKwK,GACXA,CACX,EACA2gF,EAAO3rF,UAAU0sF,aAAe,WAC5B,GAAI/tF,KAAKotF,QAAQ7sF,OAAS,EAAG,CACzB,IAAI8L,EAAKrM,KAAKotF,QAAQp5E,MAEtB,OADA3H,EAAGwa,WAAW/W,YAAYzD,GACnBA,CACX,CACJ,EACA2gF,EAAO3rF,UAAU61E,WAAa,WAC1Bl3E,KAAKitF,WAAY,EACjBp8E,EAAIlD,YAAY3N,KAAKoN,QAAS,sBAC9BpN,KAAK6tF,cACT,EACAb,EAAO3rF,UAAU21E,WAAa,WAC1Bh3E,KAAKitF,WAAY,EACjBp8E,EAAIjD,eAAe5N,KAAKoN,QAAS,sBACjCpN,KAAK6tF,cACT,EACAb,EAAO3rF,UAAUwsF,aAAe,WAC5B,IAAIxhC,EAASrsD,KAAKstF,eASlB,GARA5sD,cAAc1gC,KAAKguF,YACnBtlF,aAAa1I,KAAKiuF,WAClBjuF,KAAK2tF,oBACD3tF,KAAKmtF,iBACLntF,KAAKkuF,mBAAoB,EACzBr9E,EAAIjD,eAAe5N,KAAKoN,QAAS,wBAErCi/C,GAAO,GACFrsD,KAAKwgF,YAAexgF,KAAKktF,eAAkBltF,KAAKitF,UAYrD,GARIjtF,KAAKmtF,iBACLntF,KAAKkuF,mBAAoB,EACzB1lF,WAAW,WACHxI,KAAKkuF,mBACLr9E,EAAIlD,YAAY3N,KAAKoN,QAAS,sBAEtC,EAAEyY,KAAK7lB,QAEP6Q,EAAIT,kBACJpQ,KAAKwtF,yBAEJ,CACD,IAAIW,EAA2B,WAC3BnuF,KAAKiuF,UAAYzlF,YAAW,WACxB6jD,GAAO,EACX,GAAG,GAAMrsD,KAAKktF,cAClB,EAAErnE,KAAK7lB,MACPA,KAAKguF,WAAartD,aAAY,WAC1B0rB,GAAO,GACP8hC,GACJ,GAAGnuF,KAAKktF,eACRiB,GACJ,MAzBInuF,KAAK2tF,mBA0Bb,EACAX,EAAO3rF,UAAU2kC,iBAAmB,SAAU7oC,EAAUixF,GACpD,IAAKpuF,KAAK2Z,SAAW3Z,KAAKid,QACtB,MAAO,CAAE1f,KAAM,EAAGH,IAAK,GACtBD,IACDA,EAAW6C,KAAKid,QAAQ8L,UAAU+qB,aACtC,IAAI3iB,EAAMnxB,KAAKid,QAAQE,yBAAyBhgB,GAMhD,MAAO,CAAEI,KALQyC,KAAKimF,UAAYjmF,KAAKid,QAAQ80B,aAAavC,UAAUre,EAAIlW,IAAK9d,EAAS8d,KAClFjb,KAAKid,QAAQ80B,aAAaE,WAAW9gB,EAAIjW,QACzCiW,EAAIjW,OAASlb,KAAK2Z,OAAOkV,gBAGJzxB,KAFV+zB,EAAIlW,KAAOmzE,EAAWpuF,KAAK2Z,OAAOuqE,eAAiB,IAChElkF,KAAK2Z,OAAO0gB,WAEpB,EACA2yD,EAAO3rF,UAAUgtF,eAAiB,SAAUC,EAAU30E,GAClD,OAAO20E,EAASlxF,KAAO,GAAKkxF,EAASlxF,IAAMuc,EAAOogB,SACtD,EACAizD,EAAO3rF,UAAUgrD,OAAS,SAAU1yC,GAChC3Z,KAAK2Z,OAASA,EACd,IAAIg5B,EAAa3yC,KAAKid,QAAQsxE,kBAC1B9sF,EAAI,EAAG+sF,EAAc,OACNrtF,IAAfwxC,GAAkD,IAAtBA,EAAWpyC,SACvCoyC,EAAa,CAAC,CAAE3pB,OAAQ,QAEnBvnB,EAAI,EAAb,IAAK,IAAWgL,EAAIkmC,EAAWpyC,OAAQkB,EAAIgL,EAAGhL,IAAK,CAC/C,IAAI6sF,EAAWtuF,KAAKgmC,iBAAiB2M,EAAWlxC,GAAGunB,QAAQ,GAC3D,MAAKslE,EAASlxF,IAAMuc,EAAO7b,OAAS6b,EAAO1R,QACvCqmF,EAASlxF,IAAM,IAAMqE,EAAI,GAD7B,CAIA,IAAI2L,EAAUpN,KAAKotF,QAAQoB,MAAkBxuF,KAAKqtF,YAC9CnwF,EAAQkQ,EAAQlQ,MACf8C,KAAKyuF,WAYNzuF,KAAKyuF,WAAWrhF,EAASkhF,EAAU30E,EAAQg5B,EAAWlxC,GAAIzB,KAAKid,SAX1Djd,KAAKquF,eAAeC,EAAU30E,IAI/B9I,EAAIZ,SAAS/S,EAAO,UAAW,SAC/B2T,EAAIH,UAAUtD,EAASkhF,EAAS/wF,KAAM+wF,EAASlxF,KAC/CyT,EAAIZ,SAAS/S,EAAO,QAASmB,KAAKC,MAAMqb,EAAOkV,gBAAkB,MACjEhe,EAAIZ,SAAS/S,EAAO,SAAUyc,EAAO0gB,WAAa,OANlDxpB,EAAIZ,SAAS/S,EAAO,UAAW,OALvC,CAiBJ,CACA,KAAO8C,KAAKotF,QAAQ7sF,OAASiuF,GACzBxuF,KAAK+tF,eACT,IAAI9wB,EAAYj9D,KAAKid,QAAQo1B,eAC7BryC,KAAK0uF,cAAczxB,GACnBj9D,KAAKogF,UAAYkO,EACjBtuF,KAAK6tF,cACT,EACAb,EAAO3rF,UAAUqtF,cAAgB,SAAUzxB,GACnCA,GAAaj9D,KAAKi9D,YAClBj9D,KAAKi9D,UAAYA,EACbA,EACApsD,EAAIlD,YAAY3N,KAAKoN,QAAS,yBAE9ByD,EAAIjD,eAAe5N,KAAKoN,QAAS,yBAE7C,EACA4/E,EAAO3rF,UAAUwgB,QAAU,WACvB6e,cAAc1gC,KAAKguF,YACnBtlF,aAAa1I,KAAKiuF,UACtB,EACOjB,CACX,CA7L4B,GA8L5BA,EAAO3rF,UAAU4kF,SAAW,EAC5B+G,EAAO3rF,UAAUotF,WAAa,KAC9BhsF,EAAQuqF,OAASA,CAEjB,IAEA/pF,IAAI/C,OAAO,gBAAgB,CAAC,UAAU,UAAU,SAAS,cAAc,cAAc,gBAAgB,0BAA0B,SAAS0B,EAASa,EAAStC,GAAQ,aAClK,IAAIq0B,EAAax0B,MAAQA,KAAKw0B,WAAe,WACzC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBrzB,OAAOwzB,gBAClB,CAAEC,UAAW,cAAgBxvB,OAAS,SAAUqvB,EAAGC,GAAKD,EAAEG,UAAYF,CAAG,GAC1E,SAAUD,EAAGC,GAAK,IAAK,IAAIjZ,KAAKiZ,EAAOvzB,OAAOC,UAAUsW,eAAepW,KAAKozB,EAAGjZ,KAAIgZ,EAAEhZ,GAAKiZ,EAAEjZ,GAAI,EAC7F+Y,EAAcC,EAAGC,EAC5B,EACA,OAAO,SAAUD,EAAGC,GAChB,GAAiB,oBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIjwB,UAAU,uBAAyBf,OAAOgxB,GAAK,iCAE7D,SAASG,IAAO90B,KAAKkS,YAAcwiB,CAAG,CADtCD,EAAcC,EAAGC,GAEjBD,EAAErzB,UAAkB,OAANszB,EAAavzB,OAAOqG,OAAOktB,IAAMG,EAAGzzB,UAAYszB,EAAEtzB,UAAW,IAAIyzB,EACnF,CACJ,CAd6C,GAezCjgB,EAAMjT,EAAQ,aACdiP,EAAMjP,EAAQ,aACdwkB,EAAQxkB,EAAQ,eAChB0Q,EAAe1Q,EAAQ,uBAAuB0Q,aAC9Cq8E,EAAe,MACfC,EAA2B,WAC3B,SAASA,EAAU/iF,EAAQgjF,GACvB7uF,KAAKoN,QAAUyD,EAAIvE,cAAc,OACjCtM,KAAKoN,QAAQzQ,UAAY,8BAAgCkyF,EACzD7uF,KAAKsP,MAAQuB,EAAIvE,cAAc,OAC/BtM,KAAKsP,MAAM3S,UAAY,sBACvBqD,KAAKsP,MAAMhC,YAAc,OACzBtN,KAAKoN,QAAQlB,YAAYlM,KAAKsP,OAC9BzD,EAAOK,YAAYlM,KAAKoN,SACxBpN,KAAK8uF,YAAW,GAChB9uF,KAAK+uF,WAAY,EACjB3oE,EAAMtE,YAAY9hB,KAAKoN,QAAS,SAAUpN,KAAKgvF,SAASnpE,KAAK7lB,OAC7DomB,EAAMtE,YAAY9hB,KAAKoN,QAAS,YAAagZ,EAAM3T,eACvD,CAMA,OALAm8E,EAAUvtF,UAAUytF,WAAa,SAAU7B,GACvCjtF,KAAKoN,QAAQlQ,MAAMS,QAAUsvF,EAAY,GAAK,OAC9CjtF,KAAKitF,UAAYA,EACjBjtF,KAAKivF,MAAQ,CACjB,EACOL,CACX,CApB+B,GAqB/B/5E,EAAIzC,UAAUw8E,EAAUvtF,UAAWiR,GACnC,IAAI48E,EAA4B,SAAU/2D,GAEtC,SAAS+2D,EAAWrjF,EAAQ0d,GACxB,IAAI6O,EAAQD,EAAO52B,KAAKvB,KAAM6L,EAAQ,OAAS7L,KAQ/C,OAPAo4B,EAAM8jC,UAAY,EAClB9jC,EAAM7D,aAAe,EACrBhL,EAAS4lE,gBACL/2D,EAAM55B,MAAQqS,EAAIxB,eAAexD,EAAO0B,eAC5C6qB,EAAM9oB,MAAMpS,MAAMsB,MACd45B,EAAMhrB,QAAQlQ,MAAMsB,OAAS45B,EAAM55B,OAAS,IAAM,EAAI,KAC1D45B,EAAMg3D,UAAY,EACXh3D,CACX,CAoCA,OA/CA5D,EAAU06D,EAAY/2D,GAYtB+2D,EAAW7tF,UAAU2tF,SAAW,WAC5B,IAAKhvF,KAAK+uF,UAAW,CAEjB,GADA/uF,KAAKk8D,UAAYl8D,KAAKoN,QAAQ8uD,UACZ,GAAdl8D,KAAKivF,MAAY,CACjB,IAAIvpD,EAAI1lC,KAAKoN,QAAQ8hB,aAAelvB,KAAKu0B,aACzCv0B,KAAKk8D,UAAYl8D,KAAKk8D,WAAa,EAAIx2B,IAAM1lC,KAAKivF,MAAQvpD,EAC9D,CACA1lC,KAAK2S,MAAM,SAAU,CAAE6B,KAAMxU,KAAKk8D,WACtC,CACAl8D,KAAK+uF,WAAY,CACrB,EACAG,EAAW7tF,UAAUg1B,SAAW,WAC5B,OAAOh4B,KAAK2H,IAAIhG,KAAKitF,UAAYjtF,KAAKxB,MAAQ,EAAGwB,KAAKovF,WAAa,EACvE,EACAF,EAAW7tF,UAAUguF,UAAY,SAAUvxF,GACvCkC,KAAKoN,QAAQlQ,MAAMY,OAASA,EAAS,IACzC,EACAoxF,EAAW7tF,UAAUiuF,gBAAkB,SAAUxxF,GAC7CkC,KAAKu0B,aAAez2B,EAChBA,EAAS6wF,GACT3uF,KAAKivF,MAAQN,EAAe7wF,EAC5BA,EAAS6wF,GAEU,GAAd3uF,KAAKivF,QACVjvF,KAAKivF,MAAQ,GAEjBjvF,KAAKsP,MAAMpS,MAAMY,OAASA,EAAS,IACvC,EACAoxF,EAAW7tF,UAAU46D,aAAe,SAAUC,GACtCl8D,KAAKk8D,WAAaA,IAClBl8D,KAAK+uF,WAAY,EACjB/uF,KAAKk8D,UAAYA,EACjBl8D,KAAKoN,QAAQ8uD,UAAYA,EAAYl8D,KAAKivF,MAElD,EACOC,CACX,CAjDgC,CAiD9BN,GACFM,EAAW7tF,UAAUkuF,eAAiBL,EAAW7tF,UAAUiuF,gBAC3D,IAAIE,EAA4B,SAAUr3D,GAEtC,SAASq3D,EAAW3jF,EAAQ0d,GACxB,IAAI6O,EAAQD,EAAO52B,KAAKvB,KAAM6L,EAAQ,OAAS7L,KAK/C,OAJAo4B,EAAMiN,WAAa,EACnBjN,EAAMt6B,OAASyrB,EAAS4lE,gBACxB/2D,EAAM9oB,MAAMpS,MAAMY,OACds6B,EAAMhrB,QAAQlQ,MAAMY,QAAUs6B,EAAMt6B,QAAU,IAAM,EAAI,KACrDs6B,CACX,CA0BA,OAlCA5D,EAAUg7D,EAAYr3D,GAStBq3D,EAAWnuF,UAAU2tF,SAAW,WACvBhvF,KAAK+uF,YACN/uF,KAAKqlC,WAAarlC,KAAKoN,QAAQi4B,WAC/BrlC,KAAK2S,MAAM,SAAU,CAAE6B,KAAMxU,KAAKqlC,cAEtCrlC,KAAK+uF,WAAY,CACrB,EACAS,EAAWnuF,UAAU80B,UAAY,WAC7B,OAAOn2B,KAAKitF,UAAYjtF,KAAKlC,OAAS,CAC1C,EACA0xF,EAAWnuF,UAAUouF,SAAW,SAAUjxF,GACtCwB,KAAKoN,QAAQlQ,MAAMsB,MAAQA,EAAQ,IACvC,EACAgxF,EAAWnuF,UAAUquF,cAAgB,SAAUlxF,GAC3CwB,KAAKsP,MAAMpS,MAAMsB,MAAQA,EAAQ,IACrC,EACAgxF,EAAWnuF,UAAUsuF,eAAiB,SAAUnxF,GAC5CwB,KAAKsP,MAAMpS,MAAMsB,MAAQA,EAAQ,IACrC,EACAgxF,EAAWnuF,UAAU26D,cAAgB,SAAU32B,GACvCrlC,KAAKqlC,YAAcA,IACnBrlC,KAAK+uF,WAAY,EACjB/uF,KAAKqlC,WAAarlC,KAAKoN,QAAQi4B,WAAaA,EAEpD,EACOmqD,CACX,CApCgC,CAoC9BZ,GACFnsF,EAAQmtF,UAAYV,EACpBzsF,EAAQotF,WAAaX,EACrBzsF,EAAQqtF,WAAaN,EACrB/sF,EAAQysF,WAAaA,EACrBzsF,EAAQ+sF,WAAaA,CAErB,IAEAvsF,IAAI/C,OAAO,uBAAuB,CAAC,UAAU,UAAU,SAAS,cAAc,cAAc,gBAAgB,0BAA0B,SAAS0B,EAASa,EAAStC,GAAQ,aACzK,IAAIq0B,EAAax0B,MAAQA,KAAKw0B,WAAe,WACzC,IAAIC,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBrzB,OAAOwzB,gBAClB,CAAEC,UAAW,cAAgBxvB,OAAS,SAAUqvB,EAAGC,GAAKD,EAAEG,UAAYF,CAAG,GAC1E,SAAUD,EAAGC,GAAK,IAAK,IAAIjZ,KAAKiZ,EAAOvzB,OAAOC,UAAUsW,eAAepW,KAAKozB,EAAGjZ,KAAIgZ,EAAEhZ,GAAKiZ,EAAEjZ,GAAI,EAC7F+Y,EAAcC,EAAGC,EAC5B,EACA,OAAO,SAAUD,EAAGC,GAChB,GAAiB,oBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIjwB,UAAU,uBAAyBf,OAAOgxB,GAAK,iCAE7D,SAASG,IAAO90B,KAAKkS,YAAcwiB,CAAG,CADtCD,EAAcC,EAAGC,GAEjBD,EAAErzB,UAAkB,OAANszB,EAAavzB,OAAOqG,OAAOktB,IAAMG,EAAGzzB,UAAYszB,EAAEtzB,UAAW,IAAIyzB,EACnF,CACJ,CAd6C,GAezCjgB,EAAMjT,EAAQ,aACdiP,EAAMjP,EAAQ,aACdwkB,EAAQxkB,EAAQ,eAChB0Q,EAAe1Q,EAAQ,uBAAuB0Q,aAClDzB,EAAIjC,gBAAgB,+uBAAgvB,qBAAqB,GACzxB,IAAIghF,EAA2B,WAC3B,SAASA,EAAU/jF,EAAQgjF,GACvB7uF,KAAKoN,QAAUyD,EAAIvE,cAAc,OACjCtM,KAAKoN,QAAQzQ,UAAY,SAAWkyF,EACpC7uF,KAAKsP,MAAQuB,EAAIvE,cAAc,OAC/BtM,KAAKsP,MAAM3S,UAAY,GACvBqD,KAAKoN,QAAQlB,YAAYlM,KAAKsP,OAC9BtP,KAAK+vF,aAAe,GACpB/vF,KAAKgwF,cAAgB,GACrBnkF,EAAOK,YAAYlM,KAAKoN,SACxBpN,KAAK8uF,YAAW,GAChB9uF,KAAK+uF,WAAY,EACjB3oE,EAAM7C,0BAA0BvjB,KAAKoN,QAAS,CAAC,IAAK,IAAK,KAAMpN,KAAM,cACzE,CAMA,OALA4vF,EAAUvuF,UAAUytF,WAAa,SAAU7B,GACvCjtF,KAAKoN,QAAQlQ,MAAMS,QAAUsvF,EAAY,GAAK,OAC9CjtF,KAAKitF,UAAYA,EACjBjtF,KAAKivF,MAAQ,CACjB,EACOW,CACX,CApB+B,GAqB/B/6E,EAAIzC,UAAUw9E,EAAUvuF,UAAWiR,GACnC,IAAI48E,EAA4B,SAAU/2D,GAEtC,SAAS+2D,EAAWrjF,EAAQ0d,GACxB,IAAI6O,EAAQD,EAAO52B,KAAKvB,KAAM6L,EAAQ,OAAS7L,KAQ/C,OAPAo4B,EAAM8jC,UAAY,EAClB9jC,EAAM7D,aAAe,EACrB6D,EAAMvsB,OAASA,EACfusB,EAAM55B,MAAQ45B,EAAM23D,aACpB33D,EAAM7O,SAAWA,EACjB6O,EAAM9oB,MAAMpS,MAAMsB,MAAQ45B,EAAMhrB,QAAQlQ,MAAMsB,OAAS45B,EAAM55B,OAAS,IAAM,KAC5E45B,EAAMg3D,UAAY,EACXh3D,CACX,CAiFA,OA5FA5D,EAAU06D,EAAY/2D,GAYtB+2D,EAAW7tF,UAAUsvB,YAAc,SAAUs/D,EAAO/mF,GAChD,GAAc,cAAV+mF,GAEuB,IAAvB7pE,EAAM5D,UAAUtZ,IAAyB,IAAbA,EAAE8a,OAAlC,CAGA,GAAI9a,EAAEzE,SAAWzE,KAAKsP,MAAO,CACzB,IAAI4xB,EAAOlhC,KACPkwF,EAAahnF,EAAEkb,QAOfR,EAAS1a,EAAEkb,QACX+rE,EAAWnwF,KAAKowF,SASpBhqE,EAAM1D,QAAQ1iB,KAAKsP,OAhBD,SAAUpG,GACxBgnF,EAAahnF,EAAEkb,OACnB,IACgB,WACZsc,cAAc9B,EAClB,IAYA,IAAIA,EAAU+B,aATS,WACnB,QAAmBx/B,IAAf+uF,EAAJ,CAEA,IAAIh0B,EAAYh7B,EAAKmvD,sBAAsBF,EAAWD,EAAatsE,GAC/Ds4C,IAAch7B,EAAKg7B,WAEvBh7B,EAAKvuB,MAAM,SAAU,CAAE6B,KAAM0nD,GAJnB,CAKd,GAE4C,IAC5C,OAAO91C,EAAM3T,eAAevJ,EAChC,CACA,IAAI9L,EAAM8L,EAAEkb,QAAUpkB,KAAKoN,QAAQuc,wBAAwBvsB,IAAM4C,KAAKswF,YAAc,EAEpF,OADAtwF,KAAK2S,MAAM,SAAU,CAAE6B,KAAMxU,KAAKqwF,sBAAsBjzF,KACjDgpB,EAAM3T,eAAevJ,EA1B5B,CA2BJ,EACAgmF,EAAW7tF,UAAU80B,UAAY,WAC7B,OAAOn2B,KAAKlC,MAChB,EACAoxF,EAAW7tF,UAAUgvF,sBAAwB,SAAUD,GACnD,IAAIl0B,EAAYk0B,GAAYpwF,KAAKuwF,WAAavwF,KAAKwwF,aAAexwF,KAAKywF,YAAczwF,KAAKswF,aAQ1F,OAPAp0B,GAAyB,GACT,EACZA,EAAY,EAEPA,EAAYl8D,KAAKuwF,WAAavwF,KAAKwwF,aACxCt0B,EAAYl8D,KAAKuwF,WAAavwF,KAAKwwF,YAEhCt0B,CACX,EACAgzB,EAAW7tF,UAAUg1B,SAAW,WAC5B,OAAOh4B,KAAK2H,IAAIhG,KAAKitF,UAAYjtF,KAAKxB,MAAQ,EAAGwB,KAAKovF,WAAa,EACvE,EACAF,EAAW7tF,UAAUguF,UAAY,SAAUvxF,GACvCkC,KAAKlC,OAASO,KAAK2H,IAAI,EAAGlI,GAC1BkC,KAAKywF,YAAczwF,KAAKlC,OACxBkC,KAAKwwF,WAAaxwF,KAAKlC,OACvBkC,KAAKsvF,gBAAgBtvF,KAAKuwF,YAAY,EAC1C,EACArB,EAAW7tF,UAAUiuF,gBAAkB,SAAUxxF,EAAQgiE,IACjD9/D,KAAKuwF,aAAezyF,GAAWgiE,KAEnC9/D,KAAKuwF,WAAazyF,EAClBkC,KAAKswF,YAActwF,KAAKywF,YAAczwF,KAAKwwF,WAAaxwF,KAAKuwF,WACzDvwF,KAAKswF,YAActwF,KAAKywF,cACxBzwF,KAAKswF,YAActwF,KAAKywF,aACxBzwF,KAAKswF,YAAc,KACnBtwF,KAAKswF,YAAc,IACvBtwF,KAAKsP,MAAMpS,MAAMY,OAASkC,KAAKswF,YAAc,KACzCtwF,KAAKk8D,UAAal8D,KAAKuwF,WAAavwF,KAAKwwF,aACzCxwF,KAAKk8D,UAAal8D,KAAKuwF,WAAavwF,KAAKwwF,WACrCxwF,KAAKk8D,UAAY,IACjBl8D,KAAKk8D,UAAY,GACrBl8D,KAAK2S,MAAM,SAAU,CAAE6B,KAAMxU,KAAKk8D,aAE1C,EACAgzB,EAAW7tF,UAAU46D,aAAe,SAAUC,GAC1Cl8D,KAAKk8D,UAAYA,EACbA,EAAY,IACZA,EAAY,GAChBl8D,KAAKowF,SAAWl0B,GAAal8D,KAAKywF,YAAczwF,KAAKswF,cAAgBtwF,KAAKuwF,WAAavwF,KAAKwwF,YAC5FxwF,KAAKsP,MAAMpS,MAAME,IAAM4C,KAAKowF,SAAW,IAC3C,EACOlB,CACX,CA9FgC,CA8F9BU,GACFV,EAAW7tF,UAAUkuF,eAAiBL,EAAW7tF,UAAUiuF,gBAC3D,IAAIE,EAA4B,SAAUr3D,GAEtC,SAASq3D,EAAW3jF,EAAQ0d,GACxB,IAAI6O,EAAQD,EAAO52B,KAAKvB,KAAM6L,EAAQ,OAAS7L,KAM/C,OALAo4B,EAAMiN,WAAa,EACnBjN,EAAMs4D,YAAc,EACpBt4D,EAAMt6B,OAASs6B,EAAM43D,cACrB53D,EAAM9oB,MAAMpS,MAAMY,OAASs6B,EAAMhrB,QAAQlQ,MAAMY,QAAUs6B,EAAMt6B,QAAU,IAAM,KAC/Es6B,EAAM7O,SAAWA,EACV6O,CACX,CA+EA,OAxFA5D,EAAUg7D,EAAYr3D,GAUtBq3D,EAAWnuF,UAAUsvB,YAAc,SAAUs/D,EAAO/mF,GAChD,GAAc,cAAV+mF,GAEuB,IAAvB7pE,EAAM5D,UAAUtZ,IAAyB,IAAbA,EAAE8a,OAAlC,CAGA,GAAI9a,EAAEzE,SAAWzE,KAAKsP,MAAO,CACzB,IAAI4xB,EAAOlhC,KACP2wF,EAAaznF,EAAEib,QAOfR,EAASza,EAAEib,QACXysE,EAAY5wF,KAAK6wF,UASrBzqE,EAAM1D,QAAQ1iB,KAAKsP,OAhBD,SAAUpG,GACxBynF,EAAaznF,EAAEib,OACnB,IACgB,WACZuc,cAAc9B,EAClB,IAYA,IAAIA,EAAU+B,aATS,WACnB,QAAmBx/B,IAAfwvF,EAAJ,CAEA,IAAItrD,EAAanE,EAAK4vD,wBAAwBF,EAAYD,EAAahtE,GACnE0hB,IAAenE,EAAKmE,YAExBnE,EAAKvuB,MAAM,SAAU,CAAE6B,KAAM6wB,GAJnB,CAKd,GAE4C,IAC5C,OAAOjf,EAAM3T,eAAevJ,EAChC,CACA,IAAI3L,EAAO2L,EAAEib,QAAUnkB,KAAKoN,QAAQuc,wBAAwBpsB,KAAOyC,KAAK+wF,WAAa,EAErF,OADA/wF,KAAK2S,MAAM,SAAU,CAAE6B,KAAMxU,KAAK8wF,wBAAwBvzF,KACnD6oB,EAAM3T,eAAevJ,EA1B5B,CA2BJ,EACAsmF,EAAWnuF,UAAU80B,UAAY,WAC7B,OAAOn2B,KAAKitF,UAAYjtF,KAAKlC,OAAS,CAC1C,EACA0xF,EAAWnuF,UAAUyvF,wBAA0B,SAAUD,GACrD,IAAIxrD,EAAawrD,GAAa7wF,KAAKgxF,UAAYhxF,KAAKixF,YAAcjxF,KAAKkxF,WAAalxF,KAAK+wF,YAQzF,OAPA1rD,GAA2B,GACV,EACbA,EAAa,EAERA,EAAarlC,KAAKgxF,UAAYhxF,KAAKixF,YACxC5rD,EAAarlC,KAAKgxF,UAAYhxF,KAAKixF,WAEhC5rD,CACX,EACAmqD,EAAWnuF,UAAUouF,SAAW,SAAUjxF,GACtCwB,KAAKxB,MAAQH,KAAK2H,IAAI,EAAGxH,GACzBwB,KAAKoN,QAAQlQ,MAAMsB,MAAQwB,KAAKxB,MAAQ,KACxCwB,KAAKkxF,WAAalxF,KAAKxB,MACvBwB,KAAKixF,UAAYjxF,KAAKxB,MACtBwB,KAAK2vF,eAAe3vF,KAAKgxF,WAAW,EACxC,EACAxB,EAAWnuF,UAAUsuF,eAAiB,SAAUnxF,EAAOshE,IAC/C9/D,KAAKgxF,YAAcxyF,GAAUshE,KAEjC9/D,KAAKgxF,UAAYxyF,EACjBwB,KAAK+wF,WAAa/wF,KAAKkxF,WAAalxF,KAAKixF,UAAYjxF,KAAKgxF,UACtDhxF,KAAK+wF,WAAa/wF,KAAKkxF,aACvBlxF,KAAK+wF,WAAa/wF,KAAKkxF,YACvBlxF,KAAK+wF,WAAa,KAClB/wF,KAAK+wF,WAAa,IACtB/wF,KAAKsP,MAAMpS,MAAMsB,MAAQwB,KAAK+wF,WAAa,KACvC/wF,KAAKqlC,WAAcrlC,KAAKgxF,UAAYhxF,KAAKixF,YACzCjxF,KAAKqlC,WAAcrlC,KAAKgxF,UAAYhxF,KAAKixF,UACrCjxF,KAAKqlC,WAAa,IAClBrlC,KAAKqlC,WAAa,GACtBrlC,KAAK2S,MAAM,SAAU,CAAE6B,KAAMxU,KAAKqlC,cAE1C,EACAmqD,EAAWnuF,UAAU26D,cAAgB,SAAU32B,GAC3CrlC,KAAKqlC,WAAaA,EACdA,EAAa,IACbA,EAAa,GACjBrlC,KAAK6wF,UAAYxrD,GAAcrlC,KAAKkxF,WAAalxF,KAAK+wF,aAAe/wF,KAAKgxF,UAAYhxF,KAAKixF,WAC3FjxF,KAAKsP,MAAMpS,MAAMK,KAAQyC,KAAK6wF,UAAa,IAC/C,EACOrB,CACX,CA1FgC,CA0F9BI,GACFJ,EAAWnuF,UAAUquF,cAAgBF,EAAWnuF,UAAUsuF,eAC1DltF,EAAQmtF,UAAYV,EACpBzsF,EAAQotF,WAAaX,EACrBzsF,EAAQqtF,WAAaN,EACrB/sF,EAAQysF,WAAaA,EACrBzsF,EAAQ+sF,WAAaA,CAErB,IAEAvsF,IAAI/C,OAAO,iBAAiB,CAAC,UAAU,UAAU,SAAS,kBAAkB,SAAS0B,EAASa,EAAStC,GAAQ,aAC/G,IAAIimB,EAAQxkB,EAAQ,eAChBuvF,EAA4B,WAC5B,SAASA,EAAWC,EAAUjsE,GAC1BnlB,KAAKoxF,SAAWA,EAChBpxF,KAAKqxF,SAAU,EACfrxF,KAAKsxF,QAAU,EACftxF,KAAKuxF,gBAAkB,EACvBvxF,KAAKC,OAASklB,GAAOllB,OACrB,IAAI6I,EAAQ9I,KACZA,KAAKwxF,OAAS,SAAUlwE,GACpBxY,EAAMuoF,SAAU,EAChB,IAAIC,EAAUxoF,EAAMwoF,QAMpB,GALIA,IACAlrE,EAAMV,UAAU,KAChB5c,EAAMwoF,QAAU,EAChBxoF,EAAMsoF,SAASE,IAEfxoF,EAAMwoF,QAAS,CACf,GAAIxoF,EAAMyoF,kBAAoB,EAC1B,OACJzoF,EAAML,UACV,MAEIK,EAAMyoF,gBAAkB,CAEhC,CACJ,CAaA,OAZAJ,EAAW9vF,UAAUoH,SAAW,SAAUgpF,GACtCzxF,KAAKsxF,QAAUtxF,KAAKsxF,QAAUG,EAC1BzxF,KAAKsxF,UAAYtxF,KAAKqxF,UACtBjrE,EAAMT,UAAU3lB,KAAKwxF,QACrBxxF,KAAKqxF,SAAU,EAEvB,EACAF,EAAW9vF,UAAUqwF,MAAQ,SAAUD,GACnC,IAAIH,EAAUtxF,KAAKsxF,QAEnB,OADAtxF,KAAKsxF,QAAU,EACRA,CACX,EACOH,CACX,CAvCgC,GAwChC1uF,EAAQ0uF,WAAaA,CAErB,IAEAluF,IAAI/C,OAAO,yBAAyB,CAAC,UAAU,UAAU,SAAS,cAAc,cAAc,eAAe,gBAAgB,oBAAoB,0BAA0B,SAAS0B,EAASa,EAAStC,GAAQ,IAAI0U,EAAMjT,EAAQ,cAC5NiP,EAAMjP,EAAQ,cACdqV,EAAOrV,EAAQ,eACfwkB,EAAQxkB,EAAQ,gBAChB+J,EAAY/J,EAAQ,oBACpB0Q,EAAe1Q,EAAQ,wBAAwB0Q,aAC/Cq/E,EAAa,IACbC,EAAwC,mBAAlBC,eACtBpnD,EAAI,IACJqnD,EAA6B,WAC7B,SAASA,EAAY9M,GACjBhlF,KAAKqM,GAAKwE,EAAIvE,cAAc,OAC5BtM,KAAK+xF,sBAAsB/xF,KAAKqM,GAAGnP,OAAO,GAC1C8C,KAAKgxC,MAAQngC,EAAIvE,cAAc,OAC/BtM,KAAK+xF,sBAAsB/xF,KAAKgxC,MAAM9zC,OACtC8C,KAAKgyF,aAAenhF,EAAIvE,cAAc,OACtCtM,KAAK+xF,sBAAsB/xF,KAAKgyF,aAAa90F,OAC7C8C,KAAKqM,GAAGH,YAAYlM,KAAKgxC,OACzBhxC,KAAKqM,GAAGH,YAAYlM,KAAKgyF,cACzBhN,EAAS94E,YAAYlM,KAAKqM,IAC1BrM,KAAKgyF,aAAa1kF,YAAc2J,EAAKpQ,aAAa,IAAK8qF,GACvD3xF,KAAKoxC,eAAiB,CAAE5yC,MAAO,EAAGV,OAAQ,GACtC8zF,EACA5xF,KAAKiyF,eAELjyF,KAAK2pF,qBACb,CAoIA,OAnIAmI,EAAYzwF,UAAU0wF,sBAAwB,SAAU70F,EAAOg1F,GAC3Dh1F,EAAMsB,MAAQtB,EAAMY,OAAS,OAC7BZ,EAAMK,KAAOL,EAAME,IAAM,MACzBF,EAAMi1F,WAAa,SACnBj1F,EAAMC,SAAW,WACjBD,EAAMy7B,WAAa,MACfhtB,EAAUnB,KAAO,EACjBtN,EAAM,eAAiB,UAGvBA,EAAMk1F,KAAO,UAEjBl1F,EAAMwB,SAAWwzF,EAAS,SAAW,SACzC,EACAJ,EAAYzwF,UAAUsoF,oBAAsB,SAAU94C,GAGlD,QAFa1vC,IAAT0vC,IACAA,EAAO7wC,KAAKqyF,iBACZxhD,IAAS7wC,KAAKoxC,eAAe5yC,QAAUqyC,EAAKryC,OAASwB,KAAKoxC,eAAetzC,SAAW+yC,EAAK/yC,QAAS,CAClGkC,KAAKgyF,aAAa90F,MAAMo1F,WAAa,OACrC,IAAIC,EAAWvyF,KAAKqyF,gBACpBryF,KAAKgyF,aAAa90F,MAAMo1F,WAAa,GACrCtyF,KAAKoxC,eAAiBP,EACtB7wC,KAAKwyF,UAAYpxF,OAAOqG,OAAO,MAC/BzH,KAAKyyF,eAAiBF,GAAYA,EAAS/zF,QAAUqyC,EAAKryC,OAAS+zF,EAASz0F,SAAW+yC,EAAK/yC,OAC5FkC,KAAK2S,MAAM,sBAAuB,CAAE6B,KAAMq8B,GAC9C,CACJ,EACAihD,EAAYzwF,UAAU4wF,aAAe,WACjC,IAAI/wD,EAAOlhC,KACXA,KAAK0yF,UAAY,IAAIzyF,OAAO4xF,gBAAe,SAAU3oF,GACjDg4B,EAAKyoD,qBACT,IACA3pF,KAAK0yF,UAAUC,QAAQ3yF,KAAKgyF,aAChC,EACAF,EAAYzwF,UAAUqoF,iBAAmB,WACrC,GAAI1pF,KAAK4pF,uBAAyB5pF,KAAK0yF,UACnC,OAAO1yF,KAAK4pF,sBAChB,IAAI1oD,EAAOlhC,KACX,OAAOA,KAAK4pF,sBAAwBxjE,EAAMb,QAAO,SAAS/M,IACtD0oB,EAAKyoD,sBACLvjE,EAAMb,OAAO/M,EAAI,IACrB,GAAG,IACP,EACAs5E,EAAYzwF,UAAUuxF,WAAa,SAAUvvF,GACrCA,EACArD,KAAK0pF,mBAEA1pF,KAAK4pF,wBACVlpD,cAAc1gC,KAAK4pF,uBACnB5pF,KAAK4pF,sBAAwB,EAErC,EACAkI,EAAYzwF,UAAUgxF,cAAgB,SAAUpkF,GAC5C,IAAI4iC,EAAO,CACP/yC,QAASmQ,GAAQjO,KAAKgyF,cAAc9iE,aACpC1wB,OAAQyP,GAAQjO,KAAKgyF,cAAcniF,YAAc8hF,GAErD,OAAmB,IAAf9gD,EAAKryC,OAA+B,IAAhBqyC,EAAK/yC,OAClB,KACJ+yC,CACX,EACAihD,EAAYzwF,UAAUiwC,kBAAoB,SAAUllC,GAGhD,OAFApM,KAAKgxC,MAAM1jC,YAAc2J,EAAKpQ,aAAauF,EAAIulF,GACpC3xF,KAAKgxC,MAAMrnB,wBACVnrB,MAAQmzF,CACxB,EACAG,EAAYzwF,UAAUmkE,kBAAoB,SAAUp5D,GAChD,IAAIu5B,EAAI3lC,KAAKwyF,UAAUpmF,GAIvB,YAHUjL,IAANwkC,IACAA,EAAI3lC,KAAKwyF,UAAUpmF,GAAMpM,KAAKsxC,kBAAkBllC,GAAMpM,KAAKoxC,eAAe5yC,OAEvEmnC,CACX,EACAmsD,EAAYzwF,UAAUwgB,QAAU,WAC5B6e,cAAc1gC,KAAK4pF,uBACf5pF,KAAK0yF,WACL1yF,KAAK0yF,UAAUG,aACf7yF,KAAKqM,IAAMrM,KAAKqM,GAAGwa,YACnB7mB,KAAKqM,GAAGwa,WAAW/W,YAAY9P,KAAKqM,GAC5C,EACAylF,EAAYzwF,UAAUyxF,SAAW,SAAU1lF,GACvC,OAAKA,GAAYA,EAAQ0c,eAEjBhC,OAAO7nB,OAAO+P,iBAAiB5C,GAAe,OAAM,GAAKpN,KAAK8yF,SAAS1lF,EAAQ0c,eAD5E,CAEf,EACAgoE,EAAYzwF,UAAU0xF,2BAA6B,WAC/C,IAAIlpE,EAAI,SAAUA,EAAGnoB,GACjB,MAAO,CAAC,MAAO,CACPxE,MAAO,0BAA4B2sB,EAAI,WAAanoB,EAAI,OAEpE,EACA1B,KAAKmM,IAAM0E,EAAIjF,SAAS,CAACie,EAAE,EAAG,GAAIA,EAAE4gB,EAAG,GAAI5gB,EAAE,EAAG4gB,GAAI5gB,EAAE4gB,EAAGA,IAAKzqC,KAAKqM,GACvE,EACAylF,EAAYzwF,UAAU2xF,qBAAuB,SAAUC,EAAWC,GAC1DD,IAEAA,EAAYE,EAAI,EADLnzF,KAAK8yF,SAAS9yF,KAAKqM,IACJ4mF,IAE9B,SAASG,EAAMC,EAAIC,EAAIz6C,GACnB,IAAI06C,EAAMF,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GACrC,MAAO,GACDA,EAAG,GAAKz6C,EAAE,GAAKy6C,EAAG,GAAKz6C,EAAE,IAAM06C,IAC/BF,EAAG,GAAKx6C,EAAE,GAAKw6C,EAAG,GAAKx6C,EAAE,IAAM06C,EAEzC,CACA,SAASC,EAAI9sF,EAAGiuB,GAAK,MAAO,CAACjuB,EAAE,GAAKiuB,EAAE,GAAIjuB,EAAE,GAAKiuB,EAAE,GAAK,CACxD,SAAS5mB,EAAIrH,EAAGiuB,GAAK,MAAO,CAACjuB,EAAE,GAAKiuB,EAAE,GAAIjuB,EAAE,GAAKiuB,EAAE,GAAK,CACxD,SAASw+D,EAAIzsF,EAAGiuB,GAAK,MAAO,CAACjuB,EAAIiuB,EAAE,GAAIjuB,EAAIiuB,EAAE,GAAK,CAGlD,SAASjZ,EAAErP,GACP,IAAIwsC,EAAIxsC,EAAGsd,wBACX,MAAO,CAACkvB,EAAEt7C,KAAMs7C,EAAEz7C,IACtB,CALK4C,KAAKmM,KACNnM,KAAK+yF,6BAKT,IAAIrsF,EAAIgV,EAAE1b,KAAKmM,IAAI,IACfwoB,EAAIjZ,EAAE1b,KAAKmM,IAAI,IACfwgC,EAAIjxB,EAAE1b,KAAKmM,IAAI,IACfuoB,EAAIhZ,EAAE1b,KAAKmM,IAAI,IACfu5B,EAAI0tD,EAAMI,EAAI9+D,EAAGC,GAAI6+D,EAAI9+D,EAAGiY,GAAI6mD,EAAIzlF,EAAI4mB,EAAGgY,GAAI5+B,EAAI2mB,EAAGhuB,KACtD+T,EAAK04E,EAAI,EAAIztD,EAAE,GAAI8tD,EAAI7+D,EAAGjuB,IAC1B+sF,EAAKN,EAAI,EAAIztD,EAAE,GAAI8tD,EAAI7mD,EAAGjmC,IAC9B,GAAIwsF,EAAO,CACP,IAAIlyE,EAAIkyE,EACJ9tF,EAAIsgC,EAAE,GAAK1kB,EAAE,GAAKypB,EAAI/E,EAAE,GAAK1kB,EAAE,GAAKypB,EAAI,EACxCipD,EAAK3lF,EAAIolF,EAAInyE,EAAE,GAAIvG,GAAK04E,EAAInyE,EAAE,GAAIyyE,IACtC,OAAO1lF,EAAIolF,EAAI,EAAI/tF,EAAIqlC,EAAGipD,GAAKhtF,EACnC,CACA,IAAIitF,EAAIH,EAAIP,EAAWvsF,GACnBktF,EAAIR,EAAMI,EAAI/4E,EAAI04E,EAAIztD,EAAE,GAAIiuD,IAAKH,EAAIC,EAAIN,EAAIztD,EAAE,GAAIiuD,IAAKA,GAC5D,OAAOR,EAAI1oD,EAAGmpD,EAClB,EACO9B,CACX,CAtJiC,GAuJjCA,EAAYzwF,UAAU+vC,eAAiB,CAAE5yC,MAAO,EAAGV,OAAQ,GAC3D+W,EAAIzC,UAAU0/E,EAAYzwF,UAAWiR,GACrC7P,EAAQqvF,YAAcA,CAEtB,IAEA7uF,IAAI/C,OAAO,qBAAqB,CAAC,UAAU,UAAU,WAAW,SAAS0B,EAASa,EAAStC,GAW3FA,EAAOsC,QAAU,irtBAEjB,IAEAQ,IAAI/C,OAAO,uBAAuB,CAAC,UAAU,UAAU,SAAS,cAAc,cAAc,0BAA0B,SAAS0B,EAASa,EAAStC,GAAQ,aACzJ,IAAI0Q,EAAMjP,EAAQ,cACdiT,EAAMjT,EAAQ,cACd0Q,EAAe1Q,EAAQ,wBAAwB0Q,aAC/CuhF,EAA2B,WAC3B,SAASA,EAAUhoF,EAAQ0d,GACvBvpB,KAAK8zF,OAASjjF,EAAIvE,cAAc,UAChCtM,KAAKupB,SAAWA,EAChBvpB,KAAK+zF,WAAa,EAClB/zF,KAAK+5B,UAAYxQ,EAASoW,YAAY5F,UACtC/5B,KAAKq6B,WAAa9Q,EAASoW,YAAYtF,WACvCr6B,KAAK8jF,aAAej4E,EAAOA,OAAO0oB,aAClCv0B,KAAKg0F,YAAch0F,KAAK8jF,aAAe9jF,KAAK+5B,UAC5C/5B,KAAKi0F,YAAcpoF,EAAOrN,MAC1BwB,KAAKk0F,oBAAuB,EAAIl0F,KAAK+zF,WAAc,EACnD/zF,KAAKm0F,wBAA2Bn0F,KAAKk0F,oBAAsB,EAAK,EAChEl0F,KAAK8zF,OAAOt1F,MAAQwB,KAAKi0F,YACzBj0F,KAAK8zF,OAAOh2F,OAASkC,KAAK8jF,aAC1B9jF,KAAK8zF,OAAO52F,MAAME,IAAM,MACxB4C,KAAK8zF,OAAO52F,MAAMG,MAAQ,MAC1B2C,KAAK8zF,OAAO52F,MAAMD,OAAS,MAC3B+C,KAAK8zF,OAAO52F,MAAMC,SAAW,WAC7B6C,KAAKo0F,OAAS,CAAC,EACfp0F,KAAKo0F,OAAOC,KAAO,CACf,MAAS,uBACT,QAAW,uBACX,KAAQ,wBAEZr0F,KAAKo0F,OAAOE,MAAQ,CAChB,MAAS,iBACT,QAAW,iBACX,KAAQ,kBAEZzoF,EAAOuB,QAAQlB,YAAYlM,KAAK8zF,OACpC,CAgFA,OA/EAD,EAAUxyF,UAAUkzF,kBAAoB,SAAU56E,GAC9C,IAAIy6E,GAAyC,IAA/Bp0F,KAAKupB,SAASyM,MAAMlf,OAAmB9W,KAAKo0F,OAAOC,KAAOr0F,KAAKo0F,OAAOE,MAChF36E,IACA3Z,KAAK+5B,UAAYpgB,EAAOogB,UACxB/5B,KAAKq6B,WAAa1gB,EAAO0gB,WACzBr6B,KAAK8jF,aAAenqE,EAAO7b,QACN6b,EAAO+C,QAAU,GAAK1c,KAAKq6B,WAC5Br6B,KAAK8jF,aACrB9jF,KAAKg0F,YAAc,EAGnBh0F,KAAKg0F,YAAch0F,KAAK8jF,aAAe9jF,KAAK+5B,WAGpD,IAAIy6D,EAAMx0F,KAAK8zF,OAAOW,WAAW,MAQjC,IAAIz2D,EAAch+B,KAAKupB,SAAStM,QAAQ6f,aAExC,GADA03D,EAAIE,UAAU,EAAG,EAAG10F,KAAK8zF,OAAOt1F,MAAOwB,KAAK8zF,OAAOh2F,QAC/CkgC,EAAa,CACb,IAAI22D,EAAa,CACb,KAAQ,EACR,QAAW,EACX,MAAS,GAEb32D,EAAYj5B,SAAQ,SAAUa,GAC1BA,EAAKsxB,SAAWy9D,EAAW/uF,EAAKsN,OAAS,IAC7C,IACA8qB,EAAcA,EAAY/G,MAlB9B,SAAiBvwB,EAAGiuB,GAChB,OAAIjuB,EAAEwwB,SAAWvC,EAAEuC,UACP,EACRxwB,EAAEwwB,SAAWvC,EAAEuC,SACR,EACJ,CACX,IAcI,IADA,IAAIm6B,EAAWrxD,KAAKupB,SAAStM,QAAQm3C,UAC5B3yD,EAAI,EAAGA,EAAIu8B,EAAYz9B,OAAQkB,IAAK,CACzC,IAAIwZ,EAAM+iB,EAAYv8B,GAAGwZ,IACrB25E,EAAiB50F,KAAK60F,mBAAmB55E,EAAKo2C,GAC9CyjC,EAAWz2F,KAAKC,OAAO2c,EAAM25E,GAAkB50F,KAAKq6B,WAAar6B,KAAKg0F,aACtEe,EAAK12F,KAAKC,OAAQ2c,EAAM25E,GAAkB50F,KAAKq6B,WAAar6B,KAAKg0F,aACjEgB,EAAK32F,KAAKC,QAAS2c,EAAM25E,GAAkB50F,KAAKq6B,WAAar6B,KAAKq6B,YAAcr6B,KAAKg0F,aAEzF,GADagB,EAAKD,EACL/0F,KAAKk0F,oBAAqB,CACnC,IAAIe,GAAYF,EAAKC,GAAM,EAAK,EAC5BC,EAAUj1F,KAAKm0F,wBACfc,EAAUj1F,KAAKm0F,wBAEVc,EAAUj1F,KAAKm0F,wBAA0Bn0F,KAAK8jF,eACnDmR,EAAUj1F,KAAK8jF,aAAe9jF,KAAKm0F,yBAEvCY,EAAK12F,KAAKC,MAAM22F,EAAUj1F,KAAKm0F,yBAC/Ba,EAAK32F,KAAKC,MAAM22F,EAAUj1F,KAAKm0F,wBACnC,CACAK,EAAIU,UAAYd,EAAOp2D,EAAYv8B,GAAGyR,OAAS,KAC/CshF,EAAIW,SAAS,EAAGL,EAAU90F,KAAKi0F,YAAae,EAAKD,EACrD,CACJ,CACA,IAAI/rE,EAAShpB,KAAKupB,SAAStM,QAAQ8L,UAAU+qB,YAC7C,GAAI9qB,EAAQ,CACJ4rE,EAAiB50F,KAAK60F,mBAAmB7rE,EAAO/N,IAAKo2C,GACrDyjC,EAAWz2F,KAAKC,OAAO0qB,EAAO/N,IAAM25E,GAAkB50F,KAAKq6B,WAAar6B,KAAKg0F,aACjFQ,EAAIU,UAAY,qBAChBV,EAAIW,SAAS,EAAGL,EAAU90F,KAAKi0F,YAAa,EAChD,CACJ,EACAJ,EAAUxyF,UAAUwzF,mBAAqB,SAAU55E,EAAKo2C,GACpD,IAAIujC,EAAiB,EACrB,GAAIvjC,GAAYA,EAAS9wD,OAAS,EAC9B,IAAK,IAAI+Z,EAAI,EAAGA,EAAI+2C,EAAS9wD,OAAQ+Z,IAC7BW,EAAMo2C,EAAS/2C,GAAGU,MAAMC,KAAOA,EAAMo2C,EAAS/2C,GAAGpU,IAAI+U,IACrD25E,GAAkB35E,EAAMo2C,EAAS/2C,GAAGU,MAAMC,IAErCA,GAAOo2C,EAAS/2C,GAAGpU,IAAI+U,MAC5B25E,GAAkBvjC,EAAS/2C,GAAGpU,IAAI+U,IAAMo2C,EAAS/2C,GAAGU,MAAMC,KAItE,OAAO25E,CACX,EACOf,CACX,CA/G+B,GAgH/Bh/E,EAAIzC,UAAUyhF,EAAUxyF,UAAWiR,GACnC7P,EAAQoxF,UAAYA,CAEpB,IAEA5wF,IAAI/C,OAAO,uBAAuB,CAAC,UAAU,UAAU,SAAS,cAAc,cAAc,eAAe,aAAa,mBAAmB,mBAAmB,iBAAiB,mBAAmB,gBAAgB,gBAAgB,uBAAuB,uBAAuB,iBAAiB,yBAAyB,wBAAwB,qBAAqB,uBAAuB,oBAAoB,wBAAwB,SAAS0B,EAASa,EAAStC,GAAQ,aAC7c,IAAI0U,EAAMjT,EAAQ,aACdiP,EAAMjP,EAAQ,aACdqV,EAAOrV,EAAQ,cACf+X,EAAS/X,EAAQ,YACjBwzF,EAAcxzF,EAAQ,kBAAkBmjF,OACxCsQ,EAAczzF,EAAQ,kBAAkB2lF,OACxC+N,EAAY1zF,EAAQ,gBAAgBqnF,KACpCsM,EAAc3zF,EAAQ,kBAAkBorF,OACxCwC,EAAa5tF,EAAQ,eAAe4tF,WACpCN,EAAattF,EAAQ,eAAestF,WACpCsG,EAAmB5zF,EAAQ,sBAAsB4tF,WACjDiG,EAAmB7zF,EAAQ,sBAAsBstF,WACjDiC,EAAavvF,EAAQ,gBAAgBuvF,WACrCW,EAAclwF,EAAQ,wBAAwBkwF,YAC9Cx/E,EAAe1Q,EAAQ,uBAAuB0Q,aAC9CojF,EAAY9zF,EAAQ,oBACpBiyF,EAAYjyF,EAAQ,sBAAsBiyF,UAC1CloF,EAAY/J,EAAQ,mBACpBknF,EAAclnF,EAAQ,qBAAqBknF,YAC/Cj4E,EAAIjC,gBAAgB8mF,EAAW,kBAAkB,GACjD,IAAIC,EAAiC,WACjC,SAASA,EAAgB9mF,EAAWmnB,GAChC,IAAIltB,EAAQ9I,KACZA,KAAK6O,UAAYA,GAAagC,EAAIvE,cAAc,OAChDuE,EAAIlD,YAAY3N,KAAK6O,UAAW,cAC5BgC,EAAIP,QACJO,EAAIlD,YAAY3N,KAAK6O,UAAW,aACpC7O,KAAK+1B,SAASC,GACoB,MAA9Brc,EAAO7I,IAAI,iBACX6I,EAAO/D,IAAI,gBAAgB,GAC/B5V,KAAKq8B,QAAUxrB,EAAIvE,cAAc,OACjCtM,KAAKq8B,QAAQ1/B,UAAY,aACzBqD,KAAK6O,UAAU3C,YAAYlM,KAAKq8B,SAChCr8B,KAAKq8B,QAAQ1vB,aAAa,cAAe,QACzC3M,KAAKqvB,SAAWxe,EAAIvE,cAAc,OAClCtM,KAAKqvB,SAAS1yB,UAAY,eAC1BqD,KAAK6O,UAAU3C,YAAYlM,KAAKqvB,UAChCrvB,KAAK8hF,QAAUjxE,EAAIvE,cAAc,OACjCtM,KAAK8hF,QAAQnlF,UAAY,cACzBqD,KAAKqvB,SAASnjB,YAAYlM,KAAK8hF,SAC/B9hF,KAAKk7B,aAAe,IAAIk6D,EAAYp1F,KAAKq8B,SACzCr8B,KAAKk7B,aAAa7nB,GAAG,oBAAqBrT,KAAK41F,eAAe/vE,KAAK7lB,OACnEA,KAAK61F,YAAc,IAAIR,EAAYr1F,KAAK8hF,SACxC,IAAIgU,EAAY91F,KAAK62E,WAAa,IAAIye,EAAUt1F,KAAK8hF,SACrD9hF,KAAK8zF,OAASgC,EAAU1oF,QACxBpN,KAAK+1F,aAAe,IAAIV,EAAYr1F,KAAK8hF,SACzC9hF,KAAKwgC,aAAe,IAAI+0D,EAAYv1F,KAAK8hF,SACzC9hF,KAAKg2F,cAAe,EACpBh2F,KAAKi2F,UAAW,EAChBj2F,KAAKmvE,UACDnvE,KAAK+mC,WAAa,IAAImoD,EAAWlvF,KAAK6O,UAAW7O,MACrDA,KAAKgnC,WAAa,IAAIwoD,EAAWxvF,KAAK6O,UAAW7O,MACjDA,KAAK+mC,WAAW1zB,GAAG,UAAU,SAAUnK,GAC9BJ,EAAMotF,kBACPptF,EAAMmU,QAAQg/C,aAAa/yD,EAAEsL,KAAO1L,EAAMqtF,aAAa/4F,IAC/D,IACA4C,KAAKgnC,WAAW3zB,GAAG,UAAU,SAAUnK,GAC9BJ,EAAMotF,kBACPptF,EAAMmU,QAAQ++C,cAAc9yD,EAAEsL,KAAO1L,EAAMqtF,aAAa54F,KAChE,IACAyC,KAAKk8D,UAAY,EACjBl8D,KAAKqlC,WAAa,EAClBrlC,KAAK+lC,UAAY,CACb9qB,IAAK,EACLC,OAAQ,GAEZlb,KAAKwpF,aAAe,IAAIsI,EAAY9xF,KAAK6O,WACzC7O,KAAK62E,WAAWxR,gBAAgBrlE,KAAKwpF,cACrCxpF,KAAK62E,WAAWxjE,GAAG,uBAAuB,SAAUnK,GAChDJ,EAAMstF,sBACNttF,EAAMktE,UAAS,EAAMltE,EAAMkmE,YAAalmE,EAAMutF,MAAM73F,MAAOsK,EAAMutF,MAAMv4F,QACvEgL,EAAMqK,QAAQ,sBAAuBjK,EACzC,IACAlJ,KAAKq2F,MAAQ,CACT73F,MAAO,EACPV,OAAQ,EACRw4F,eAAgB,EAChBC,cAAe,EACfC,QAAQ,GAEZx2F,KAAK2/B,YAAc,CACfnhC,MAAO,EACP0wE,QAAS,EACTzyD,SAAU,EACVynE,eAAgB,EAChBxnE,QAAS,EACT2d,WAAY,EACZxL,eAAgB,EAChB4nE,UAAW,EACX18D,UAAW,EACX9xB,OAAQ,EACRnK,OAAQ,EACRynF,aAAc,GAElBvlF,KAAKm2F,aAAe,CAChB54F,KAAM,EACNF,MAAO,EACPD,IAAK,EACLE,OAAQ,EACRo5F,EAAG,EACHhxD,EAAG,GAEP1lC,KAAKspF,OAAS,CACV/rF,KAAM,EACNF,MAAO,EACPD,IAAK,EACLE,OAAQ,EACRo5F,EAAG,EACHhxD,EAAG,GAEP1lC,KAAK8tB,uBAAyBniB,EAAUJ,MACxCvL,KAAKmhF,MAAQ,IAAIgQ,EAAWnxF,KAAK22F,eAAe9wE,KAAK7lB,MAAOA,KAAK6O,UAAUtB,cAAcqpF,aACzF52F,KAAKmhF,MAAM14E,SAASzI,KAAK62F,aACzB72F,KAAKo2F,sBACLp2F,KAAKwnF,WAAW,GAChBxnF,KAAK82F,qBACLn9E,EAAOzD,aAAalW,MACpB2Z,EAAOxG,QAAQ,WAAYnT,KAC/B,CAyrCA,OAxrCA21F,EAAgBt0F,UAAU+0F,oBAAsB,WACxCp2F,KAAK62E,WAAW4b,gBAAkBzyF,KAAK+2F,kBACvC/2F,KAAK+2F,gBAAkB/2F,KAAK62E,WAAW4b,eACvCzyF,KAAKiQ,SAAS,cAAejQ,KAAK+2F,kBAEtC/2F,KAAK2/B,YAAY9Q,eACb7uB,KAAK6uB,eAAiB7uB,KAAK62E,WAAWrR,oBAC1CxlE,KAAK2/B,YAAYtF,WACbr6B,KAAKq6B,WAAar6B,KAAK62E,WAAW0S,gBACtCvpF,KAAKg3F,qBACLnmF,EAAIZ,SAASjQ,KAAKqvB,SAASnyB,MAAO,cAAe8C,KAAKq6B,WAAa,KACvE,EACAs7D,EAAgBt0F,UAAUyxE,WAAa,SAAU71D,GACzCjd,KAAKid,SACLjd,KAAKid,QAAQpQ,IAAI0G,IAAI,oBAAqBvT,KAAKi3F,qBACnDj3F,KAAKid,QAAUA,EACXA,GAAWjd,KAAKm2F,aAAa/4F,KAAO6f,EAAQupB,gBAAkB,GAC9DvpB,EAAQg/C,cAAcj8D,KAAKm2F,aAAa/4F,KAC5C4C,KAAKwgC,aAAasyC,WAAW71D,GAC7Bjd,KAAK61F,YAAY/iB,WAAW71D,GAC5Bjd,KAAK+1F,aAAajjB,WAAW71D,GAC7Bjd,KAAKk7B,aAAa43C,WAAW71D,GAC7Bjd,KAAK62E,WAAW/D,WAAW71D,GACtBA,IAELjd,KAAKmhF,MAAM14E,SAASzI,KAAK62F,aACzB72F,KAAKid,QAAQooD,gBAAgBrlE,KAAKwpF,cAClCxpF,KAAKgnC,WAAW3B,WAAarlC,KAAK+mC,WAAWm1B,UAAY,KACzDl8D,KAAKi3F,oBAAsBj3F,KAAKi3F,oBAAoBpxE,KAAK7lB,MACzDA,KAAKi3F,sBACLj3F,KAAKid,QAAQpQ,IAAIwG,GAAG,oBAAqBrT,KAAKi3F,qBAClD,EACAtB,EAAgBt0F,UAAUk2E,YAAc,SAAU96D,EAAUC,EAASojD,GAejE,QAdgB3+D,IAAZub,IACAA,EAAUunC,KACTjkD,KAAKk3F,eAOFl3F,KAAKk3F,cAAcz6E,SAAWA,IAC9Bzc,KAAKk3F,cAAcz6E,SAAWA,GAC9Bzc,KAAKk3F,cAAcx6E,QAAUA,IAC7B1c,KAAKk3F,cAAcx6E,QAAUA,IATjC1c,KAAKk3F,cAAgB,CACjBz6E,SAAUA,EACVC,QAASA,GASb1c,KAAKk3F,cAAcx6E,QAAU1c,KAAK2/B,YAAYljB,SAAU,CACxD,IAAIqjD,EAGA,OAFA9/D,KAAKk3F,cAAcx6E,QAAU1c,KAAK2/B,YAAYjjB,OAGtD,CACI1c,KAAKk3F,cAAcz6E,SAAWzc,KAAK2/B,YAAYjjB,SAEnD1c,KAAKmhF,MAAM14E,SAASzI,KAAKm3F,aAC7B,EACAxB,EAAgBt0F,UAAU41F,oBAAsB,WAC5Cj3F,KAAKmhF,MAAM14E,SAASzI,KAAKo3F,aACzBp3F,KAAK62E,WAAWqS,iBAChBlpF,KAAKid,QAAQ80B,aAAaP,WAAWxxC,KAAK62E,WAAWsS,SACzD,EACAwM,EAAgBt0F,UAAU6zE,gBAAkB,WACxCl1E,KAAKmhF,MAAM14E,SAASzI,KAAKo3F,YAAcp3F,KAAKq3F,eAC5Cr3F,KAAK62E,WAAW3B,iBACpB,EACAygB,EAAgBt0F,UAAUk3E,WAAa,WACnCv4E,KAAKmhF,MAAM14E,SAASzI,KAAKo3F,YAC7B,EACAzB,EAAgBt0F,UAAUstE,WAAa,SAAU7O,GACzCA,EACA9/D,KAAK22F,eAAe32F,KAAK62F,aAAa,GAEtC72F,KAAKmhF,MAAM14E,SAASzI,KAAK62F,YACjC,EACAlB,EAAgBt0F,UAAUi2F,eAAiB,WACvCt3F,KAAK62E,WAAW8S,qBACpB,EACAgM,EAAgBt0F,UAAUk2F,iBAAmB,WACrCv3F,KAAKmhF,MAAMkQ,QACXrxF,KAAKq2F,MAAMG,QAAS,EAEpBx2F,KAAKg2E,UACb,EACA2f,EAAgBt0F,UAAU20E,SAAW,SAAUlW,EAAOkP,EAAaxwE,EAAOV,GACtE,KAAIkC,KAAKw3F,SAAW,GAApB,CAESx3F,KAAKw3F,SAAW,EACrBx3F,KAAKw3F,WAELx3F,KAAKw3F,SAAW13B,EAAQ,EAAI,EAChC,IAAIzzD,EAAKrM,KAAK6O,UACT/Q,IACDA,EAASuO,EAAG6iB,cAAgB7iB,EAAGkoB,eAC9Bz2B,GAAUkC,KAAK63E,WAAa73E,KAAKq6B,WAAa,IAC1ChuB,EAAGnP,MAAMY,QAA6B,OAAnBuO,EAAGnP,MAAMY,SAC7BuO,EAAGnP,MAAMY,OAAS,MAClBA,EAASuO,EAAG6iB,cAAgB7iB,EAAGkoB,eAGlC/1B,IACDA,EAAQ6N,EAAGwD,aAAexD,EAAGqkF,aACjC,IAAIY,EAAUtxF,KAAKy3F,kBAAkB33B,EAAOkP,EAAaxwE,EAAOV,GAGhE,GAFIkC,KAAK03F,cACL13F,KAAK03F,aAAanvF,UACjBvI,KAAKq2F,MAAMC,iBAAoB93F,IAAUV,EAC1C,OAAOkC,KAAKw3F,SAAW,EACvB13B,IACA9/D,KAAKk7B,aAAa+qD,SAAW,MAC7BnmB,EACA9/D,KAAK22F,eAAerF,EAAUtxF,KAAK23F,UAAU,GAE7C33F,KAAKmhF,MAAM14E,SAAS6oF,EAAUtxF,KAAK23F,UACnC33F,KAAKw3F,WACLx3F,KAAKw3F,SAAW,GACpBx3F,KAAKgnC,WAAW3B,WAAarlC,KAAK+mC,WAAWm1B,UAAY,KACrDl8D,KAAK43F,kBACL53F,KAAK63F,wBAAuB,EA3BC,CA6BrC,EACAlC,EAAgBt0F,UAAUo2F,kBAAoB,SAAU33B,EAAOkP,EAAaxwE,EAAOV,GAC/EA,GAAWkC,KAAK83F,cAAgB,EAChC,IAAIxG,EAAU,EACVzgD,EAAO7wC,KAAKq2F,MACZ0B,EAAU,CACVv5F,MAAOqyC,EAAKryC,MACZV,OAAQ+yC,EAAK/yC,OACbw4F,eAAgBzlD,EAAKylD,eACrBC,cAAe1lD,EAAK0lD,eAYxB,GAVIz4F,IAAWgiE,GAASjvB,EAAK/yC,QAAUA,KACnC+yC,EAAK/yC,OAASA,EACdwzF,GAAWtxF,KAAKg4F,YAChBnnD,EAAKylD,eAAiBzlD,EAAK/yC,OACvBkC,KAAKg2F,eACLnlD,EAAKylD,gBAAkBt2F,KAAKgnC,WAAW7Q,aAC3Cn2B,KAAK+mC,WAAWsoD,UAAUx+C,EAAKylD,gBAC/Bt2F,KAAK+mC,WAAW35B,QAAQlQ,MAAMI,OAAS0C,KAAKgnC,WAAW7Q,YAAc,KACrEm7D,GAAoBtxF,KAAKi4F,eAEzBz5F,IAAUshE,GAASjvB,EAAKryC,OAASA,GAAQ,CACzC8yF,GAAWtxF,KAAKg4F,YAChBnnD,EAAKryC,MAAQA,EACM,MAAfwwE,IACAA,EAAchvE,KAAKk4F,YAAcl4F,KAAKq8B,QAAQ1sB,YAAc,GAChE3P,KAAKgvE,YAAcA,EACnBn+D,EAAIZ,SAASjQ,KAAKgnC,WAAW55B,QAAQlQ,MAAO,OAAQ8xE,EAAc,MAClEn+D,EAAIZ,SAASjQ,KAAKqvB,SAASnyB,MAAO,OAAQ8xE,EAAchvE,KAAKspF,OAAO/rF,KAAO,MAC3EszC,EAAK0lD,cAAgBl4F,KAAK2H,IAAI,EAAGxH,EAAQwwE,EAAchvE,KAAK+mC,WAAW1Q,WAAar2B,KAAKspF,OAAO5jD,GAChG70B,EAAIZ,SAASjQ,KAAKq8B,QAAQn/B,MAAO,OAAQ8C,KAAKspF,OAAO/rF,KAAO,MAC5D,IAAIF,EAAQ2C,KAAK+mC,WAAW1Q,WAAa,KACzCxlB,EAAIZ,SAASjQ,KAAKgnC,WAAW55B,QAAQlQ,MAAO,QAASG,GACrDwT,EAAIZ,SAASjQ,KAAKqvB,SAASnyB,MAAO,QAASG,GAC3CwT,EAAIZ,SAASjQ,KAAKqvB,SAASnyB,MAAO,SAAU8C,KAAKgnC,WAAW7Q,aAC5Dn2B,KAAKgnC,WAAWyoD,SAAS5+C,EAAK0lD,gBAC1Bv2F,KAAKid,SAAWjd,KAAKid,QAAQwrB,kBAAoBzoC,KAAK6hE,mBAAqB/B,KAC3EwxB,GAAWtxF,KAAK62F,YAExB,CAIA,OAHAhmD,EAAK2lD,QAAUh4F,IAAUV,EACrBwzF,GACAtxF,KAAKmT,QAAQ,SAAU4kF,GACpBzG,CACX,EACAqE,EAAgBt0F,UAAUu0F,eAAiB,SAAUp3F,GACjD,IAAIwwE,EAAchvE,KAAKk4F,YAAc15F,EAAQ,EACzCwwE,GAAehvE,KAAKgvE,cACpBhvE,KAAK23F,UAAY33F,KAAKy3F,mBAAkB,EAAMzoB,EAAahvE,KAAKq2F,MAAM73F,MAAOwB,KAAKq2F,MAAMv4F,SACxFkC,KAAKid,QAAQwrB,kBAAoBzoC,KAAK6hE,mBAGjC7hE,KAAKq2F,MAAMG,OAFhBx2F,KAAKmhF,MAAM14E,SAASzI,KAAK62F,aAMzB72F,KAAKm4F,qBAEb,EACAxC,EAAgBt0F,UAAUwgE,gBAAkB,WACxC,IAAIu2B,EAAiBp4F,KAAKq2F,MAAME,cAAgC,EAAhBv2F,KAAKimF,SACjD5jB,EAAQhkE,KAAK8mD,MAAMizC,EAAiBp4F,KAAK6uB,gBAC7C,OAAO7uB,KAAKid,QAAQ4kD,gBAAgBQ,EAAOriE,KAAKq4F,kBAAoBr4F,KAAKs4F,mBAC7E,EACA3C,EAAgBt0F,UAAU64E,kBAAoB,SAAUC,GACpDn6E,KAAKiV,UAAU,iBAAkBklE,EACrC,EACAwb,EAAgBt0F,UAAU+4E,kBAAoB,WAC1C,OAAOp6E,KAAKu4F,eAChB,EACA5C,EAAgBt0F,UAAUkwC,kBAAoB,SAAU3C,GACpD5uC,KAAKiV,UAAU,iBAAkB25B,GACjC5uC,KAAKid,QAAQ80B,aAAaR,kBAAkB3C,EAChD,EACA+mD,EAAgBt0F,UAAUg5E,kBAAoB,WAC1C,OAAOr6E,KAAKuV,UAAU,iBAC1B,EACAogF,EAAgBt0F,UAAUk5E,uBAAyB,WAC/C,OAAOv6E,KAAKuV,UAAU,sBAC1B,EACAogF,EAAgBt0F,UAAUi5E,uBAAyB,SAAU38E,GACzDqC,KAAKiV,UAAU,sBAAuBtX,EAC1C,EACAg4F,EAAgBt0F,UAAUu1E,yBAA2B,WACjD,OAAO52E,KAAKuV,UAAU,wBAC1B,EACAogF,EAAgBt0F,UAAUm5E,yBAA2B,SAAU1c,GAC3D99D,KAAKiV,UAAU,wBAAyB6oD,EAC5C,EACA63B,EAAgBt0F,UAAUo5E,mBAAqB,SAAUC,GACrD16E,KAAKiV,UAAU,kBAAmBylE,EACtC,EACAib,EAAgBt0F,UAAUs5E,mBAAqB,WAC3C,OAAO36E,KAAKuV,UAAU,kBAC1B,EACAogF,EAAgBt0F,UAAUu5E,qBAAuB,SAAU6H,GACvDziF,KAAKiV,UAAU,oBAAqBwtE,EACxC,EACAkT,EAAgBt0F,UAAUw5E,qBAAuB,WAC7C,OAAO76E,KAAKuV,UAAU,oBAC1B,EACAogF,EAAgBt0F,UAAUm3F,cAAgB,WACtC,OAAOx4F,KAAKuV,UAAU,aAC1B,EACAogF,EAAgBt0F,UAAUo3F,cAAgB,SAAUxiE,GAChD,OAAOj2B,KAAKiV,UAAU,aAAcghB,EACxC,EACA0/D,EAAgBt0F,UAAUg6E,mBAAqB,WAC3C,OAAOr7E,KAAKuV,UAAU,kBAC1B,EACAogF,EAAgBt0F,UAAU85E,mBAAqB,SAAUllD,GACrDj2B,KAAKiV,UAAU,kBAAmBghB,EACtC,EACA0/D,EAAgBt0F,UAAUy4E,uBAAyB,SAAUF,GACzD55E,KAAKiV,UAAU,sBAAuB2kE,EAC1C,EACA+b,EAAgBt0F,UAAU04E,uBAAyB,WAC/C,OAAO/5E,KAAKuV,UAAU,sBAC1B,EACAogF,EAAgBt0F,UAAU21F,mBAAqB,WAC3C,GAAKh3F,KAAKq4F,kBAAqBr4F,KAAK04F,eAApC,CAEA,IAAK14F,KAAK04F,eAAgB,CACtB,IAAIC,EAAc9nF,EAAIvE,cAAc,OACpCqsF,EAAYh8F,UAAY,mCACxBqD,KAAK04F,eAAiB7nF,EAAIvE,cAAc,OACxCtM,KAAK04F,eAAe/7F,UAAY,mBAChCg8F,EAAYzsF,YAAYlM,KAAK04F,gBAC7B14F,KAAK8hF,QAAQ/yE,aAAa4pF,EAAa34F,KAAK8hF,QAAQ9yE,WACxD,CACA,IAAI9R,EAAQ8C,KAAK04F,eAAex7F,MAChCA,EAAMK,KAAOc,KAAKC,MAAM0B,KAAK6uB,eAAiB7uB,KAAKs4F,mBAAqBt4F,KAAKimF,UAAY,KACzF/oF,EAAMi1F,WAAanyF,KAAKq4F,iBAAmB,UAAY,SACnDr4F,KAAKid,UAAkC,GAAvBjd,KAAKid,QAAQ0oD,OAC7B3lE,KAAK6hE,iBAbC,CAcd,EACA8zB,EAAgBt0F,UAAUixE,oBAAsB,WAC5C,OAAOtyE,KAAK6O,SAChB,EACA8mF,EAAgBt0F,UAAU03B,oBAAsB,WAC5C,OAAO/4B,KAAKqvB,QAChB,EACAsmE,EAAgBt0F,UAAUkxE,qBAAuB,WAC7C,OAAOvyE,KAAK6O,SAChB,EACA8mF,EAAgBt0F,UAAU0sB,sBAAwB,WAC9C,IAAI/tB,KAAK6tB,gBAAT,CAEA,IAAI3wB,EAAQ8C,KAAKwyE,SAASt1E,MACtBk8E,EAAcp5E,KAAK2hF,aACvB,GAAK3hF,KAAK8tB,uBAA0BsrD,EAApC,CAIA,IAAIkV,EAAWtuF,KAAKwgC,aAAa4/C,UACjC,GAAKkO,EAAL,CAEIlV,GAAeA,EAAY7rD,cAC3B+gE,EAAWtuF,KAAKwgC,aAAawF,iBAAiBozC,EAAY7rD,YAAYvS,OAAO,IACjF,IAAIrB,EAAS3Z,KAAK2/B,YACdi5D,EAAStK,EAASlxF,IAClBy7F,EAAUvK,EAAS/wF,KACvBq7F,GAAUj/E,EAAO1R,OACjB,IAAIy9B,EAAI0zC,GAAeA,EAAY9rD,mBAAqB3hB,EAAUF,SAAWzL,KAAKq6B,WAAa,EAC/F,GAAIu+D,EAAS,GAAKA,EAASj/E,EAAO7b,OAAS4nC,EACvC70B,EAAIH,UAAU1Q,KAAKwyE,SAAU,EAAG,OADpC,CAIA,IAAI7sC,EAAI,EACJ1W,EAASjvB,KAAKq2F,MAAMv4F,OAAS4nC,EACjC,GAAK0zC,EAID,GAAIA,EAAY9rD,kBAAmB,CAC/B,IAAIjqB,EAAMrD,KAAKwyE,SAASjvE,MACxBoiC,EAAI3lC,KAAK6uB,eAAkB7uB,KAAKid,QAAQkjD,sBAAsB98D,GAAK,EACvE,MAEIu1F,GAAU54F,KAAKq6B,WAAa,OARhCu+D,GAAU54F,KAAKq6B,YAWnBw+D,GAAW74F,KAAKqlC,YACFrlC,KAAKq2F,MAAME,cAAgB5wD,IACrCkzD,EAAU74F,KAAKq2F,MAAME,cAAgB5wD,GACzCkzD,GAAW74F,KAAKgvE,YAAchvE,KAAKspF,OAAO/rF,KAC1CsT,EAAIZ,SAAS/S,EAAO,SAAUwoC,EAAI,MAClC70B,EAAIZ,SAAS/S,EAAO,QAASyoC,EAAI,MACjC90B,EAAIH,UAAU1Q,KAAKwyE,SAAUn0E,KAAK4H,IAAI4yF,EAAS74F,KAAKq2F,MAAME,cAAgB5wD,GAAItnC,KAAK4H,IAAI2yF,EAAQ3pE,GArB/F,CAXU,CAHV,MAFIpe,EAAIH,UAAU1Q,KAAKwyE,UAAW,IAAK,EAJ7B,CA0Cd,EACAmjB,EAAgBt0F,UAAU48E,mBAAqB,WAC3C,OAAOj+E,KAAK2/B,YAAYljB,QAC5B,EACAk5E,EAAgBt0F,UAAU88E,wBAA0B,WAChD,OAAOn+E,KAAK2/B,YAAYljB,UAAwC,IAA5Bzc,KAAK2/B,YAAY13B,OAAe,EAAI,EAC5E,EACA0tF,EAAgBt0F,UAAU+8E,uBAAyB,WAC/C,IAAIzkE,EAAS3Z,KAAK2/B,YACdjjB,EAAU/C,EAAO+C,QAErB,OADU1c,KAAKid,QAAQ6e,oBAAoBpf,EAAS,GAAK/C,EAAO0gB,WACtDr6B,KAAKid,QAAQupB,eAAiB7sB,EAAO7b,OAAS6b,EAAO0gB,WACpD3d,EAAU,EACdA,CACX,EACAi5E,EAAgBt0F,UAAU68E,kBAAoB,WAC1C,OAAOl+E,KAAK2/B,YAAYjjB,OAC5B,EACAi5E,EAAgBt0F,UAAUmmF,WAAa,SAAUtY,GAC7ClvE,KAAKimF,SAAW/W,EAChBlvE,KAAK62E,WAAW2Q,WAAWtY,GAC3BlvE,KAAKwgC,aAAagnD,WAAWtY,GAC7BlvE,KAAK+1F,aAAavO,WAAWtY,GAC7BlvE,KAAK61F,YAAYrO,WAAWtY,GAC5BlvE,KAAKmhF,MAAM14E,SAASzI,KAAK62F,aACzB72F,KAAKg3F,oBACT,EACArB,EAAgBt0F,UAAUy3F,gBAAkB,SAAU17F,EAAKE,EAAQC,EAAMF,GACrE,IAAI07F,EAAK/4F,KAAKm2F,aACd4C,EAAG37F,IAAY,EAANA,EACT27F,EAAGz7F,OAAkB,EAATA,EACZy7F,EAAG17F,MAAgB,EAARA,EACX07F,EAAGx7F,KAAc,EAAPA,EACVw7F,EAAGrC,EAAIqC,EAAG37F,IAAM27F,EAAGz7F,OACnBy7F,EAAGrzD,EAAIqzD,EAAGx7F,KAAOw7F,EAAG17F,MAChB07F,EAAG37F,KAAO4C,KAAKk8D,WAAa,GAAKl8D,KAAKid,SACtCjd,KAAKid,QAAQg/C,cAAc88B,EAAG37F,KAClC4C,KAAK2uE,YACT,EACAgnB,EAAgBt0F,UAAU23F,UAAY,SAAU57F,EAAKE,EAAQC,EAAMF,GAC/D,IAAI07F,EAAK/4F,KAAKspF,OACdyP,EAAG37F,IAAY,EAANA,EACT27F,EAAGz7F,OAAkB,EAATA,EACZy7F,EAAG17F,MAAgB,EAARA,EACX07F,EAAGx7F,KAAc,EAAPA,EACVw7F,EAAGrC,EAAIqC,EAAG37F,IAAM27F,EAAGz7F,OACnBy7F,EAAGrzD,EAAIqzD,EAAGx7F,KAAOw7F,EAAG17F,MACpB2C,KAAKy3F,mBAAkB,EAAMz3F,KAAKgvE,YAAahvE,KAAKq2F,MAAM73F,MAAOwB,KAAKq2F,MAAMv4F,QAC5EkC,KAAK2uE,YACT,EACAgnB,EAAgBt0F,UAAU43F,2BAA6B,WACnD,OAAOj5F,KAAKk5F,wBAChB,EACAvD,EAAgBt0F,UAAU83F,2BAA6B,SAAUC,GAC7Dp5F,KAAKiV,UAAU,0BAA2BmkF,EAC9C,EACAzD,EAAgBt0F,UAAUg4F,2BAA6B,WACnD,OAAOr5F,KAAKs5F,wBAChB,EACA3D,EAAgBt0F,UAAUk4F,2BAA6B,SAAUH,GAC7Dp5F,KAAKiV,UAAU,0BAA2BmkF,EAC9C,EACAzD,EAAgBt0F,UAAUm4F,kBAAoB,WAC1C,IAAIjlE,EAAev0B,KAAK2/B,YAAY5F,UAChCu8D,EAAiBt2F,KAAKq2F,MAAMC,gBAC3Bt2F,KAAK63E,WAAa73E,KAAKy5F,iBACxBllE,IAAiB+hE,EAAiBt2F,KAAKq6B,YAAcr6B,KAAKy5F,eACtDz5F,KAAKk8D,UAAY3nC,EAAe+hE,IAChC/hE,EAAev0B,KAAKk8D,UAAYo6B,EAChCt2F,KAAK+mC,WAAWm1B,UAAY,OAGpCl8D,KAAK+mC,WAAWuoD,gBAAgB/6D,EAAev0B,KAAKm2F,aAAaO,GACjE12F,KAAK+mC,WAAWk1B,aAAaj8D,KAAKk8D,UAAYl8D,KAAKm2F,aAAa/4F,IACpE,EACAu4F,EAAgBt0F,UAAUq4F,kBAAoB,WAC1C15F,KAAKgnC,WAAW2oD,eAAe3vF,KAAK2/B,YAAYnhC,MAAQ,EAAIwB,KAAKimF,SAAWjmF,KAAKm2F,aAAazwD,GAC9F1lC,KAAKgnC,WAAWg1B,cAAch8D,KAAKqlC,WAAarlC,KAAKm2F,aAAa54F,KACtE,EACAo4F,EAAgBt0F,UAAUs4F,OAAS,WAC/B35F,KAAK45F,SAAU,CACnB,EACAjE,EAAgBt0F,UAAUw4F,SAAW,WACjC75F,KAAK45F,SAAU,CACnB,EACAjE,EAAgBt0F,UAAUs1F,eAAiB,SAAUrF,EAASxxB,GAK1D,GAJI9/D,KAAK23F,WACLrG,GAAWtxF,KAAK23F,SAChB33F,KAAK23F,SAAW,GAEd33F,KAAKid,SAAYjd,KAAK6O,UAAUc,cAAe3P,KAAK45F,UAActI,GAAYxxB,GAApF,CAIA,GAAI9/D,KAAKq2F,MAAMG,OAEX,OADAx2F,KAAK23F,UAAYrG,EACVtxF,KAAKg2E,UAAS,GAEpBh2E,KAAKq6B,YACNr6B,KAAK62E,WAAW8S,sBAEpB3pF,KAAKmT,QAAQ,eAAgBm+E,GACzBtxF,KAAKid,SAAWjd,KAAKid,QAAQ80B,cAC7B/xC,KAAKid,QAAQ80B,aAAaZ,sBAAsBnxC,KAAKwpF,cACzD,IAAI7vE,EAAS3Z,KAAK2/B,YAClB,GAAI2xD,EAAUtxF,KAAK62F,aACfvF,EAAUtxF,KAAKg4F,aACf1G,EAAUtxF,KAAKo3F,aACf9F,EAAUtxF,KAAKm3F,cACf7F,EAAUtxF,KAAKi4F,eACf3G,EAAUtxF,KAAK85F,gBAAiB,CAEhC,GADAxI,GAAWtxF,KAAKm4F,sBAAwBn4F,KAAKmhF,MAAMuQ,QAC/C/3E,EAAO8C,UAAYzc,KAAK2/B,YAAYljB,UAAY9C,EAAOuqE,gBAAkBlkF,KAAK2/B,YAAYukD,eAAgB,CAC1G,IAAI6V,EAAK/5F,KAAKk8D,WAAaviD,EAAO8C,SAAWpe,KAAK2H,IAAIhG,KAAK2/B,YAAYljB,SAAU,IAAMzc,KAAKq6B,WACxF0/D,EAAK,IACL/5F,KAAKk8D,UAAY69B,EACjBzI,GAAoBtxF,KAAKi4F,cACzB3G,GAAWtxF,KAAKm4F,sBAAwBn4F,KAAKmhF,MAAMuQ,QAE3D,CACA/3E,EAAS3Z,KAAK2/B,YACd3/B,KAAKw5F,oBACDlI,EAAUtxF,KAAK85F,iBACf95F,KAAK05F,oBACT7oF,EAAIH,UAAU1Q,KAAK8hF,SAAU9hF,KAAKqlC,YAAa1rB,EAAO1R,QACtD,IAAIzJ,EAAQmb,EAAOnb,MAAQ,EAAIwB,KAAKimF,SAAW,KAC3CnoF,EAAS6b,EAAO88E,UAAY,KAChC5lF,EAAIZ,SAASjQ,KAAK8hF,QAAQ5kF,MAAO,QAASsB,GAC1CqS,EAAIZ,SAASjQ,KAAK8hF,QAAQ5kF,MAAO,SAAUY,EAC/C,CAOA,GANIwzF,EAAUtxF,KAAK85F,kBACfjpF,EAAIH,UAAU1Q,KAAK8hF,SAAU9hF,KAAKqlC,YAAa1rB,EAAO1R,QACtDjI,KAAKqvB,SAAS1yB,UAAYqD,KAAKqlC,YAAc,EAAI,gBAAkB,gCAC/DrlC,KAAKwpB,8BACLxpB,KAAKqvB,SAAS1yB,WAAaqD,KAAK0xE,yBAEpC4f,EAAUtxF,KAAK62F,YAaf,OAZA72F,KAAKk3F,cAAgB,KACrBl3F,KAAK62E,WAAWxqB,OAAO1yC,GACnB3Z,KAAKk4F,aACLl4F,KAAKk7B,aAAamxB,OAAO1yC,GACzB3Z,KAAK43F,kBACL53F,KAAKg6F,iBAAiBzF,kBAAkB56E,GAE5C3Z,KAAK61F,YAAYxpC,OAAO1yC,GACxB3Z,KAAK+1F,aAAa1pC,OAAO1yC,GACzB3Z,KAAKwgC,aAAa6rB,OAAO1yC,GACzB3Z,KAAK+tB,6BACL/tB,KAAKmT,QAAQ,cAAem+E,GAGhC,GAAIA,EAAUtxF,KAAKi4F,cAoBf,OAnBAj4F,KAAKk3F,cAAgB,KACjB5F,EAAUtxF,KAAKo3F,aAAe9F,EAAUtxF,KAAKm3F,aAC7Cn3F,KAAK62E,WAAWxqB,OAAO1yC,GAEvB3Z,KAAK62E,WAAWyP,YAAY3sE,GAC5B3Z,KAAKk4F,cACD5G,EAAUtxF,KAAKohF,eAAiBkQ,EAAUtxF,KAAKm3F,aAC/Cn3F,KAAKk7B,aAAamxB,OAAO1yC,GAEzB3Z,KAAKk7B,aAAaorD,YAAY3sE,IAElC3Z,KAAK43F,kBACL53F,KAAKg6F,iBAAiBzF,kBAAkB56E,GAE5C3Z,KAAK61F,YAAYxpC,OAAO1yC,GACxB3Z,KAAK+1F,aAAa1pC,OAAO1yC,GACzB3Z,KAAKwgC,aAAa6rB,OAAO1yC,GACzB3Z,KAAK+tB,6BACL/tB,KAAKmT,QAAQ,cAAem+E,GAG5BA,EAAUtxF,KAAKo3F,aACfp3F,KAAKk3F,cAAgB,KACrBl3F,KAAK62E,WAAWxqB,OAAO1yC,GACnB3Z,KAAKk4F,aACLl4F,KAAKk7B,aAAamxB,OAAO1yC,GACzB3Z,KAAK43F,kBACL53F,KAAKg6F,iBAAiBzF,kBAAkB56E,IAGvC23E,EAAUtxF,KAAKm3F,eAChBn3F,KAAKi6F,gBAAmB3I,EAAUtxF,KAAKohF,eAAkBphF,KAAKk4F,cAC9Dl4F,KAAKk7B,aAAamxB,OAAO1yC,GACzB3Z,KAAK43F,kBACL53F,KAAKg6F,iBAAiBzF,kBAAkB56E,IAGvC23E,EAAUtxF,KAAKo3F,aAAe9F,EAAUtxF,KAAKohF,eAC9CphF,KAAKk4F,aACLl4F,KAAKk7B,aAAamxB,OAAO1yC,GACzB3Z,KAAK43F,kBACL53F,KAAKg6F,iBAAiBzF,kBAAkB56E,IAGvC23E,EAAUtxF,KAAKk6F,gBAChBl6F,KAAKmmF,sBACLnmF,KAAKk7B,aAAamrD,oBAAoB1sE,GACtC3Z,KAAK43F,kBACL53F,KAAKg6F,iBAAiBzF,kBAAkB56E,IAG5C23E,EAAUtxF,KAAKk6F,gBACfl6F,KAAKwgC,aAAa6rB,OAAO1yC,GACzB3Z,KAAK+tB,yBAELujE,GAAWtxF,KAAKq3F,cAAgBr3F,KAAKm6F,sBACrCn6F,KAAK+1F,aAAa1pC,OAAO1yC,GAEzB23E,GAAWtxF,KAAKq3F,cAAgBr3F,KAAKo6F,qBACrCp6F,KAAK61F,YAAYxpC,OAAO1yC,GAE5B3Z,KAAKmT,QAAQ,cAAem+E,EAxH5B,MAFItxF,KAAK23F,UAAYrG,CA2HzB,EACAqE,EAAgBt0F,UAAUg5F,UAAY,WAClC,IAAIv8F,EAASkC,KAAKid,QAAQioD,kBAAoBllE,KAAKq6B,WAC/CN,EAAY/5B,KAAK63E,UAAY73E,KAAKq6B,WAClCigE,EAAgBj8F,KAAK4H,IAAI8zB,EAAW17B,KAAK2H,KAAKhG,KAAK83E,WAAa,GAAK93E,KAAKq6B,WAAYv8B,IAAWkC,KAAKm2F,aAAaO,GAAK12F,KAAK83F,cAAgB,GAC7I93F,KAAKg2F,eACLsE,GAAiBt6F,KAAKgnC,WAAW7Q,aACjCn2B,KAAKu6F,iBAAmBD,EAAgBt6F,KAAKu6F,kBAC7CD,EAAgBt6F,KAAKu6F,iBACzB,IACIt6D,IADiBq6D,GAAiB,EAAIt6F,KAAKq6B,aACdv8B,EAASi8B,EAC1C,GAAIugE,GAAiBt6F,KAAKs6F,eACtBt6F,KAAKq2F,MAAMv4F,QAAUkC,KAAKs6F,eAAiBr6D,GAAWjgC,KAAKi2F,SAAU,CACjEh2D,GAAWjgC,KAAKi2F,WAChBj2F,KAAKi2F,SAAWh2D,EAChBjgC,KAAK+mC,WAAW+nD,WAAW7uD,IAE/B,IAAI0F,EAAI3lC,KAAK6O,UAAUgB,YACvB7P,KAAK6O,UAAU3R,MAAMY,OAASw8F,EAAgB,KAC9Ct6F,KAAKy3F,mBAAkB,EAAMz3F,KAAKw6F,aAAc70D,EAAG20D,GACnDt6F,KAAKs6F,cAAgBA,EACrBt6F,KAAKmT,QAAQ,WACjB,CACJ,EACAwiF,EAAgBt0F,UAAU82F,oBAAsB,WAC5C,IAAIl7E,EAAUjd,KAAKid,QACf4zB,EAAO7wC,KAAKq2F,MACZoE,EAAiB5pD,EAAK/yC,QAAU,EAAIkC,KAAKq6B,WAEzCN,EADc/5B,KAAKid,QAAQioD,kBACDllE,KAAKq6B,WAC/BqgE,EAAc16F,KAAK26F,kBACnBC,GAAeH,IAAmBz6F,KAAKk5F,0BACvCroD,EAAK0lD,cAAgBmE,EAAc,EAAI16F,KAAKimF,SAAW,GACvD4U,EAAiB76F,KAAKg2F,eAAiB4E,EACvCC,IACA76F,KAAKg2F,aAAe4E,EACpB56F,KAAKgnC,WAAW8nD,WAAW8L,IAE/B,IAAIE,EAAgB96F,KAAKi2F,SACrBj2F,KAAK63E,WAAa73E,KAAKq6B,WAAa,GACpCr6B,KAAKq6F,YACT,IAAI5D,EAAY5lD,EAAKylD,eAAiBt2F,KAAKq6B,WACvC8oD,GAAiBnjF,KAAK63E,WAAa73E,KAAKy5F,gBACrC5oD,EAAKylD,eAAiBt2F,KAAKq6B,YAAcr6B,KAAKy5F,eAC/C,EACN1/D,GAAaopD,EACb,IAAI4V,EAAK/4F,KAAKm2F,aACdn2F,KAAKid,QAAQg/C,aAAa59D,KAAK2H,KAAK+yF,EAAG37F,IAAKiB,KAAK4H,IAAIjG,KAAKk8D,UAAWniC,EAAY8W,EAAKylD,eAAiByC,EAAGz7F,UAC1G0C,KAAKid,QAAQ++C,cAAc39D,KAAK2H,KAAK+yF,EAAGx7F,KAAMc,KAAK4H,IAAIjG,KAAKqlC,WAAYq1D,EAAc,EAAI16F,KAAKimF,SAAWp1C,EAAK0lD,cAAgBwC,EAAG17F,SAClI,IAAI4iC,GAAWw6D,IAAmBz6F,KAAKs5F,0BACnCzoD,EAAKylD,eAAiBv8D,EAAYopD,EAAgB,GAAKnjF,KAAKk8D,UAAY68B,EAAG37F,KAC3E29F,EAAiBD,IAAkB76D,EACnC86D,IACA/6F,KAAKi2F,SAAWh2D,EAChBjgC,KAAK+mC,WAAW+nD,WAAW7uD,IAE/B,IAIIikD,EAAgB8W,EAJhB/yF,EAASjI,KAAKk8D,UAAYl8D,KAAKq6B,WAC/B4gE,EAAY58F,KAAKywE,KAAK2nB,EAAYz2F,KAAKq6B,YAAc,EACrD5d,EAAWpe,KAAK2H,IAAI,EAAG3H,KAAKC,OAAO0B,KAAKk8D,UAAYj0D,GAAUjI,KAAKq6B,aACnE3d,EAAUD,EAAWw+E,EAErB5gE,EAAar6B,KAAKq6B,WACtB5d,EAAWQ,EAAQynD,oBAAoBjoD,EAAU,GACjD,IAAI85B,EAAWt5B,EAAQigB,YAAYzgB,GAC/B85B,IACA95B,EAAW85B,EAASv7B,MAAMC,KAE9BipE,EAAiBjnE,EAAQ6e,oBAAoBrf,EAAU,GACvDu+E,EAAiB/9E,EAAQinD,aAAaznD,GAAY4d,EAClD3d,EAAUre,KAAK4H,IAAIgX,EAAQynD,oBAAoBhoD,EAAS,GAAIO,EAAQ0e,YAAc,GAClF86D,EAAY5lD,EAAKylD,eAAiBr5E,EAAQinD,aAAaxnD,GAAW2d,EAC9D2gE,EACJ/yF,EAASjI,KAAKk8D,UAAYgoB,EAAiB7pD,EAC3C,IAAIi3D,EAAU,EAyBd,OAxBItxF,KAAK2/B,YAAYnhC,OAASk8F,GAAeG,KACzCvJ,EAAUtxF,KAAK85F,kBACfe,GAAkBE,KAClBzJ,GAAWtxF,KAAKy3F,mBAAkB,EAAMz3F,KAAKgvE,YAAan+B,EAAKryC,MAAOqyC,EAAK/yC,QAC3EkC,KAAKmT,QAAQ,8BACT4nF,IACAL,EAAc16F,KAAK26F,oBAE3B36F,KAAK2/B,YAAc,CACfnhC,MAAOk8F,EACPxrB,QAASlvE,KAAKimF,SACdxpE,SAAUA,EACVynE,eAAgBA,EAChBxnE,QAASA,EACT2d,WAAYA,EACZxL,eAAgB7uB,KAAK6uB,eACrB4nE,UAAWA,EACX18D,UAAWA,EACX9xB,OAAQA,EACRs9E,aAAclrD,EAAah8B,KAAK2H,IAAI,EAAG3H,KAAKywE,MAAM7mE,EAAS4oC,EAAK/yC,OAAS+yC,EAAKylD,gBAAkBj8D,IAAe,EAC/Gv8B,OAAQkC,KAAKq2F,MAAMC,gBAEnBt2F,KAAKid,QAAQ80B,cACb/xC,KAAKid,QAAQ80B,aAAaL,gBAAgBgpD,EAAc16F,KAAKimF,UAC1DqL,CACX,EACAqE,EAAgBt0F,UAAU44F,aAAe,WACrC,GAAKj6F,KAAKk3F,cAAV,CAEA,IAAIz6E,EAAWzc,KAAKk3F,cAAcz6E,SAC9BC,EAAU1c,KAAKk3F,cAAcx6E,QACjC1c,KAAKk3F,cAAgB,KACrB,IAAIv3D,EAAc3/B,KAAK2/B,YACvB,KAAIljB,EAAWkjB,EAAYjjB,QAAU,MAGjCA,EAAUijB,EAAYljB,UAG1B,OAAIC,IAAYunC,KACRjkD,KAAKk4F,aACLl4F,KAAKk7B,aAAamxB,OAAO1sB,QAC7B3/B,KAAK62E,WAAWxqB,OAAO1sB,KAG3B3/B,KAAK62E,WAAWU,YAAY53C,EAAaljB,EAAUC,IAC5C,EAlBG,CAmBd,EACAi5E,EAAgBt0F,UAAUs5F,gBAAkB,WACxC,IAAIO,EAAYl7F,KAAKid,QAAQuiD,iBAK7B,OAJIx/D,KAAK4uC,iBAAmB5uC,KAAKid,QAAQuzB,eACrC0qD,GAAa,GACbl7F,KAAK62E,YAAcqkB,EAAYl7F,KAAK62E,WAAWpwD,kBAC/Cy0E,EAAYl7F,KAAK62E,WAAWpwD,gBAAkB,IAC3CpoB,KAAK2H,IAAIhG,KAAKq2F,MAAME,cAAgB,EAAIv2F,KAAKimF,SAAU5nF,KAAKC,MAAM48F,EAAYl7F,KAAK6uB,gBAC9F,EACA8mE,EAAgBt0F,UAAU+2E,mBAAqB,WAC3Cp4E,KAAK+1F,aAAatO,WAAWznF,KAAKid,QAAQ4gD,YAAW,IACrD79D,KAAKmhF,MAAM14E,SAASzI,KAAKm6F,oBAC7B,EACAxE,EAAgBt0F,UAAUg3E,kBAAoB,WAC1Cr4E,KAAK61F,YAAYpO,WAAWznF,KAAKid,QAAQ4gD,cACzC79D,KAAKmhF,MAAM14E,SAASzI,KAAKo6F,mBAC7B,EACAzE,EAAgBt0F,UAAU+7D,oBAAsB,SAAUniD,EAAKte,GAC3DqD,KAAKk7B,aAAakiC,oBAAoBniD,EAAKte,EAC/C,EACAg5F,EAAgBt0F,UAAUg8D,uBAAyB,SAAUpiD,EAAKte,GAC9DqD,KAAKk7B,aAAamiC,uBAAuBpiD,EAAKte,EAClD,EACAg5F,EAAgBt0F,UAAUi3E,kBAAoB,SAAUlgC,GACpDp4C,KAAKm7F,MAAQ/iD,EACbp4C,KAAKmhF,MAAM14E,SAASzI,KAAKohF,cAC7B,EACAuU,EAAgBt0F,UAAUw6D,eAAiB,SAAU79B,GACjDh+B,KAAKk7B,aAAa2gC,eAAe79B,GACjCh+B,KAAKmhF,MAAM14E,SAASzI,KAAKohF,cAC7B,EACAuU,EAAgBt0F,UAAUg2E,aAAe,WACrCr3E,KAAKmhF,MAAM14E,SAASzI,KAAKk6F,cAC7B,EACAvE,EAAgBt0F,UAAU61E,WAAa,WACnCl3E,KAAKwgC,aAAa02C,YACtB,EACAye,EAAgBt0F,UAAU21E,WAAa,WACnCh3E,KAAKwgC,aAAaw2C,YACtB,EACA2e,EAAgBt0F,UAAU+xE,wBAA0B,SAAUlhD,EAAQohB,EAAMrrC,GACxEjI,KAAKsyB,qBAAqBJ,EAAQjqB,GAClCjI,KAAKsyB,qBAAqBghB,EAAMrrC,EACpC,EACA0tF,EAAgBt0F,UAAUixB,qBAAuB,SAAUtJ,EAAQ/gB,EAAQmzF,GACvE,GAAkC,IAA9Bp7F,KAAKq2F,MAAMC,eAAf,CAEA,IAAInlE,EAAMnxB,KAAKwgC,aAAawF,iBAAiBhd,GACzCqyE,EAAUlqE,EAAI5zB,KACd+9F,EAASnqE,EAAI/zB,IACbm+F,EAAYH,GAAeA,EAAYh+F,KAAO,EAC9Co+F,EAAeJ,GAAeA,EAAY99F,QAAU,EACpD0C,KAAKk2F,mBACLl2F,KAAKy7F,gBAAiB,GAE1B,IAAIC,EAAa17F,KAAKk2F,iBAAmBl2F,KAAKid,QAAQupB,eAAiBxmC,KAAKk8D,UACxEw/B,EAAaH,EAAYD,GACrBrzF,GAAUyzF,EAAaH,EAAYD,EAASt7F,KAAKq6B,aACjDihE,GAAUrzF,EAASjI,KAAKq2F,MAAMC,gBACnB,IAAXgF,IACAA,GAAUt7F,KAAKm2F,aAAa/4F,KAChC4C,KAAKid,QAAQg/C,aAAaq/B,IAErBI,EAAa17F,KAAKq2F,MAAMC,eAAiBkF,EAAeF,EAASt7F,KAAKq6B,aACvEpyB,GAAUyzF,EAAa17F,KAAKq2F,MAAMC,eAAiBkF,EAAeF,EAASt7F,KAAKq6B,aAChFihE,GAAUrzF,EAASjI,KAAKq2F,MAAMC,gBAClCt2F,KAAKid,QAAQg/C,aAAaq/B,EAASt7F,KAAKq6B,WAAamhE,EAAex7F,KAAKq2F,MAAMC,iBAEnF,IAAIqF,EAAc37F,KAAKqlC,WACnBu2D,EAAgB,EAAI57F,KAAK2/B,YAAY9Q,eACrCwsE,EAAUO,EAAgBD,IAC1BN,GAAWO,GACG57F,KAAKimF,SAAW2V,IAC1BP,GAAWr7F,KAAKm2F,aAAa54F,MAEjCyC,KAAKid,QAAQ++C,cAAcq/B,KAG3BA,GAAWO,EACPD,EAAc37F,KAAKq2F,MAAME,cAAgB8E,EAAUr7F,KAAK6uB,eACxD7uB,KAAKid,QAAQ++C,cAAc39D,KAAKC,MAAM+8F,EAAUr7F,KAAK6uB,eAAiB7uB,KAAKq2F,MAAME,gBAE5EoF,GAAe37F,KAAKimF,UAAYoV,EAAUM,EAAc37F,KAAK6uB,gBAClE7uB,KAAKid,QAAQ++C,cAAc,GArCzB,CAwCd,EACA25B,EAAgBt0F,UAAUmlC,aAAe,WACrC,OAAOxmC,KAAKid,QAAQupB,cACxB,EACAmvD,EAAgBt0F,UAAUk+D,cAAgB,WACtC,OAAOv/D,KAAKid,QAAQsiD,eACxB,EACAo2B,EAAgBt0F,UAAUk9E,gBAAkB,WACxC,OAAOv+E,KAAKk8D,UAAYl8D,KAAKq6B,UACjC,EACAs7D,EAAgBt0F,UAAUi9E,mBAAqB,WAC3C,OAAOjgF,KAAK2H,IAAI,EAAG3H,KAAK8mD,OAAOnlD,KAAKk8D,UAAYl8D,KAAKq2F,MAAMC,gBAAkBt2F,KAAKq6B,YAAc,EACpG,EACAs7D,EAAgBt0F,UAAUo9E,YAAc,SAAUxjE,GAC9Cjb,KAAKid,QAAQg/C,aAAahhD,EAAMjb,KAAKq6B,WACzC,EACAs7D,EAAgBt0F,UAAUu9E,YAAc,SAAU51D,EAAQ6yE,GACjC,iBAAV7yE,IACPA,EAAS,CAAE/N,IAAK+N,EAAQ9N,OAAQ,IACpC,IAAIiW,EAAMnxB,KAAKwgC,aAAawF,iBAAiBhd,GACzC0c,EAAI1lC,KAAKq2F,MAAMC,eAAiBt2F,KAAKq6B,WACrCpyB,EAASkpB,EAAI/zB,IAAMsoC,GAAKm2D,GAAa,GAEzC,OADA77F,KAAKid,QAAQg/C,aAAah0D,GACnBA,CACX,EACA0tF,EAAgBt0F,UAAUy6F,WAAa,SAAUC,EAAWC,GACxD,IAGqBnyE,EAAGoyE,EAHpBx6F,EAAI,EACJC,EAAI1B,KAAKk8F,MACTC,EAAQ,GAIZ,IAAK16F,EAAI,EAAGA,EAAIC,IAAKD,EACjB06F,EAAMt6F,MAJWgoB,EAIDpoB,EAAIzB,KAAKk8F,MAJLD,EAIYF,GAAWC,EAAUD,IAHxC19F,KAAK0iB,IAAI8I,EAAI,EAAG,GAAK,GAAKoyE,IAI3C,OAAOE,CACX,EACAxG,EAAgBt0F,UAAUuuE,aAAe,SAAUxmE,EAAMs1E,EAAQC,EAAS19E,GACtE,IACIgH,EADMjI,KAAKwgC,aAAawF,iBAAiB,CAAE/qB,IAAK7R,EAAM8R,OAAQ,IACjD9d,IACbshF,IACAz2E,GAAUjI,KAAKq2F,MAAMC,eAAiB,GAC1C,IAAI8F,EAAgBp8F,KAAKk8D,UACzBl8D,KAAKid,QAAQg/C,aAAah0D,IACV,IAAZ02E,GACA3+E,KAAKqzE,iBAAiB+oB,EAAen7F,EAC7C,EACA00F,EAAgBt0F,UAAUgyE,iBAAmB,SAAU0oB,EAAW96F,GAC9D,IAAI+6F,EAAUh8F,KAAKk8D,UACnB,GAAKl8D,KAAKu4F,gBAAV,CAEA,IAAIzvF,EAAQ9I,KACZ,GAAI+7F,GAAaC,EAAjB,CAEA,GAAIh8F,KAAKk2F,iBAAkB,CACvB,IAAImG,EAAWr8F,KAAKk2F,iBAAiBiG,MACrC,GAAIE,EAAS97F,SACTw7F,EAAYM,EAAS,KACJL,EACb,MAEZ,CACA,IAAIG,EAAQrzF,EAAMgzF,WAAWC,EAAWC,GACxCh8F,KAAKk2F,iBAAmB,CAAEl5D,KAAM++D,EAAWpxC,GAAIqxC,EAASG,MAAOA,GAC/Dz7D,cAAc1gC,KAAKs8F,QACnBxzF,EAAMmU,QAAQg/C,aAAakgC,EAAMnsE,SACjClnB,EAAMmU,QAAQm/C,WAAa4/B,EAO3Bh8F,KAAKs8F,OAAS37D,aAAY,WACtB,IAAI73B,EAAM2yF,eAIV,OAAK3yF,EAAMmU,aAEPk/E,EAAM57F,QACNuI,EAAMmU,QAAQg/C,aAAakgC,EAAMnsE,SACjClnB,EAAMmU,QAAQm/C,WAAa4/B,GAEX,MAAXA,GACLlzF,EAAMmU,QAAQm/C,YAAc,EAC5BtzD,EAAMmU,QAAQg/C,aAAa+/B,GAC3BA,EAAU,MAGVO,KAXO77D,cAAc53B,EAAMwzF,QAJ3BC,GAiBR,GAAG,GAvCO,CAHA,CAiBV,SAASA,IACLzzF,EAAMwzF,OAAS57D,cAAc53B,EAAMwzF,QACnCxzF,EAAMotF,iBAAmB,KACzBptF,EAAM2yF,gBAAiB,EACvBx6F,GAAYA,GAChB,CAqBJ,EACA00F,EAAgBt0F,UAAUm2E,UAAY,SAAUtb,GACxCl8D,KAAKk8D,YAAcA,IACnBl8D,KAAKmhF,MAAM14E,SAASzI,KAAKi4F,eACzBj4F,KAAKk8D,UAAYA,EAEzB,EACAy5B,EAAgBt0F,UAAUo2E,UAAY,SAAUpyC,GACxCrlC,KAAKqlC,aAAeA,IACpBrlC,KAAKqlC,WAAaA,GACtBrlC,KAAKmhF,MAAM14E,SAASzI,KAAK85F,gBAC7B,EACAnE,EAAgBt0F,UAAUm7F,SAAW,SAAUx7E,EAAG+Q,GAC9C/xB,KAAKid,QAAQg/C,aAAalqC,GAC1B/xB,KAAKid,QAAQ++C,cAAch7C,EAC/B,EACA20E,EAAgBt0F,UAAU2yB,SAAW,SAAUjR,EAAQC,GACnDA,GAAUhjB,KAAKid,QAAQg/C,aAAaj8D,KAAKid,QAAQupB,eAAiBxjB,GAClED,GAAU/iB,KAAKid,QAAQ++C,cAAch8D,KAAKid,QAAQsiD,gBAAkBx8C,EACxE,EACA4yE,EAAgBt0F,UAAUyyB,eAAiB,SAAU/Q,EAAQC,GACzD,OAAIA,EAAS,GAAKhjB,KAAKid,QAAQupB,gBAAkB,EAAIxmC,KAAKm2F,aAAa/4F,MAEnE4lB,EAAS,GAAKhjB,KAAKid,QAAQupB,eAAiBxmC,KAAKq2F,MAAMC,eACrDt2F,KAAK2/B,YAAY5F,WAAa,EAAI/5B,KAAKm2F,aAAa74F,SAEtDylB,EAAS,GAAK/iB,KAAKid,QAAQsiD,iBAAmB,EAAIv/D,KAAKm2F,aAAa54F,OAEpEwlB,EAAS,GAAK/iB,KAAKid,QAAQsiD,gBAAkBv/D,KAAKq2F,MAAME,cACtDv2F,KAAK2/B,YAAYnhC,OAAS,EAAIwB,KAAKm2F,aAAa94F,YADtD,IAGJ,EACAs4F,EAAgBt0F,UAAUg4B,yBAA2B,SAAUrY,EAAG+Q,GAC9D,IAAI0qE,EACJ,GAAIz8F,KAAK08F,kBAAmB,CACxBD,EAAY,CAAEr/F,IAAK,EAAGG,KAAM,GAC5B,IAAIme,EAAI1b,KAAKwpF,aAAawJ,qBAAqB,CAAChyE,EAAG+Q,IACnD/Q,EAAItF,EAAE,GAAK1b,KAAKgvE,YAAchvE,KAAKspF,OAAO/rF,KAC1Cw0B,EAAIrW,EAAE,EACV,MAEI+gF,EAAYz8F,KAAKqvB,SAAS1F,wBAE9B,IAAI0uB,EAAUr3B,EAAIhhB,KAAKqlC,WAAao3D,EAAUl/F,KAAOyC,KAAKimF,SACtDh+E,EAASowC,EAAUr4C,KAAK6uB,eACxB5T,EAAM5c,KAAK8mD,OAAOpzB,EAAI/xB,KAAKk8D,UAAYugC,EAAUr/F,KAAO4C,KAAKq6B,YAC7D6X,EAAMlyC,KAAK28F,aAAet+F,KAAK8mD,MAAMl9C,GAAU5J,KAAKC,MAAM2J,GAC9D,MAAO,CAAEgT,IAAKA,EAAKC,OAAQg3B,EAAK9zC,KAAM6J,EAASiqC,EAAM,EAAI,GAAK,EAAGmG,QAASA,EAC9E,EACAs9C,EAAgBt0F,UAAUywB,wBAA0B,SAAU9Q,EAAG+Q,GAC7D,IAAI0qE,EACJ,GAAIz8F,KAAK08F,kBAAmB,CACxBD,EAAY,CAAEr/F,IAAK,EAAGG,KAAM,GAC5B,IAAIme,EAAI1b,KAAKwpF,aAAawJ,qBAAqB,CAAChyE,EAAG+Q,IACnD/Q,EAAItF,EAAE,GAAK1b,KAAKgvE,YAAchvE,KAAKspF,OAAO/rF,KAC1Cw0B,EAAIrW,EAAE,EACV,MAEI+gF,EAAYz8F,KAAKqvB,SAAS1F,wBAE9B,IAAI0uB,EAAUr3B,EAAIhhB,KAAKqlC,WAAao3D,EAAUl/F,KAAOyC,KAAKimF,SACtDh+E,EAASowC,EAAUr4C,KAAK6uB,eACxBqjB,EAAMlyC,KAAK28F,aAAet+F,KAAK8mD,MAAMl9C,GAAU5J,KAAKC,MAAM2J,GAC1DgT,EAAM5c,KAAK8mD,OAAOpzB,EAAI/xB,KAAKk8D,UAAYugC,EAAUr/F,KAAO4C,KAAKq6B,YACjE,OAAOr6B,KAAKid,QAAQ+5B,yBAAyB/7B,EAAK5c,KAAK2H,IAAIksC,EAAK,GAAImG,EACxE,EACAs9C,EAAgBt0F,UAAUw4B,wBAA0B,SAAU5e,EAAKC,GAC/D,IAAIuhF,EAAYz8F,KAAKqvB,SAAS1F,wBAC1BwH,EAAMnxB,KAAKid,QAAQE,yBAAyBlC,EAAKC,GACjD8F,EAAIhhB,KAAKimF,UAAYjmF,KAAKid,QAAQ80B,aAAavC,UAAUre,EAAIlW,IAAKA,GAChEjb,KAAKid,QAAQ80B,aAAaE,WAAW9gB,EAAIjW,QACzC7c,KAAKC,MAAM6yB,EAAIjW,OAASlb,KAAK6uB,iBAC/BkD,EAAIZ,EAAIlW,IAAMjb,KAAKq6B,WACvB,MAAO,CACHP,MAAO2iE,EAAUl/F,KAAOyjB,EAAIhhB,KAAKqlC,WACjCjL,MAAOqiE,EAAUr/F,IAAM20B,EAAI/xB,KAAKk8D,UAExC,EACAy5B,EAAgBt0F,UAAU41E,eAAiB,WACvCpmE,EAAIlD,YAAY3N,KAAK6O,UAAW,YACpC,EACA8mF,EAAgBt0F,UAAU81E,cAAgB,WACtCtmE,EAAIjD,eAAe5N,KAAK6O,UAAW,YACvC,EACA8mF,EAAgBt0F,UAAUy8E,gBAAkB,SAAU1E,GAClDp5E,KAAK2hF,aAAevI,EACfA,EAAY1sE,UACb0sE,EAAY1sE,QAAU1M,KAAKwyE,SAASt1E,MAAMwP,cAETvL,GAAjCi4E,EAAY9rD,oBACZ8rD,EAAY9rD,kBAAoBttB,KAAK48F,oBACrC58F,KAAK48F,oBACL/rF,EAAIlD,YAAY3N,KAAKwyE,SAAU,mBAC/BxyE,KAAKwyE,SAASt1E,MAAMwP,QAAU,GAC9B1M,KAAK+tB,wBACL/tB,KAAKwgC,aAAapzB,QAAQlQ,MAAMS,QAAU,QAG1Cy7E,EAAYxb,SAAW59D,KAAKid,QAAQ2c,UAAUw/C,EAAY7rD,YAAa,yBAA0B,OAEzG,EACAooE,EAAgBt0F,UAAU08E,mBAAqB,SAAUh3D,GACrD,IAAIiC,EAAShpB,KAAKid,QAAQ8L,UAAUC,OACpChpB,KAAK68F,SAAS91E,EAAM,0BAA2BiC,EAAO/N,IAAK+N,EAAO9N,QAClElb,KAAK+tB,uBACT,EACA4nE,EAAgBt0F,UAAU28E,gBAAkB,WACxC,GAAKh+E,KAAK2hF,aAAV,CAEI3hF,KAAK2hF,aAAa/jB,UAClB59D,KAAKid,QAAQyd,aAAa16B,KAAK2hF,aAAa/jB,UAChD/sD,EAAIjD,eAAe5N,KAAKwyE,SAAU,mBAClCxyE,KAAKwyE,SAASt1E,MAAMwP,QAAU1M,KAAK2hF,aAAaj1E,QAChD,IAAIsc,EAAShpB,KAAKid,QAAQ8L,UAAUC,OACpChpB,KAAK88F,iBAAiB9zE,EAAO/N,IAAK+N,EAAO9N,QACzClb,KAAK2hF,aAAe,KACpB3hF,KAAKwgC,aAAapzB,QAAQlQ,MAAMS,QAAU,EARhC,CASd,EACAg4F,EAAgBt0F,UAAUk6E,aAAe,SAAUx0D,EAAM5pB,GACrD,IAAI6rB,EAAShpB,KAAKid,QAAQ8L,UAAUC,OAChC+zE,EAAiB5/F,GAAY,CAAE8d,IAAK+N,EAAO/N,IAAKC,OAAQ8N,EAAO9N,QACnElb,KAAKw7E,kBACL,IAAIwhB,EAAah9F,KAAKi9F,4BAA4Bl2E,EAAMg2E,GACxD/8F,KAAK68F,SAASG,EAAW,GAAGj2E,KAAM,aAAcg2E,EAAe9hF,IAAK8hF,EAAe7hF,QACnFlb,KAAKk9F,WAAa,CACdn2E,KAAMA,EACN5pB,SAAU,CACN8d,IAAK8hF,EAAe9hF,IACpBC,OAAQ6hF,EAAe7hF,SAG/B,IAAIiiF,EAAYtsF,EAAIvE,cAAc,OAClC,GAAI0wF,EAAWz8F,OAAS,EAAG,CACvB,IACI68F,EADAC,EAAer9F,KAAKs9F,wBAAwBP,EAAe9hF,IAAK8hF,EAAe7hF,QAEnF8hF,EAAW36F,MAAM,GAAG0C,SAAQ,SAAUsH,GAClC,IAAIkxF,EAAW1sF,EAAIvE,cAAc,OAC7BkxF,EAAY3sF,EAAIvE,cAAc,QAClCkxF,EAAU7gG,UAAY,iBAClB0P,EAAGoxF,UACHF,EAAS5gG,UAAY,2BACF,IAAnB0P,EAAG0a,KAAKxmB,SACR8L,EAAG0a,KAAO,KACdy2E,EAAUtxF,YAAY2E,EAAI5E,eAAeI,EAAG0a,OAC5Cw2E,EAASrxF,YAAYsxF,GACrBL,EAAUjxF,YAAYqxF,GACtBH,EAAcG,CAClB,IACAF,EAAat4F,SAAQ,SAAU41C,GAC3B,IAAIvtC,EAAUyD,EAAIvE,cAAc,QAC3Bw8E,EAAYnuC,EAAMznC,QACnB9F,EAAQzQ,UAAY,OAASg+C,EAAMznC,KAAK1Q,QAAQ,MAAO,UAC3D4K,EAAQlB,YAAY2E,EAAI5E,eAAe0uC,EAAMp3C,QAC7C65F,EAAYlxF,YAAYkB,EAC5B,IACApN,KAAK09F,iBAAmB,CACpBrxF,GAAI8wF,EACJliF,IAAK8hF,EAAe9hF,IACpBC,OAAQ6hF,EAAe7hF,OACvBve,UAAW,4BAEfqD,KAAKid,QAAQswD,cAAca,cAAcpuE,KAAK09F,kBAC9C,IAAIC,EAAgB39F,KAAKwgC,aAAawF,iBAAiB+2D,GAAgB,GAEnEj/F,EADKkC,KAAK6O,UACE8a,wBAAwB7rB,OACpC8/F,EAAkBZ,EAAWz8F,OAASP,KAAKq6B,WAE/C,GADYujE,EAAmB9/F,EAAS6/F,EAAcvgG,IAElD,OACAwgG,EAAkB9/F,EAClBkC,KAAKg0B,SAAS,GAAIgpE,EAAWz8F,OAAS,GAAKP,KAAKq6B,YAGhDr6B,KAAKy+E,YAAYse,EAAe9hF,IAExC,CACJ,EACA06E,EAAgBt0F,UAAU47F,4BAA8B,SAAUl2E,EAAM5pB,GACpE,IAAIi7F,EAAiBp4F,KAAKq2F,MAAME,cAAgC,EAAhBv2F,KAAKimF,SACjD5jB,EAAQhkE,KAAK8mD,MAAMizC,EAAiBp4F,KAAK6uB,gBAAkB,EAC/DwzC,EAAQA,GAAS,EAAI,GAAKA,EAG1B,IAFA,IAAIw7B,EAAY92E,EAAK5kB,MAAM,SACvB66F,EAAa,GACRv7F,EAAI,EAAGA,EAAIo8F,EAAUt9F,OAAQkB,IAAK,CACvC,IAAIq8F,EAAgB99F,KAAKid,QAAQylD,kBAAkBm7B,EAAUp8F,GAAItE,EAAS+d,QACtE6iF,EAAa/9F,KAAKid,QAAQ4lD,mBAAmBi7B,EAAez7B,EAAOriE,KAAKid,QAAQ2/C,UACpF,GAAImhC,EAAWx9F,OAAS,EAAG,CACvB,IAAIya,EAAQ,EACZ+iF,EAAWl8F,KAAKg8F,EAAUp8F,GAAGlB,QAC7B,IAAK,IAAI+Z,EAAI,EAAGA,EAAIyjF,EAAWx9F,OAAQ+Z,IAAK,CACxC,IAAI0jF,EAAYH,EAAUp8F,GAAGY,MAAM2Y,EAAO+iF,EAAWzjF,IACrD0iF,EAAWn7F,KAAK,CAAEklB,KAAMi3E,EAAWP,SAAS,IAC5CziF,EAAQ+iF,EAAWzjF,EACvB,CACJ,MAEI0iF,EAAWn7F,KAAK,CAAEklB,KAAM82E,EAAUp8F,GAAIg8F,SAAS,GAEvD,CACA,OAAOT,CACX,EACArH,EAAgBt0F,UAAUm6E,gBAAkB,WACxC,GAAKx7E,KAAKk9F,WAAV,CAEA,IAAI//F,EAAW6C,KAAKk9F,WAAW//F,SAC/B6C,KAAK88F,iBAAiB3/F,EAAS8d,IAAK9d,EAAS+d,QACzClb,KAAK09F,mBACL19F,KAAKid,QAAQswD,cAAcQ,iBAAiB/tE,KAAK09F,kBACjD19F,KAAK09F,iBAAmB,MAE5B19F,KAAKk9F,WAAa,IAPR,CAQd,EACAvH,EAAgBt0F,UAAUw7F,SAAW,SAAU91E,EAAM7T,EAAM+H,EAAKC,GAC5D,IAAI+B,EAAUjd,KAAKid,QACnBA,EAAQu9C,YAAYxvC,MAAM/P,GAAO,KACjC,IAAIgjF,EAAW,CAAE/qF,KAAMA,EAAM3P,MAAOwjB,GAChCs0B,EAASp+B,EAAQ6hC,UAAU7jC,GAC/B,GAAc,MAAVC,GAAmBmgC,EAAO96C,OAK1B,IADA,IAAImB,EAAI,EACCD,EAAI,EAAGA,EAAI45C,EAAO96C,OAAQkB,IAAK,CACpC,IAAIk5C,EAAQU,EAAO55C,GAEnB,GAAIyZ,IADJxZ,GAAKi5C,EAAMp3C,MAAMhD,QACA,CACb,IAAIwuD,EAAOpU,EAAMp3C,MAAMhD,QAAUmB,EAAIwZ,GACjCypC,EAAShK,EAAMp3C,MAAMlB,MAAM,EAAG0sD,GAC9BnK,EAAQjK,EAAMp3C,MAAMlB,MAAM0sD,GAC9B1T,EAAO1zC,OAAOlG,EAAG,EAAG,CAAEyR,KAAMynC,EAAMznC,KAAM3P,MAAOohD,GAAUs5C,EAAU,CAAE/qF,KAAMynC,EAAMznC,KAAM3P,MAAOqhD,IAC9F,KACJ,CACJ,MAdAvJ,EAAOx5C,KAAKo8F,GAgBhBj+F,KAAKu3E,YAAYt8D,EAAKA,EAC1B,EACA06E,EAAgBt0F,UAAUi8F,wBAA0B,SAAUriF,EAAKC,GAK/D,IAJA,IAAImgC,EAASr7C,KAAKid,QAAQ6hC,UAAU7jC,GAChCvZ,EAAI,EACJw8F,GAAkB,EAClBb,EAAe,GACV57F,EAAI,EAAGA,EAAI45C,EAAO96C,OAAQkB,IAAK,CACpC,IAAIk5C,EAAQU,EAAO55C,GACnBC,GAAKi5C,EAAMp3C,MAAMhD,OACE,eAAfo6C,EAAMznC,OAENgrF,GACAb,EAAax7F,KAAK,CAAEqR,KAAMynC,EAAMznC,KAAM3P,MAAOo3C,EAAMp3C,QACnDo3C,EAAMznC,KAAO,gBAGbxR,IAAMwZ,IACNgjF,GAAkB,GAE1B,CAEA,OADAl+F,KAAKu3E,YAAYt8D,EAAKA,GACfoiF,CACX,EACA1H,EAAgBt0F,UAAUy7F,iBAAmB,SAAU7hF,EAAKC,GACxDlb,KAAKid,QAAQu9C,YAAYxvC,MAAM/P,GAAO,KACtCjb,KAAKu3E,YAAYt8D,EAAKA,EAC1B,EACA06E,EAAgBt0F,UAAU00B,SAAW,SAAUC,EAAOxd,GAClD,IAAI1P,EAAQ9I,KAGZ,GAFAA,KAAKm+F,SAAWnoE,EAChBltB,EAAM8J,eAAe,cAAe,CAAEojB,MAAOA,IACxCA,GAAyB,iBAATA,EAKjB9c,EAAU8c,OAL0B,CACpC,IAAIh0B,EAAag0B,GAASh2B,KAAKoV,SAAS4gB,MAAM/f,aAC9C0D,EAAOf,WAAW,CAAC,QAAS5W,GAAakX,EAC7C,CAIA,SAASA,EAAU/Y,GACf,GAAI2I,EAAMq1F,UAAYnoE,EAClB,OAAOxd,GAAMA,IACjB,IAAKrY,IAAWA,EAAO4W,SACnB,MAAM,IAAItC,MAAM,wBAA0BuhB,EAAQ,6BAClD71B,EAAO6W,MACPlO,EAAMq1F,SAAWh+F,EAAO6W,KAC5BnG,EAAIjC,gBAAgBzO,EAAOuM,QAASvM,EAAO4W,SAAUjO,EAAM+F,WACvD/F,EAAMktB,OACNnlB,EAAIjD,eAAe9E,EAAM+F,UAAW/F,EAAMktB,MAAMjf,UACpD,IAAIm4D,EAAU,YAAa/uE,EAASA,EAAO+uE,QACrC,YAAcpmE,EAAMktB,OAAS,CAAC,GAAK,EAAIltB,EAAMm9E,SAC/Cn9E,EAAMm9E,UAAY/W,GAAWpmE,EAAMm9E,UACnCn9E,EAAM0+E,WAAWtY,GACrBpmE,EAAMs1F,OAASj+F,EAAO4W,SACtBjO,EAAMktB,MAAQ71B,EACd0Q,EAAIlD,YAAY7E,EAAM+F,UAAW1O,EAAO4W,UACxClG,EAAI7C,YAAYlF,EAAM+F,UAAW,WAAY1O,EAAO2W,QAChDhO,EAAMutF,QACNvtF,EAAMutF,MAAM73F,MAAQ,EACpBsK,EAAMyuF,oBAEVzuF,EAAM8J,eAAe,cAAe,CAAEojB,MAAO71B,IAC7CqY,GAAMA,IACF7M,EAAUT,UAAYpC,EAAMumB,WAC5BvmB,EAAMumB,SAASnyB,MAAMc,WAAa,MAClC8K,EAAMumB,SAASnyB,MAAMc,WAAa,GAE1C,CACJ,EACA23F,EAAgBt0F,UAAU40E,SAAW,WACjC,OAAOj2E,KAAKm+F,QAChB,EACAxI,EAAgBt0F,UAAU4O,SAAW,SAAU/S,EAAOgR,GAClD2C,EAAI7C,YAAYhO,KAAK6O,UAAW3R,GAAmB,IAAZgR,EAC3C,EACAynF,EAAgBt0F,UAAUsxB,WAAa,SAAUz1B,GAC7C2T,EAAIjD,eAAe5N,KAAK6O,UAAW3R,EACvC,EACAy4F,EAAgBt0F,UAAUsgC,eAAiB,SAAUzkC,GACjD2T,EAAIZ,SAASjQ,KAAKqvB,SAASnyB,MAAO,SAAUA,EAChD,EACAy4F,EAAgBt0F,UAAUg9F,eAAiB,SAAUt7D,GACjDlyB,EAAIZ,SAASjQ,KAAKqvB,SAASnyB,MAAO,SAAU6lC,EAChD,EACA4yD,EAAgBt0F,UAAUi9F,mBAAqB,WAC3CztF,EAAIjC,gBAAgB8mF,EAAW,iBAAkB11F,KAAK6O,UAC1D,EACA8mF,EAAgBt0F,UAAUwgB,QAAU,WAChC7hB,KAAK25F,SACL35F,KAAKwpF,aAAa3nE,UAClB7hB,KAAKwgC,aAAa3e,UAClB7hB,KAAKqU,qBACLrU,KAAK6O,UAAUvB,YAAc,GAC7BtN,KAAKiV,UAAU,qBAAqB,EACxC,EACA0gF,EAAgBt0F,UAAUw2F,uBAAyB,SAAUx0F,GACzD,IAAIyF,EAAQ9I,KACZA,KAAKg2F,aAAeh2F,KAAKi2F,SAAW,KACpCj2F,KAAK+mC,WAAW35B,QAAQoB,SACxBxO,KAAKgnC,WAAW55B,QAAQoB,SACpBxO,KAAKg6F,yBACEh6F,KAAKg6F,kBAEJ,IAAR32F,GACArD,KAAK+mC,WAAa,IAAI0uD,EAAiBz1F,KAAK6O,UAAW7O,MACvDA,KAAKgnC,WAAa,IAAIwuD,EAAiBx1F,KAAK6O,UAAW7O,MACvDA,KAAK+mC,WAAWsoD,UAAUrvF,KAAKq2F,MAAMC,gBACrCt2F,KAAKgnC,WAAWyoD,SAASzvF,KAAKq2F,MAAME,eACpCv2F,KAAK+mC,WAAW9yB,iBAAiB,UAAU,SAAU/K,GAC5CJ,EAAMotF,kBACPptF,EAAMmU,QAAQg/C,aAAa/yD,EAAEsL,KAAO1L,EAAMqtF,aAAa/4F,IAC/D,IACA4C,KAAKgnC,WAAW/yB,iBAAiB,UAAU,SAAU/K,GAC5CJ,EAAMotF,kBACPptF,EAAMmU,QAAQ++C,cAAc9yD,EAAEsL,KAAO1L,EAAMqtF,aAAa54F,KAChE,IACAyC,KAAKg6F,iBAAmB,IAAInG,EAAU7zF,KAAK+mC,WAAY/mC,MACvDA,KAAKg6F,iBAAiBzF,sBAGtBv0F,KAAK+mC,WAAa,IAAImoD,EAAWlvF,KAAK6O,UAAW7O,MACjDA,KAAKgnC,WAAa,IAAIwoD,EAAWxvF,KAAK6O,UAAW7O,MACjDA,KAAK+mC,WAAW9yB,iBAAiB,UAAU,SAAU/K,GAC5CJ,EAAMotF,kBACPptF,EAAMmU,QAAQg/C,aAAa/yD,EAAEsL,KAAO1L,EAAMqtF,aAAa/4F,IAC/D,IACA4C,KAAKgnC,WAAW/yB,iBAAiB,UAAU,SAAU/K,GAC5CJ,EAAMotF,kBACPptF,EAAMmU,QAAQ++C,cAAc9yD,EAAEsL,KAAO1L,EAAMqtF,aAAa54F,KAChE,IAER,EACAo4F,EAAgBt0F,UAAUy1F,mBAAqB,WAC3C,GAAK72F,OAAO4xF,iBAAkB7xF,KAAKu+F,gBAAnC,CAEA,IAAIr9D,EAAOlhC,KACXA,KAAK03F,aAAezgF,EAAKrO,aAAY,WAC5Bs4B,EAAKy5B,WACNz5B,EAAK80C,UACb,GAAG,IACHh2E,KAAKu+F,gBAAkB,IAAIt+F,OAAO4xF,gBAAe,SAAU3oF,GACvD,IAAIy8B,EAAIz8B,EAAE,GAAGs1F,YAAYhgG,MACrBknC,EAAIx8B,EAAE,GAAGs1F,YAAY1gG,OACrBO,KAAK6lB,IAAIgd,EAAKm1D,MAAM73F,MAAQmnC,GAAK,GAC9BtnC,KAAK6lB,IAAIgd,EAAKm1D,MAAMv4F,OAAS4nC,GAAK,EACrCxE,EAAKw2D,aAAa3uF,QAGlBm4B,EAAKw2D,aAAanvF,QAE1B,IACAvI,KAAKu+F,gBAAgB5L,QAAQ3yF,KAAK6O,UAjBxB,CAkBd,EACO8mF,CACX,CA5xCqC,GA6xCrCA,EAAgBt0F,UAAU64F,cAAgB,EAC1CvE,EAAgBt0F,UAAUg2F,cAAgB,EAC1C1B,EAAgBt0F,UAAU+/E,cAAgB,EAC1CuU,EAAgBt0F,UAAU42F,cAAgB,EAC1CtC,EAAgBt0F,UAAU81F,aAAe,GACzCxB,EAAgBt0F,UAAU+1F,YAAc,GACxCzB,EAAgBt0F,UAAU22F,YAAc,GACxCrC,EAAgBt0F,UAAU+4F,mBAAqB,IAC/CzE,EAAgBt0F,UAAU84F,oBAAsB,IAChDxE,EAAgBt0F,UAAUw1F,YAAc,IACxClB,EAAgBt0F,UAAUy4F,gBAAkB,KAC5CnE,EAAgBt0F,UAAUs2F,SAAW,EACrChC,EAAgBt0F,UAAU4kF,SAAW,KACrC0P,EAAgBt0F,UAAUu4F,SAAU,EACpCjE,EAAgBt0F,UAAU66F,MAAQ,EAClCrnF,EAAIzC,UAAUujF,EAAgBt0F,UAAWiR,GACzCqH,EAAO3D,cAAc2/E,EAAgBt0F,UAAW,WAAY,CACxDkiF,kBAAmB,CACf3tE,IAAK,SAAUrS,IACNA,GAASvD,KAAKu+F,iBACfv+F,KAAKu+F,gBAAgB1L,aACrB7yF,KAAK03F,aAAanvF,SAClBvI,KAAK03F,aAAe13F,KAAKu+F,gBAAkB,MAEtCh7F,IAAUvD,KAAKu+F,iBACpBv+F,KAAK82F,oBAEb,GAEJtU,eAAgB,CAAEvsE,cAAc,GAChC24B,eAAgB,CACZh5B,IAAK,SAAUrS,GACPvD,KAAK62E,WAAWtlC,kBAAkBhuC,IAClCvD,KAAKmhF,MAAM14E,SAASzI,KAAKo3F,YACjC,EACAnhF,cAAc,GAElBykE,gBAAiB,CACb9kE,IAAK,WAAc5V,KAAKg3F,oBAAsB,EAC9C/gF,cAAc,GAElBwsE,kBAAmB,CACf7sE,IAAK,WAAc5V,KAAKg3F,oBAAsB,EAC9C/gF,aAAc,IAElBysE,YAAa,CACT9sE,IAAK,SAAUvS,GACO,iBAAPA,IACPrD,KAAKs4F,mBAAqBj1F,GAC9BrD,KAAKq4F,mBAAqBh1F,EAC1BrD,KAAKg3F,oBACT,EACAlmF,IAAK,WACD,OAAO9Q,KAAKq4F,kBAAoBr4F,KAAKs4F,kBACzC,GAEJvV,WAAY,CACRntE,IAAK,SAAUqgB,GACXj2B,KAAKq8B,QAAQn/B,MAAMS,QAAUs4B,EAAO,QAAU,OAC9Cj2B,KAAKmhF,MAAM14E,SAASzI,KAAK62F,aACzB72F,KAAK41F,gBACT,EACA3/E,cAAc,GAElButE,kBAAmB,CACf5tE,IAAK,SAAUrS,GACXvD,KAAKk7B,aAAayC,mBAAqBp6B,CAC3C,EACA0S,cAAc,GAElBwtE,sBAAuB,CACnB7tE,IAAK,SAAUrS,GACXvD,KAAKk7B,aAAaiC,uBAAyB55B,CAC/C,EACA0S,cAAc,GAElB0sE,gBAAiB,CACb/sE,IAAK,SAAUqgB,GACXplB,EAAI7C,YAAYhO,KAAKq8B,QAAS,wBAAyBpG,EAC3D,EACAhgB,cAAc,GAElB2sE,gBAAiB,CACbhtE,IAAK,SAAUqgB,GACXj2B,KAAKk7B,aAAa+/C,mBAAmBhlD,GACrCj2B,KAAKmhF,MAAM14E,SAASzI,KAAKohF,cAC7B,EACAnrE,cAAc,GAElB4sE,oBAAqB,CACjBjtE,IAAK,SAAUqgB,GACPj2B,KAAK62E,WAAWyD,uBAAuBrkD,IACvCj2B,KAAKmhF,MAAM14E,SAASzI,KAAKo3F,YACjC,EACAnhF,cAAc,GAElB6sE,sBAAuB,CACnBltE,IAAK,SAAUqgB,GAC2C,GAAlDj2B,KAAK62E,WAAW2D,yBAAyBvkD,GACzCj2B,KAAK62E,WAAWC,wBAGhB92E,KAAK62E,WAAWqV,wBAAwBlsF,KAAK62E,WAAW16C,OAAOy0C,MAEvE,EACA36D,cAAc,GAElBssE,oBAAqB,CACjB3sE,IAAK,SAAUgkE,GACX55E,KAAKk7B,aAAa4+C,uBAAuBF,GACzC55E,KAAKmhF,MAAM14E,SAASzI,KAAKohF,cAC7B,EACAnrE,cAAc,GAElBosE,wBAAyB,CACrBzsE,IAAK,SAAUvS,GACNrD,KAAKk5F,0BAA6Bl5F,KAAKg2F,cACxCh2F,KAAKmhF,MAAM14E,SAASzI,KAAKi4F,cACjC,EACAhiF,cAAc,GAElBqsE,wBAAyB,CACrB1sE,IAAK,SAAUvS,GACNrD,KAAKs5F,0BAA6Bt5F,KAAKi2F,UACxCj2F,KAAKmhF,MAAM14E,SAASzI,KAAKi4F,cACjC,EACAhiF,cAAc,GAElBqR,SAAU,CACN1R,IAAK,SAAUi7B,GACQ,iBAARA,IACPA,GAAc,MAClB7wC,KAAK6O,UAAU3R,MAAMoqB,SAAWupB,EAChC7wC,KAAKs3F,gBACT,EACArhF,aAAc,IAElB+sE,WAAY,CACRptE,IAAK,SAAUxS,GACXpD,KAAK6O,UAAU3R,MAAM8lF,WAAa5/E,EAClCpD,KAAKs3F,gBACT,GAEJrU,SAAU,CACNrtE,IAAK,SAAUvS,GACXrD,KAAK2uE,YACT,GAEJuU,SAAU,CACNttE,IAAK,SAAUvS,GACLrD,KAAK83E,UAAY,kBACnB93E,KAAK83E,UAAY,GACrB93E,KAAK2uE,YACT,GAEJ2U,eAAgB,CACZ1tE,IAAK,SAAUvS,GACXrD,KAAK2uE,YACT,EACA14D,aAAc,GAElBktE,cAAe,CACXvtE,IAAK,SAAUvS,GACXA,GAAOA,GAAO,EACVrD,KAAKy5F,gBAAkBp2F,IAE3BrD,KAAKy5F,eAAiBp2F,EACtBrD,KAAKmhF,MAAM14E,SAASzI,KAAKi4F,eAC7B,EACAhiF,aAAc,EACdN,YAAY,GAEhBytE,iBAAkB,CACdxtE,IAAK,SAAUvS,GACXrD,KAAKk7B,aAAa8qD,cAAgB3iF,EAClCrD,KAAKmhF,MAAM14E,SAASzI,KAAKohF,cAC7B,GAEJgB,gBAAiB,CACbxsE,IAAK,SAAUvS,GACXrD,KAAK63F,uBAAuBx0F,EAChC,EACA4S,cAAc,GAElB+f,MAAO,CACHpgB,IAAK,SAAUvS,GAAOrD,KAAK+1B,SAAS1yB,EAAM,EAC1CyN,IAAK,WAAc,OAAO9Q,KAAKm+F,UAAYn+F,KAAKg2B,KAAO,EACvD/f,aAAc,mBACdN,YAAY,GAEhB0tE,iBAAkB,CAAC,EACnB/1D,kBAAmB,CACfrX,cAAetK,EAAUF,WAAaE,EAAUnB,QAGxD/H,EAAQkzF,gBAAkBA,CAE1B,IAEA1yF,IAAI/C,OAAO,2BAA2B,CAAC,UAAU,UAAU,SAAS,cAAc,cAAc,wBAAwB,eAAe,SAAS0B,EAASa,EAAStC,GAClK,aAEA,IAAI0U,EAAMjT,EAAQ,cACdsV,EAAMtV,EAAQ,cACd0Q,EAAe1Q,EAAQ,wBAAwB0Q,aAC/CqH,EAAS/X,EAAQ,aAcrB,SAASkkD,EAAa24C,GAClB,GAAqB,oBAAVC,OACP,MAAO,CAAE15E,YAAa,WAAY,EAAGo6C,UAAW,WAAY,GAChE,GAAIzlD,EAAO7I,IAAI,sBAAuB,CAClC,IAAI6tF,EAhBZ,SAAqBF,GACjB,IAAItkF,EAAS,kBAAoBjD,EAAIrF,WAAW4sF,GAAa,MAC7D,IACI,OAAO,IAAIG,KAAK,CAACzkF,GAAS,CAAC,KAAQ,0BACvC,CAAE,MAAOjR,GACL,IACI21F,EAAc,IADA5+F,OAAO6+F,aAAe7+F,OAAO8+F,mBAAqB9+F,OAAO++F,gBAG3E,OADAH,EAAYhiD,OAAO1iC,GACZ0kF,EAAYI,QAAQ,yBAC/B,CACJ,CAMmBC,CAAYT,GAEnBU,GADMl/F,OAAOm/F,KAAOn/F,OAAOo/F,WACbC,gBAAgBX,GAClC,OAAO,IAAID,OAAOS,EACtB,CACA,OAAO,IAAIT,OAAOD,EACtB,CAEA,IAAIc,EAAe,SAASC,GACnBA,EAAOx6E,cACRw6E,EAASx/F,KAAKy/F,2BAA2B9+F,MAAMX,KAAMM,YAEzDN,KAAKorD,QAAUo0C,EACfx/F,KAAK0/F,gBAAkB1/F,KAAK0/F,gBAAgB75E,KAAK7lB,MACjDA,KAAK2/F,eAAiB3/F,KAAK2/F,eAAe95E,KAAK7lB,MAC/CA,KAAK4/F,UAAY5/F,KAAK4/F,UAAU/5E,KAAK7lB,MAErCA,KAAK6/F,WAAa,EAClB7/F,KAAK8/F,UAAY,CAAC,EAElB9/F,KAAKorD,QAAQ20C,UAAY//F,KAAK4/F,SAClC,GAEA,WAEI/qF,EAAIzC,UAAUpS,KAAMsS,GAEpBtS,KAAKy/F,2BAA6B,SAASO,EAAoBt9F,EAAKu9F,EAAWxB,EAAWyB,GAItF,GAHIt+F,EAAQu+F,YAAcv+F,EAAQw+F,QAC9Bx+F,EAAQw+F,MAAQx+F,EAAQu+F,WAExBxmF,EAAO7I,IAAI,cAAgBlP,EAAQw+F,MACnC3B,EAAYA,GAAa9kF,EAAO7B,UAAUpV,EAAK,cAC5C,CACH,IAAI29F,EAAgBrgG,KAAKsgG,eACzB7B,EAAYA,GAAa4B,EAAcz+F,EAAQw+F,MAAM,uBAAwB,KAAM,MAEnF,IAAIG,EAAO,CAAC,EACZP,EAAmBj7F,SAAQ,SAASjC,GAChCy9F,EAAKz9F,GAAMu9F,EAAcz+F,EAAQw+F,MAAMt9F,EAAI,KAAM,KAAKN,QAAQ,kBAAmB,IACrF,GACJ,CAYA,OAVAxC,KAAKorD,QAAUtF,EAAa24C,GACxByB,GACAlgG,KAAKqR,KAAK,gBAAiB6uF,GAE/BlgG,KAAKorD,QAAQpmC,YAAY,CACrBpL,MAAO,EACP2mF,KAAOA,EACPpgG,OAASuC,EACTu9F,UAAYA,IAETjgG,KAAKorD,OAChB,EAEAprD,KAAK4/F,UAAY,SAAS12F,GACtB,IAAIqL,EAAMrL,EAAEsL,KACZ,OAAQD,EAAIrB,MACR,IAAK,QACDlT,KAAKmT,QAAQoB,EAAInR,KAAM,CAACoR,KAAMD,EAAIC,OAClC,MACJ,IAAK,OACD,IAAIvT,EAAWjB,KAAK8/F,UAAUvrF,EAAI5R,IAC9B1B,IACAA,EAASsT,EAAIC,aACNxU,KAAK8/F,UAAUvrF,EAAI5R,KAE9B,MACJ,IAAK,QACD3C,KAAKsU,YAAYC,EAAIC,MACrB,MACJ,IAAK,MACDvU,OAAOW,SAAWA,QAAQsxD,KAAOtxD,QAAQsxD,IAAIvxD,MAAMC,QAAS2T,EAAIC,MAG5E,EAEAxU,KAAKsU,YAAc,SAAS8E,GACxBnZ,OAAOW,SAAWA,QAAQC,OAASD,QAAQC,MAAMuY,EACrD,EAEApZ,KAAKsgG,eAAiB,SAAS/uF,GAC3B,OAAO2F,EAAIrF,WAAWN,EAC1B,EAEAvR,KAAKo/D,UAAY,WACbp/D,KAAKmT,QAAQ,YAAa,CAAC,GAC3BnT,KAAKwgG,WAAa,KAClBxgG,KAAKorD,QAAQgU,YACbp/D,KAAKorD,QAAQq1C,QAAU,SAASv3F,GAC5BA,EAAEuJ,gBACN,EACAzS,KAAKorD,QAAU,KACXprD,KAAK0gG,MACL1gG,KAAK0gG,KAAKntF,IAAI,SAAUvT,KAAK2/F,gBACjC3/F,KAAK0gG,KAAO,IAChB,EAEA1gG,KAAKqR,KAAO,SAAS8yB,EAAK8F,GACtBjqC,KAAKorD,QAAQpmC,YAAY,CAACmF,QAASga,EAAK8F,KAAMA,GAClD,EAEAjqC,KAAKuB,KAAO,SAAS4iC,EAAK8F,EAAMhpC,GAC5B,GAAIA,EAAU,CACV,IAAI0B,EAAK3C,KAAK6/F,aACd7/F,KAAK8/F,UAAUn9F,GAAM1B,EACrBgpC,EAAKpoC,KAAKc,EACd,CACA3C,KAAKqR,KAAK8yB,EAAK8F,EACnB,EAEAjqC,KAAK2gG,KAAO,SAASv6E,EAAO5R,GACxB,IACQA,EAAKA,MAAQA,EAAKA,KAAK4E,MACvB5E,EAAKA,KAAK4E,IAAM,CAACvD,QAASrB,EAAKA,KAAK4E,IAAIvD,QAASylC,MAAO9mC,EAAKA,KAAK4E,IAAIkiC,MAAO52B,KAAMlQ,EAAKA,KAAK4E,IAAIsL,OACjG1kB,KAAKorD,SAAWprD,KAAKorD,QAAQpmC,YAAY,CAACoB,MAAOA,EAAO5R,KAAM,CAACA,KAAMA,EAAKA,OAClF,CACA,MAAMosF,GACFhgG,QAAQC,MAAM+/F,EAAGtlD,MACrB,CACJ,EAEAt7C,KAAK6gG,iBAAmB,SAASh0F,GACzB7M,KAAK0gG,MACL1gG,KAAKo/D,YAETp/D,KAAK0gG,KAAO7zF,EACZ7M,KAAKuB,KAAK,WAAY,CAACsL,EAAI0iC,aAC3B1iC,EAAIwG,GAAG,SAAUrT,KAAK2/F,gBAAgB,EAC1C,EAEA3/F,KAAK2/F,eAAiB,SAAS7vD,GACtB9vC,KAAKwgG,aACNxgG,KAAKwgG,WAAa,GAClBh4F,WAAWxI,KAAK0/F,gBAAiB,IAEjB,UAAhB5vD,EAAMxL,OACNtkC,KAAKwgG,WAAW3+F,KAAKiuC,EAAM90B,MAAO80B,EAAM9kB,OAExChrB,KAAKwgG,WAAW3+F,KAAKiuC,EAAM90B,MAAO80B,EAAM5pC,IAChD,EAEAlG,KAAK0/F,gBAAkB,WACnB,IAAIoB,EAAI9gG,KAAKwgG,WACRM,IACL9gG,KAAKwgG,WAAa,KACdM,EAAEvgG,OAAS,IAAMugG,EAAEvgG,OAASP,KAAK0gG,KAAK/kE,aAAe,EACrD37B,KAAKuB,KAAK,WAAY,CAACvB,KAAK0gG,KAAKnxD,aAEjCvvC,KAAK2gG,KAAK,SAAU,CAACnsF,KAAMssF,IACnC,CAEH,GAAEv/F,KAAKg+F,EAAal+F,WAmDrBoB,EAAQs+F,eAhDa,SAASf,EAAoBt9F,EAAKu9F,GACnD,IAAIe,EAAO,KACPC,GAAW,EACXC,EAAS9/F,OAAOqG,OAAO6K,GAEvB6uF,EAAgB,GAChBC,EAAe,IAAI7B,EAAa,CAChC4B,cAAeA,EACf/hC,UAAW,WAAY,EACvBp6C,YAAa,SAAS9b,GAClBi4F,EAAct/F,KAAKqH,GACd83F,IACDC,EACAz4F,WAAW64F,GAEXA,IACR,IAGJD,EAAaE,YAAc,SAASj+F,GAAO49F,EAAW59F,CAAK,EAE3D,IAAIg+F,EAAc,WACd,IAAI9sF,EAAM4sF,EAAcnxE,QACpBzb,EAAI4V,QACJ62E,EAAKzsF,EAAI4V,SAASxpB,MAAMqgG,EAAMzsF,EAAI01B,MAC7B11B,EAAI6R,OACT86E,EAAO/tF,QAAQoB,EAAI6R,MAAO7R,EAAIC,KACtC,EAkBA,OAhBA0sF,EAAOl8E,YAAc,SAASzQ,GAC1B6sF,EAAaxB,UAAU,CAACprF,KAAMD,GAClC,EACA2sF,EAAOjgG,SAAW,SAASuT,EAAMqrF,GAC7B7/F,KAAKglB,YAAY,CAAC9R,KAAM,OAAQvQ,GAAIk9F,EAAYrrF,KAAMA,GAC1D,EACA0sF,EAAOP,KAAO,SAASv9F,EAAMoR,GACzBxU,KAAKglB,YAAY,CAAC9R,KAAM,QAAS9P,KAAMA,EAAMoR,KAAMA,GACvD,EAEAmF,EAAOf,WAAW,CAAC,SAAUlW,IAAM,SAAS6+F,GAExC,IADAP,EAAO,IAAIO,EAAKtB,GAAWiB,GACpBC,EAAc5gG,QACjB8gG,GACR,IAEOD,CACX,EAGA3+F,EAAQ88F,aAAeA,EACvB98F,EAAQqjD,aAAeA,CAGvB,IAEA7iD,IAAI/C,OAAO,kBAAkB,CAAC,UAAU,UAAU,SAAS,YAAY,wBAAwB,gBAAgB,SAAS0B,EAASa,EAAStC,GAAQ,aAClJ,IAAIwa,EAAQ/Y,EAAQ,WAAW+Y,MAC3BrI,EAAe1Q,EAAQ,uBAAuB0Q,aAC9CuC,EAAMjT,EAAQ,aACd4/F,EAA6B,WAC7B,SAASA,EAAYvkF,EAAS1c,EAAQ4wB,EAAKswE,EAAQC,EAAWC,GAC1D,IAAI74F,EAAQ9I,KACZA,KAAKO,OAASA,EACdP,KAAKid,QAAUA,EACfjd,KAAK6M,IAAMoQ,EAAQo2B,cACnBrzC,KAAK0hG,UAAYA,EACjB1hG,KAAK2hG,YAAcA,EACnB3hG,KAAK4hG,UAAY5hG,KAAK6hG,SAASh8E,KAAK7lB,MACpCA,KAAK6M,IAAIwG,GAAG,SAAUrT,KAAK4hG,WAAW,GACtC5hG,KAAK8hG,QAAUL,EACfzhG,KAAK20E,gBAAkB,WACnBnsE,YAAW,WACPM,EAAM2sE,gBACV,GACJ,EACAz1E,KAAK67B,KAAO1K,EACZ,IAAI4wE,EAAY9kF,EAAQwnB,iBAAiB+oB,YAAcvwC,EAAQwnB,iBAA6B,YAAK,CAAElkC,QAAS,GAC5GP,KAAKgiG,gBAAkBD,EAAUxhG,OACjCP,KAAKiiG,QACLhlF,EAAQ8L,UAAU1V,GAAG,eAAgBrT,KAAK20E,gBAC9C,CA6HA,OA5HA6sB,EAAYngG,UAAU4gG,MAAQ,WAC1B,IAAIn5F,EAAQ9I,KACR6M,EAAM7M,KAAK6M,IACXoQ,EAAUjd,KAAKid,QACnBjd,KAAK0wD,gBAAkBzzC,EAAQ8L,UAAUiwB,SACrC/7B,EAAQ8L,UAAU0I,mBAClBxU,EAAQ8L,UAAUuwB,gBACtBt5C,KAAKmxB,IAAMtkB,EAAI0mC,aAAavzC,KAAK67B,KAAK5gB,IAAKjb,KAAK67B,KAAK3gB,QACrD,IAAIiW,EAAMnxB,KAAKmxB,IACfA,EAAI82B,cAAe,EACnB92B,EAAIwY,SACJxY,EAAIysC,SAAW3gD,EAAQ2c,UAAU,IAAIjf,EAAMwW,EAAIlW,IAAKkW,EAAIjW,OAAQiW,EAAIlW,IAAKkW,EAAIjW,OAASlb,KAAKO,QAASP,KAAK0hG,UAAW,MAAM,GAC1H1hG,KAAKyhG,OAAS,GACdzhG,KAAK8hG,QAAQ/8F,SAAQ,SAAUm9F,GAC3B,IAAIhwE,EAASrlB,EAAI0mC,aAAa2uD,EAAMjnF,IAAKinF,EAAMhnF,QAC/CgX,EAAO+1B,cAAe,EACtB/1B,EAAOyX,SACP7gC,EAAM24F,OAAO5/F,KAAKqwB,EACtB,IACAjV,EAAQojD,eAAc,EAC1B,EACAmhC,EAAYngG,UAAU8gG,iBAAmB,WACrC,IAAIniG,KAAKoiG,aAAT,CAEA,IAAInlF,EAAUjd,KAAKid,QACfnU,EAAQ9I,KACZA,KAAKoiG,cAAe,EACpBpiG,KAAKyhG,OAAO18F,SAAQ,SAAUmtB,GAC1BA,EAAO0rC,SAAW3gD,EAAQ2c,UAAU,IAAIjf,EAAMuX,EAAOjX,IAAKiX,EAAOhX,OAAQgX,EAAOjX,IAAKiX,EAAOhX,OAASpS,EAAMvI,QAASuI,EAAM64F,YAAa,MAAM,EACjJ,GANU,CAOd,EACAH,EAAYngG,UAAUghG,iBAAmB,WACrC,GAAKriG,KAAKoiG,aAAV,CAEApiG,KAAKoiG,cAAe,EACpB,IAAK,IAAI3gG,EAAI,EAAGA,EAAIzB,KAAKyhG,OAAOlhG,OAAQkB,IACpCzB,KAAKid,QAAQyd,aAAa16B,KAAKyhG,OAAOhgG,GAAGm8D,SAHnC,CAKd,EACA4jC,EAAYngG,UAAUwgG,SAAW,SAAU/xD,GACvC,GAAI9vC,KAAKu1D,UACL,OAAOv1D,KAAKsiG,cAAcxyD,GAC9B,IAAI10B,EAAQ00B,EACZ,GAAI10B,EAAMJ,MAAMC,MAAQG,EAAMlV,IAAI+U,KAE9BG,EAAMJ,MAAMC,MAAQjb,KAAKmxB,IAAIlW,IAAjC,CAEAjb,KAAKu1D,WAAY,EACjB,IAAIgtC,EAA8B,WAAjBzyD,EAAMxL,OAAsBlpB,EAAMlV,IAAIgV,OAASE,EAAMJ,MAAME,OAASE,EAAMJ,MAAME,OAASE,EAAMlV,IAAIgV,OAChHsnF,EAAcpnF,EAAMJ,MAAME,QAAUlb,KAAKmxB,IAAIjW,QAAUE,EAAMJ,MAAME,QAAUlb,KAAKmxB,IAAIjW,OAASlb,KAAKO,OAAS,EAC7GkiG,EAAoBrnF,EAAMJ,MAAME,OAASlb,KAAKmxB,IAAIjW,OAItD,GAHAlb,KAAKsiG,cAAcxyD,GACf0yD,IACAxiG,KAAKO,QAAUgiG,GACfC,IAAgBxiG,KAAKid,QAAQ8vC,UAC7B,GAAqB,WAAjBjd,EAAMxL,OACN,IAAK,IAAI7iC,EAAIzB,KAAKyhG,OAAOlhG,OAAS,EAAGkB,GAAK,EAAGA,IAAK,CAC9C,IACIihG,EAAS,CAAEznF,KADX0nF,EAAW3iG,KAAKyhG,OAAOhgG,IACEwZ,IAAKC,OAAQynF,EAASznF,OAASunF,GAC5DziG,KAAK6M,IAAI47C,kBAAkBi6C,EAAQ5yD,EAAM9kB,MAC7C,MAEC,GAAqB,WAAjB8kB,EAAMxL,OACX,IAAS7iC,EAAIzB,KAAKyhG,OAAOlhG,OAAS,EAAGkB,GAAK,EAAGA,IAAK,CAC9C,IAAIkhG,EACAD,EAAS,CAAEznF,KADX0nF,EAAW3iG,KAAKyhG,OAAOhgG,IACEwZ,IAAKC,OAAQynF,EAASznF,OAASunF,GAC5DziG,KAAK6M,IAAI2B,OAAO,IAAImM,EAAM+nF,EAAOznF,IAAKynF,EAAOxnF,OAAQwnF,EAAOznF,IAAKynF,EAAOxnF,OAASqnF,GACrF,CAGRviG,KAAKu1D,WAAY,EACjBv1D,KAAK4iG,eAzBK,CA0Bd,EACApB,EAAYngG,UAAUihG,cAAgB,SAAUxyD,GAC5C9vC,KAAKmxB,IAAI0e,SAASC,GAClB,IAAK,IAAIruC,EAAIzB,KAAKyhG,OAAOlhG,OAAQkB,KAC7BzB,KAAKyhG,OAAOhgG,GAAGouC,SAASC,GAC5B9vC,KAAK4iG,eACT,EACApB,EAAYngG,UAAUuhG,cAAgB,WAClC,IAAI5iG,KAAKu1D,UAAT,CAEA,IAAIzsD,EAAQ9I,KACRid,EAAUjd,KAAKid,QACf4lF,EAAe,SAAU1xE,EAAKx0B,GAC9BsgB,EAAQyd,aAAavJ,EAAIysC,UACzBzsC,EAAIysC,SAAW3gD,EAAQ2c,UAAU,IAAIjf,EAAMwW,EAAIlW,IAAKkW,EAAIjW,OAAQiW,EAAIlW,IAAKkW,EAAIjW,OAASpS,EAAMvI,QAAS5D,EAAW,MAAM,EAC1H,EACAkmG,EAAa7iG,KAAKmxB,IAAKnxB,KAAK0hG,WAC5B,IAAK,IAAIjgG,EAAIzB,KAAKyhG,OAAOlhG,OAAQkB,KAC7BohG,EAAa7iG,KAAKyhG,OAAOhgG,GAAIzB,KAAK2hG,YAT5B,CAUd,EACAH,EAAYngG,UAAUo0E,eAAiB,SAAUrvD,GAC7C,IAAIpmB,KAAKu1D,WAAcv1D,KAAKid,QAA5B,CAEA,IAAIkU,EAAMnxB,KAAKid,QAAQ8L,UAAU+qB,YAC7B3iB,EAAIlW,MAAQjb,KAAKmxB,IAAIlW,KAAOkW,EAAIjW,QAAUlb,KAAKmxB,IAAIjW,QAAUiW,EAAIjW,QAAUlb,KAAKmxB,IAAIjW,OAASlb,KAAKO,QAClGP,KAAKmiG,mBACLniG,KAAK2S,MAAM,cAAeyT,KAG1BpmB,KAAKqiG,mBACLriG,KAAK2S,MAAM,cAAeyT,GARpB,CAUd,EACAo7E,EAAYngG,UAAUsoC,OAAS,WAC3B3pC,KAAKid,QAAQyd,aAAa16B,KAAKmxB,KAAOnxB,KAAKmxB,IAAIysC,UAC/C59D,KAAKqiG,mBACLriG,KAAK6M,IAAI0G,IAAI,SAAUvT,KAAK4hG,WAC5B5hG,KAAKid,QAAQ8L,UAAUxV,IAAI,eAAgBvT,KAAK20E,iBAChD30E,KAAKid,QAAQojD,eAAc,GAC3BrgE,KAAKid,QAAU,IACnB,EACAukF,EAAYngG,UAAUkH,OAAS,WAC3B,IAA8B,IAA1BvI,KAAKgiG,gBAAT,CAIA,IAFA,IAAItmC,EAAc17D,KAAKid,QAAQwnB,iBAC3Bq+D,GAAiBpnC,EAAYlO,YAAckO,EAAwB,YAAGn7D,OAASP,KAAKgiG,gBAC/EvgG,EAAI,EAAGA,EAAIqhG,EAAerhG,IAC/Bi6D,EAAYtN,KAAKpuD,KAAKid,SAAS,GAE/Bjd,KAAK0wD,iBACL1wD,KAAKid,QAAQ8L,UAAUqwB,SAASp5C,KAAK0wD,gBAP/B,CAQd,EACO8wC,CACX,CAnJiC,GAoJjC3sF,EAAIzC,UAAUovF,EAAYngG,UAAWiR,GACrC7P,EAAQ++F,YAAcA,CAEtB,IAEAv+F,IAAI/C,OAAO,iCAAiC,CAAC,UAAU,UAAU,SAAS,gBAAgB,sBAAsB,SAAS0B,EAASa,EAAStC,GAAQ,IAAIimB,EAAQxkB,EAAQ,gBACnK+J,EAAY/J,EAAQ,oBACxB,SAASmhG,EAAYxlF,EAAIC,GACrB,OAAOD,EAAGtC,KAAOuC,EAAGvC,KAAOsC,EAAGrC,QAAUsC,EAAGtC,MAC/C,CA2IAzY,EAAQkuB,YA1IR,SAAqBznB,GACjB,IAAI+nB,EAAK/nB,EAAEwlB,SACPs0E,EAAM/xE,EAAG9O,OACT6N,EAAQiB,EAAG7O,SACX6gF,EAAOhyE,EAAG/O,QACVghF,EAAQh6F,EAAEmqB,cACV5Q,EAASvZ,EAAEsZ,YAGf,GAFIygF,GAAQt3F,EAAU/B,QAClB6Y,EAASwO,EAAGxO,QACZvZ,EAAEwnB,OAAOe,mBAA+B,GAAVhP,EAC9BvZ,EAAEwnB,OAAOtB,UAAUX,cAAcvlB,EAAEwlB,eAGvC,GAAKu0E,GAASD,GAAQE,GAKtB,GAAe,IAAXzgF,EAAJ,CAEA,IAcI0gF,EAdAzyE,EAASxnB,EAAEwnB,OACX3H,EAAY2H,EAAO3H,UACnBq6E,EAAgB1yE,EAAOe,kBACvBN,EAAMjoB,EAAEkoB,sBACRpI,EAASD,EAAU+qB,YACnB5iB,EAAchoB,EAAEgoB,eAAkBnI,EAAUlM,WAAakmF,EAAY5xE,EAAKnI,GAC1Eq6E,EAASn6F,EAAE8X,EAAGsiF,EAASp6F,EAAE6oB,EAKzB9U,EAAUyT,EAAOzT,QACjBsmF,EAAe7yE,EAAOnH,SAAS8P,yBAAyBgqE,EAAQC,GAChEE,EAAeD,EAEnB,GAAI7yE,EAAOjB,cAAcg0E,iBACjBR,GAAQD,GAAOE,GAASF,EACxBG,EAAgBnzE,EAAQ,QAAU,MAC7BgzE,GAAOtyE,EAAOgzE,sBACnBP,EAAgB,cAGpB,GAAID,IAAUF,GAEV,GADAG,EAAgB,OACXC,GAAiBpzE,EAClB,YAECgzE,GAAOtyE,EAAOgzE,sBACnBP,EAAgB,SAMxB,GAHIA,GAAiBx3F,EAAU/B,OAASqnB,EAAG/O,SACvCwO,EAAOjB,cAAcsY,oBAEJ,OAAjBo7D,EAAwB,CACxB,IAAKC,GAAiBlyE,EAClB,OACJ,IAAKkyE,EAAe,CAChB,IAAIhoF,EAAQ2N,EAAUsX,kBACtB3P,EAAOizE,mBAAmBvoF,EAC9B,CACA,IAAIwoF,EAAW76E,EAAUswB,UAAU6Z,aAAa/hC,GAChDT,EAAOioD,wBAAyB,EAC5B3oD,IACA4zE,EAAW,KACXxoF,EAAQ2N,EAAUmwB,OAAO,IAAM99B,EAC/BsV,EAAOmzE,sBAAsBzoF,IAEjCsV,EAAOtd,KAAK,WAAW,WACnB,IAAI0wF,EAAS/6E,EAAUsX,kBACnBujE,GAAYE,EAAOjnF,WAAakmF,EAAYa,EAAS56E,OAAQ86E,EAAO96E,QACpED,EAAUiqC,eAAe8wC,EAAO96E,SAE5BgH,EACAjH,EAAUiqC,eAAe53C,EAAM4N,QAE1B5N,IACLsV,EAAOmzE,sBAAsBzoF,GAC7B2N,EAAUwwB,SAASn+B,IAEvB2N,EAAUwwB,SAASuqD,IAEvBpzE,EAAOioD,wBAAyB,CACpC,GACJ,MACK,GAAqB,SAAjBwqB,EAA0B,CAG/B,IAAI79C,EAFJp8C,EAAE+qB,OACFvD,EAAOioD,wBAAyB,EAEhC,IAAIorB,EAAU,GACVC,EAAc,WACd,IAAIC,EAAYvzE,EAAOnH,SAAS8P,yBAAyBgqE,EAAQC,GAC7Dt6E,EAAS/L,EAAQ+5B,yBAAyBitD,EAAUhpF,IAAKgpF,EAAU/oF,OAAQ+oF,EAAU5rD,SACrF0qD,EAAYS,EAAcS,IAAclB,EAAY/5E,EAAQD,EAAUuqB,QAE1EkwD,EAAeS,EACfvzE,EAAO3H,UAAUuI,eAAetI,GAChC0H,EAAOnH,SAAS+I,uBAChB5B,EAAOwzE,uBAAuBH,GAC9BA,EAAUh7E,EAAUo7E,sBAAsBX,EAAcD,GACpD7yE,EAAOjB,cAAcgB,iBAAqC,GAAlBszE,EAAQxjG,QAAewjG,EAAQ,GAAGlnF,YAC1EknF,EAAQ,GAAKrzE,EAAOjB,cAAcgB,gBAAgB3T,SACtDinF,EAAQh/F,QAAQ2rB,EAAOizE,mBAAoBjzE,GAC3CA,EAAO0zE,yBACX,EACIhB,IAAkBF,EAClBn6E,EAAUuwB,iBAEJ8pD,GAAiBF,IACvB59C,EAAev8B,EAAUsX,kBACzB3P,EAAOizE,mBAAmBr+C,IAE1Bt1B,EACAuzE,EAAetmF,EAAQE,yBAAyB4L,EAAUuqB,MAE1DvqB,EAAUuI,eAAeH,GAC7BqyE,EAAe,CAAEvoF,KAAM,EAAGC,QAAS,GACnC,IAeImpF,EAAsBL,EAC1B59E,EAAM1D,QAAQgO,EAAO7hB,WA1GF,SAAU3F,GAC7Bm6F,EAASn6F,EAAEib,QACXm/E,EAASp6F,EAAEkb,OACf,IAuF8B,SAAUlb,GAChC86F,IACAtjE,cAAc9B,GACdlO,EAAOwzE,uBAAuBH,GACzBA,EAAQxjG,SACTwjG,EAAU,CAACh7E,EAAUsX,oBACrBilB,IACA50B,EAAOmzE,sBAAsBv+C,GAC7Bv8B,EAAUuwB,cAAcgM,IAE5B,IAAK,IAAI7jD,EAAI,EAAGA,EAAIsiG,EAAQxjG,OAAQkB,IAChCsnB,EAAUwwB,SAASwqD,EAAQtiG,IAC/BivB,EAAOioD,wBAAyB,EAChCjoD,EAAOjB,cAAcgB,gBAAkB,IAC3C,IAGA,IAAImO,EAAU+B,aAAY,WAAc0jE,GAAuB,GAAG,IAClE,OAAOn7F,EAAEuJ,gBACb,CArHU,OALS,IAAXgQ,GAAgBvZ,EAAEwnB,OAAOe,mBACzBvoB,EAAEwnB,OAAO28C,qBA0HrB,CAGA,IAEApqE,IAAI/C,OAAO,qCAAqC,CAAC,UAAU,UAAU,SAAS,8BAA8B,SAAS0B,EAASa,EAAStC,GAIvIsC,EAAQ2vE,gBAAkB,CAAC,CACnBhvE,KAAM,iBACN0mE,YAAa,mBACb7/D,KAAM,SAAUymB,GAAUA,EAAO4zE,iBAAiB,EAAI,EACtDv8B,QAAS,CAAE5iD,IAAK,cAAe0kD,IAAK,eACpCI,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,iBACN0mE,YAAa,mBACb7/D,KAAM,SAAUymB,GAAUA,EAAO4zE,gBAAgB,EAAI,EACrDv8B,QAAS,CAAE5iD,IAAK,gBAAiB0kD,IAAK,iBACtCI,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,4BACN0mE,YAAa,kCACb7/D,KAAM,SAAUymB,GAAUA,EAAO4zE,iBAAiB,GAAG,EAAO,EAC5Dv8B,QAAS,CAAE5iD,IAAK,oBAAqB0kD,IAAK,qBAC1CI,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,4BACN0mE,YAAa,kCACb7/D,KAAM,SAAUymB,GAAUA,EAAO4zE,gBAAgB,GAAG,EAAO,EAC3Dv8B,QAAS,CAAE5iD,IAAK,sBAAuB0kD,IAAK,uBAC5CI,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,mBACN0mE,YAAa,qBACb7/D,KAAM,SAAUymB,GAAUA,EAAO6zE,YAAY,EAAI,EACjDx8B,QAAS,CAAE5iD,IAAK,gBAAiB0kD,IAAK,iBACtCI,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,kBACN0mE,YAAa,oBACb7/D,KAAM,SAAUymB,GAAUA,EAAO6zE,WAAW,EAAI,EAChDx8B,QAAS,CAAE5iD,IAAK,iBAAkB0kD,IAAK,kBACvCI,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,mBACN0mE,YAAa,qBACb7/D,KAAM,SAAUymB,GAAUA,EAAO6zE,YAAY,GAAG,EAAO,EACvDx8B,QAAS,CAAE5iD,IAAK,sBAAuB0kD,IAAK,uBAC5CI,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,kBACN0mE,YAAa,oBACb7/D,KAAM,SAAUymB,GAAUA,EAAO6zE,WAAW,GAAG,EAAO,EACtDx8B,QAAS,CAAE5iD,IAAK,uBAAwB0kD,IAAK,wBAC7CI,eAAgB,SAChB37C,UAAU,GACX,CACClrB,KAAM,gCACN0mE,YAAa,6BACb7/D,KAAM,SAAUymB,GACRA,EAAOsvB,YAAY/G,WAAa,EAChCvoB,EAAOsvB,YAAYwkD,iBAEnB9zE,EAAOsvB,YAAYykD,gBAC3B,EACA18B,QAAS,CAAE5iD,IAAK,aAAc0kD,IAAK,cACnCv7C,UAAU,GACX,CACClrB,KAAM,0BACN0mE,YAAa,mBACb7/D,KAAM,SAAUymB,GAAUA,EAAOsvB,YAAYykD,gBAAkB,EAC/Dn2E,UAAU,GACX,CACClrB,KAAM,eACN0mE,YAAa,gBACb7/D,KAAM,SAAUymB,GAAUA,EAAOg0E,cAAgB,EACjD38B,QAAS,CAAE5iD,IAAK,aAAc0kD,IAAK,cACnCI,eAAgB,UACjB,CACC7mE,KAAM,UACN0mE,YAAa,WACb7/D,KAAM,SAAUymB,GAAUA,EAAO41C,SAAW,EAC5CyB,QAAS,CAAE5iD,IAAK,aAAc0kD,IAAK,cACnCI,eAAgB,SAChB37C,UAAU,IAElB7rB,EAAQkiG,oBAAsB,CAAC,CACvBvhG,KAAM,kBACN0mE,YAAa,mBACb/B,QAAS,MACT99D,KAAM,SAAUymB,GAAUA,EAAO28C,qBAAuB,EACxDpD,eAAgB,SAChB37C,UAAU,EACV86C,YAAa,SAAU14C,GAAU,OAAOA,GAAUA,EAAOe,iBAAmB,IAEpF,IAAIs3C,EAAcnnE,EAAQ,4BAA4BmnE,YACtDtmE,EAAQqxE,gBAAkB,IAAI/K,EAAYtmE,EAAQkiG,oBAElD,IAEA1hG,IAAI/C,OAAO,mBAAmB,CAAC,UAAU,UAAU,SAAS,iBAAiB,YAAY,gBAAgB,iCAAiC,gBAAgB,eAAe,qCAAqC,aAAa,mBAAmB,aAAa,eAAe,SAAS0B,EAASa,EAAStC,GAKrS,IAAIsyD,EAAY7wD,EAAQ,gBAAgB6wD,UACpC93C,EAAQ/Y,EAAQ,WAAW+Y,MAC3By4B,EAAYxxC,EAAQ,eAAewxC,UACnCziB,EAAc/uB,EAAQ,gCAAgC+uB,YACtDvK,EAAQxkB,EAAQ,eAChBqV,EAAOrV,EAAQ,cACfquB,EAAWruB,EAAQ,oCACvBa,EAAQwtB,SAAWA,EAASmiD,gBAAgBv1E,OAAOozB,EAAS00E,qBAC5D,IACIptD,EAAS,IAAIwuB,EADJnkE,EAAQ,YAAYmkE,QAQjC,IAAI/L,EAAcp4D,EAAQ,kBAAkBo4D,aAC5C,WACIh6D,KAAK4kG,oBAAsB,WACvB,OAAO5kG,KAAKuuF,iBAChB,CACH,GAAEhtF,KAAKy4D,EAAY34D,WACpB,WACIrB,KAAKk5C,OAAS,KACdl5C,KAAKq5C,UAAY,KACjBr5C,KAAKu5C,SAAW,SAAUn+B,EAAOypF,GAC7B,GAAKzpF,EAAL,CAEA,IAAKpb,KAAKyxB,mBAAyC,IAApBzxB,KAAKi5C,WAAkB,CAClD,IAAI2qD,EAAW5jG,KAAKqgC,kBAGpB,GAFArgC,KAAKq5C,UAAUtrC,IAAI61F,GACnB5jG,KAAKq5C,UAAUtrC,IAAIqN,GACiB,GAAhCpb,KAAKq5C,UAAUH,OAAO34C,OAEtB,OADAP,KAAKq5C,UAAU+Z,YACRyxC,GAAsB7kG,KAAK6gC,kBAAkBzlB,GAExDpb,KAAKq5C,UAAU+Z,YACfpzD,KAAKq5C,UAAUtrC,IAAI61F,GACnB5jG,KAAK8kG,YAAYlB,EACrB,CACKxoF,EAAM4N,SACP5N,EAAM4N,OAAS5N,EAAMlV,KACzB,IAAI6sD,EAAU/yD,KAAKq5C,UAAUtrC,IAAIqN,GAUjC,OATApb,KAAK8kG,YAAY1pF,GACb23C,EAAQxyD,QACRP,KAAK+kG,eAAehyC,GACpB/yD,KAAKi5C,WAAa,IAAMj5C,KAAKyxB,oBAC7BzxB,KAAKmT,QAAQ,eACbnT,KAAKyxB,mBAAoB,EACzBzxB,KAAKid,QAAQq9C,aAAc,EAC3Bt6D,KAAKq5C,UAAU3P,OAAO1pC,KAAKid,UAExB4nF,GAAsB7kG,KAAK6gC,kBAAkBzlB,EAzB1C,CA0Bd,EACApb,KAAKs5C,cAAgB,SAAUl+B,GAC3BA,EAAQA,GAASpb,KAAKk5C,OAAO,GAC7B,IAAI6Z,EAAU/yD,KAAKq5C,UAAU+Z,YACzBL,EAAQxyD,QACRP,KAAK+kG,eAAehyC,GACxB33C,GAASpb,KAAK6gC,kBAAkBzlB,EACpC,EACApb,KAAKgzD,eAAiB,SAAU7hC,GAC5B,IAAI4hC,EAAU/yD,KAAKq5C,UAAU2Z,eAAe7hC,GAC5C,GAAI4hC,EAEA,OADA/yD,KAAK+kG,eAAehyC,GACbA,EAAQ,EAEvB,EACA/yD,KAAKglG,uBAAyB,WAC1B,IAAIjyC,EAAU/yD,KAAKq5C,UAAU6C,QACzB6W,EAAQxyD,QACRP,KAAK+kG,eAAehyC,EAC5B,EACA/yD,KAAK8kG,YAAc,SAAU1pF,GACzBpb,KAAKi5C,WAAaj5C,KAAKq5C,UAAUH,OAAO34C,OACxCP,KAAKk5C,OAAOiD,QAAQ/gC,GACpBpb,KAAKmT,QAAQ,WAAY,CAAEiI,MAAOA,GACtC,EACApb,KAAK+kG,eAAiB,SAAUhyC,GAE5B,GADA/yD,KAAKi5C,WAAaj5C,KAAKq5C,UAAUH,OAAO34C,OACjB,GAAnBP,KAAKi5C,YAAmBj5C,KAAKyxB,kBAAmB,CAChD,IAAIwzE,EAAYjlG,KAAKq5C,UAAUH,OAAOllC,MACtC++C,EAAQlxD,KAAKojG,GACbjlG,KAAKi5C,WAAa,CACtB,CACA,IAAK,IAAIx3C,EAAIsxD,EAAQxyD,OAAQkB,KAAM,CAC/B,IAAImD,EAAQ5E,KAAKk5C,OAAOj3C,QAAQ8wD,EAAQtxD,IACxCzB,KAAKk5C,OAAOvxC,OAAO/C,EAAO,EAC9B,CACA5E,KAAKmT,QAAQ,cAAe,CAAE+lC,OAAQ6Z,IACd,IAApB/yD,KAAKi5C,YAAoBj5C,KAAKyxB,oBAC9BzxB,KAAKyxB,mBAAoB,EACzBzxB,KAAKmT,QAAQ,gBACbnT,KAAKid,QAAQq9C,aAAc,EAC3Bt6D,KAAKq5C,UAAU1P,OAAO3pC,KAAKid,WAE/BgoF,EAAYA,GAAajlG,KAAKk5C,OAAO,MACnB+rD,EAAU9pF,QAAQnb,KAAK+qB,aACrC/qB,KAAK6gC,kBAAkBokE,EAC/B,EACAjlG,KAAKklG,eAAiB,WACdllG,KAAKq5C,YAETr5C,KAAKq5C,UAAY,IAAIoZ,EACrBzyD,KAAKk5C,OAAS,GACdl5C,KAAKi5C,WAAa,EACtB,EACAj5C,KAAKuqE,aAAe,WAChB,OAAOvqE,KAAKi5C,WAAaj5C,KAAKq5C,UAAUH,OAAOr8C,SAAW,CAACmD,KAAK+qB,WACpE,EACA/qB,KAAKykG,eAAiB,WAGlB,IAFA,IAAIvrD,EAASl5C,KAAKk5C,OAAO34C,OAASP,KAAKk5C,OAAS,CAACl5C,KAAK+qB,YAClDqiD,EAAY,GACP3rE,EAAI,EAAGA,EAAIy3C,EAAO34C,OAAQkB,IAAK,CACpC,IAAI2Z,EAAQ89B,EAAOz3C,GACfwZ,EAAMG,EAAMJ,MAAMC,IAClBH,EAASM,EAAMlV,IAAI+U,IACvB,GAAIA,IAAQH,EACRsyD,EAAUvrE,KAAKuZ,EAAM0B,aAEpB,CAED,IADAswD,EAAUvrE,KAAK,IAAI8Y,EAAMM,EAAKG,EAAMJ,MAAME,OAAQD,EAAKjb,KAAKid,QAAQwN,QAAQxP,GAAK1a,WACxE0a,EAAMH,GACXsyD,EAAUvrE,KAAK7B,KAAKozB,aAAanY,GAAK,IAC1CmyD,EAAUvrE,KAAK,IAAI8Y,EAAMG,EAAQ,EAAGA,EAAQM,EAAMlV,IAAIgV,QAC1D,CACS,GAALzZ,GAAWzB,KAAKm0C,gBAChBi5B,EAAYA,EAAUxmE,UAC9B,CACA5G,KAAKs5C,gBACL,IAAS73C,EAAI2rE,EAAU7sE,OAAQkB,KAC3BzB,KAAKu5C,SAAS6zB,EAAU3rE,GAChC,EACAzB,KAAKwkG,eAAiB,WAClB,IAAItrD,EAASl5C,KAAKq5C,UAAUH,OACxB+rD,EAAY/rD,EAAOA,EAAO34C,OAAS,GACnC6a,EAAQT,EAAMgC,WAAWu8B,EAAO,GAAGl+B,MAAOiqF,EAAU/+F,KACxDlG,KAAKs5C,gBACLt5C,KAAK4qB,kBAAkBxP,EAAO6pF,EAAUj8E,QAAUi8E,EAAUjqF,MAChE,EACAhb,KAAKmlG,qBAAuB,WACxB,GAAInlG,KAAKi5C,WAAa,EAAG,CACrB,IAAIC,EAASl5C,KAAKq5C,UAAUH,OACxB+rD,EAAY/rD,EAAOA,EAAO34C,OAAS,GACnC6a,EAAQT,EAAMgC,WAAWu8B,EAAO,GAAGl+B,MAAOiqF,EAAU/+F,KACxDlG,KAAKs5C,gBACLt5C,KAAK4qB,kBAAkBxP,EAAO6pF,EAAUj8E,QAAUi8E,EAAUjqF,MAChE,KACK,CACD,IAAIgO,EAAShpB,KAAKid,QAAQE,yBAAyBnd,KAAKgpB,QACpDkJ,EAASlyB,KAAKid,QAAQE,yBAAyBnd,KAAKkyB,QAC1ClyB,KAAKmkG,sBAAsBn7E,EAAQkJ,GACzCntB,QAAQ/E,KAAKu5C,SAAUv5C,KACnC,CACJ,EACAA,KAAKmkG,sBAAwB,SAAUX,EAAcD,EAAc6B,GAC/D,IAAIrB,EAAU,GACVsB,EAAa7B,EAAatoF,OAASqoF,EAAaroF,OACpD,GAAImqF,EACA,IAAIxqF,EAAc2oF,EAAatoF,OAC3BH,EAAYwoF,EAAaroF,OACzBoqF,EAAe9B,EAAanrD,QAC5BktD,EAAahC,EAAalrD,aAG1Bx9B,EAAc0oF,EAAaroF,OAC3BH,EAAYyoF,EAAatoF,OACzBoqF,EAAe/B,EAAalrD,QAC5BktD,EAAa/B,EAAanrD,QAElC,IAeImtD,EAibSjoF,EAAIC,EAhcbioF,EAAajC,EAAavoF,IAAMsoF,EAAatoF,IACjD,GAAIwqF,EACA,IAAI7qF,EAAW4oF,EAAavoF,IACxBH,EAASyoF,EAAatoF,SAGtBL,EAAW2oF,EAAatoF,IACxBH,EAAS0oF,EAAavoF,IAE1BJ,EAAc,IACdA,EAAc,GACdD,EAAW,IACXA,EAAW,GACXA,GAAYE,IACZsqF,GAAoB,GAExB,IAAK,IAAInqF,EAAML,EAAUK,GAAOH,EAAQG,IAAO,CAC3C,IAAIG,EAAQT,EAAMgC,WAAW3c,KAAKid,QAAQ+5B,yBAAyB/7B,EAAKJ,EAAayqF,GAAetlG,KAAKid,QAAQ+5B,yBAAyB/7B,EAAKF,EAAWwqF,IAC1J,GAAInqF,EAAMyB,UAAW,CACjB,GAAI2oF,IA6aCjoF,EA7aqBnC,EAAMlV,IA6avBsX,EA7a4BgoF,EA8a1CjoF,EAAGtC,KAAOuC,EAAGvC,KAAOsC,EAAGrC,QAAUsC,EAAGtC,QA7a3B,MACJsqF,EAASpqF,EAAMlV,GACnB,CACAkV,EAAM4N,OAASq8E,EAAajqF,EAAMJ,MAAQI,EAAMlV,IAChD69F,EAAQliG,KAAKuZ,EACjB,CAGA,GAFIqqF,GACA1B,EAAQn9F,WACPw+F,EAAmB,CAEpB,IADA,IAAIl/F,EAAM69F,EAAQxjG,OAAS,EACpBwjG,EAAQ79F,GAAK2W,WAAa3W,EAAM,GACnCA,IACJ,GAAIA,EAAM,EAEN,IADA,IAAI8U,EAAQ,EACL+oF,EAAQ/oF,GAAO6B,WAClB7B,IAER,IAAK,IAAIvZ,EAAIyE,EAAKzE,GAAKuZ,EAAOvZ,IACtBsiG,EAAQtiG,GAAGob,WACXknF,EAAQp8F,OAAOlG,EAAG,EAE9B,CACA,OAAOsiG,CACX,CACH,EAAExiG,KAAK6xC,EAAU/xC,WAClB,IAAIgxE,EAASzwE,EAAQ,YAAYywE,OAsbjC,SAASqzB,EAAYh1E,GACbA,EAAOi1E,8BAEXj1E,EAAOo0E,YAAcp0E,EAAOo0E,YAAYj/E,KAAK6K,GAC7CA,EAAOq0E,eAAiBr0E,EAAOq0E,eAAel/E,KAAK6K,GACnDA,EAAOk1E,eAAiBl1E,EAAOk1E,eAAe//E,KAAK6K,GACnDA,EAAOm1E,gBAAkBn1E,EAAOm1E,gBAAgBhgF,KAAK6K,GACrDA,EAAOi1E,4BAA8BljG,EAAQqjG,gBAAgBjgF,KAAK6K,GAClEA,EAAOq1E,wBAA0Br1E,EAAOq1E,wBAAwBlgF,KAAK6K,GACrEA,EAAOi1E,4BAA4Bj1E,GACnCA,EAAOrd,GAAG,gBAAiBqd,EAAOi1E,6BAClCj1E,EAAOrd,GAAG,YAAasd,GACvBD,EAAOT,SAAS23C,YAAY33C,EAASmiD,iBAGzC,SAA+B1hD,GAC3B,IAAKA,EAAOtB,UACR,OACJ,IAAI/iB,EAAKqkB,EAAOtB,UAAUhB,aACtB43E,GAAY,EAehB,SAAS/4C,EAAM/jD,GACP88F,IACAt1E,EAAOnH,SAAS80E,eAAe,IAC/B2H,GAAY,EAEpB,CAnBA5/E,EAAMtE,YAAYzV,EAAI,WAAW,SAAUnD,GACvC,IAAI+8F,EAAuB,IAAb/8F,EAAEgY,WAAmBhY,EAAEgZ,SAAWhZ,EAAEkZ,UAAYlZ,EAAEmZ,SAC5DqO,EAAOgzE,qBAAuBuC,EACzBD,IACDt1E,EAAOnH,SAAS80E,eAAe,aAC/B2H,GAAY,GAGXA,GACL/4C,GAER,GAAGv8B,GACHtK,EAAMtE,YAAYzV,EAAI,QAAS4gD,EAAOv8B,GACtCtK,EAAMtE,YAAYzV,EAAI,OAAQ4gD,EAAOv8B,EAOzC,CA3BIw1E,CAAsBx1E,GAC1B,EAncA,WACI1wB,KAAKokG,uBAAyB,WAC1BpkG,KAAKupB,SAAS8tD,eACdr3E,KAAKupB,SAAS8uD,mBAClB,EACAr4E,KAAK2jG,mBAAqB,SAAUxxE,GAC3BA,EAAcnJ,SACfmJ,EAAcnJ,OAASmJ,EAAcjsB,KACzC,IAAIhJ,EAAQ8C,KAAKsgC,oBAIjB,OAHAnO,EAAcqI,OAASx6B,KAAKid,QAAQ2c,UAAUzH,EAAe,gBAAiBj1B,GAC9E8C,KAAKid,QAAQsxE,kBAAkB1sF,KAAKswB,GACpCnyB,KAAKid,QAAQkpF,qBAAuBnmG,KAAKid,QAAQsxE,kBAAkBhuF,OAC5D4xB,CACX,EACAnyB,KAAK6jG,sBAAwB,SAAUzoF,GACnC,GAAKA,EAAMof,OAAX,CAEAx6B,KAAKid,QAAQyd,aAAatf,EAAMof,QAChC,IAAI51B,EAAQ5E,KAAKid,QAAQsxE,kBAAkBtsF,QAAQmZ,IACrC,GAAVxW,GACA5E,KAAKid,QAAQsxE,kBAAkB5mF,OAAO/C,EAAO,GACjD5E,KAAKid,QAAQkpF,qBAAuBnmG,KAAKid,QAAQsxE,kBAAkBhuF,MALzD,CAMd,EACAP,KAAKkkG,uBAAyB,SAAUhrD,GAEpC,IADA,IAAIktD,EAAapmG,KAAKid,QAAQsxE,kBACrB9sF,EAAIy3C,EAAO34C,OAAQkB,KAAM,CAC9B,IAAI2Z,EAAQ89B,EAAOz3C,GACnB,GAAK2Z,EAAMof,OAAX,CAEAx6B,KAAKid,QAAQyd,aAAatf,EAAMof,QAChC,IAAI51B,EAAQwhG,EAAWnkG,QAAQmZ,IACjB,GAAVxW,GACAwhG,EAAWz+F,OAAO/C,EAAO,EAJjB,CAKhB,CACA5E,KAAKid,QAAQkpF,qBAAuBC,EAAW7lG,MACnD,EACAP,KAAK8kG,YAAc,SAAU57F,GACzBlJ,KAAK2jG,mBAAmBz6F,EAAEkS,OAC1Bpb,KAAKupB,SAAS8tD,eACdr3E,KAAKupB,SAAS8uD,mBAClB,EACAr4E,KAAK+kG,eAAiB,SAAU77F,GAC5BlJ,KAAKkkG,uBAAuBh7F,EAAEgwC,QAC9Bl5C,KAAKupB,SAAS8tD,eACdr3E,KAAKupB,SAAS8uD,mBAClB,EACAr4E,KAAK4lG,eAAiB,SAAU18F,GACxBlJ,KAAKyxB,oBAETzxB,KAAKyxB,mBAAoB,EACzBzxB,KAAKiQ,SAAS,mBACdjQ,KAAKyyE,WAAWlpC,mBAAmBtZ,EAAS6jD,iBAC5C9zE,KAAKiwB,SAASvc,kBAAkB,OAAQ1T,KAAKqmG,oBAC7CrmG,KAAKupB,SAAS8tD,eACdr3E,KAAKupB,SAAS8uD,oBAClB,EACAr4E,KAAK6lG,gBAAkB,SAAU38F,GACzBlJ,KAAKid,QAAQ+iC,YAAYsmD,gBAE7BtmG,KAAKyxB,mBAAoB,EACzBzxB,KAAK2yB,WAAW,mBAChB3yB,KAAKyyE,WAAWppC,sBAAsBpZ,EAAS6jD,iBAC/C9zE,KAAKiwB,SAASlc,qBAAqB,OAAQ/T,KAAKqmG,oBAChDrmG,KAAKupB,SAAS8tD,eACdr3E,KAAKupB,SAAS8uD,oBACdr4E,KAAK2S,MAAM,mBACf,EACA3S,KAAKqmG,mBAAqB,SAAUn9F,GAChC,IAAIihB,EAAUjhB,EAAEihB,QACZuG,EAASxnB,EAAEwnB,OACf,GAAKA,EAAOsvB,YAAZ,CAEA,GAAK71B,EAAQmgD,kBAKyB,WAA7BngD,EAAQmgD,kBACblmE,EAASssB,EAAO4oD,iBAAiBnvD,EAASjhB,EAAE+gC,MAEV,eAA7B9f,EAAQmgD,kBACblmE,EAASssB,EAAO4oD,iBAAiBnvD,EAASjhB,EAAE+gC,MAAM,GAEhB,UAA7B9f,EAAQmgD,mBACb55C,EAAO28C,sBACPjpE,EAAS+lB,EAAQlgB,KAAKymB,EAAQxnB,EAAE+gC,MAAQ,CAAC,IAGzC7lC,EAAS+lB,EAAQmgD,kBAAkB55C,EAAQxnB,EAAE+gC,MAAQ,CAAC,OAhB1B,CAC5B,IAAI7lC,EAAS+lB,EAAQlgB,KAAKymB,EAAQxnB,EAAE+gC,MAAQ,CAAC,GAC7CvZ,EAAOsvB,YAAYzG,SAAS7oB,EAAOsvB,YAAY3f,mBAC/C3P,EAAOsvB,YAAYglD,wBACvB,CAcA,OAAO5gG,CAnBG,CAoBd,EACApE,KAAKs5E,iBAAmB,SAAUn1C,EAAK8F,EAAM19B,GACzC,IAAIvM,KAAK24E,uBAAT,CAEA,IAMIv0E,EANAmiG,EAAYh6F,GAAWA,EAAQg6F,UAC/BC,EAAsB,GAAXj6F,GAAmBA,GAAWA,EAAQi6F,SACjDvpF,EAAUjd,KAAKid,QACf8L,EAAY/oB,KAAK+oB,UACjBswB,EAAYtwB,EAAUswB,UACtBH,GAAUqtD,EAAYx9E,EAAYswB,GAAWH,OAEjD,IAAKA,EAAO34C,OACR,OAAO4jC,EAAIl6B,KAAOk6B,EAAIl6B,KAAKjK,KAAMiqC,GAAQ,CAAC,GAAK9F,EAAInkC,KAAMiqC,GAAQ,CAAC,GACtE,IAAI2yC,EAAM7zD,EAAUjW,eACpBiW,EAAUjW,eAAiB,CAAC,EAC5B,IAAIgxF,EAAS,IAAI1wD,EAAUn2B,GAC3Bjd,KAAK24E,wBAAyB,EAC9B,IAAK,IAAIl3E,EAAIy3C,EAAO34C,OAAQkB,KAAM,CAC9B,GAAI+kG,EACA,KAAO/kG,EAAI,GAAKy3C,EAAOz3C,GAAGuZ,MAAMC,KAAOi+B,EAAOz3C,EAAI,GAAGyE,IAAI+U,KACrDxZ,IAERqiG,EAAOjjE,kBAAkBqY,EAAOz3C,IAChCqiG,EAAOl/F,MAAQnD,EACfzB,KAAK+oB,UAAY9L,EAAQ8L,UAAY+6E,EACrC,IAAI2C,EAAYtiE,EAAIl6B,KAAOk6B,EAAIl6B,KAAKjK,KAAMiqC,GAAQ,CAAC,GAAK9F,EAAInkC,KAAMiqC,GAAQ,CAAC,GACtE7lC,QAAwBjD,IAAdslG,IACXriG,EAASqiG,GACb3C,EAAOzjE,gBAAgB6Y,EAAOz3C,GAClC,CACAqiG,EAAOn6D,SACP3pC,KAAK+oB,UAAY9L,EAAQ8L,UAAYA,EACrC/oB,KAAK24E,wBAAyB,EAC9B5vD,EAAUjW,eAAiB8pE,EAC3B7zD,EAAUi8E,yBACNj8E,EAAUmwB,OAAO,IACjBnwB,EAAU8X,kBAAkB9X,EAAUmwB,OAAO,IACjD,IAAIwtD,EAAO1mG,KAAKupB,SAAS2sE,iBAKzB,OAJAl2F,KAAKy1E,iBACLz1E,KAAK41E,oBACD8wB,GAAQA,EAAK1pE,MAAQ0pE,EAAK/7C,IAC1B3qD,KAAKupB,SAAS8pD,iBAAiBqzB,EAAK1pE,MACjC54B,CAvCG,CAwCd,EACApE,KAAKqtE,oBAAsB,WAClBrtE,KAAKyxB,oBAAqBzxB,KAAK24E,wBAEpC34E,KAAKggD,YAAY1G,eACrB,EACAt5C,KAAKw4E,gBAAkB,WACnB,IAAIzxD,EAAO,GACX,GAAI/mB,KAAKyxB,oBAAsBzxB,KAAK24E,uBAAwB,CAGxD,IAFA,IAAIz/B,EAASl5C,KAAKggD,YAAY3G,UAAUH,OACpCytD,EAAM,GACDllG,EAAI,EAAGA,EAAIy3C,EAAO34C,OAAQkB,IAC/BklG,EAAI9kG,KAAK7B,KAAKid,QAAQukB,aAAa0X,EAAOz3C,KAE9C,IAAIg3E,EAAKz4E,KAAKid,QAAQo2B,cAAcuV,uBACpC7hC,EAAO4/E,EAAIrkG,KAAKm2E,IACPl4E,SAAWomG,EAAIpmG,OAAS,GAAKk4E,EAAGl4E,SACrCwmB,EAAO,GACf,MACU/mB,KAAK+oB,UAAUlM,YACrBkK,EAAO/mB,KAAKid,QAAQukB,aAAaxhC,KAAKiuB,sBAE1C,OAAOlH,CACX,EACA/mB,KAAK+lG,wBAA0B,SAAU78F,EAAGgpB,GACxC,GAAIlyB,KAAKyxB,oBAAsBzxB,KAAK24E,uBAAwB,CACxD,IAAIv9D,EAAQpb,KAAKggD,YAAY9G,OAAO,GACpC,GAAIl5C,KAAKggD,YAAYnjC,WAAaqV,GAAUlyB,KAAKggD,YAAY9tB,OACzD,OACJ,IAAIf,EAAMe,GAAUlyB,KAAKggD,YAAY9tB,OAC/B9W,EAAM4N,QAAU5N,EAAMJ,MAAQI,EAAMlV,IAAMkV,EAAMJ,MAChDI,EAAM4N,OACRmI,EAAIlW,KAAOiX,EAAOjX,KACfjb,KAAKid,QAAQsqC,wBAAwBp2B,EAAIlW,IAAKkW,EAAIjW,QAAQA,QAAUgX,EAAOhX,OAC9Elb,KAAKggD,YAAY1G,cAAct5C,KAAKggD,YAAY3f,mBAEhDrgC,KAAKggD,YAAYglD,wBACzB,CACJ,EACAhlG,KAAKsmE,QAAU,SAAUC,EAAQh6D,EAASq6F,GAGtC,IAFAr6F,EAAUA,GAAW,CAAC,GACdg6D,OAASA,GAAUh6D,EAAQg6D,YACbplE,GAAlBoL,EAAQg6D,OAAqB,CAC7B,IAAInrD,EAAQpb,KAAK+oB,UAAUlM,UACrB7c,KAAK+oB,UAAUoK,eACfnzB,KAAK+oB,UAAUgC,WACrBxe,EAAQg6D,OAASvmE,KAAKid,QAAQukB,aAAapmB,EAC/C,CACApb,KAAK0yE,QAAQ98D,IAAIrJ,GACjB,IAAI2sC,EAASl5C,KAAK0yE,QAAQpM,QAAQtmE,KAAKid,SACvC,IAAKi8B,EAAO34C,OACR,OAAO,EACX,IAAIwoB,EAAY/oB,KAAKggD,YAChB4mD,GACD79E,EAAUuwB,cAAcJ,EAAO,IACnC,IAAK,IAAIz3C,EAAIy3C,EAAO34C,OAAQkB,KACxBsnB,EAAUwwB,SAASL,EAAOz3C,IAAI,GAGlC,OAFI2Z,GAAS2N,EAAUswB,UAAU6Z,aAAa93C,EAAMJ,QAChD+N,EAAUwwB,SAASn+B,GAAO,GACvB89B,EAAO34C,MAClB,EACAP,KAAKskG,gBAAkB,SAAUp6D,EAAK28D,GAClC,IAAIzrF,EAAQpb,KAAK+oB,UAAUsX,kBACvB8T,EAAc/4B,EAAM4N,QAAU5N,EAAMlV,IACpC4gG,EAAa9mG,KAAKid,QAAQE,yBAAyB/B,EAAM4N,QACzDhpB,KAAK+oB,UAAU6qB,iBACfkzD,EAAW5rF,OAASlb,KAAK+oB,UAAU6qB,gBACvC,IAaQ8rC,EAbJpsC,EAAOtzC,KAAKid,QAAQ+5B,yBAAyB8vD,EAAW7rF,IAAMivB,EAAK48D,EAAW5rF,QAClF,GAAKE,EAAMyB,UAKHqV,EAASohB,OAJb,IAAIiwD,EAAevjG,KAAKid,QAAQE,yBAAyBg3B,EAAc/4B,EAAMlV,IAAMkV,EAAMJ,OACrFkX,EAASlyB,KAAKid,QAAQ+5B,yBAAyBusD,EAAatoF,IAAMivB,EAAKq5D,EAAaroF,QAKxFi5B,GACIurC,EAAW/kE,EAAMgC,WAAW22B,EAAMphB,IAC7BlJ,OAAS02D,EAAS1kE,OAGvB0kE,EAAW/kE,EAAMgC,WAAWuV,EAAQohB,IAC/BtqB,OAAS02D,EAASx5E,IAG/B,GADAw5E,EAAS9mC,cAAgBkuD,EAAW5rF,OAC/Blb,KAAK+oB,UAAU0I,mBAIhB,GAAIo1E,EACA,IAAIE,EAAW3rF,EAAM4N,YAJzBhpB,KAAK+oB,UAAUwwB,SAASn+B,GAM5Bpb,KAAK+oB,UAAUwwB,SAASmmC,GACpBqnB,GACA/mG,KAAK+oB,UAAUiqC,eAAe+zC,EACtC,EACA/mG,KAAK6sE,oBAAsB,SAAU3iC,GAIjC,IAHA,IAAIjtB,EAAUjd,KAAKid,QACfq2D,EAAMr2D,EAAQ+iC,YACdpoC,EAAM07D,EAAIp6B,OACLz3C,EAAImW,EAAIrX,OAAQkB,KAAM,CAE3B,IADI2Z,EAAQxD,EAAInW,IACNob,UAAW,CACjB,IAAImqF,EAAQ/pF,EAAQkW,aAAa/X,EAAMJ,MAAMC,IAAKG,EAAMJ,MAAME,QAC9DE,EAAMJ,MAAMC,IAAM+rF,EAAMhsF,MAAMC,IAC9BG,EAAMJ,MAAME,OAAS8rF,EAAMhsF,MAAME,OACjCE,EAAMlV,IAAI+U,IAAM+rF,EAAM9gG,IAAI+U,IAC1BG,EAAMlV,IAAIgV,OAAS8rF,EAAM9gG,IAAIgV,MACjC,CACJ,CACAo4D,EAAI0xB,yBACJ,IAAIiC,EAAQ,GACZ,IAASxlG,EAAImW,EAAIrX,OAAQkB,KAAM,CAC3B,IAAI2Z,EAAQxD,EAAInW,GAChBwlG,EAAM9qD,QAAQl/B,EAAQukB,aAAapmB,GACvC,CACI8uB,EAAM,EACN+8D,EAAM9qD,QAAQ8qD,EAAMjzF,OAEpBizF,EAAMplG,KAAKolG,EAAMj3E,SACrB,IAASvuB,EAAImW,EAAIrX,OAAQkB,KAAM,CAC3B,IACI2qC,GADAhxB,EAAQxD,EAAInW,IACAqb,QAChBG,EAAQza,QAAQ4Y,EAAO6rF,EAAMxlG,IAC7B2Z,EAAMJ,MAAMC,IAAMmxB,EAAIpxB,MAAMC,IAC5BG,EAAMJ,MAAME,OAASkxB,EAAIpxB,MAAME,MACnC,CACAo4D,EAAIzyC,kBAAkByyC,EAAIp6B,OAAO,GACrC,EACAl5C,KAAKukG,WAAa,SAAUr6D,EAAK28D,EAAMK,GACnC,IAAIjqF,EAAUjd,KAAKid,QAEf7B,EADM6B,EAAQ+iC,YACF3f,kBAChB,IAAIjlB,EAAMyB,aACNzB,EAAQ6B,EAAQkW,aAAa/X,EAAMJ,MAAMC,IAAKG,EAAMJ,MAAME,SACpD8N,QAAiB,GAARkhB,EAAY9uB,EAAMJ,MAAQI,EAAMlV,IAC/ClG,KAAKggD,YAAYzG,SAASn+B,IACtB8rF,GAJR,CAOA,IAAI3gC,EAAStpD,EAAQukB,aAAapmB,GAC9BskE,EAheZ,SAAcziE,EAASspD,EAAQr8B,GAI3B,OAHAqN,EAAOniC,SAASswD,MAAO,EACvBnuB,EAAOniC,SAASmxD,OAASA,EACzBhvB,EAAOniC,SAASmyD,WAAoB,GAARr9B,EACrBqN,EAAOjyC,KAAK2X,EACvB,CA2duB3X,CAAK2X,EAASspD,EAAQr8B,GACjCw1C,IACAA,EAAS12D,QAAiB,GAARkhB,EAAYw1C,EAAS1kE,MAAQ0kE,EAASx5E,IACxDlG,KAAKid,QAAQ04C,OAAO+pB,GACpB1/E,KAAKggD,YAAYzG,SAASmmC,GAC1B1/E,KAAKupB,SAAS+I,qBAAqB,KAAM,KAEzCu0E,GACA7mG,KAAKggD,YAAYgT,eAAe53C,EAAM4N,OAV1C,CAWJ,EACAhpB,KAAK0kG,aAAe,WAChB,IAAIznF,EAAUjd,KAAKid,QACfq2D,EAAMr2D,EAAQ+iC,YACd9G,EAASo6B,EAAIp6B,OACbj+B,GAAO,EACPksF,EAAgBjuD,EAAO7jC,QAAO,SAAUwjC,GACxC,GAAIA,EAAE7vB,OAAO/N,KAAOA,EAChB,OAAO,EACXA,EAAM49B,EAAE7vB,OAAO/N,GACnB,IACA,GAAKi+B,EAAO34C,QAAU4mG,EAAc5mG,QAAU24C,EAAO34C,OAAS,EA2BzD,CACD4mG,EAAcpiG,SAAQ,SAAU8zC,GAC5By6B,EAAItgB,eAAena,EAAE7vB,OACzB,IACA,IAAIo+E,EAAS,EACTC,EAAWpjD,IACXqjD,EAAepuD,EAAO/zC,KAAI,SAAU0zC,GACpC,IAAIn9B,EAAIm9B,EAAE7vB,OAENu+E,EADOtqF,EAAQwN,QAAQ/O,EAAET,KACNg2B,OAAOv1B,EAAER,QAAQq8B,OAAO,OAO/C,OANoB,GAAhBgwD,IACAA,EAAc,GACd7rF,EAAER,OAASksF,IACXA,EAAS1rF,EAAER,QACXqsF,EAAcF,IACdA,EAAWE,GACRA,CACX,IACAruD,EAAOn0C,SAAQ,SAAU8zC,EAAGp3C,GACxB,IAAIia,EAAIm9B,EAAE7vB,OACNtnB,EAAI0lG,EAAS1rF,EAAER,OACfwZ,EAAI4yE,EAAa7lG,GAAK4lG,EACtB3lG,EAAIgzB,EACJzX,EAAQolB,OAAO3mB,EAAGzE,EAAKpQ,aAAa,IAAKnF,EAAIgzB,IAE7CzX,EAAQzO,OAAO,IAAImM,EAAMe,EAAET,IAAKS,EAAER,OAAQQ,EAAET,IAAKS,EAAER,OAASxZ,EAAIgzB,IACpEmkB,EAAE79B,MAAME,OAAS29B,EAAE3yC,IAAIgV,OAASksF,EAChCvuD,EAAE79B,MAAMC,IAAM49B,EAAE3yC,IAAI+U,IAAMS,EAAET,IAC5B49B,EAAE7vB,OAAS6vB,EAAE3yC,GACjB,IACAotE,EAAIzyC,kBAAkBqY,EAAO,IAC7Bl5C,KAAKupB,SAAS8tD,eACdr3E,KAAKupB,SAAS8uD,mBAClB,KA5DiE,CAC7D,IAAIj9D,EAAQpb,KAAK+oB,UAAUgC,WACvBy8E,EAAKpsF,EAAMJ,MAAMC,IAAKwsF,EAAKrsF,EAAMlV,IAAI+U,IACrCysF,EAAaF,GAAMC,EACvB,GAAIC,EAAY,CACZ,IACIt+F,EADApD,EAAMhG,KAAKid,QAAQ0e,YAEvB,GACIvyB,EAAOpJ,KAAKid,QAAQwN,QAAQg9E,SACvB,OAAOj8F,KAAKpC,MAAWq+F,EAAKzhG,GACrC,GACIoD,EAAOpJ,KAAKid,QAAQwN,QAAQ+8E,SACvB,OAAOh8F,KAAKpC,MAAWo+F,EAAK,GACjCA,EAAK,IACLA,EAAK,GACLC,GAAMzhG,IACNyhG,EAAKzhG,EAAM,EACnB,CACA,IAAIglB,EAAQhrB,KAAKid,QAAQwsC,gBAAgB+9C,EAAIC,GAC7Cz8E,EAAQhrB,KAAK2nG,aAAa38E,EAAO08E,GACjC1nG,KAAKid,QAAQolB,OAAO,CAAEpnB,IAAKusF,EAAItsF,OAAQ,GAAK8P,EAAM1oB,KAAK,MAAQ,MAC1DolG,IACDtsF,EAAMJ,MAAME,OAAS,EACrBE,EAAMlV,IAAIgV,OAAS8P,EAAMA,EAAMzqB,OAAS,GAAGA,QAE/CP,KAAK+oB,UAAU8c,SAASzqB,EAC5B,CAmCJ,EACApb,KAAK2nG,aAAe,SAAU38E,EAAO48E,GACjC,IACIC,EAAQC,EAAOC,EADfC,GAAgB,EAAMC,GAAiB,EAE3C,OAAOj9E,EAAM7lB,KAAI,SAAUiE,GACvB,IAAIoR,EAAIpR,EAAKsB,MAAM,2BACnB,OAAK8P,EAES,MAAVqtF,GACAA,EAASrtF,EAAE,GAAGja,OACdunG,EAAQttF,EAAE,GAAGja,OACbwnG,EAAOvtF,EAAE,GAAGja,OACLia,IAEPqtF,EAASC,EAAQC,GAAQvtF,EAAE,GAAGja,OAASia,EAAE,GAAGja,OAASia,EAAE,GAAGja,SAC1D0nG,GAAiB,GACjBJ,GAAUrtF,EAAE,GAAGja,SACfynG,GAAgB,GAChBH,EAASrtF,EAAE,GAAGja,SACdsnG,EAASrtF,EAAE,GAAGja,QACdunG,EAAQttF,EAAE,GAAGja,SACbunG,EAAQttF,EAAE,GAAGja,QACbwnG,EAAOvtF,EAAE,GAAGja,SACZwnG,EAAOvtF,EAAE,GAAGja,QACTia,GAjBI,CAACpR,EAkBhB,IAAGjE,IAAIyiG,EAAYM,EACfF,EAAgBC,EASpB,SAAoBztF,GAChB,OAAQA,EAAE,GAAYqqC,EAAOgjD,EAASC,EAAQttF,EAAE,GAAGja,QAAUia,EAAE,GACzDqqC,EAAOkjD,GACPvtF,EAAE,GAAGhY,QAAQ,aAAc,OAFlBgY,EAAE,EAGrB,EAbkD0tF,EAclD,SAAiB1tF,GACb,OAAQA,EAAE,GAAYqqC,EAAOgjD,GAAUrtF,EAAE,GACnCqqC,EAAOkjD,GACPvtF,EAAE,GAAGhY,QAAQ,aAAc,OAFlBgY,EAAE,EAGrB,GAjBA,SAASqqC,EAAOp4C,GACZ,OAAOwK,EAAKpQ,aAAa,IAAK4F,EAClC,CACA,SAASy7F,EAAU1tF,GACf,OAAQA,EAAE,GAAYqqC,EAAOgjD,GAAUrtF,EAAE,GACnCqqC,EAAOijD,EAAQttF,EAAE,GAAGja,OAASwnG,GAC7BvtF,EAAE,GAAGhY,QAAQ,aAAc,OAFlBgY,EAAE,EAGrB,CAWJ,CACH,GAAEjZ,KAAK8wE,EAAOhxE,WAIfoB,EAAQqjG,gBAAkB,SAAU58F,GAChC,IAAI+T,EAAU/T,EAAE+T,QACZA,IAAYA,EAAQ+iC,cACpB/iC,EAAQsxE,kBAAoB,GAC5BtxE,EAAQ8L,UAAUm8E,iBAClBjoF,EAAQ+iC,YAAc/iC,EAAQ8L,WAElC/oB,KAAKggD,YAAc/iC,GAAWA,EAAQ+iC,YACtC,IAAIg0B,EAAa9qE,EAAE8qE,WACfA,IACAA,EAAWh0B,YAAYzsC,IAAI,WAAYvT,KAAK8kG,aAC5C9wB,EAAWh0B,YAAYzsC,IAAI,cAAevT,KAAK+kG,gBAC/C/wB,EAAWh0B,YAAYzsC,IAAI,cAAevT,KAAK4lG,gBAC/C5xB,EAAWh0B,YAAYzsC,IAAI,eAAgBvT,KAAK6lG,iBAChD7xB,EAAWh0B,YAAY1M,KAAK//B,IAAI,SAAUvT,KAAK+lG,yBAC/C/xB,EAAWh0B,YAAY9tB,OAAO3e,IAAI,SAAUvT,KAAK+lG,0BAEjD9oF,IACAA,EAAQ+iC,YAAY3sC,GAAG,WAAYrT,KAAK8kG,aACxC7nF,EAAQ+iC,YAAY3sC,GAAG,cAAerT,KAAK+kG,gBAC3C9nF,EAAQ+iC,YAAY3sC,GAAG,cAAerT,KAAK4lG,gBAC3C3oF,EAAQ+iC,YAAY3sC,GAAG,eAAgBrT,KAAK6lG,iBAC5C5oF,EAAQ+iC,YAAY1M,KAAKjgC,GAAG,SAAUrT,KAAK+lG,yBAC3C9oF,EAAQ+iC,YAAY9tB,OAAO7e,GAAG,SAAUrT,KAAK+lG,0BAE7C9oF,GAAWjd,KAAKyxB,mBAAqBxU,EAAQ8L,UAAU0I,oBACnDxU,EAAQ8L,UAAU0I,kBAClBzxB,KAAK4lG,iBAEL5lG,KAAK6lG,kBAEjB,EA0CApjG,EAAQijG,YAAcA,EACtB9jG,EAAQ,YAAYoU,cAAcq8D,EAAOhxE,UAAW,SAAU,CAC1D8mG,kBAAmB,CACfvyF,IAAK,SAAUvS,GACXqiG,EAAY1lG,MACRqD,EACArD,KAAKqT,GAAG,YAAasd,GAGrB3wB,KAAKuT,IAAI,YAAaod,EAE9B,EACAptB,OAAO,GAEX6kG,kBAAmB,CACfxyF,IAAK,SAAUvS,GACXrD,KAAK0jG,oBAAsBrgG,CAC/B,EACAE,OAAO,IAIf,IAEAN,IAAI/C,OAAO,6BAA6B,CAAC,UAAU,UAAU,SAAS,cAAc,SAAS0B,EAASa,EAAStC,GAAQ,aACvH,IAAIwa,EAAQ/Y,EAAQ,eAAe+Y,MAC/B0tF,EAAW5lG,EAAQ4lG,SAAW,WAAc,GAChD,WACIroG,KAAKsoG,mBAAqB,KAC1BtoG,KAAKuoG,kBAAoB,KACzBvoG,KAAK62D,cAAgB,SAAU55C,EAAS6oD,EAAW7qD,GAC/C,IAAI7R,EAAO6T,EAAQwN,QAAQxP,GAC3B,OAAIjb,KAAKsoG,mBAAmB98F,KAAKpC,GACtB,QACM,gBAAb08D,GACG9lE,KAAKuoG,mBACLvoG,KAAKuoG,kBAAkB/8F,KAAKpC,GACxB,MACJ,EACX,EACApJ,KAAK82D,mBAAqB,SAAU75C,EAAS6oD,EAAW7qD,GACpD,OAAO,IACX,EACAjb,KAAKwoG,iBAAmB,SAAUvrF,EAAShC,EAAKC,GAC5C,IAAI/C,EAAK,KACL/O,EAAO6T,EAAQwN,QAAQxP,GACvBwtF,EAAar/F,EAAKmuC,OAAOp/B,GAC7B,IAAmB,GAAfswF,EAAJ,CAMA,IAJA,IAAI5tF,EAAcK,GAAU9R,EAAK7I,OAC7BukE,EAAS7nD,EAAQ0e,YACjB/gB,EAAWK,EACXH,EAASG,IACJA,EAAM6pD,GAAQ,CACnB,IAAIpyB,EAAQz1B,EAAQwN,QAAQxP,GAAKs8B,OAAOp/B,GACxC,IAAc,GAAVu6B,EAAJ,CAEA,GAAIA,GAAS+1D,EAAY,CACrB,IAAI9tD,EAAQ19B,EAAQ8hC,WAAW9jC,EAAK,GACpC,IAAK0/B,GAAwB,WAAfA,EAAMznC,KAChB,KACR,CACA4H,EAASG,CANG,CAOhB,CACA,GAAIH,EAASF,EAAU,CACnB,IAAIG,EAAYkC,EAAQwN,QAAQ3P,GAAQva,OACxC,OAAO,IAAIoa,EAAMC,EAAUC,EAAaC,EAAQC,EACpD,CAnBU,CAoBd,EACA/a,KAAK0oG,oBAAsB,SAAUzrF,EAASmmC,EAASnoC,EAAKC,EAAQq9C,GAChE,IAAIv9C,EAAQ,CAAEC,IAAKA,EAAKC,OAAQA,EAAS,GACrChV,EAAM+W,EAAQk7C,oBAAoB/U,EAASpoC,EAAOu9C,GACtD,GAAKryD,EAAL,CAEA,IAAI0xD,EAAK36C,EAAQyrB,YAAYxiC,EAAI+U,KAOjC,OANU,MAAN28C,IACAA,EAAK36C,EAAQ45C,cAAc3wD,EAAI+U,MACzB,SAAN28C,GAAiB1xD,EAAI+U,IAAMD,EAAMC,MACjC/U,EAAI+U,MACJ/U,EAAIgV,OAAS+B,EAAQwN,QAAQvkB,EAAI+U,KAAK1a,QAEnCoa,EAAMgC,WAAW3B,EAAO9U,EARrB,CASd,EACAlG,KAAK2oG,oBAAsB,SAAU1rF,EAASmmC,EAASnoC,EAAKC,EAAQq9C,GAChE,IAAIryD,EAAM,CAAE+U,IAAKA,EAAKC,OAAQA,GAC1BF,EAAQiC,EAAQgkC,oBAAoBmC,EAASl9C,GACjD,GAAK8U,EAIL,OAFAA,EAAME,SACNhV,EAAIgV,SACGP,EAAMgC,WAAW3B,EAAO9U,EACnC,CACH,GAAE3E,KAAK8mG,EAAShnG,UAEjB,IAEA4B,IAAI/C,OAAO,uBAAuB,CAAC,UAAU,UAAU,SAAS,mBAAmB,cAAc,YAAY,eAAe,SAAS0B,EAASa,EAAStC,GAAQ,aAC/J,IAAImtE,EAAc1rE,EAAQ,mBAAmB0rE,YACzCz8D,EAAMjP,EAAQ,cACd+Y,EAAQ/Y,EAAQ,YAAY+Y,MAC5BlE,EAAM7U,EAAQ,aAAa6U,IA6C/BhU,EAAQunE,gBAAkB,SAAUt5C,EAAQwZ,GACxC,IAAIjtB,EAAUyT,EAAOzT,QAChBA,EAAQswD,gBACTtwD,EAAQswD,cAAgB,IAAID,EAAYrwD,GACxCA,EAAQswD,cAAc7jC,OAAOhZ,IAEjC,IAAIS,EAAMT,EAAOmhB,oBACb52B,EAAMkW,EAAIlW,IACV2tF,EAAY3rF,EAAQswD,cAAcmB,gBAAgBzzD,GAAK5F,QAAO,SAAUswB,GACxE,MAAiB,eAAVA,EAAEzyB,IACb,IAAG,GACC01F,EACAA,EAAU/mF,UAGV5G,GAAOivB,EAEX,IACI2+D,EADA7qE,EA9CR,SAAyB/gB,EAAShC,EAAKivB,GACnC,IAAIlM,EAAc/gB,EAAQghD,iBAAiBhnC,KAAKtc,EAAM2C,eACtD,GAAK0gB,EAAYz9B,OAAjB,CAEA,IAAIkB,EAnBR,SAAsB2F,EAAOm/D,EAAQuiC,GAGjC,IAFA,IAAIj9C,EAAQ,EACRplD,EAAOW,EAAM7G,OAAS,EACnBsrD,GAASplD,GAAM,CAClB,IAAIu0D,EAAOnP,EAAQplD,GAAS,EACxBkmC,EAAIm8D,EAAWviC,EAAQn/D,EAAM4zD,IACjC,GAAIruB,EAAI,EACJkf,EAAQmP,EAAM,MACb,MAAIruB,EAAI,GAGT,OAAOquB,EAFPv0D,EAAOu0D,EAAM,CAEH,CAClB,CACA,QAASnP,EAAQ,EACrB,CAKYk9C,CAAa/qE,EAAa,CAAE/iB,IAAKA,EAAKC,QAAS,GAAKP,EAAM2C,eAC9D7b,EAAI,IACJA,GAAKA,EAAI,GACTA,GAAKu8B,EAAYz9B,OACjBkB,EAAIyoC,EAAM,EAAI,EAAIlM,EAAYz9B,OAAS,EAC5B,IAANkB,GAAWyoC,EAAM,IACtBzoC,EAAIu8B,EAAYz9B,OAAS,GAC7B,IAAIq8B,EAAaoB,EAAYv8B,GAC7B,GAAKm7B,GAAesN,EAApB,CAEA,GAAItN,EAAW3hB,MAAQA,EAAK,CACxB,GACI2hB,EAAaoB,EAAYv8B,GAAKyoC,SACzBtN,GAAcA,EAAW3hB,MAAQA,GAC1C,IAAK2hB,EACD,OAAOoB,EAAY37B,OAC3B,CACA,IAAI2mG,EAAU,GACd/tF,EAAM2hB,EAAW3hB,IACjB,GACI+tF,EAAQ9+D,EAAM,EAAI,UAAY,QAAQtN,GACtCA,EAAaoB,EAAYv8B,GAAKyoC,SACzBtN,GAAcA,EAAW3hB,KAAOA,GACzC,OAAO+tF,EAAQzoG,QAAUyoG,CAdf,CAVA,CAyBd,CAkBsBC,CAAgBhsF,EAAShC,EAAKivB,GAEhD,GAAIlM,EAAa,CACb,IAAIpB,EAAaoB,EAAY,GAC7B7M,EAAIjW,QAAU0hB,EAAWzL,KAAmC,iBAArByL,EAAW1hB,OAC5C0hB,EAAWzL,IAAI+0C,GACftpC,EAAW1hB,SAAW,EAC5BiW,EAAIlW,IAAM2hB,EAAW3hB,IACrB4tF,EAAan4E,EAAOnH,SAAS2R,aAAa4B,aAAa3L,EAAIlW,IAC/D,KACK,IAAI2tF,EACL,OAGAC,EAAa,CACT9rE,YAAa,CAACtmB,EAAI,0BAA2B,gBAC7C9Z,UAAW,SAEnB,CACA+zB,EAAOzT,QAAQ04C,OAAOxkC,EAAIlW,KAC1ByV,EAAO3H,UAAUuI,eAAeH,GAChC,IAAIwU,EAAI,CACJ1qB,IAAKkW,EAAIlW,IACT4zD,YAAY,EACZR,aAAa,EACbhiE,GAAIwE,EAAIvE,cAAc,OACtB4G,KAAM,eAEN7G,EAAKs5B,EAAEt5B,GAAGH,YAAY2E,EAAIvE,cAAc,QACxC48F,EAAQvjE,EAAEt5B,GAAGH,YAAY2E,EAAIvE,cAAc,QAC/C48F,EAAMvsG,UAAY,sBAAwBksG,EAAWlsG,UACrD,IAAIY,EAAOmzB,EAAOnH,SAASiX,aACtBwF,iBAAiB7U,GAAK5zB,KAC3B2rG,EAAMhsG,MAAMK,KAAOA,EAAOmzB,EAAOnH,SAASylD,YAAc,EAAI,KAC5DrpC,EAAEt5B,GAAG1P,UAAY,uBACjB0P,EAAG1P,UAAY,gBAAkBksG,EAAWlsG,UAC5CksG,EAAW9rE,YAAYh4B,SAAQ,SAAUokG,EAAc1nG,GACnD4K,EAAGH,YAAY2E,EAAI5E,eAAek9F,IAC9B1nG,EAAIonG,EAAW9rE,YAAYx8B,OAAS,GACpC8L,EAAGH,YAAY2E,EAAIvE,cAAc,MAEzC,IACAD,EAAGH,YAAY2E,EAAIvE,cAAc,QACjC,IAAI88B,EAAK,SAAUz3B,EAAG8S,EAAQtD,GAC1B,GAAe,IAAXsD,IAA+B,QAAdtD,GAAqC,WAAdA,GAExC,OADAwkB,EAAE9jB,UACK,CAAEsI,QAAS,OAE1B,EACAwb,EAAE9jB,QAAU,WACJ6O,EAAOjB,cAAcC,iBAEzBgB,EAAO+hD,WAAWppC,sBAAsBD,GACxCnsB,EAAQswD,cAAcQ,iBAAiBpoC,GACvCjV,EAAOnd,IAAI,kBAAmBoyB,EAAE9jB,SAChC6O,EAAOnd,IAAI,gBAAiBoyB,EAAE9jB,SAC9B6O,EAAOnd,IAAI,UAAWoyB,EAAE9jB,SACxB6O,EAAOnd,IAAI,SAAUoyB,EAAE9jB,SAC3B,EACA6O,EAAO+hD,WAAWlpC,mBAAmBH,GACrC1Y,EAAOrd,GAAG,kBAAmBsyB,EAAE9jB,SAC/B6O,EAAOrd,GAAG,gBAAiBsyB,EAAE9jB,SAC7B6O,EAAOrd,GAAG,UAAWsyB,EAAE9jB,SACvB6O,EAAOrd,GAAG,SAAUsyB,EAAE9jB,SACtB6O,EAAOzT,QAAQswD,cAAca,cAAczoC,GAC3CA,EAAEt5B,GAAG+8F,YAAc14E,EAAOpH,MAAMzD,KAAK6K,GACrCA,EAAOnH,SAAS+I,qBAAqB,KAAM,GAAK,CAAEh1B,OAAQqoC,EAAEt5B,GAAG+pB,cACnE,EACAvlB,EAAIjC,gBAAgB,y7BAA07B,oBAAoB,EAEl+B,IAEA3L,IAAI/C,OAAO,UAAU,CAAC,UAAU,UAAU,SAAS,cAAc,YAAY,aAAa,mBAAmB,kBAAkB,uBAAuB,2BAA2B,4BAA4B,kBAAkB,mBAAmB,6BAA6B,qBAAqB,uBAAuB,aAAa,qBAAqB,SAAS0B,EAASa,EAAStC,GAKxX,aACAyB,EAAQ,iBAARA,CAA0Ba,GAC1B,IAAIoO,EAAMjP,EAAQ,aACd+Y,EAAQ/Y,EAAQ,WAAW+Y,MAC3B03D,EAASzwE,EAAQ,YAAYywE,OAC7BrY,EAAcp4D,EAAQ,kBAAkBo4D,YACxCpN,EAAchrD,EAAQ,iBAAiBgrD,YACvCy8C,EAAWznG,EAAQ,sBAAsB+zF,gBAC7C/zF,EAAQ,0BACRA,EAAQ,2BACRA,EAAQ,iBACRA,EAAQ,kBACRA,EAAQ,4BACRA,EAAQ,oBACRA,EAAQ,sBACRa,EAAQkX,OAAS/X,EAAQ,YACzBa,EAAQ6mG,KAAO,SAAUj9F,EAAIE,GACzB,GAAiB,iBAANF,EAAgB,CACvB,IAAIk9F,EAAMl9F,EAEV,KADAA,EAAKL,SAASuC,eAAeg7F,IAEzB,MAAM,IAAI90F,MAAM,4BAA8B80F,EACtD,CACA,GAAIl9F,GAAMA,EAAGm9F,KAAOn9F,EAAGm9F,IAAI94E,kBAAkB2hD,EACzC,OAAOhmE,EAAGm9F,IAAI94E,OAClB,IAAIntB,EAAQ,GACZ,GAAI8I,GAAM,kBAAkBb,KAAKa,EAAGo9F,SAAU,CAC1C,IAAIC,EAAUr9F,EACd9I,EAAQmmG,EAAQnmG,MAChB8I,EAAKwE,EAAIvE,cAAc,OACvBo9F,EAAQ7iF,WAAW6d,aAAar4B,EAAIq9F,EACxC,MACSr9F,IACL9I,EAAQ8I,EAAGiB,YACXjB,EAAGgB,UAAY,IAEnB,IAAIR,EAAMpK,EAAQknG,kBAAkBpmG,GAChCmtB,EAAS,IAAI2hD,EAAO,IAAIg3B,EAASh9F,GAAKQ,EAAKN,GAC3Ci9F,EAAM,CACNx9F,SAAUa,EACV6jB,OAAQA,EACRslD,SAAUtlD,EAAOqlD,OAAOlwD,KAAK6K,EAAQ,OAQzC,OANIg5E,IACAF,EAAIh3B,SAAWk3B,GACnBh5E,EAAOrd,GAAG,WAAW,WACjBm2F,EAAI94E,OAAO7hB,UAAU26F,IAAM,IAC/B,IACA94E,EAAO7hB,UAAU26F,IAAM94E,EAAO84E,IAAMA,EAC7B94E,CACX,EACAjuB,EAAQknG,kBAAoB,SAAU5iF,EAAM6c,GACxC,IAAI/2B,EAAM,IAAImtD,EAAYjzC,EAAM6c,GAEhC,OADA/2B,EAAI0uD,eAAe,IAAI3O,GAChB//C,CACX,EACApK,EAAQkY,MAAQA,EAChBlY,EAAQ4vE,OAASA,EACjB5vE,EAAQu3D,YAAcA,EACtBv3D,EAAQmqD,YAAcA,EACtBnqD,EAAQkzF,gBAAkB0T,EAC1B5mG,EAAQiX,QAAUjX,EAAQkX,OAAOD,OAEjC,IACgBzW,IAAIrB,QAAQ,CAAC,YAAY,SAAS8E,GAC1BA,IACAA,EAAEiT,OAAOC,MAAK,GACdlT,EAAExG,OAAS+C,IAAI/C,QAEnB,IAAIH,EAAU,WACV,OAAOC,IACX,CAFc,GAQd,IAAK,IAAIgF,KALJjF,GAA2B,oBAAVE,SAAuBF,EAASE,QACjDF,GAAyB,oBAARmhC,OAAqBnhC,EAASmhC,MAE/CnhC,EAAOkD,MACRlD,EAAOkD,IAAMyD,GACDA,EAAOA,EAAEiR,eAAe3S,KACpCjF,EAAOkD,IAAI+B,GAAO0B,EAAE1B,IACxBjF,EAAOkD,IAAa,QAAIlD,EAAOkD,IACgC9C,IAC3DA,EAAOsC,QAAU1C,EAAOkD,IAEhC,gCC71pBhBA,IAAI/C,OAAO,YAAY,CAAC,UAAU,UAAU,SAAS,cAAc,eAAe,wBAAwB,aAAa,uBAAuB,qBAAqB,SAAS0B,EAASa,EAAStC,GAAQ,aACtM,IAMIypG,EANA/0F,EAAMjT,EAAQ,aAEd0Q,GADO1Q,EAAQ,cACAA,EAAQ,uBAAuB0Q,cAC9C+/D,EAASzwE,EAAQ,YAAYywE,OAC7Bg3B,EAAWznG,EAAQ,sBAAsB+zF,gBACzC37B,EAAcp4D,EAAQ,kBAAkBo4D,aAiB5C,WACInlD,EAAIzC,UAAUpS,KAAMsS,GACpBtS,KAAK6pG,cAAgB,WACjB,IAAIx9F,EAAKL,SAASM,cAAc,OAChCD,EAAG1P,UAAYqD,KAAK8pG,WACpBz9F,EAAGnP,MAAMwP,QAAU,0CACnB1M,KAAK+pG,WAAW79F,YAAYG,GAC5B,IAAIqkB,EAAS,IAAI2hD,EAAO,IAAIg3B,EAASh9F,EAAIrM,KAAKo+F,SAM9C,OALA1tE,EAAOrd,GAAG,QAAS,WACfrT,KAAK2S,MAAM,QAAS+d,EACxB,EAAE7K,KAAK7lB,OACPA,KAAKgqG,SAASnoG,KAAK6uB,GACnBA,EAAOylD,YAAYn2E,KAAKiqG,WACjBv5E,CACX,EACA1wB,KAAKkqG,UAAY,SAAUz5D,GACvB,IAAI/f,EACJ,GAAI+f,EAAS,EACT,KAAM,uCAEV,GAAIA,GAAUzwC,KAAKmqG,QAAnB,CAGK,GAAI15D,EAASzwC,KAAKmqG,QAAS,CAC5B,KAAOnqG,KAAKmqG,QAAUnqG,KAAKgqG,SAASzpG,QAAUP,KAAKmqG,QAAU15D,GACzD/f,EAAS1wB,KAAKgqG,SAAShqG,KAAKmqG,SAC5BnqG,KAAK+pG,WAAW79F,YAAYwkB,EAAO7hB,WACnC6hB,EAAOylD,YAAYn2E,KAAKiqG,WACxBjqG,KAAKmqG,UAET,KAAOnqG,KAAKmqG,QAAU15D,GAClBzwC,KAAK6pG,gBACL7pG,KAAKmqG,SAEb,MAEI,KAAOnqG,KAAKmqG,QAAU15D,GAClB/f,EAAS1wB,KAAKgqG,SAAShqG,KAAKmqG,QAAU,GACtCnqG,KAAK+pG,WAAWj6F,YAAY4gB,EAAO7hB,WACnC7O,KAAKmqG,UAGbnqG,KAAK+1E,QADL,CAEJ,EACA/1E,KAAKoqG,UAAY,WACb,OAAOpqG,KAAKmqG,OAChB,EACAnqG,KAAKqqG,UAAY,SAAU93C,GACvB,OAAOvyD,KAAKgqG,SAASz3C,EACzB,EACAvyD,KAAKsqG,iBAAmB,WACpB,OAAOtqG,KAAKuqG,QAChB,EACAvqG,KAAKspB,MAAQ,WACTtpB,KAAKuqG,SAASjhF,OAClB,EACAtpB,KAAKgqB,KAAO,WACRhqB,KAAKuqG,SAASvgF,MAClB,EACAhqB,KAAK+1B,SAAW,SAAUC,GACtBh2B,KAAKgqG,SAASjlG,SAAQ,SAAU2rB,GAC5BA,EAAOqF,SAASC,EACpB,GACJ,EACAh2B,KAAKwpC,mBAAqB,SAAUghE,GAChCxqG,KAAKgqG,SAASjlG,SAAQ,SAAU2rB,GAC5BA,EAAO8Y,mBAAmBghE,EAC9B,GACJ,EACAxqG,KAAK+E,QAAU,SAAU9D,EAAUilD,GAC/BlmD,KAAKgqG,SAASjlG,QAAQ9D,EAAUilD,EACpC,EACAlmD,KAAKiqG,UAAY,GACjBjqG,KAAKm2E,YAAc,SAAUtlC,GACzB7wC,KAAKiqG,UAAYp5D,EACjB7wC,KAAK+E,SAAQ,SAAU2rB,GACnBA,EAAOylD,YAAYtlC,EACvB,GACJ,EACA7wC,KAAKyqG,cAAgB,SAAUxtF,GAC3B,IAAIzL,EAAI,IAAIwoD,EAAY/8C,EAAQo2B,cAAep2B,EAAQoiD,WACnD3D,EAAcz+C,EAAQwnB,iBAU1B,OATAjzB,EAAE+pD,eAAeG,GACjBlqD,EAAEmrD,WAAW1/C,EAAQ45B,cACrBrlC,EAAEgrD,eAAev/C,EAAQmnC,kBACzB5yC,EAAEwrD,aAAa//C,EAAQo1B,gBACvB7gC,EAAEsqD,eAAe7+C,EAAQqgD,kBACzB9rD,EAAEiwD,eAAexkD,EAAQwrB,kBACzBj3B,EAAE6sD,aAAaphD,EAAQshD,gBACvB/sD,EAAEmwD,kBAAkB1kD,EAAQ2kD,gBAAgB37D,IAAKgX,EAAQ2kD,gBAAgB57D,KACzEwL,EAAE4iD,UAAYn3C,EAAQo5C,iBACf7kD,CACX,EACAxR,KAAK8yE,WAAa,SAAU71D,EAASs1C,GACjC,IAAI7hC,EAEAA,EADO,MAAP6hC,EACSvyD,KAAKuqG,SAGLvqG,KAAKgqG,SAASz3C,GAE3B,IAAIm4C,EAAS1qG,KAAKgqG,SAASznE,MAAK,SAAU7R,GACtC,OAAOA,EAAOzT,UAAYA,CAC9B,IAKA,OAJIytF,IACAztF,EAAUjd,KAAKyqG,cAAcxtF,IAEjCyT,EAAOoiD,WAAW71D,GACXA,CACX,EACAjd,KAAK2qG,eAAiB,WAClB,OAAO3qG,KAAK4qG,YAChB,EACA5qG,KAAK6qG,eAAiB,SAAUC,GACxB9qG,KAAK4qG,cAAgBE,IAGzB9qG,KAAK4qG,aAAeE,EACpB9qG,KAAK+1E,SACT,EACA/1E,KAAK+1E,OAAS,WACV,IAEIrlD,EAFAlyB,EAAQwB,KAAK+pG,WAAWl6F,YACxB/R,EAASkC,KAAK+pG,WAAW76E,aAE7B,GAAIlvB,KAAK4qG,cAAgB5qG,KAAK+qG,OAE1B,IADA,IAAIC,EAAcxsG,EAAQwB,KAAKmqG,QACtB1oG,EAAI,EAAGA,EAAIzB,KAAKmqG,QAAS1oG,KAC9BivB,EAAS1wB,KAAKgqG,SAASvoG,IAChBoN,UAAU3R,MAAMsB,MAAQwsG,EAAc,KAC7Ct6E,EAAO7hB,UAAU3R,MAAME,IAAM,MAC7BszB,EAAO7hB,UAAU3R,MAAMK,KAAOkE,EAAIupG,EAAc,KAChDt6E,EAAO7hB,UAAU3R,MAAMY,OAASA,EAAS,KACzC4yB,EAAOqlD,aAIX,KAAIk1B,EAAentG,EAASkC,KAAKmqG,QACjC,IAAS1oG,EAAI,EAAGA,EAAIzB,KAAKmqG,QAAS1oG,KAC9BivB,EAAS1wB,KAAKgqG,SAASvoG,IAChBoN,UAAU3R,MAAMsB,MAAQA,EAAQ,KACvCkyB,EAAO7hB,UAAU3R,MAAME,IAAMqE,EAAIwpG,EAAe,KAChDv6E,EAAO7hB,UAAU3R,MAAMK,KAAO,MAC9BmzB,EAAO7hB,UAAU3R,MAAMY,OAASmtG,EAAe,KAC/Cv6E,EAAOqlD,QAP6B,CAUhD,CACH,GAAEx0E,MAlKHqoG,EAAQ,SAAU/6F,EAAWmnB,EAAOya,GAChCzwC,KAAKkrG,MAAQ,EACblrG,KAAK+qG,OAAS,EACd/qG,KAAK+pG,WAAal7F,EAClB7O,KAAKo+F,OAASpoE,EACdh2B,KAAKmqG,QAAU,EACfnqG,KAAK8pG,WAAa,GAClB9pG,KAAKgqG,SAAW,GAChBhqG,KAAK4qG,aAAe5qG,KAAK+qG,OACzB/qG,KAAKkqG,UAAUz5D,GAAU,GACzBzwC,KAAKuqG,SAAWvqG,KAAKgqG,SAAS,GAC9BhqG,KAAKqT,GAAG,QAAS,SAAUqd,GACvB1wB,KAAKuqG,SAAW75E,CACpB,EAAE7K,KAAK7lB,MACX,GAoJcqB,WACdoB,EAAQmnG,MAAQA,CAEhB,IAEA3mG,IAAI/C,OAAO,gBAAgB,CAAC,UAAU,UAAU,SAAS,cAAc,SAAS0B,EAASa,EAAStC,GAAQ,aAC1GA,EAAOsC,QAAUb,EAAQ,WAEzB,IACoBqB,IAAIrB,QAAQ,CAAC,kBAAkB,SAAS4Y,GAC2Bra,IAC3DA,EAAOsC,QAAU+X,EAEzB,qBCvLpBvX,IAAI/C,OAAO,gCAAgC,CAAC,UAAU,UAAU,SAAS,cAAc,kCAAkC,SAASirG,EAAU1oG,EAAStC,GACrJ,aAEA,IAAI0U,EAAMs2F,EAAS,cACf/uD,EAAqB+uD,EAAS,0BAA0B/uD,mBAExDgvD,EAAqB,WACrBprG,KAAKw8C,OAAS,CACV,MAAU,CACN,CACI7B,MAAQ,WACRH,MAAQ,+CACT,CACCG,MAAQ,SACRH,MAAQ,IACRtlB,KAAQ,UACT,CACCylB,MAAQ,mBACRH,MAAQ,wBACT,CACCG,MAAQ,mBACRH,MAAQ,mDACT,CACCG,MAAQ,4BACRH,MAAQ,qBACT,CACCG,MAAQ,OACRH,MAAQ,sCACT,CACCG,MAAQ,UACRH,MAAQ,aACT,CACCG,MAAQ,gBACRH,MAAQ,SACRtlB,KAAQ,WACT,CACCylB,MAAQ,eACRH,MAAQ,SACT,CACCG,MAAQ,eACRH,MAAQ,WACT,CACCG,MAAQ,OACRH,MAAQ,SAGhB,OAAW,CACP,CACIG,MAAQ,2BACRH,MAAQ,sDACT,CACCG,MAAQ,SACRH,MAAQ,MACRtlB,KAAQ,SACT,CACCglB,aAAe,WAGvB,QAAY,CACR,CACIS,MAAQ,cACRH,MAAQ,SACRtlB,KAAQ,SACT,CACCglB,aAAc,YAK9B,EAEArlC,EAAI/C,SAASs5F,EAAoBhvD,GAEjC35C,EAAQ2oG,mBAAqBA,CAC7B,IAEAnoG,IAAI/C,OAAO,kCAAkC,CAAC,UAAU,UAAU,SAAS,cAAc,SAASirG,EAAU1oG,EAAStC,GACrH,aAEA,IAAIwa,EAAQwwF,EAAS,YAAYxwF,MAE7B0wF,EAAuB,WAAY,GAEvC,WAEIrrG,KAAK2lD,aAAe,SAASv8C,EAAMw8C,GAC/B,QAAM,QAAQp6C,KAAKpC,IAGZ,SAASoC,KAAKo6C,EACzB,EAEA5lD,KAAK6lD,YAAc,SAASh5C,EAAKoO,GAC7B,IACIvQ,EADOmC,EAAI4d,QAAQxP,GACNvQ,MAAM,YAEvB,IAAKA,EAAO,OAAO,EAEnB,IAAIwQ,EAASxQ,EAAM,GAAGnK,OAClB+gD,EAAez0C,EAAI00C,oBAAoB,CAACtmC,IAAKA,EAAKC,OAAQA,IAE9D,IAAKomC,GAAgBA,EAAarmC,KAAOA,EAAK,OAAO,EAErD,IAAI01B,EAAS3wC,KAAKyhD,WAAW50C,EAAI4d,QAAQ62B,EAAarmC,MACtDpO,EAAIrK,QAAQ,IAAImY,EAAMM,EAAK,EAAGA,EAAKC,EAAO,GAAIy1B,EAClD,EAEA3wC,KAAKyhD,WAAa,SAASr4C,GACvB,OAAOA,EAAKsB,MAAM,QAAQ,EAC9B,CAEH,GAAEnJ,KAAK8pG,EAAqBhqG,WAE7BoB,EAAQ4oG,qBAAuBA,CAC/B,IAEApoG,IAAI/C,OAAO,0BAA0B,CAAC,UAAU,UAAU,SAAS,cAAc,YAAY,+BAA+B,SAASirG,EAAU1oG,EAAStC,GACxJ,aAEA,IAAI0U,EAAMs2F,EAAS,iBACfxwF,EAAQwwF,EAAS,eAAexwF,MAChC2wF,EAAeH,EAAS,eAAe9C,SAEvCA,EAAW5lG,EAAQ4lG,SAAW,SAASkD,GACnCA,IACAvrG,KAAKsoG,mBAAqB,IAAIr/F,OAC1BjJ,KAAKsoG,mBAAmBzjG,OAAOrC,QAAQ,YAAa,IAAM+oG,EAAavwF,QAE3Ehb,KAAKuoG,kBAAoB,IAAIt/F,OACzBjJ,KAAKuoG,kBAAkB1jG,OAAOrC,QAAQ,YAAa,IAAM+oG,EAAarlG,MAGlF,EACA2O,EAAI/C,SAASu2F,EAAUiD,GAEvB,WAEItrG,KAAKsoG,mBAAqB,mCAC1BtoG,KAAKuoG,kBAAoB,uCACzBvoG,KAAKwrG,yBAA0B,uBAC/BxrG,KAAKyrG,yBAA2B,2BAChCzrG,KAAK0rG,cAAgB,4BACrB1rG,KAAK2rG,mBAAqB3rG,KAAK62D,cAC/B72D,KAAK62D,cAAgB,SAAS55C,EAAS6oD,EAAW7qD,GAC9C,IAAI7R,EAAO6T,EAAQwN,QAAQxP,GAE3B,GAAIjb,KAAKwrG,yBAAyBhgG,KAAKpC,KAC9BpJ,KAAK0rG,cAAclgG,KAAKpC,KAAUpJ,KAAKyrG,yBAAyBjgG,KAAKpC,GACtE,MAAO,GAGf,IAAIwuD,EAAK53D,KAAK2rG,mBAAmB1uF,EAAS6oD,EAAW7qD,GAErD,OAAK28C,GAAM53D,KAAK0rG,cAAclgG,KAAKpC,GACxB,QAEJwuD,CACX,EAEA53D,KAAK82D,mBAAqB,SAAS75C,EAAS6oD,EAAW7qD,EAAK2wF,GACxD,IA2BIlhG,EA3BAtB,EAAO6T,EAAQwN,QAAQxP,GAE3B,GAAIjb,KAAK0rG,cAAclgG,KAAKpC,GACxB,OAAOpJ,KAAK6rG,sBAAsB5uF,EAAS7T,EAAM6R,GAGrD,GADIvQ,EAAQtB,EAAKsB,MAAM1K,KAAKsoG,oBACjB,CACP,IAAI7mG,EAAIiJ,EAAM9F,MAEd,GAAI8F,EAAM,GACN,OAAO1K,KAAK0oG,oBAAoBzrF,EAASvS,EAAM,GAAIuQ,EAAKxZ,GAE5D,IAAI2Z,EAAQ6B,EAAQy5C,oBAAoBz7C,EAAKxZ,EAAIiJ,EAAM,GAAGnK,OAAQ,GASlE,OAPI6a,IAAUA,EAAMgB,gBACZwvF,EACAxwF,EAAQpb,KAAK8rG,gBAAgB7uF,EAAShC,GAClB,OAAb6qD,IACP1qD,EAAQ,OAGTA,CACX,CAEA,GAAkB,cAAd0qD,IAGAp7D,EAAQtB,EAAKsB,MAAM1K,KAAKuoG,oBACjB,CACH9mG,EAAIiJ,EAAM9F,MAAQ8F,EAAM,GAAGnK,OAE/B,OAAImK,EAAM,GACC1K,KAAK2oG,oBAAoB1rF,EAASvS,EAAM,GAAIuQ,EAAKxZ,GAErDwb,EAAQy5C,oBAAoBz7C,EAAKxZ,GAAI,EAChD,CACJ,EAEAzB,KAAK8rG,gBAAkB,SAAS7uF,EAAShC,GAQrC,IAPA,IAAI7R,EAAO6T,EAAQwN,QAAQxP,GACvB8wF,EAAc3iG,EAAKmuC,OAAO,MAC1B38B,EAAWK,EACXJ,EAAczR,EAAK7I,OAEnBua,EADJG,GAAY,EAER6pD,EAAS7nD,EAAQ0e,cACZ1gB,EAAM6pD,GAAQ,CAEnB,IAAIn0B,GADJvnC,EAAO6T,EAAQwN,QAAQxP,IACLs8B,OAAO,MACzB,IAAgB,IAAZ5G,EAAJ,CAEA,GAAKo7D,EAAcp7D,EACf,MACJ,IAAIq7D,EAAWhsG,KAAK82D,mBAAmB75C,EAAS,MAAOhC,GAEvD,GAAI+wF,EAAU,CACV,GAAIA,EAAShxF,MAAMC,KAAOL,EACtB,MACG,GAAIoxF,EAAS5vF,cAChBnB,EAAM+wF,EAAS9lG,IAAI+U,SAChB,GAAI8wF,GAAep7D,EACtB,KAER,CACA71B,EAASG,CAdG,CAehB,CAEA,OAAO,IAAIN,EAAMC,EAAUC,EAAaC,EAAQmC,EAAQwN,QAAQ3P,GAAQva,OAC5E,EACAP,KAAK6rG,sBAAwB,SAAS5uF,EAAS7T,EAAM6R,GAOjD,IANA,IAAIJ,EAAczR,EAAKmuC,OAAO,QAC1ButB,EAAS7nD,EAAQ0e,YACjB/gB,EAAWK,EAEX9C,EAAK,uCACLy+C,EAAQ,IACH37C,EAAM6pD,GAAQ,CACnB17D,EAAO6T,EAAQwN,QAAQxP,GACvB,IAAIT,EAAIrC,EAAGlO,KAAKb,GAChB,GAAKoR,IACDA,EAAE,GAAIo8C,IACLA,KAEAA,GAAO,KAChB,CAGA,GADa37C,EACAL,EACT,OAAO,IAAID,EAAMC,EAAUC,EAFlBI,EAEuC7R,EAAK7I,OAE7D,CAEH,EAAEgB,KAAK8mG,EAAShnG,UAEjB,IAEA4B,IAAI/C,OAAO,gBAAgB,CAAC,UAAU,UAAU,SAAS,cAAc,gBAAgB,gCAAgC,kCAAkC,4BAA4B,0BAA0B,6BAA6B,SAASirG,EAAU1oG,EAAStC,GACxQ,aAEA,IAAI0U,EAAMs2F,EAAS,cACfpxC,EAAWoxC,EAAS,UAAU7nD,KAC9B3G,EAAiBwuD,EAAS,0BAA0BC,mBACpDC,EAAuBF,EAAS,4BAA4BE,qBAC5D3rD,EAAkByrD,EAAS,sBAAsBzrD,gBACjDusD,EAAiBd,EAAS,oBAAoB9C,SAC9C9I,EAAe4L,EAAS,2BAA2B5L,aAEnDj8C,EAAO,WACPtjD,KAAK28C,eAAiBA,EACtB38C,KAAKksG,SAAW,IAAIb,EACpBrrG,KAAK0mD,WAAa,IAAIhH,EACtB1/C,KAAKm/D,aAAe,IAAI8sC,CAC5B,EACAp3F,EAAI/C,SAASwxC,EAAMyW,GAEnB,WAEI/5D,KAAKylD,kBAAoB,SAASxiB,EAAO75B,EAAMs8C,GAC3C,IAAI/U,EAAS3wC,KAAKyhD,WAAWr4C,GAEhB,SAAT65B,IACY75B,EAAKsB,MAAM,qBAEnBimC,GAAU+U,IAIlB,OAAO/U,CACX,EAEA3wC,KAAK2lD,aAAe,SAAS1iB,EAAO75B,EAAMw8C,GACtC,OAAO5lD,KAAKksG,SAASvmD,aAAav8C,EAAMw8C,EAC5C,EAEA5lD,KAAK6lD,YAAc,SAAS5iB,EAAOp2B,EAAKoO,GACpCjb,KAAKksG,SAASrmD,YAAYh5C,EAAKoO,EACnC,EAEAjb,KAAK8lD,aAAe,SAAS7oC,GACzB,IAAIuiF,EAAS,IAAID,EAAa,CAAC,OAAQ39F,EAAQ,OAAmB,cAWlE,OAVA49F,EAAOqB,iBAAiB5jF,EAAQo2B,eAEhCmsD,EAAOnsF,GAAG,YAAY,SAASnK,GAC3B+T,EAAQ4+C,eAAe3yD,EAAEsL,KAC7B,IAEAgrF,EAAOnsF,GAAG,aAAa,WACnB4J,EAAQihD,kBACZ,IAEOshC,CACX,EAGAx/F,KAAKgX,IAAM,eACd,EAAEzV,KAAK+hD,EAAKjiD,WAEboB,EAAQ6gD,KAAOA,CACf,eC9TAnjD,EAAOsC,QAAQE,GAAK,uBACpBxC,EAAOsC,QAAQgP,IAAM,2/zCC2BrB,IAAI06F,EAAmB,WAMrBnsG,KAAKosG,aAAe,EAEpBpsG,KAAKqsG,cAAgB,EAErBrsG,KAAKssG,gBAAkB,GAIvBtsG,KAAKusG,eAAiB,IAKtBvsG,KAAKwsG,sBAAwB,GAE7BxsG,KAAKysG,aAAe,EAGpBzsG,KAAK0sG,cAAgB,EACvB,EAWIC,GAAe,EAanBR,EAAiBS,KAAO,SAASC,EAAI9lF,GACnC,MAAO,CAAC8lF,EAAI9lF,EACd,EAeAolF,EAAiB9qG,UAAUyrG,UAAY,SAASC,EAAOC,EAAOC,EAC1DC,GAEyB,oBAAhBA,IAEPA,EADEltG,KAAKosG,cAAgB,EACRtkF,OAAOusB,WAEN,IAAIpuB,MAAMknF,UAAgC,IAApBntG,KAAKosG,cAG/C,IAAIgB,EAAWF,EAGf,GAAa,MAATH,GAA0B,MAATC,EACnB,MAAM,IAAIv4F,MAAM,2BAIlB,GAAIs4F,GAASC,EACX,OAAID,EACK,CAAC,IAAIZ,EAAiBS,KAhDlB,EAgDmCG,IAEzC,GAGoB,oBAAlBE,IACTA,GAAiB,GAEnB,IAAII,EAAaJ,EAGbK,EAAettG,KAAKutG,kBAAkBR,EAAOC,GAC7CQ,EAAeT,EAAMn8D,UAAU,EAAG08D,GACtCP,EAAQA,EAAMn8D,UAAU08D,GACxBN,EAAQA,EAAMp8D,UAAU08D,GAGxBA,EAAettG,KAAKytG,kBAAkBV,EAAOC,GAC7C,IAAIU,EAAeX,EAAMn8D,UAAUm8D,EAAMxsG,OAAS+sG,GAClDP,EAAQA,EAAMn8D,UAAU,EAAGm8D,EAAMxsG,OAAS+sG,GAC1CN,EAAQA,EAAMp8D,UAAU,EAAGo8D,EAAMzsG,OAAS+sG,GAG1C,IAAIK,EAAQ3tG,KAAK4tG,cAAcb,EAAOC,EAAOK,EAAYD,GAUzD,OAPII,GACFG,EAAMxxD,QAAQ,IAAIgwD,EAAiBS,KA3EtB,EA2EuCY,IAElDE,GACFC,EAAM9rG,KAAK,IAAIsqG,EAAiBS,KA9EnB,EA8EoCc,IAEnD1tG,KAAK6tG,kBAAkBF,GAChBA,CACT,EAeAxB,EAAiB9qG,UAAUusG,cAAgB,SAASb,EAAOC,EAAOK,EAC9DD,GACF,IAAIO,EAEJ,IAAKZ,EAEH,MAAO,CAAC,IAAIZ,EAAiBS,KAxGf,EAwGiCI,IAGjD,IAAKA,EAEH,MAAO,CAAC,IAAIb,EAAiBS,KAAKD,EAAaI,IAGjD,IAAIe,EAAWf,EAAMxsG,OAASysG,EAAMzsG,OAASwsG,EAAQC,EACjDe,EAAYhB,EAAMxsG,OAASysG,EAAMzsG,OAASysG,EAAQD,EAClDtrG,EAAIqsG,EAAS7rG,QAAQ8rG,GACzB,IAAU,GAANtsG,EAUF,OARAksG,EAAQ,CAAC,IAAIxB,EAAiBS,KArHhB,EAqHkCkB,EAASl9D,UAAU,EAAGnvC,IAC7D,IAAI0qG,EAAiBS,KArHjB,EAqHkCmB,GACtC,IAAI5B,EAAiBS,KAvHhB,EAwHDkB,EAASl9D,UAAUnvC,EAAIssG,EAAUxtG,UAE1CwsG,EAAMxsG,OAASysG,EAAMzsG,SACvBotG,EAAM,GAAG,GAAKA,EAAM,GAAG,GAAKhB,GAEvBgB,EAGT,GAAwB,GAApBI,EAAUxtG,OAGZ,MAAO,CAAC,IAAI4rG,EAAiBS,KAAKD,EAAaI,GACvC,IAAIZ,EAAiBS,KApIf,EAoIiCI,IAIjD,IAAIgB,EAAKhuG,KAAKiuG,gBAAgBlB,EAAOC,GACrC,GAAIgB,EAAI,CAEN,IAAIE,EAAUF,EAAG,GACbG,EAAUH,EAAG,GACbI,EAAUJ,EAAG,GACbK,EAAUL,EAAG,GACbM,EAAaN,EAAG,GAEhBO,EAAUvuG,KAAK8sG,UAAUoB,EAASE,EAASf,EAAYD,GACvDoB,EAAUxuG,KAAK8sG,UAAUqB,EAASE,EAAShB,EAAYD,GAE3D,OAAOmB,EAAQ1xG,OAAO,CAAC,IAAIsvG,EAAiBS,KAnJ/B,EAmJgD0B,IACvCE,EACxB,CAEA,OAAInB,GAAcN,EAAMxsG,OAAS,KAAOysG,EAAMzsG,OAAS,IAC9CP,KAAKyuG,eAAe1B,EAAOC,EAAOI,GAGpCptG,KAAK0uG,aAAa3B,EAAOC,EAAOI,EACzC,EAaAjB,EAAiB9qG,UAAUotG,eAAiB,SAAS1B,EAAOC,EAAOI,GAEjE,IAAI1mG,EAAI1G,KAAK2uG,mBAAmB5B,EAAOC,GACvCD,EAAQrmG,EAAEkoG,OACV5B,EAAQtmG,EAAEmoG,OACV,IAAIC,EAAYpoG,EAAEqoG,UAEdpB,EAAQ3tG,KAAK8sG,UAAUC,EAAOC,GAAO,EAAOI,GAGhDptG,KAAKgvG,mBAAmBrB,EAAOmB,GAE/B9uG,KAAKivG,qBAAqBtB,GAI1BA,EAAM9rG,KAAK,IAAIsqG,EAAiBS,KAzLjB,EAyLkC,KAMjD,IALA,IAAIsC,EAAU,EACVC,EAAe,EACfC,EAAe,EACfC,EAAc,GACdC,EAAc,GACXJ,EAAUvB,EAAMptG,QAAQ,CAC7B,OAAQotG,EAAMuB,GAAS,IACrB,KAlMY,EAmMVE,IACAE,GAAe3B,EAAMuB,GAAS,GAC9B,MACF,KAAKvC,EACHwC,IACAE,GAAe1B,EAAMuB,GAAS,GAC9B,MACF,KAzMW,EA2MT,GAAIC,GAAgB,GAAKC,GAAgB,EAAG,CAE1CzB,EAAMhmG,OAAOunG,EAAUC,EAAeC,EACzBD,EAAeC,GAC5BF,EAAUA,EAAUC,EAAeC,EAGnC,IAFA,IAAIG,EACAvvG,KAAK8sG,UAAUuC,EAAaC,GAAa,EAAOlC,GAC3C9yF,EAAIi1F,EAAQhvG,OAAS,EAAG+Z,GAAK,EAAGA,IACvCqzF,EAAMhmG,OAAOunG,EAAS,EAAGK,EAAQj1F,IAEnC40F,GAAoBK,EAAQhvG,MAC9B,CACA6uG,EAAe,EACfD,EAAe,EACfE,EAAc,GACdC,EAAc,GAGlBJ,GACF,CAGA,OAFAvB,EAAM35F,MAEC25F,CACT,EAaAxB,EAAiB9qG,UAAUqtG,aAAe,SAAS3B,EAAOC,EAAOI,GAW/D,IATA,IAAIoC,EAAezC,EAAMxsG,OACrBkvG,EAAezC,EAAMzsG,OACrBmvG,EAAQrxG,KAAKywE,MAAM0gC,EAAeC,GAAgB,GAClDE,EAAWD,EACXE,EAAW,EAAIF,EACfG,EAAK,IAAIxqG,MAAMuqG,GACfE,EAAK,IAAIzqG,MAAMuqG,GAGV5uF,EAAI,EAAGA,EAAI4uF,EAAU5uF,IAC5B6uF,EAAG7uF,IAAM,EACT8uF,EAAG9uF,IAAM,EAEX6uF,EAAGF,EAAW,GAAK,EACnBG,EAAGH,EAAW,GAAK,EAWnB,IAVA,IAAI7/D,EAAQ0/D,EAAeC,EAGvBM,EAASjgE,EAAQ,GAAK,EAGtBkgE,EAAU,EACVC,EAAQ,EACRC,EAAU,EACVC,EAAQ,EACHz7E,EAAI,EAAGA,EAAIg7E,MAEb,IAAIzpF,MAAQknF,UAAYC,GAFJ14E,IAAK,CAO9B,IAAK,IAAI07E,GAAM17E,EAAIs7E,EAASI,GAAM17E,EAAIu7E,EAAOG,GAAM,EAAG,CASpD,IARA,IAAIC,EAAYV,EAAWS,EAOvBrb,GAJFub,EADEF,IAAO17E,GAAM07E,GAAM17E,GAAKm7E,EAAGQ,EAAY,GAAKR,EAAGQ,EAAY,GACxDR,EAAGQ,EAAY,GAEfR,EAAGQ,EAAY,GAAK,GAEbD,EACPE,EAAKd,GAAgBza,EAAK0a,GAC1B1C,EAAM3qG,OAAOkuG,IAAOtD,EAAM5qG,OAAO2yF,IACtCub,IACAvb,IAGF,GADA8a,EAAGQ,GAAaC,EACZA,EAAKd,EAEPS,GAAS,OACJ,GAAIlb,EAAK0a,EAEdO,GAAW,OACN,GAAID,EAAO,CAEhB,IADIQ,EAAYZ,EAAW7/D,EAAQsgE,IAClB,GAAKG,EAAYX,IAA8B,GAAlBE,EAAGS,GAG/C,GAAID,IADAE,EAAKhB,EAAeM,EAAGS,IAGzB,OAAOvwG,KAAKywG,kBAAkB1D,EAAOC,EAAOsD,EAAIvb,EAAIqY,EAG1D,CACF,CAGA,IAAK,IAAIsD,GAAMh8E,EAAIw7E,EAASQ,GAAMh8E,EAAIy7E,EAAOO,GAAM,EAAG,CASpD,IARA,IACIF,EADAD,EAAYZ,EAAWe,EAOvB1b,GAJFwb,EADEE,IAAOh8E,GAAMg8E,GAAMh8E,GAAKo7E,EAAGS,EAAY,GAAKT,EAAGS,EAAY,GACxDT,EAAGS,EAAY,GAEfT,EAAGS,EAAY,GAAK,GAEbG,EACPF,EAAKhB,GAAgBxa,EAAKya,GAC1B1C,EAAM3qG,OAAOotG,EAAegB,EAAK,IACjCxD,EAAM5qG,OAAOqtG,EAAeza,EAAK,IACtCwb,IACAxb,IAGF,GADA8a,EAAGS,GAAaC,EACZA,EAAKhB,EAEPW,GAAS,OACJ,GAAInb,EAAKya,EAEdS,GAAW,OACN,IAAKH,EAAO,CAEjB,IADIM,EAAYV,EAAW7/D,EAAQ4gE,IAClB,GAAKL,EAAYT,IAA8B,GAAlBC,EAAGQ,GAAkB,CACjE,IAAIC,EACAvb,EAAK4a,GADLW,EAAKT,EAAGQ,IACaA,EAGzB,GAAIC,IADJE,EAAKhB,EAAegB,GAGlB,OAAOxwG,KAAKywG,kBAAkB1D,EAAOC,EAAOsD,EAAIvb,EAAIqY,EAExD,CACF,CACF,CACF,CAGA,MAAO,CAAC,IAAIjB,EAAiBS,KAAKD,EAAaI,GACvC,IAAIZ,EAAiBS,KA7Vb,EA6V+BI,GACjD,EAcAb,EAAiB9qG,UAAUovG,kBAAoB,SAAS1D,EAAOC,EAAOhsF,EAAG+Q,EACrEq7E,GACF,IAAIuD,EAAS5D,EAAMn8D,UAAU,EAAG5vB,GAC5B4vF,EAAS5D,EAAMp8D,UAAU,EAAG7e,GAC5B8+E,EAAS9D,EAAMn8D,UAAU5vB,GACzB8vF,EAAS9D,EAAMp8D,UAAU7e,GAGzB47E,EAAQ3tG,KAAK8sG,UAAU6D,EAAQC,GAAQ,EAAOxD,GAC9C2D,EAAS/wG,KAAK8sG,UAAU+D,EAAQC,GAAQ,EAAO1D,GAEnD,OAAOO,EAAM9wG,OAAOk0G,EACtB,EAcA5E,EAAiB9qG,UAAUstG,mBAAqB,SAAS5B,EAAOC,GAC9D,IAAI+B,EAAY,GACZiC,EAAW,CAAC,EAchB,SAASC,EAAwBlqF,GAS/B,IARA,IAAIulB,EAAQ,GAIR4kE,EAAY,EACZ95D,GAAW,EAEX+5D,EAAkBpC,EAAUxuG,OACzB62C,EAAUrwB,EAAKxmB,OAAS,GAAG,EAEhB,IADhB62C,EAAUrwB,EAAK9kB,QAAQ,KAAMivG,MAE3B95D,EAAUrwB,EAAKxmB,OAAS,GAE1B,IAAI6I,EAAO2d,EAAK6pB,UAAUsgE,EAAW95D,EAAU,IAE3C45D,EAASr5F,eAAiBq5F,EAASr5F,eAAevO,QAC9BjI,IAAnB6vG,EAAS5nG,IACZkjC,GAAS3oC,OAAOuc,aAAa8wF,EAAS5nG,KAElC+nG,GAAmBluB,IAGrB75E,EAAO2d,EAAK6pB,UAAUsgE,GACtB95D,EAAUrwB,EAAKxmB,QAEjB+rC,GAAS3oC,OAAOuc,aAAaixF,GAC7BH,EAAS5nG,GAAQ+nG,EACjBpC,EAAUoC,KAAqB/nG,GAEjC8nG,EAAY95D,EAAU,CACxB,CACA,OAAO9K,CACT,CA3CAyiE,EAAU,GAAK,GA6Cf,IAAI9rB,EAAW,IACX2rB,EAASqC,EAAwBlE,GAGrC,OAFA9pB,EAAW,MAEJ,CAAC2rB,OAAQA,EAAQC,OADXoC,EAAwBjE,GACG+B,UAAWA,EACrD,EAUA5C,EAAiB9qG,UAAU2tG,mBAAqB,SAASrB,EAAOoB,GAC9D,IAAK,IAAIttG,EAAI,EAAGA,EAAIksG,EAAMptG,OAAQkB,IAAK,CAGrC,IAFA,IAAI6qC,EAAQqhE,EAAMlsG,GAAG,GACjBslB,EAAO,GACFzM,EAAI,EAAGA,EAAIgyB,EAAM/rC,OAAQ+Z,IAChCyM,EAAKzM,GAAKy0F,EAAUziE,EAAMS,WAAWzyB,IAEvCqzF,EAAMlsG,GAAG,GAAKslB,EAAKzkB,KAAK,GAC1B,CACF,EAUA6pG,EAAiB9qG,UAAUksG,kBAAoB,SAASR,EAAOC,GAE7D,IAAKD,IAAUC,GAASD,EAAM3qG,OAAO,IAAM4qG,EAAM5qG,OAAO,GACtD,OAAO,EAQT,IAJA,IAAIgvG,EAAa,EACbC,EAAahzG,KAAK4H,IAAI8mG,EAAMxsG,OAAQysG,EAAMzsG,QAC1C+wG,EAAaD,EACbE,EAAe,EACZH,EAAaE,GACdvE,EAAMn8D,UAAU2gE,EAAcD,IAC9BtE,EAAMp8D,UAAU2gE,EAAcD,GAEhCC,EADAH,EAAaE,EAGbD,EAAaC,EAEfA,EAAajzG,KAAK8mD,OAAOksD,EAAaD,GAAc,EAAIA,GAE1D,OAAOE,CACT,EASAnF,EAAiB9qG,UAAUosG,kBAAoB,SAASV,EAAOC,GAE7D,IAAKD,IAAUC,GACXD,EAAM3qG,OAAO2qG,EAAMxsG,OAAS,IAAMysG,EAAM5qG,OAAO4qG,EAAMzsG,OAAS,GAChE,OAAO,EAQT,IAJA,IAAI6wG,EAAa,EACbC,EAAahzG,KAAK4H,IAAI8mG,EAAMxsG,OAAQysG,EAAMzsG,QAC1C+wG,EAAaD,EACbG,EAAa,EACVJ,EAAaE,GACdvE,EAAMn8D,UAAUm8D,EAAMxsG,OAAS+wG,EAAYvE,EAAMxsG,OAASixG,IAC1DxE,EAAMp8D,UAAUo8D,EAAMzsG,OAAS+wG,EAAYtE,EAAMzsG,OAASixG,GAE5DA,EADAJ,EAAaE,EAGbD,EAAaC,EAEfA,EAAajzG,KAAK8mD,OAAOksD,EAAaD,GAAc,EAAIA,GAE1D,OAAOE,CACT,EAWAnF,EAAiB9qG,UAAUowG,oBAAsB,SAAS1E,EAAOC,GAE/D,IAAIwC,EAAezC,EAAMxsG,OACrBkvG,EAAezC,EAAMzsG,OAEzB,GAAoB,GAAhBivG,GAAqC,GAAhBC,EACvB,OAAO,EAGLD,EAAeC,EACjB1C,EAAQA,EAAMn8D,UAAU4+D,EAAeC,GAC9BD,EAAeC,IACxBzC,EAAQA,EAAMp8D,UAAU,EAAG4+D,IAE7B,IAAIkC,EAAcrzG,KAAK4H,IAAIupG,EAAcC,GAEzC,GAAI1C,GAASC,EACX,OAAO0E,EAQT,IAFA,IAAIC,EAAO,EACPpxG,EAAS,IACA,CACX,IAAIqxG,EAAU7E,EAAMn8D,UAAU8gE,EAAcnxG,GACxCy4D,EAAQg0C,EAAM/qG,QAAQ2vG,GAC1B,IAAc,GAAV54C,EACF,OAAO24C,EAETpxG,GAAUy4D,EACG,GAATA,GAAc+zC,EAAMn8D,UAAU8gE,EAAcnxG,IAC5CysG,EAAMp8D,UAAU,EAAGrwC,KACrBoxG,EAAOpxG,EACPA,IAEJ,CACF,EAcA4rG,EAAiB9qG,UAAU4sG,gBAAkB,SAASlB,EAAOC,GAC3D,GAAIhtG,KAAKosG,cAAgB,EAEvB,OAAO,KAET,IAAI0B,EAAWf,EAAMxsG,OAASysG,EAAMzsG,OAASwsG,EAAQC,EACjDe,EAAYhB,EAAMxsG,OAASysG,EAAMzsG,OAASysG,EAAQD,EACtD,GAAIe,EAASvtG,OAAS,GAAwB,EAAnBwtG,EAAUxtG,OAAautG,EAASvtG,OACzD,OAAO,KAET,IAAIsxG,EAAM7xG,KAcV,SAAS8xG,EAAiBhE,EAAUC,EAAWtsG,GAM7C,IAJA,IAGIswG,EAAiBC,EAAiBC,EAAkBC,EAHpDC,EAAOrE,EAASl9D,UAAUnvC,EAAGA,EAAIpD,KAAK8mD,MAAM2oD,EAASvtG,OAAS,IAC9D+Z,GAAK,EACL83F,EAAc,IAE8B,IAAxC93F,EAAIyzF,EAAU9rG,QAAQkwG,EAAM73F,EAAI,KAAW,CACjD,IAAI+3F,EAAeR,EAAItE,kBAAkBO,EAASl9D,UAAUnvC,GACnBssG,EAAUn9D,UAAUt2B,IACzDg4F,EAAeT,EAAIpE,kBAAkBK,EAASl9D,UAAU,EAAGnvC,GACtBssG,EAAUn9D,UAAU,EAAGt2B,IAC5D83F,EAAY7xG,OAAS+xG,EAAeD,IACtCD,EAAcrE,EAAUn9D,UAAUt2B,EAAIg4F,EAAch4F,GAChDyzF,EAAUn9D,UAAUt2B,EAAGA,EAAI+3F,GAC/BN,EAAkBjE,EAASl9D,UAAU,EAAGnvC,EAAI6wG,GAC5CN,EAAkBlE,EAASl9D,UAAUnvC,EAAI4wG,GACzCJ,EAAmBlE,EAAUn9D,UAAU,EAAGt2B,EAAIg4F,GAC9CJ,EAAmBnE,EAAUn9D,UAAUt2B,EAAI+3F,GAE/C,CACA,OAAyB,EAArBD,EAAY7xG,QAAcutG,EAASvtG,OAC9B,CAACwxG,EAAiBC,EACjBC,EAAkBC,EAAkBE,GAErC,IAEX,CAGA,IAKIpE,EAaAE,EAASC,EAASC,EAASC,EAlB3BkE,EAAMT,EAAiBhE,EAAUC,EACV1vG,KAAKywE,KAAKg/B,EAASvtG,OAAS,IAEnDiyG,EAAMV,EAAiBhE,EAAUC,EACV1vG,KAAKywE,KAAKg/B,EAASvtG,OAAS,IAEvD,OAAKgyG,GAAQC,GAQXxE,EANUwE,EAEAD,GAILA,EAAI,GAAGhyG,OAASiyG,EAAI,GAAGjyG,OAASgyG,EAHhCC,EAFAD,EAUHxF,EAAMxsG,OAASysG,EAAMzsG,QACvB2tG,EAAUF,EAAG,GACbG,EAAUH,EAAG,GACbI,EAAUJ,EAAG,GACbK,EAAUL,EAAG,KAEbI,EAAUJ,EAAG,GACbK,EAAUL,EAAG,GACbE,EAAUF,EAAG,GACbG,EAAUH,EAAG,IAGR,CAACE,EAASC,EAASC,EAASC,EADlBL,EAAG,KAvBX,IAyBX,EAOA7B,EAAiB9qG,UAAU4tG,qBAAuB,SAAStB,GAczD,IAbA,IAAIrc,GAAU,EACVmhB,EAAa,GACbC,EAAmB,EAEnBC,EAAe,KAEfzD,EAAU,EAEV0D,EAAqB,EACrBC,EAAoB,EAEpBC,EAAqB,EACrBC,EAAoB,EACjB7D,EAAUvB,EAAMptG,QAzrBR,GA0rBTotG,EAAMuB,GAAS,IACjBuD,EAAWC,KAAsBxD,EACjC0D,EAAqBE,EACrBD,EAAoBE,EACpBD,EAAqB,EACrBC,EAAoB,EACpBJ,EAAehF,EAAMuB,GAAS,KAjsBlB,GAmsBRvB,EAAMuB,GAAS,GACjB4D,GAAsBnF,EAAMuB,GAAS,GAAG3uG,OAExCwyG,GAAqBpF,EAAMuB,GAAS,GAAG3uG,OAIrCoyG,GAAiBA,EAAapyG,QAC9BlC,KAAK2H,IAAI4sG,EAAoBC,IAC5BF,EAAapyG,QAAUlC,KAAK2H,IAAI8sG,EACAC,KAEnCpF,EAAMhmG,OAAO8qG,EAAWC,EAAmB,GAAI,EAClC,IAAIvG,EAAiBS,KAAKD,EAAagG,IAEpDhF,EAAM8E,EAAWC,EAAmB,GAAK,GAAG,GAltBlC,EAotBVA,IAGAxD,IADAwD,EAC6B,EAAID,EAAWC,EAAmB,IAAM,EACrEE,EAAqB,EACrBC,EAAoB,EACpBC,EAAqB,EACrBC,EAAoB,EACpBJ,EAAe,KACfrhB,GAAU,IAGd4d,IAgBF,IAZI5d,GACFtxF,KAAK6tG,kBAAkBF,GAEzB3tG,KAAKgzG,6BAA6BrF,GAQlCuB,EAAU,EACHA,EAAUvB,EAAMptG,QAAQ,CAC7B,GAAIotG,EAAMuB,EAAU,GAAG,IAAMvC,GAjvBf,GAkvBVgB,EAAMuB,GAAS,GAAmB,CACpC,IAAI+D,EAAWtF,EAAMuB,EAAU,GAAG,GAC9BgE,EAAYvF,EAAMuB,GAAS,GAC3BiE,EAAkBnzG,KAAKyxG,oBAAoBwB,EAAUC,GACrDE,EAAkBpzG,KAAKyxG,oBAAoByB,EAAWD,GACtDE,GAAmBC,GACjBD,GAAmBF,EAAS1yG,OAAS,GACrC4yG,GAAmBD,EAAU3yG,OAAS,KAExCotG,EAAMhmG,OAAOunG,EAAS,EAAG,IAAI/C,EAAiBS,KA1vBvC,EA2vBHsG,EAAUtiE,UAAU,EAAGuiE,KAC3BxF,EAAMuB,EAAU,GAAG,GACf+D,EAASriE,UAAU,EAAGqiE,EAAS1yG,OAAS4yG,GAC5CxF,EAAMuB,EAAU,GAAG,GAAKgE,EAAUtiE,UAAUuiE,GAC5CjE,MAGEkE,GAAmBH,EAAS1yG,OAAS,GACrC6yG,GAAmBF,EAAU3yG,OAAS,KAGxCotG,EAAMhmG,OAAOunG,EAAS,EAAG,IAAI/C,EAAiBS,KAtwBvC,EAuwBHqG,EAASriE,UAAU,EAAGwiE,KAC1BzF,EAAMuB,EAAU,GAAG,GAzwBX,EA0wBRvB,EAAMuB,EAAU,GAAG,GACfgE,EAAUtiE,UAAU,EAAGsiE,EAAU3yG,OAAS6yG,GAC9CzF,EAAMuB,EAAU,GAAG,GAAKvC,EACxBgB,EAAMuB,EAAU,GAAG,GACf+D,EAASriE,UAAUwiE,GACvBlE,KAGJA,GACF,CACAA,GACF,CACF,EASA/C,EAAiB9qG,UAAU2xG,6BAA+B,SAASrF,GAWjE,SAAS0F,EAA2BC,EAAKC,GACvC,IAAKD,IAAQC,EAEX,OAAO,EAQT,IAAIC,EAAQF,EAAIlxG,OAAOkxG,EAAI/yG,OAAS,GAChCkzG,EAAQF,EAAInxG,OAAO,GACnBsxG,EAAmBF,EAAM9oG,MAAMyhG,EAAiBwH,uBAChDC,EAAmBH,EAAM/oG,MAAMyhG,EAAiBwH,uBAChDE,EAAcH,GACdF,EAAM9oG,MAAMyhG,EAAiB2H,kBAC7BC,EAAcH,GACdH,EAAM/oG,MAAMyhG,EAAiB2H,kBAC7BE,EAAaH,GACbL,EAAM9oG,MAAMyhG,EAAiB8H,iBAC7BC,EAAaH,GACbN,EAAM/oG,MAAMyhG,EAAiB8H,iBAC7BE,EAAaH,GACbV,EAAI5oG,MAAMyhG,EAAiBiI,oBAC3BC,EAAaH,GACbX,EAAI7oG,MAAMyhG,EAAiBmI,sBAE/B,OAAIH,GAAcE,EAET,EACEL,GAAcE,EAEhB,EACER,IAAqBG,GAAeE,EAEtC,EACEF,GAAeE,EAEjB,EACEL,GAAoBE,EAEtB,EAEF,CACT,CAIA,IAFA,IAAI1E,EAAU,EAEPA,EAAUvB,EAAMptG,OAAS,GAAG,CACjC,GA31Ba,GA21BTotG,EAAMuB,EAAU,GAAG,IA31BV,GA41BTvB,EAAMuB,EAAU,GAAG,GAAkB,CAEvC,IAAIqF,EAAY5G,EAAMuB,EAAU,GAAG,GAC/B5F,EAAOqE,EAAMuB,GAAS,GACtBsF,EAAY7G,EAAMuB,EAAU,GAAG,GAG/BuF,EAAez0G,KAAKytG,kBAAkB8G,EAAWjL,GACrD,GAAImL,EAAc,CAChB,IAAIC,EAAepL,EAAK14D,UAAU04D,EAAK/oG,OAASk0G,GAChDF,EAAYA,EAAU3jE,UAAU,EAAG2jE,EAAUh0G,OAASk0G,GACtDnL,EAAOoL,EAAepL,EAAK14D,UAAU,EAAG04D,EAAK/oG,OAASk0G,GACtDD,EAAYE,EAAeF,CAC7B,CAQA,IALA,IAAIG,EAAgBJ,EAChBK,EAAWtL,EACXuL,EAAgBL,EAChBM,EAAYzB,EAA2BkB,EAAWjL,GAClD+J,EAA2B/J,EAAMkL,GAC9BlL,EAAKlnG,OAAO,KAAOoyG,EAAUpyG,OAAO,IAAI,CAC7CmyG,GAAajL,EAAKlnG,OAAO,GACzBknG,EAAOA,EAAK14D,UAAU,GAAK4jE,EAAUpyG,OAAO,GAC5CoyG,EAAYA,EAAU5jE,UAAU,GAChC,IAAIoW,EAAQqsD,EAA2BkB,EAAWjL,GAC9C+J,EAA2B/J,EAAMkL,GAEjCxtD,GAAS8tD,IACXA,EAAY9tD,EACZ2tD,EAAgBJ,EAChBK,EAAWtL,EACXuL,EAAgBL,EAEpB,CAEI7G,EAAMuB,EAAU,GAAG,IAAMyF,IAEvBA,EACFhH,EAAMuB,EAAU,GAAG,GAAKyF,GAExBhH,EAAMhmG,OAAOunG,EAAU,EAAG,GAC1BA,KAEFvB,EAAMuB,GAAS,GAAK0F,EAChBC,EACFlH,EAAMuB,EAAU,GAAG,GAAK2F,GAExBlH,EAAMhmG,OAAOunG,EAAU,EAAG,GAC1BA,KAGN,CACAA,GACF,CACF,EAGA/C,EAAiBwH,sBAAwB,eACzCxH,EAAiB2H,iBAAmB,KACpC3H,EAAiB8H,gBAAkB,SACnC9H,EAAiBiI,mBAAqB,WACtCjI,EAAiBmI,qBAAuB,cAMxCnI,EAAiB9qG,UAAU0zG,uBAAyB,SAASpH,GAgB3D,IAfA,IAAIrc,GAAU,EACVmhB,EAAa,GACbC,EAAmB,EAEnBC,EAAe,KAEfzD,EAAU,EAEV8F,GAAU,EAEVC,GAAU,EAEVC,GAAW,EAEXC,GAAW,EACRjG,EAAUvB,EAAMptG,QAh7BR,GAi7BTotG,EAAMuB,GAAS,IACbvB,EAAMuB,GAAS,GAAG3uG,OAASP,KAAKqsG,gBAC/B6I,GAAYC,IAEf1C,EAAWC,KAAsBxD,EACjC8F,EAAUE,EACVD,EAAUE,EACVxC,EAAehF,EAAMuB,GAAS,KAG9BwD,EAAmB,EACnBC,EAAe,MAEjBuC,EAAWC,GAAW,IAElBxH,EAAMuB,GAAS,IAAMvC,EACvBwI,GAAW,EAEXD,GAAW,EAUTvC,IAAkBqC,GAAWC,GAAWC,GAAYC,GACjCxC,EAAapyG,OAASP,KAAKqsG,cAAgB,GAC3C2I,EAAUC,EAAUC,EAAWC,GAAa,KAEjExH,EAAMhmG,OAAO8qG,EAAWC,EAAmB,GAAI,EAClC,IAAIvG,EAAiBS,KAAKD,EAAagG,IAEpDhF,EAAM8E,EAAWC,EAAmB,GAAK,GAAG,GAr9BlC,EAs9BVA,IACAC,EAAe,KACXqC,GAAWC,GAEbC,EAAWC,GAAW,EACtBzC,EAAmB,IAGnBxD,IADAwD,EAC6B,EACzBD,EAAWC,EAAmB,IAAM,EACxCwC,EAAWC,GAAW,GAExB7jB,GAAU,IAGd4d,IAGE5d,GACFtxF,KAAK6tG,kBAAkBF,EAE3B,EAQAxB,EAAiB9qG,UAAUwsG,kBAAoB,SAASF,GAEtDA,EAAM9rG,KAAK,IAAIsqG,EAAiBS,KAp/BjB,EAo/BkC,KAOjD,IANA,IAKIU,EALA4B,EAAU,EACVC,EAAe,EACfC,EAAe,EACfC,EAAc,GACdC,EAAc,GAEXJ,EAAUvB,EAAMptG,QACrB,OAAQotG,EAAMuB,GAAS,IACrB,KA9/BY,EA+/BVE,IACAE,GAAe3B,EAAMuB,GAAS,GAC9BA,IACA,MACF,KAAKvC,EACHwC,IACAE,GAAe1B,EAAMuB,GAAS,GAC9BA,IACA,MACF,KAvgCW,EAygCLC,EAAeC,EAAe,GACX,IAAjBD,GAAuC,IAAjBC,IAGH,KADrB9B,EAAettG,KAAKutG,kBAAkB+B,EAAaD,MAE5CH,EAAUC,EAAeC,EAAgB,GA9gC3C,GA+gCCzB,EAAMuB,EAAUC,EAAeC,EAAe,GAAG,GAEnDzB,EAAMuB,EAAUC,EAAeC,EAAe,GAAG,IAC7CE,EAAY1+D,UAAU,EAAG08D,IAE7BK,EAAMhmG,OAAO,EAAG,EAAG,IAAIwkG,EAAiBS,KAphCvC,EAqhCG0C,EAAY1+D,UAAU,EAAG08D,KAC7B4B,KAEFI,EAAcA,EAAY1+D,UAAU08D,GACpC+B,EAAcA,EAAYz+D,UAAU08D,IAIjB,KADrBA,EAAettG,KAAKytG,kBAAkB6B,EAAaD,MAEjD1B,EAAMuB,GAAS,GAAKI,EAAY1+D,UAAU0+D,EAAY/uG,OAClD+sG,GAAgBK,EAAMuB,GAAS,GACnCI,EAAcA,EAAY1+D,UAAU,EAAG0+D,EAAY/uG,OAC/C+sG,GACJ+B,EAAcA,EAAYz+D,UAAU,EAAGy+D,EAAY9uG,OAC/C+sG,KAIR4B,GAAWC,EAAeC,EAC1BzB,EAAMhmG,OAAOunG,EAASC,EAAeC,GACjCC,EAAY9uG,SACdotG,EAAMhmG,OAAOunG,EAAS,EAClB,IAAI/C,EAAiBS,KAAKD,EAAa0C,IAC3CH,KAEEI,EAAY/uG,SACdotG,EAAMhmG,OAAOunG,EAAS,EAClB,IAAI/C,EAAiBS,KAjjCnB,EAijCqC0C,IAC3CJ,KAEFA,KACqB,IAAZA,GApjCF,GAojCmBvB,EAAMuB,EAAU,GAAG,IAE7CvB,EAAMuB,EAAU,GAAG,IAAMvB,EAAMuB,GAAS,GACxCvB,EAAMhmG,OAAOunG,EAAS,IAEtBA,IAEFE,EAAe,EACfD,EAAe,EACfE,EAAc,GACdC,EAAc,GAIe,KAA/B3B,EAAMA,EAAMptG,OAAS,GAAG,IAC1BotG,EAAM35F,MAMR,IAAIs9E,GAAU,EAGd,IAFA4d,EAAU,EAEHA,EAAUvB,EAAMptG,OAAS,GA5kCjB,GA6kCTotG,EAAMuB,EAAU,GAAG,IA7kCV,GA8kCTvB,EAAMuB,EAAU,GAAG,KAEjBvB,EAAMuB,GAAS,GAAGt+D,UAAU+8D,EAAMuB,GAAS,GAAG3uG,OAC9CotG,EAAMuB,EAAU,GAAG,GAAG3uG,SAAWotG,EAAMuB,EAAU,GAAG,IAEtDvB,EAAMuB,GAAS,GAAKvB,EAAMuB,EAAU,GAAG,GACnCvB,EAAMuB,GAAS,GAAGt+D,UAAU,EAAG+8D,EAAMuB,GAAS,GAAG3uG,OACrBotG,EAAMuB,EAAU,GAAG,GAAG3uG,QACtDotG,EAAMuB,EAAU,GAAG,GAAKvB,EAAMuB,EAAU,GAAG,GAAKvB,EAAMuB,EAAU,GAAG,GACnEvB,EAAMhmG,OAAOunG,EAAU,EAAG,GAC1B5d,GAAU,GACDqc,EAAMuB,GAAS,GAAGt+D,UAAU,EAAG+8D,EAAMuB,EAAU,GAAG,GAAG3uG,SAC5DotG,EAAMuB,EAAU,GAAG,KAErBvB,EAAMuB,EAAU,GAAG,IAAMvB,EAAMuB,EAAU,GAAG,GAC5CvB,EAAMuB,GAAS,GACXvB,EAAMuB,GAAS,GAAGt+D,UAAU+8D,EAAMuB,EAAU,GAAG,GAAG3uG,QAClDotG,EAAMuB,EAAU,GAAG,GACvBvB,EAAMhmG,OAAOunG,EAAU,EAAG,GAC1B5d,GAAU,IAGd4d,IAGE5d,GACFtxF,KAAK6tG,kBAAkBF,EAE3B,EAWAxB,EAAiB9qG,UAAU+zG,YAAc,SAASzH,EAAO0H,GACvD,IAIIr0F,EAJA4tF,EAAS,EACTC,EAAS,EACTyG,EAAc,EACdC,EAAc,EAElB,IAAKv0F,EAAI,EAAGA,EAAI2sF,EAAMptG,SA5nCN,IA6nCVotG,EAAM3sF,GAAG,KACX4tF,GAAUjB,EAAM3sF,GAAG,GAAGzgB,QAEpBotG,EAAM3sF,GAAG,KAAO2rF,IAClBkC,GAAUlB,EAAM3sF,GAAG,GAAGzgB,UAEpBquG,EAASyG,IAPer0F,IAU5Bs0F,EAAc1G,EACd2G,EAAc1G,EAGhB,OAAIlB,EAAMptG,QAAUygB,GAAK2sF,EAAM3sF,GAAG,KAAO2rF,EAChC4I,EAGFA,GAAeF,EAAMC,EAC9B,EAQAnJ,EAAiB9qG,UAAUm0G,gBAAkB,SAAS7H,GAMpD,IALA,IAAI/3E,EAAO,GACP6/E,EAAc,KACdC,EAAa,KACbC,EAAa,KACbC,EAAe,MACV50F,EAAI,EAAGA,EAAI2sF,EAAMptG,OAAQygB,IAAK,CACrC,IAAI6rF,EAAKc,EAAM3sF,GAAG,GAEd+F,EADO4mF,EAAM3sF,GAAG,GACJxe,QAAQizG,EAAa,SAASjzG,QAAQkzG,EAAY,QAC7DlzG,QAAQmzG,EAAY,QAAQnzG,QAAQozG,EAAc,cACvD,OAAQ/I,GACN,KAnqCY,EAoqCVj3E,EAAK5U,GAAK,oCAAsC+F,EAAO,SACvD,MACF,KAAK4lF,EACH/2E,EAAK5U,GAAK,oCAAsC+F,EAAO,SACvD,MACF,KAxqCW,EAyqCT6O,EAAK5U,GAAK,SAAW+F,EAAO,UAGlC,CACA,OAAO6O,EAAKtzB,KAAK,GACnB,EAQA6pG,EAAiB9qG,UAAUw0G,WAAa,SAASlI,GAE/C,IADA,IAAI5mF,EAAO,GACF/F,EAAI,EAAGA,EAAI2sF,EAAMptG,OAAQygB,IAzrClB,IA0rCV2sF,EAAM3sF,GAAG,KACX+F,EAAK/F,GAAK2sF,EAAM3sF,GAAG,IAGvB,OAAO+F,EAAKzkB,KAAK,GACnB,EAQA6pG,EAAiB9qG,UAAUy0G,WAAa,SAASnI,GAE/C,IADA,IAAI5mF,EAAO,GACF/F,EAAI,EAAGA,EAAI2sF,EAAMptG,OAAQygB,IAC5B2sF,EAAM3sF,GAAG,KAAO2rF,IAClB5lF,EAAK/F,GAAK2sF,EAAM3sF,GAAG,IAGvB,OAAO+F,EAAKzkB,KAAK,GACnB,EASA6pG,EAAiB9qG,UAAU00G,iBAAmB,SAASpI,GAIrD,IAHA,IAAIqI,EAAc,EACdC,EAAa,EACbC,EAAY,EACPl1F,EAAI,EAAGA,EAAI2sF,EAAMptG,OAAQygB,IAAK,CACrC,IAAI6rF,EAAKc,EAAM3sF,GAAG,GACdxM,EAAOm5F,EAAM3sF,GAAG,GACpB,OAAQ6rF,GACN,KAhuCY,EAiuCVoJ,GAAczhG,EAAKjU,OACnB,MACF,KAAKosG,EACHuJ,GAAa1hG,EAAKjU,OAClB,MACF,KAruCW,EAuuCTy1G,GAAe33G,KAAK2H,IAAIiwG,EAAYC,GACpCD,EAAa,EACbC,EAAY,EAGlB,CAEA,OADAF,GAAe33G,KAAK2H,IAAIiwG,EAAYC,EAEtC,EAWA/J,EAAiB9qG,UAAU80G,aAAe,SAASxI,GAEjD,IADA,IAAI5mF,EAAO,GACF/F,EAAI,EAAGA,EAAI2sF,EAAMptG,OAAQygB,IAChC,OAAQ2sF,EAAM3sF,GAAG,IACf,KA/vCY,EAgwCV+F,EAAK/F,GAAK,IAAMo1F,UAAUzI,EAAM3sF,GAAG,IACnC,MACF,KAAK2rF,EACH5lF,EAAK/F,GAAK,IAAM2sF,EAAM3sF,GAAG,GAAGzgB,OAC5B,MACF,KApwCW,EAqwCTwmB,EAAK/F,GAAK,IAAM2sF,EAAM3sF,GAAG,GAAGzgB,OAIlC,OAAOwmB,EAAKzkB,KAAK,MAAME,QAAQ,OAAQ,IACzC,EAWA2pG,EAAiB9qG,UAAUg1G,eAAiB,SAAStJ,EAAOj9D,GAK1D,IAJA,IAAI69D,EAAQ,GACR2I,EAAc,EACdpH,EAAU,EACV7zD,EAASvL,EAAM3tC,MAAM,OAChB6e,EAAI,EAAGA,EAAIq6B,EAAO96C,OAAQygB,IAAK,CAGtC,IAAIylC,EAAQpL,EAAOr6B,GAAG4vB,UAAU,GAChC,OAAQyK,EAAOr6B,GAAG5e,OAAO,IACvB,IAAK,IACH,IACEurG,EAAM2I,KACF,IAAInK,EAAiBS,KAnyCjB,EAmyCmC2J,UAAU9vD,GACvD,CAAE,MAAOm6C,GAEP,MAAM,IAAInsF,MAAM,qCAAuCgyC,EACzD,CACA,MACF,IAAK,IAEL,IAAK,IACH,IAAIh6C,EAAIgU,SAASgmC,EAAO,IACxB,GAAI6Y,MAAM7yD,IAAMA,EAAI,EAClB,MAAM,IAAIgI,MAAM,qCAAuCgyC,GAEzD,IAAI1/B,EAAOgmF,EAAMn8D,UAAUs+D,EAASA,GAAWziG,GACpB,KAAvB4uC,EAAOr6B,GAAG5e,OAAO,GACnBurG,EAAM2I,KAAiB,IAAInK,EAAiBS,KAjzCrC,EAizCsD7lF,GAE7D4mF,EAAM2I,KAAiB,IAAInK,EAAiBS,KAAKD,EAAa5lF,GAEhE,MACF,QAGE,GAAIs0B,EAAOr6B,GACT,MAAM,IAAIvM,MAAM,6CACA4mC,EAAOr6B,IAG/B,CACA,GAAIkuF,GAAWnC,EAAMxsG,OACnB,MAAM,IAAIkU,MAAM,iBAAmBy6F,EAC/B,wCAA0CnC,EAAMxsG,OAAS,MAE/D,OAAOotG,CACT,EAaAxB,EAAiB9qG,UAAUm1G,WAAa,SAASzvF,EAAM6qF,EAASyD,GAE9D,GAAY,MAARtuF,GAA2B,MAAX6qF,GAA0B,MAAPyD,EACrC,MAAM,IAAI5gG,MAAM,4BAIlB,OADA4gG,EAAMh3G,KAAK2H,IAAI,EAAG3H,KAAK4H,IAAIovG,EAAKtuF,EAAKxmB,SACjCwmB,GAAQ6qF,EAEH,EACG7qF,EAAKxmB,OAGNwmB,EAAK6pB,UAAUykE,EAAKA,EAAMzD,EAAQrxG,SAAWqxG,EAE/CyD,EAGAr1G,KAAKy2G,aAAa1vF,EAAM6qF,EAASyD,IANhC,CAQZ,EAYAlJ,EAAiB9qG,UAAUo1G,aAAe,SAAS1vF,EAAM6qF,EAASyD,GAChE,GAAIzD,EAAQrxG,OAASP,KAAK0sG,cACxB,MAAM,IAAIj4F,MAAM,sCAIlB,IAAIjD,EAAIxR,KAAK02G,gBAAgB9E,GAEzBC,EAAM7xG,KAUV,SAAS22G,EAAkBztG,EAAG8X,GAC5B,IAAI41F,EAAW1tG,EAAI0oG,EAAQrxG,OACvBs2G,EAAYx4G,KAAK6lB,IAAImxF,EAAMr0F,GAC/B,OAAK6wF,EAAItF,eAIFqK,EAAYC,EAAYhF,EAAItF,eAF1BsK,EAAY,EAAMD,CAG7B,CAGA,IAAIE,EAAkB92G,KAAKssG,gBAEvByK,EAAWhwF,EAAK9kB,QAAQ2vG,EAASyD,IACpB,GAAb0B,IACFD,EAAkBz4G,KAAK4H,IAAI0wG,EAAkB,EAAGI,GAAWD,IAG1C,IADjBC,EAAWhwF,EAAKjjB,YAAY8tG,EAASyD,EAAMzD,EAAQrxG,WAEjDu2G,EACIz4G,KAAK4H,IAAI0wG,EAAkB,EAAGI,GAAWD,KAKjD,IAGIE,EAASC,EAHTC,EAAY,GAAMtF,EAAQrxG,OAAS,EACvCw2G,GAAY,EAKZ,IAFA,IACII,EADAC,EAAUxF,EAAQrxG,OAASwmB,EAAKxmB,OAE3Bm0B,EAAI,EAAGA,EAAIk9E,EAAQrxG,OAAQm0B,IAAK,CAMvC,IAFAsiF,EAAU,EACVC,EAAUG,EACHJ,EAAUC,GACXN,EAAkBjiF,EAAG2gF,EAAM4B,IAAYH,EACzCE,EAAUC,EAEVG,EAAUH,EAEZA,EAAU54G,KAAK8mD,OAAOiyD,EAAUJ,GAAW,EAAIA,GAGjDI,EAAUH,EACV,IAAIj8F,EAAQ3c,KAAK2H,IAAI,EAAGqvG,EAAM4B,EAAU,GACpCI,EAASh5G,KAAK4H,IAAIovG,EAAM4B,EAASlwF,EAAKxmB,QAAUqxG,EAAQrxG,OAExD+2G,EAAKjyG,MAAMgyG,EAAS,GACxBC,EAAGD,EAAS,IAAM,GAAK3iF,GAAK,EAC5B,IAAK,IAAIpa,EAAI+8F,EAAQ/8F,GAAKU,EAAOV,IAAK,CAGpC,IAAIi9F,EAAY/lG,EAAEuV,EAAK3kB,OAAOkY,EAAI,IAQlC,GANEg9F,EAAGh9F,GADK,IAANoa,GACQ4iF,EAAGh9F,EAAI,IAAM,EAAK,GAAKi9F,GAEtBD,EAAGh9F,EAAI,IAAM,EAAK,GAAKi9F,GACvBJ,EAAQ78F,EAAI,GAAK68F,EAAQ78F,KAAO,EAAK,EACxC68F,EAAQ78F,EAAI,GAElBg9F,EAAGh9F,GAAK48F,EAAW,CACrB,IAAIlwD,EAAQ2vD,EAAkBjiF,EAAGpa,EAAI,GAGrC,GAAI0sC,GAAS8vD,EAAiB,CAI5B,GAFAA,EAAkB9vD,KAClB+vD,EAAWz8F,EAAI,GACA+6F,GAKb,MAHAr6F,EAAQ3c,KAAK2H,IAAI,EAAG,EAAIqvG,EAAM0B,EAKlC,CACF,CACF,CAEA,GAAIJ,EAAkBjiF,EAAI,EAAG2gF,GAAOyB,EAClC,MAEFK,EAAUG,CACZ,CACA,OAAOP,CACT,EASA5K,EAAiB9qG,UAAUq1G,gBAAkB,SAAS9E,GAEpD,IADA,IAAIpgG,EAAI,CAAC,EACA/P,EAAI,EAAGA,EAAImwG,EAAQrxG,OAAQkB,IAClC+P,EAAEogG,EAAQxvG,OAAOX,IAAM,EAEzB,IAASA,EAAI,EAAGA,EAAImwG,EAAQrxG,OAAQkB,IAClC+P,EAAEogG,EAAQxvG,OAAOX,KAAO,GAAMmwG,EAAQrxG,OAASkB,EAAI,EAErD,OAAO+P,CACT,EAaA26F,EAAiB9qG,UAAUm2G,kBAAoB,SAASC,EAAO1wF,GAC7D,GAAmB,GAAfA,EAAKxmB,OAAT,CAGA,GAAqB,OAAjBk3G,EAAMC,OACR,MAAMjjG,MAAM,yBAOd,IALA,IAAIm9F,EAAU7qF,EAAK6pB,UAAU6mE,EAAMC,OAAQD,EAAMC,OAASD,EAAME,SAC5DzoC,EAAU,EAIPnoD,EAAK9kB,QAAQ2vG,IAAY7qF,EAAKjjB,YAAY8tG,IAC1CA,EAAQrxG,OAASP,KAAK0sG,cAAgB1sG,KAAKysG,aAC3CzsG,KAAKysG,cACVv9B,GAAWlvE,KAAKysG,aAChBmF,EAAU7qF,EAAK6pB,UAAU6mE,EAAMC,OAASxoC,EACfuoC,EAAMC,OAASD,EAAME,QAAUzoC,GAG1DA,GAAWlvE,KAAKysG,aAGhB,IAAInwD,EAASv1B,EAAK6pB,UAAU6mE,EAAMC,OAASxoC,EAASuoC,EAAMC,QACtDp7D,GACFm7D,EAAM9J,MAAMxxD,QAAQ,IAAIgwD,EAAiBS,KAnhD5B,EAmhD6CtwD,IAG5D,IAAI/kC,EAASwP,EAAK6pB,UAAU6mE,EAAMC,OAASD,EAAME,QACrBF,EAAMC,OAASD,EAAME,QAAUzoC,GACvD33D,GACFkgG,EAAM9J,MAAM9rG,KAAK,IAAIsqG,EAAiBS,KAzhDzB,EAyhD0Cr1F,IAIzDkgG,EAAMG,QAAUt7D,EAAO/7C,OACvBk3G,EAAMC,QAAUp7D,EAAO/7C,OAEvBk3G,EAAME,SAAWr7D,EAAO/7C,OAASgX,EAAOhX,OACxCk3G,EAAMI,SAAWv7D,EAAO/7C,OAASgX,EAAOhX,MApCxC,CAqCF,EAyBA4rG,EAAiB9qG,UAAUy2G,WAAa,SAASpxG,EAAGqxG,EAAOC,GACzD,IAAIjL,EAAOY,EACX,GAAgB,iBAALjnG,GAAiC,iBAATqxG,GACf,oBAATC,EAGTjL,EAA8BrmG,GAC9BinG,EAAQ3tG,KAAK8sG,UAAUC,EAA6BgL,GAAQ,IAClDx3G,OAAS,IACjBP,KAAKivG,qBAAqBtB,GAC1B3tG,KAAK+0G,uBAAuBpH,SAEzB,GAAIjnG,GAAiB,iBAALA,GAAiC,oBAATqxG,GAC3B,oBAATC,EAGTrK,EAAuDjnG,EACvDqmG,EAAQ/sG,KAAK61G,WAAWlI,QACnB,GAAgB,iBAALjnG,GAAiBqxG,GAAyB,iBAATA,GAC/B,oBAATC,EAETjL,EAA8BrmG,EAC9BinG,EAAuDoK,MAClD,IAAgB,iBAALrxG,GAAiC,iBAATqxG,IACtCC,GAAyB,iBAATA,EAMlB,MAAM,IAAIvjG,MAAM,sCAHhBs4F,EAA8BrmG,EAC9BinG,EAAuDqK,CAGzD,CAEA,GAAqB,IAAjBrK,EAAMptG,OACR,MAAO,GAYT,IAVA,IAAI03G,EAAU,GACVR,EAAQ,IAAItL,EAAiB+L,UAC7BC,EAAkB,EAClBC,EAAc,EACdC,EAAc,EAIdC,EAAgBvL,EAChBwL,EAAiBxL,EACZ/rF,EAAI,EAAGA,EAAI2sF,EAAMptG,OAAQygB,IAAK,CACrC,IAAIw3F,EAAY7K,EAAM3sF,GAAG,GACrBy3F,EAAY9K,EAAM3sF,GAAG,GAQzB,OANKm3F,GA7mDQ,IA6mDWK,IAEtBf,EAAMG,OAASQ,EACfX,EAAMC,OAASW,GAGTG,GACN,KArnDY,EAsnDVf,EAAM9J,MAAMwK,KAAqBxK,EAAM3sF,GACvCy2F,EAAMI,SAAWY,EAAUl4G,OAC3Bg4G,EAAiBA,EAAe3nE,UAAU,EAAGynE,GAAeI,EAC3CF,EAAe3nE,UAAUynE,GAC1C,MACF,KAAK1L,EACH8K,EAAME,SAAWc,EAAUl4G,OAC3Bk3G,EAAM9J,MAAMwK,KAAqBxK,EAAM3sF,GACvCu3F,EAAiBA,EAAe3nE,UAAU,EAAGynE,GAC5BE,EAAe3nE,UAAUynE,EACrBI,EAAUl4G,QAC/B,MACF,KAjoDW,EAkoDLk4G,EAAUl4G,QAAU,EAAIP,KAAKysG,cAC7B0L,GAAmBxK,EAAMptG,QAAUygB,EAAI,GAEzCy2F,EAAM9J,MAAMwK,KAAqBxK,EAAM3sF,GACvCy2F,EAAME,SAAWc,EAAUl4G,OAC3Bk3G,EAAMI,SAAWY,EAAUl4G,QAClBk4G,EAAUl4G,QAAU,EAAIP,KAAKysG,cAElC0L,IACFn4G,KAAKw3G,kBAAkBC,EAAOa,GAC9BL,EAAQp2G,KAAK41G,GACbA,EAAQ,IAAItL,EAAiB+L,UAC7BC,EAAkB,EAKlBG,EAAgBC,EAChBH,EAAcC,GArpDR,IA4pDVG,IACFJ,GAAeK,EAAUl4G,QAEvBi4G,IAAc7L,IAChB0L,GAAeI,EAAUl4G,OAE7B,CAOA,OALI43G,IACFn4G,KAAKw3G,kBAAkBC,EAAOa,GAC9BL,EAAQp2G,KAAK41G,IAGRQ,CACT,EAQA9L,EAAiB9qG,UAAUq3G,eAAiB,SAAST,GAGnD,IADA,IAAIU,EAAc,GACT33F,EAAI,EAAGA,EAAIi3F,EAAQ13G,OAAQygB,IAAK,CACvC,IAAIy2F,EAAQQ,EAAQj3F,GAChB43F,EAAY,IAAIzM,EAAiB+L,UACrCU,EAAUjL,MAAQ,GAClB,IAAK,IAAI57E,EAAI,EAAGA,EAAI0lF,EAAM9J,MAAMptG,OAAQwxB,IACtC6mF,EAAUjL,MAAM57E,GACZ,IAAIo6E,EAAiBS,KAAK6K,EAAM9J,MAAM57E,GAAG,GAAI0lF,EAAM9J,MAAM57E,GAAG,IAElE6mF,EAAUhB,OAASH,EAAMG,OACzBgB,EAAUlB,OAASD,EAAMC,OACzBkB,EAAUjB,QAAUF,EAAME,QAC1BiB,EAAUf,QAAUJ,EAAMI,QAC1Bc,EAAY33F,GAAK43F,CACnB,CACA,OAAOD,CACT,EAWAxM,EAAiB9qG,UAAUw3G,YAAc,SAASZ,EAASlxF,GACzD,GAAsB,GAAlBkxF,EAAQ13G,OACV,MAAO,CAACwmB,EAAM,IAIhBkxF,EAAUj4G,KAAK04G,eAAeT,GAE9B,IAAIa,EAAc94G,KAAK+4G,iBAAiBd,GACxClxF,EAAO+xF,EAAc/xF,EAAO+xF,EAE5B94G,KAAKg5G,eAAef,GAOpB,IAFA,IAAInoE,EAAQ,EACRmpE,EAAU,GACLj4F,EAAI,EAAGA,EAAIi3F,EAAQ13G,OAAQygB,IAAK,CACvC,IAEIk4F,EA4BElM,EA9BFmM,EAAelB,EAAQj3F,GAAG02F,OAAS5nE,EACnCi9D,EAAQ/sG,KAAK61G,WAAWoC,EAAQj3F,GAAG2sF,OAEnCyL,GAAW,EAkBf,GAjBIrM,EAAMxsG,OAASP,KAAK0sG,eAKJ,IAFlBwM,EAAYl5G,KAAKw2G,WAAWzvF,EAAMgmF,EAAMn8D,UAAU,EAAG5wC,KAAK0sG,eAC9ByM,OAKV,IAHhBC,EAAUp5G,KAAKw2G,WAAWzvF,EACtBgmF,EAAMn8D,UAAUm8D,EAAMxsG,OAASP,KAAK0sG,eACpCyM,EAAepM,EAAMxsG,OAASP,KAAK0sG,iBAClBwM,GAAaE,KAEhCF,GAAa,GAIjBA,EAAYl5G,KAAKw2G,WAAWzvF,EAAMgmF,EAAOoM,IAEzB,GAAdD,EAEFD,EAAQj4F,IAAK,EAEb8uB,GAASmoE,EAAQj3F,GAAG62F,QAAUI,EAAQj3F,GAAG22F,aAWzC,GARAsB,EAAQj4F,IAAK,EACb8uB,EAAQopE,EAAYC,EAOhBpM,IAJFC,GADc,GAAZoM,EACMryF,EAAK6pB,UAAUsoE,EAAWA,EAAYnM,EAAMxsG,QAE5CwmB,EAAK6pB,UAAUsoE,EAAWE,EAAUp5G,KAAK0sG,gBAIjD3lF,EAAOA,EAAK6pB,UAAU,EAAGsoE,GAClBl5G,KAAK81G,WAAWmC,EAAQj3F,GAAG2sF,OAC3B5mF,EAAK6pB,UAAUsoE,EAAYnM,EAAMxsG,YACnC,CAGL,IAAIotG,EAAQ3tG,KAAK8sG,UAAUC,EAAOC,GAAO,GACzC,GAAID,EAAMxsG,OAASP,KAAK0sG,eACpB1sG,KAAK+1G,iBAAiBpI,GAASZ,EAAMxsG,OACrCP,KAAKwsG,sBAEPyM,EAAQj4F,IAAK,MACR,CACLhhB,KAAKgzG,6BAA6BrF,GAGlC,IAFA,IACI0L,EADAC,EAAS,EAEJvnF,EAAI,EAAGA,EAAIkmF,EAAQj3F,GAAG2sF,MAAMptG,OAAQwxB,IAAK,CAChD,IAAIrvB,EAAMu1G,EAAQj3F,GAAG2sF,MAAM57E,GAxxDtB,IAyxDDrvB,EAAI,KACN22G,EAASr5G,KAAKo1G,YAAYzH,EAAO2L,IA3xD7B,IA6xDF52G,EAAI,GACNqkB,EAAOA,EAAK6pB,UAAU,EAAGsoE,EAAYG,GAAU32G,EAAI,GAC5CqkB,EAAK6pB,UAAUsoE,EAAYG,GACzB32G,EAAI,KAAOiqG,IACpB5lF,EAAOA,EAAK6pB,UAAU,EAAGsoE,EAAYG,GAC9BtyF,EAAK6pB,UAAUsoE,EAAYl5G,KAAKo1G,YAAYzH,EACxC2L,EAAS52G,EAAI,GAAGnC,UAEzBmC,EAAI,KAAOiqG,IACb2M,GAAU52G,EAAI,GAAGnC,OAErB,CACF,CACF,CAEJ,CAGA,MAAO,CADPwmB,EAAOA,EAAK6pB,UAAUkoE,EAAYv4G,OAAQwmB,EAAKxmB,OAASu4G,EAAYv4G,QACtD04G,EAChB,EASA9M,EAAiB9qG,UAAU03G,iBAAmB,SAASd,GAGrD,IAFA,IAAIsB,EAAgBv5G,KAAKysG,aACrBqM,EAAc,GACT93F,EAAI,EAAGA,GAAKu4F,EAAev4F,IAClC83F,GAAen1G,OAAOuc,aAAac,GAIrC,IAASA,EAAI,EAAGA,EAAIi3F,EAAQ13G,OAAQygB,IAClCi3F,EAAQj3F,GAAG42F,QAAU2B,EACrBtB,EAAQj3F,GAAG02F,QAAU6B,EAIvB,IAAI9B,EAAQQ,EAAQ,GAChBtK,EAAQ8J,EAAM9J,MAClB,GAAoB,GAAhBA,EAAMptG,QAx0DK,GAw0DUotG,EAAM,GAAG,GAEhCA,EAAMxxD,QAAQ,IAAIgwD,EAAiBS,KA10DtB,EA00DuCkM,IACpDrB,EAAMG,QAAU2B,EAChB9B,EAAMC,QAAU6B,EAChB9B,EAAME,SAAW4B,EACjB9B,EAAMI,SAAW0B,OACZ,GAAIA,EAAgB5L,EAAM,GAAG,GAAGptG,OAAQ,CAE7C,IAAIooF,EAAc4wB,EAAgB5L,EAAM,GAAG,GAAGptG,OAC9CotG,EAAM,GAAG,GAAKmL,EAAYloE,UAAU+8D,EAAM,GAAG,GAAGptG,QAAUotG,EAAM,GAAG,GACnE8J,EAAMG,QAAUjvB,EAChB8uB,EAAMC,QAAU/uB,EAChB8uB,EAAME,SAAWhvB,EACjB8uB,EAAMI,SAAWlvB,CACnB,CAKA,GAAoB,IADpBglB,GADA8J,EAAQQ,EAAQA,EAAQ13G,OAAS,IACnBotG,OACJptG,QA51DK,GA41DUotG,EAAMA,EAAMptG,OAAS,GAAG,GAE/CotG,EAAM9rG,KAAK,IAAIsqG,EAAiBS,KA91DnB,EA81DoCkM,IACjDrB,EAAME,SAAW4B,EACjB9B,EAAMI,SAAW0B,OACZ,GAAIA,EAAgB5L,EAAMA,EAAMptG,OAAS,GAAG,GAAGA,OAAQ,CAExDooF,EAAc4wB,EAAgB5L,EAAMA,EAAMptG,OAAS,GAAG,GAAGA,OAC7DotG,EAAMA,EAAMptG,OAAS,GAAG,IAAMu4G,EAAYloE,UAAU,EAAG+3C,GACvD8uB,EAAME,SAAWhvB,EACjB8uB,EAAMI,SAAWlvB,CACnB,CAEA,OAAOmwB,CACT,EASA3M,EAAiB9qG,UAAU23G,eAAiB,SAASf,GAEnD,IADA,IAAIuB,EAAax5G,KAAK0sG,cACb1rF,EAAI,EAAGA,EAAIi3F,EAAQ13G,OAAQygB,IAClC,KAAIi3F,EAAQj3F,GAAG22F,SAAW6B,GAA1B,CAGA,IAAIC,EAAWxB,EAAQj3F,GAEvBi3F,EAAQtwG,OAAOqZ,IAAK,GAIpB,IAHA,IAAI42F,EAAS6B,EAAS7B,OAClBF,EAAS+B,EAAS/B,OAClBgC,EAAa,GACgB,IAA1BD,EAAS9L,MAAMptG,QAAc,CAElC,IAAIk3G,EAAQ,IAAItL,EAAiB+L,UAC7ByB,GAAQ,EAOZ,IANAlC,EAAMG,OAASA,EAAS8B,EAAWn5G,OACnCk3G,EAAMC,OAASA,EAASgC,EAAWn5G,OAChB,KAAfm5G,IACFjC,EAAME,QAAUF,EAAMI,QAAU6B,EAAWn5G,OAC3Ck3G,EAAM9J,MAAM9rG,KAAK,IAAIsqG,EAAiBS,KAv4D7B,EAu4D8C8M,KAExB,IAA1BD,EAAS9L,MAAMptG,QACfk3G,EAAME,QAAU6B,EAAax5G,KAAKysG,cAAc,CACrD,IAAI+L,EAAYiB,EAAS9L,MAAM,GAAG,GAC9B8K,EAAYgB,EAAS9L,MAAM,GAAG,GA74DxB,IA84DN6K,GAEFf,EAAMI,SAAWY,EAAUl4G,OAC3Bm3G,GAAUe,EAAUl4G,OACpBk3G,EAAM9J,MAAM9rG,KAAK43G,EAAS9L,MAAM39E,SAChC2pF,GAAQ,GACCnB,IAAc7L,GAAqC,GAAtB8K,EAAM9J,MAAMptG,QAn5D3C,GAo5DEk3G,EAAM9J,MAAM,GAAG,IACf8K,EAAUl4G,OAAS,EAAIi5G,GAEhC/B,EAAME,SAAWc,EAAUl4G,OAC3Bq3G,GAAUa,EAAUl4G,OACpBo5G,GAAQ,EACRlC,EAAM9J,MAAM9rG,KAAK,IAAIsqG,EAAiBS,KAAK4L,EAAWC,IACtDgB,EAAS9L,MAAM39E,UAGfyoF,EAAYA,EAAU7nE,UAAU,EAC5B4oE,EAAa/B,EAAME,QAAU33G,KAAKysG,cACtCgL,EAAME,SAAWc,EAAUl4G,OAC3Bq3G,GAAUa,EAAUl4G,OAj6Db,IAk6DHi4G,GACFf,EAAMI,SAAWY,EAAUl4G,OAC3Bm3G,GAAUe,EAAUl4G,QAEpBo5G,GAAQ,EAEVlC,EAAM9J,MAAM9rG,KAAK,IAAIsqG,EAAiBS,KAAK4L,EAAWC,IAClDA,GAAagB,EAAS9L,MAAM,GAAG,GACjC8L,EAAS9L,MAAM39E,QAEfypF,EAAS9L,MAAM,GAAG,GACd8L,EAAS9L,MAAM,GAAG,GAAG/8D,UAAU6nE,EAAUl4G,QAGnD,CAGAm5G,GADAA,EAAa15G,KAAK81G,WAAW2B,EAAM9J,QAEpB/8D,UAAU8oE,EAAWn5G,OAASP,KAAKysG,cAElD,IAAImN,EAAc55G,KAAK61G,WAAW4D,EAAS9L,OACpB/8D,UAAU,EAAG5wC,KAAKysG,cACrB,KAAhBmN,IACFnC,EAAME,SAAWiC,EAAYr5G,OAC7Bk3G,EAAMI,SAAW+B,EAAYr5G,OACF,IAAvBk3G,EAAM9J,MAAMptG,QA37DP,IA47DLk3G,EAAM9J,MAAM8J,EAAM9J,MAAMptG,OAAS,GAAG,GACtCk3G,EAAM9J,MAAM8J,EAAM9J,MAAMptG,OAAS,GAAG,IAAMq5G,EAE1CnC,EAAM9J,MAAM9rG,KAAK,IAAIsqG,EAAiBS,KA/7D/B,EA+7DgDgN,KAGtDD,GACH1B,EAAQtwG,SAASqZ,EAAG,EAAGy2F,EAE3B,CA7EA,CA+EJ,EAQAtL,EAAiB9qG,UAAUw4G,aAAe,SAAS5B,GAEjD,IADA,IAAIlxF,EAAO,GACF/F,EAAI,EAAGA,EAAIi3F,EAAQ13G,OAAQygB,IAClC+F,EAAK/F,GAAKi3F,EAAQj3F,GAEpB,OAAO+F,EAAKzkB,KAAK,GACnB,EASA6pG,EAAiB9qG,UAAUy4G,eAAiB,SAASC,GACnD,IAAI9B,EAAU,GACd,IAAK8B,EACH,OAAO9B,EAKT,IAHA,IAAIlxF,EAAOgzF,EAAS53G,MAAM,MACtB63G,EAAc,EACdC,EAAc,uCACXD,EAAcjzF,EAAKxmB,QAAQ,CAChC,IAAIia,EAAIuM,EAAKizF,GAAatvG,MAAMuvG,GAChC,IAAKz/F,EACH,MAAM,IAAI/F,MAAM,yBAA2BsS,EAAKizF,IAElD,IAAIvC,EAAQ,IAAItL,EAAiB+L,UAyBjC,IAxBAD,EAAQp2G,KAAK41G,GACbA,EAAMG,OAASn3F,SAASjG,EAAE,GAAI,IACjB,KAATA,EAAE,IACJi9F,EAAMG,SACNH,EAAME,QAAU,GACC,KAARn9F,EAAE,GACXi9F,EAAME,QAAU,GAEhBF,EAAMG,SACNH,EAAME,QAAUl3F,SAASjG,EAAE,GAAI,KAGjCi9F,EAAMC,OAASj3F,SAASjG,EAAE,GAAI,IACjB,KAATA,EAAE,IACJi9F,EAAMC,SACND,EAAMI,QAAU,GACC,KAARr9F,EAAE,GACXi9F,EAAMI,QAAU,GAEhBJ,EAAMC,SACND,EAAMI,QAAUp3F,SAASjG,EAAE,GAAI,KAEjCw/F,IAEOA,EAAcjzF,EAAKxmB,QAAQ,CAChC,IAAI25G,EAAOnzF,EAAKizF,GAAa53G,OAAO,GACpC,IACE,IAAIgH,EAAOmtG,UAAUxvF,EAAKizF,GAAappE,UAAU,GACnD,CAAE,MAAOgwD,GAEP,MAAM,IAAInsF,MAAM,qCAAuCrL,EACzD,CACA,GAAY,KAAR8wG,EAEFzC,EAAM9J,MAAM9rG,KAAK,IAAIsqG,EAAiBS,KAAKD,EAAavjG,SACnD,GAAY,KAAR8wG,EAETzC,EAAM9J,MAAM9rG,KAAK,IAAIsqG,EAAiBS,KAlhE5B,EAkhE8CxjG,SACnD,GAAY,KAAR8wG,EAETzC,EAAM9J,MAAM9rG,KAAK,IAAIsqG,EAAiBS,KAphE7B,EAohE8CxjG,QAClD,IAAY,KAAR8wG,EAET,MACK,GAAa,KAATA,EAIT,MAAM,IAAIzlG,MAAM,uBAAyBylG,EAAO,SAAW9wG,EAC7D,CACA4wG,GACF,CACF,CACA,OAAO/B,CACT,GAOA9L,EAAiB+L,UAAY,WAE3Bl4G,KAAK2tG,MAAQ,GAEb3tG,KAAK43G,OAAS,KAEd53G,KAAK03G,OAAS,KAEd13G,KAAK23G,QAAU,EAEf33G,KAAK63G,QAAU,CACjB,GAS2Bx2G,UAAUC,SAAW,WAmB9C,IAlBA,IAgBIurG,EADA9lF,EAAO,CAAC,QAdS,IAAjB/mB,KAAK23G,QACG33G,KAAK43G,OAAS,KACC,GAAhB53G,KAAK23G,QACJ33G,KAAK43G,OAAS,EAEb53G,KAAK43G,OAAS,EAAK,IAAM53G,KAAK23G,SASZ,MAPV,IAAjB33G,KAAK63G,QACG73G,KAAK03G,OAAS,KACC,GAAhB13G,KAAK63G,QACJ73G,KAAK03G,OAAS,EAEb13G,KAAK03G,OAAS,EAAK,IAAM13G,KAAK63G,SAEK,SAGvC72F,EAAI,EAAGA,EAAIhhB,KAAK2tG,MAAMptG,OAAQygB,IAAK,CAC1C,OAAQhhB,KAAK2tG,MAAM3sF,GAAG,IACpB,KAnlEY,EAolEV6rF,EAAK,IACL,MACF,KAAKF,EACHE,EAAK,IACL,MACF,KAxlEW,EAylETA,EAAK,IAGT9lF,EAAK/F,EAAI,GAAK6rF,EAAKuJ,UAAUp2G,KAAK2tG,MAAM3sF,GAAG,IAAM,IACnD,CACA,OAAO+F,EAAKzkB,KAAK,IAAIE,QAAQ,OAAQ,IACvC,EAIArC,EAAOsC,QAAU0pG,EACjBhsG,EAAOsC,QAAPtC,iBAAqCgsG,EACrChsG,EAAOsC,QAAPtC,YAAgCwsG,EAChCxsG,EAAOsC,QAAPtC,YAvmEkB,EAwmElBA,EAAOsC,QAAPtC,WAvmEiB,mBCxDjB,IAGIg6G,EAAiB,4BAGjBC,EAAW,IAGXC,EAAU,oBACVC,EAAS,6BACTC,EAAY,kBAGZC,EAAe,mDACfC,EAAgB,QAChBC,EAAe,MACfC,EAAa,mGASbC,EAAe,WAGfC,EAAe,8BAGfC,EAA8B,iBAAV/6G,EAAAA,GAAsBA,EAAAA,GAAUA,EAAAA,EAAOqB,SAAWA,QAAUrB,EAAAA,EAGhFg7G,EAA0B,iBAAR75E,MAAoBA,MAAQA,KAAK9/B,SAAWA,QAAU8/B,KAGxEn+B,EAAO+3G,GAAcC,GAAYC,SAAS,cAATA,GAkCrC,IAAIC,EAAa51G,MAAMhE,UACnB65G,EAAYF,SAAS35G,UACrB85G,EAAc/5G,OAAOC,UAGrB+5G,EAAar4G,EAAK,sBAGlBs4G,EAAc,WAChB,IAAIC,EAAM,SAASrxG,KAAKmxG,GAAcA,EAAWt2G,MAAQs2G,EAAWt2G,KAAKy2G,UAAY,IACrF,OAAOD,EAAO,iBAAmBA,EAAO,EAC1C,CAHkB,GAMdE,EAAeN,EAAU55G,SAGzBqW,EAAiBwjG,EAAYxjG,eAO7B8jG,EAAiBN,EAAY75G,SAG7Bo6G,EAAazyG,OAAO,IACtBuyG,EAAaj6G,KAAKoW,GAAgBnV,QA7EjB,sBA6EuC,QACvDA,QAAQ,yDAA0D,SAAW,KAI5EwyB,EAASjyB,EAAKiyB,OACdrtB,EAASszG,EAAWtzG,OAGpBg0G,EAAMC,EAAU74G,EAAM,OACtB84G,EAAeD,EAAUx6G,OAAQ,UAGjC06G,EAAc9mF,EAASA,EAAO3zB,eAAYF,EAC1C46G,EAAiBD,EAAcA,EAAYx6G,cAAWH,EAS1D,SAAS66G,EAAKC,GACZ,IAAIr3G,GAAS,EACTrE,EAAS07G,EAAUA,EAAQ17G,OAAS,EAGxC,IADAP,KAAK0xF,UACI9sF,EAAQrE,GAAQ,CACvB,IAAI27G,EAAQD,EAAQr3G,GACpB5E,KAAK4V,IAAIsmG,EAAM,GAAIA,EAAM,GAC3B,CACF,CAyFA,SAASC,EAAUF,GACjB,IAAIr3G,GAAS,EACTrE,EAAS07G,EAAUA,EAAQ17G,OAAS,EAGxC,IADAP,KAAK0xF,UACI9sF,EAAQrE,GAAQ,CACvB,IAAI27G,EAAQD,EAAQr3G,GACpB5E,KAAK4V,IAAIsmG,EAAM,GAAIA,EAAM,GAC3B,CACF,CAuGA,SAASE,EAASH,GAChB,IAAIr3G,GAAS,EACTrE,EAAS07G,EAAUA,EAAQ17G,OAAS,EAGxC,IADAP,KAAK0xF,UACI9sF,EAAQrE,GAAQ,CACvB,IAAI27G,EAAQD,EAAQr3G,GACpB5E,KAAK4V,IAAIsmG,EAAM,GAAIA,EAAM,GAC3B,CACF,CAsFA,SAASG,EAAaj1G,EAAOpC,GAE3B,IADA,IA+SUzB,EAAO2+F,EA/Sb3hG,EAAS6G,EAAM7G,OACZA,KACL,IA6SQgD,EA7SD6D,EAAM7G,GAAQ,OA6SN2hG,EA7SUl9F,IA8SAzB,IAAUA,GAAS2+F,IAAUA,EA7SpD,OAAO3hG,EAGX,OAAQ,CACV,CAUA,SAAS+7G,EAAQC,EAAQhrG,GAuDzB,IAAkBhO,EAtDhBgO,EA8FF,SAAehO,EAAOg5G,GACpB,GAAI/1G,EAAQjD,GACV,OAAO,EAET,IAAI2P,SAAc3P,EAClB,GAAY,UAAR2P,GAA4B,UAARA,GAA4B,WAARA,GAC/B,MAAT3P,GAAiBi5G,EAASj5G,GAC5B,OAAO,EAET,OAAOk3G,EAAcjvG,KAAKjI,KAAWi3G,EAAahvG,KAAKjI,IAC1C,MAAVg5G,GAAkBh5G,KAASnC,OAAOm7G,EACvC,CAzGSE,CAAMlrG,EAAMgrG,GAAU,CAAChrG,GAuDvB/K,EADSjD,EAtD+BgO,GAuDvBhO,EAAQm5G,EAAan5G,GAlD7C,IAHA,IAAIqB,EAAQ,EACRrE,EAASgR,EAAKhR,OAED,MAAVg8G,GAAkB33G,EAAQrE,GAC/Bg8G,EAASA,EAAOI,EAAMprG,EAAK3M,OAE7B,OAAQA,GAASA,GAASrE,EAAUg8G,OAASp7G,CAC/C,CAUA,SAASy7G,EAAar5G,GACpB,IAAKs5G,EAASt5G,KA4GEw1C,EA5GiBx1C,EA6GxB83G,GAAeA,KAActiE,GA5GpC,OAAO,EA2GX,IAAkBA,EAzGZ64D,EAoTN,SAAoBruG,GAGlB,IAAI0J,EAAM4vG,EAASt5G,GAASk4G,EAAel6G,KAAKgC,GAAS,GACzD,OAAO0J,GAAOotG,GAAWptG,GAAOqtG,CAClC,CAzTiBwC,CAAWv5G,IA3Z5B,SAAsBA,GAGpB,IAAIa,GAAS,EACb,GAAa,MAATb,GAA0C,mBAAlBA,EAAMjC,SAChC,IACE8C,KAAYb,EAAQ,GACtB,CAAE,MAAO2F,GAAI,CAEf,OAAO9E,CACT,CAiZsC24G,CAAax5G,GAAUm4G,EAAab,EACxE,OAAOjJ,EAAQpmG,KAsJjB,SAAkButC,GAChB,GAAY,MAARA,EAAc,CAChB,IACE,OAAOyiE,EAAaj6G,KAAKw3C,EAC3B,CAAE,MAAO7vC,GAAI,CACb,IACE,OAAQ6vC,EAAO,EACjB,CAAE,MAAO7vC,GAAI,CACf,CACA,MAAO,EACT,CAhKsB8zG,CAASz5G,GAC/B,CAyCA,SAAS05G,EAAW93G,EAAKH,GACvB,IAAIwP,EAAOrP,EAAI+3G,SACf,OA8CF,SAAmB35G,GACjB,IAAI2P,SAAc3P,EAClB,MAAgB,UAAR2P,GAA4B,UAARA,GAA4B,UAARA,GAA4B,WAARA,EACrD,cAAV3P,EACU,OAAVA,CACP,CAnDS45G,CAAUn4G,GACbwP,EAAmB,iBAAPxP,EAAkB,SAAW,QACzCwP,EAAKrP,GACX,CAUA,SAASy2G,EAAUW,EAAQv3G,GACzB,IAAIzB,EAjeN,SAAkBg5G,EAAQv3G,GACxB,OAAiB,MAAVu3G,OAAiBp7G,EAAYo7G,EAAOv3G,EAC7C,CA+dcuqC,CAASgtE,EAAQv3G,GAC7B,OAAO43G,EAAar5G,GAASA,OAAQpC,CACvC,CAnUA66G,EAAK36G,UAAUqwF,MAnEf,WACE1xF,KAAKk9G,SAAWrB,EAAeA,EAAa,MAAQ,CAAC,CACvD,EAkEAG,EAAK36G,UAAkB,OAtDvB,SAAoB2D,GAClB,OAAOhF,KAAKgpF,IAAIhkF,WAAehF,KAAKk9G,SAASl4G,EAC/C,EAqDAg3G,EAAK36G,UAAUyP,IA1Cf,SAAiB9L,GACf,IAAIwP,EAAOxU,KAAKk9G,SAChB,GAAIrB,EAAc,CAChB,IAAIz3G,EAASoQ,EAAKxP,GAClB,OAAOZ,IAAW+1G,OAAiBh5G,EAAYiD,CACjD,CACA,OAAOuT,EAAepW,KAAKiT,EAAMxP,GAAOwP,EAAKxP,QAAO7D,CACtD,EAoCA66G,EAAK36G,UAAU2nF,IAzBf,SAAiBhkF,GACf,IAAIwP,EAAOxU,KAAKk9G,SAChB,OAAOrB,OAA6B16G,IAAdqT,EAAKxP,GAAqB2S,EAAepW,KAAKiT,EAAMxP,EAC5E,EAuBAg3G,EAAK36G,UAAUuU,IAXf,SAAiB5Q,EAAKzB,GAGpB,OAFWvD,KAAKk9G,SACXl4G,GAAQ62G,QAA0B16G,IAAVoC,EAAuB42G,EAAiB52G,EAC9DvD,IACT,EAmHAm8G,EAAU96G,UAAUqwF,MAjFpB,WACE1xF,KAAKk9G,SAAW,EAClB,EAgFAf,EAAU96G,UAAkB,OArE5B,SAAyB2D,GACvB,IAAIwP,EAAOxU,KAAKk9G,SACZt4G,EAAQy3G,EAAa7nG,EAAMxP,GAE/B,QAAIJ,EAAQ,KAIRA,GADY4P,EAAKjU,OAAS,EAE5BiU,EAAKR,MAELrM,EAAOpG,KAAKiT,EAAM5P,EAAO,IAEpB,EACT,EAwDAu3G,EAAU96G,UAAUyP,IA7CpB,SAAsB9L,GACpB,IAAIwP,EAAOxU,KAAKk9G,SACZt4G,EAAQy3G,EAAa7nG,EAAMxP,GAE/B,OAAOJ,EAAQ,OAAIzD,EAAYqT,EAAK5P,GAAO,EAC7C,EAyCAu3G,EAAU96G,UAAU2nF,IA9BpB,SAAsBhkF,GACpB,OAAOq3G,EAAar8G,KAAKk9G,SAAUl4G,IAAQ,CAC7C,EA6BAm3G,EAAU96G,UAAUuU,IAjBpB,SAAsB5Q,EAAKzB,GACzB,IAAIiR,EAAOxU,KAAKk9G,SACZt4G,EAAQy3G,EAAa7nG,EAAMxP,GAO/B,OALIJ,EAAQ,EACV4P,EAAK3S,KAAK,CAACmD,EAAKzB,IAEhBiR,EAAK5P,GAAO,GAAKrB,EAEZvD,IACT,EAiGAo8G,EAAS/6G,UAAUqwF,MA/DnB,WACE1xF,KAAKk9G,SAAW,CACd,KAAQ,IAAIlB,EACZ,IAAO,IAAKL,GAAOQ,GACnB,OAAU,IAAIH,EAElB,EA0DAI,EAAS/6G,UAAkB,OA/C3B,SAAwB2D,GACtB,OAAOi4G,EAAWj9G,KAAMgF,GAAa,OAAEA,EACzC,EA8CAo3G,EAAS/6G,UAAUyP,IAnCnB,SAAqB9L,GACnB,OAAOi4G,EAAWj9G,KAAMgF,GAAK8L,IAAI9L,EACnC,EAkCAo3G,EAAS/6G,UAAU2nF,IAvBnB,SAAqBhkF,GACnB,OAAOi4G,EAAWj9G,KAAMgF,GAAKgkF,IAAIhkF,EACnC,EAsBAo3G,EAAS/6G,UAAUuU,IAVnB,SAAqB5Q,EAAKzB,GAExB,OADA05G,EAAWj9G,KAAMgF,GAAK4Q,IAAI5Q,EAAKzB,GACxBvD,IACT,EA+KA,IAAI08G,EAAeU,GAAQ,SAAS/4G,GA4SpC,IAAkBd,EA3ShBc,EA4SgB,OADAd,EA3SEc,GA4SK,GArZzB,SAAsBd,GAEpB,GAAoB,iBAATA,EACT,OAAOA,EAET,GAAIi5G,EAASj5G,GACX,OAAOw4G,EAAiBA,EAAex6G,KAAKgC,GAAS,GAEvD,IAAIa,EAAUb,EAAQ,GACtB,MAAkB,KAAVa,GAAkB,EAAIb,IAAW62G,EAAY,KAAOh2G,CAC9D,CA2Y8Bi5G,CAAa95G,GA1SzC,IAAIa,EAAS,GAOb,OANIs2G,EAAalvG,KAAKnH,IACpBD,EAAOvC,KAAK,IAEdwC,EAAO7B,QAAQm4G,GAAY,SAASjwG,EAAO4d,EAAQy5B,EAAO19C,GACxDD,EAAOvC,KAAKkgD,EAAQ19C,EAAO7B,QAAQo4G,EAAc,MAAStyF,GAAU5d,EACtE,IACOtG,CACT,IASA,SAASu4G,EAAMp5G,GACb,GAAoB,iBAATA,GAAqBi5G,EAASj5G,GACvC,OAAOA,EAET,IAAIa,EAAUb,EAAQ,GACtB,MAAkB,KAAVa,GAAkB,EAAIb,IAAW62G,EAAY,KAAOh2G,CAC9D,CAiEA,SAASg5G,EAAQrkE,EAAMukE,GACrB,GAAmB,mBAARvkE,GAAuBukE,GAA+B,mBAAZA,EACnD,MAAM,IAAI54G,UAvqBQ,uBAyqBpB,IAAI64G,EAAW,WACb,IAAItzE,EAAO3pC,UACP0E,EAAMs4G,EAAWA,EAAS38G,MAAMX,KAAMiqC,GAAQA,EAAK,GACnDt7B,EAAQ4uG,EAAS5uG,MAErB,GAAIA,EAAMq6E,IAAIhkF,GACZ,OAAO2J,EAAMmC,IAAI9L,GAEnB,IAAIZ,EAAS20C,EAAKp4C,MAAMX,KAAMiqC,GAE9B,OADAszE,EAAS5uG,MAAQA,EAAMiH,IAAI5Q,EAAKZ,GACzBA,CACT,EAEA,OADAm5G,EAAS5uG,MAAQ,IAAKyuG,EAAQI,OAASpB,GAChCmB,CACT,CAGAH,EAAQI,MAAQpB,EA6DhB,IAAI51G,EAAUnB,MAAMmB,QAmDpB,SAASq2G,EAASt5G,GAChB,IAAI2P,SAAc3P,EAClB,QAASA,IAAkB,UAAR2P,GAA4B,YAARA,EACzC,CA+CA,SAASspG,EAASj5G,GAChB,MAAuB,iBAATA,GAtBhB,SAAsBA,GACpB,QAASA,GAAyB,iBAATA,CAC3B,CAqBKk6G,CAAal6G,IAAUk4G,EAAel6G,KAAKgC,IAAUg3G,CAC1D,CAyDAp6G,EAAOsC,QALP,SAAa85G,EAAQhrG,EAAMmsG,GACzB,IAAIt5G,EAAmB,MAAVm4G,OAAiBp7G,EAAYm7G,EAAQC,EAAQhrG,GAC1D,YAAkBpQ,IAAXiD,EAAuBs5G,EAAet5G,CAC/C,8BCt5BA,IAGI+1G,EAAiB,4BAGjBwD,EAAuB,EACvBC,EAAyB,EAGzB71F,EAAmB,iBAGnB81F,EAAU,qBACVC,EAAW,iBACXC,EAAW,yBACXC,EAAU,mBACVC,EAAU,gBACVC,EAAW,iBACX7D,EAAU,oBACVC,EAAS,6BACT6D,EAAS,eACTC,EAAY,kBACZC,EAAU,gBACVC,EAAY,kBACZC,EAAa,mBACbC,EAAW,iBACXC,EAAY,kBACZC,EAAS,eACTC,EAAY,kBACZpE,EAAY,kBACZqE,EAAe,qBACfC,EAAa,mBAEbC,EAAiB,uBACjBC,EAAc,oBAkBdlE,EAAe,8BAGfmE,EAAW,mBAGXC,EAAiB,CAAC,EACtBA,EAxBiB,yBAwBYA,EAvBZ,yBAwBjBA,EAvBc,sBAuBYA,EAtBX,uBAuBfA,EAtBe,uBAsBYA,EArBZ,uBAsBfA,EArBsB,8BAqBYA,EApBlB,wBAqBhBA,EApBgB,yBAoBY,EAC5BA,EAAepB,GAAWoB,EAAenB,GACzCmB,EAAeH,GAAkBG,EAAejB,GAChDiB,EAAeF,GAAeE,EAAehB,GAC7CgB,EAAef,GAAYe,EAAe5E,GAC1C4E,EAAed,GAAUc,EAAeb,GACxCa,EAAeX,GAAaW,EAAeR,GAC3CQ,EAAeP,GAAUO,EAAeN,GACxCM,EAAeJ,IAAc,EAG7B,IAAI/D,EAA8B,iBAAV/6G,EAAAA,GAAsBA,EAAAA,GAAUA,EAAAA,EAAOqB,SAAWA,QAAUrB,EAAAA,EAGhFg7G,EAA0B,iBAAR75E,MAAoBA,MAAQA,KAAK9/B,SAAWA,QAAU8/B,KAGxEn+B,EAAO+3G,GAAcC,GAAYC,SAAS,cAATA,GAGjCkE,EAA4Cz8G,IAAYA,EAAQsnB,UAAYtnB,EAG5E08G,EAAaD,GAA4C/+G,IAAWA,EAAO4pB,UAAY5pB,EAGvFi/G,EAAgBD,GAAcA,EAAW18G,UAAYy8G,EAGrDG,EAAcD,GAAiBtE,EAAWwE,QAG1CC,EAAY,WACd,IACE,OAAOF,GAAeA,EAAY92C,SAAW82C,EAAY92C,QAAQ,OACnE,CAAE,MAAOr/D,GAAI,CACf,CAJgB,GAOZs2G,EAAmBD,GAAYA,EAASE,aAuD5C,SAASC,EAAUt4G,EAAO7B,GAIxB,IAHA,IAAIX,GAAS,EACTrE,EAAkB,MAAT6G,EAAgB,EAAIA,EAAM7G,SAE9BqE,EAAQrE,GACf,GAAIgF,EAAU6B,EAAMxC,GAAQA,EAAOwC,GACjC,OAAO,EAGX,OAAO,CACT,CAiEA,SAASu4G,EAAWx6G,GAClB,IAAIP,GAAS,EACTR,EAASiB,MAAMF,EAAI0rC,MAKvB,OAHA1rC,EAAIJ,SAAQ,SAASxB,EAAOyB,GAC1BZ,IAASQ,GAAS,CAACI,EAAKzB,EAC1B,IACOa,CACT,CAuBA,SAASw7G,EAAWhqG,GAClB,IAAIhR,GAAS,EACTR,EAASiB,MAAMuQ,EAAIi7B,MAKvB,OAHAj7B,EAAI7Q,SAAQ,SAASxB,GACnBa,IAASQ,GAASrB,CACpB,IACOa,CACT,CAGA,IAxBiB20C,EAAMp6C,EAwBnBs8G,EAAa51G,MAAMhE,UACnB65G,EAAYF,SAAS35G,UACrB85G,EAAc/5G,OAAOC,UAGrB+5G,EAAar4G,EAAK,sBAGlBy4G,EAAeN,EAAU55G,SAGzBqW,EAAiBwjG,EAAYxjG,eAG7B0jG,EAAc,WAChB,IAAIC,EAAM,SAASrxG,KAAKmxG,GAAcA,EAAWt2G,MAAQs2G,EAAWt2G,KAAKy2G,UAAY,IACrF,OAAOD,EAAO,iBAAmBA,EAAO,EAC1C,CAHkB,GAUduE,EAAuB1E,EAAY75G,SAGnCo6G,GAAazyG,OAAO,IACtBuyG,EAAaj6G,KAAKoW,GAAgBnV,QA7PjB,sBA6PuC,QACvDA,QAAQ,yDAA0D,SAAW,KAI5Es9G,GAASV,EAAgBr8G,EAAK+8G,YAAS3+G,EACvC6zB,GAASjyB,EAAKiyB,OACd+qF,GAAah9G,EAAKg9G,WAClBC,GAAuB7E,EAAY6E,qBACnCr4G,GAASszG,EAAWtzG,OACpBs4G,GAAiBjrF,GAASA,GAAOkrF,iBAAc/+G,EAG/Cg/G,GAAmB/+G,OAAOg/G,sBAC1BC,GAAiBP,GAASA,GAAOQ,cAAWn/G,EAC5Co/G,IAnEaxnE,EAmEQ33C,OAAO0D,KAnETnG,EAmEeyC,OAlE7B,SAASo/G,GACd,OAAOznE,EAAKp6C,EAAU6hH,GACxB,GAmEEC,GAAW7E,GAAU74G,EAAM,YAC3B44G,GAAMC,GAAU74G,EAAM,OACtByQ,GAAUooG,GAAU74G,EAAM,WAC1B8lF,GAAM+yB,GAAU74G,EAAM,OACtB29G,GAAU9E,GAAU74G,EAAM,WAC1B84G,GAAeD,GAAUx6G,OAAQ,UAGjCu/G,GAAqB3D,GAASyD,IAC9BG,GAAgB5D,GAASrB,IACzBkF,GAAoB7D,GAASxpG,IAC7BstG,GAAgB9D,GAASn0B,IACzBk4B,GAAoB/D,GAAS0D,IAG7B5E,GAAc9mF,GAASA,GAAO3zB,eAAYF,EAC1C6/G,GAAgBlF,GAAcA,GAAYmF,aAAU9/G,EASxD,SAAS66G,GAAKC,GACZ,IAAIr3G,GAAS,EACTrE,EAAoB,MAAX07G,EAAkB,EAAIA,EAAQ17G,OAG3C,IADAP,KAAK0xF,UACI9sF,EAAQrE,GAAQ,CACvB,IAAI27G,EAAQD,EAAQr3G,GACpB5E,KAAK4V,IAAIsmG,EAAM,GAAIA,EAAM,GAC3B,CACF,CA6FA,SAASC,GAAUF,GACjB,IAAIr3G,GAAS,EACTrE,EAAoB,MAAX07G,EAAkB,EAAIA,EAAQ17G,OAG3C,IADAP,KAAK0xF,UACI9sF,EAAQrE,GAAQ,CACvB,IAAI27G,EAAQD,EAAQr3G,GACpB5E,KAAK4V,IAAIsmG,EAAM,GAAIA,EAAM,GAC3B,CACF,CA0GA,SAASE,GAASH,GAChB,IAAIr3G,GAAS,EACTrE,EAAoB,MAAX07G,EAAkB,EAAIA,EAAQ17G,OAG3C,IADAP,KAAK0xF,UACI9sF,EAAQrE,GAAQ,CACvB,IAAI27G,EAAQD,EAAQr3G,GACpB5E,KAAK4V,IAAIsmG,EAAM,GAAIA,EAAM,GAC3B,CACF,CA6FA,SAASgF,GAASj8G,GAChB,IAAIL,GAAS,EACTrE,EAAmB,MAAV0E,EAAiB,EAAIA,EAAO1E,OAGzC,IADAP,KAAKk9G,SAAW,IAAId,KACXx3G,EAAQrE,GACfP,KAAK+N,IAAI9I,EAAOL,GAEpB,CAyCA,SAASu8G,GAAMlF,GACb,IAAIznG,EAAOxU,KAAKk9G,SAAW,IAAIf,GAAUF,GACzCj8G,KAAK6wC,KAAOr8B,EAAKq8B,IACnB,CAkGA,SAASuwE,GAAc79G,EAAO89G,GAC5B,IAAIC,EAAQ96G,GAAQjD,GAChBg+G,GAASD,GAASE,GAAYj+G,GAC9Bk+G,GAAUH,IAAUC,GAASjB,GAAS/8G,GACtCm+G,GAAUJ,IAAUC,IAAUE,GAAUhC,GAAal8G,GACrDo+G,EAAcL,GAASC,GAASE,GAAUC,EAC1Ct9G,EAASu9G,EAloBf,SAAmBl1G,EAAGm1G,GAIpB,IAHA,IAAIh9G,GAAS,EACTR,EAASiB,MAAMoH,KAEV7H,EAAQ6H,GACfrI,EAAOQ,GAASg9G,EAASh9G,GAE3B,OAAOR,CACT,CA0nB6By9G,CAAUt+G,EAAMhD,OAAQoD,QAAU,GACzDpD,EAAS6D,EAAO7D,OAEpB,IAAK,IAAIyE,KAAOzB,GACT89G,IAAa1pG,EAAepW,KAAKgC,EAAOyB,IACvC28G,IAEQ,UAAP38G,GAECy8G,IAAkB,UAAPz8G,GAA0B,UAAPA,IAE9B08G,IAAkB,UAAP18G,GAA0B,cAAPA,GAA8B,cAAPA,IAEtD88G,GAAQ98G,EAAKzE,KAElB6D,EAAOvC,KAAKmD,GAGhB,OAAOZ,CACT,CAUA,SAASi4G,GAAaj1G,EAAOpC,GAE3B,IADA,IAAIzE,EAAS6G,EAAM7G,OACZA,KACL,GAAIwhH,GAAG36G,EAAM7G,GAAQ,GAAIyE,GACvB,OAAOzE,EAGX,OAAQ,CACV,CAyBA,SAASyhH,GAAWz+G,GAClB,OAAa,MAATA,OACepC,IAAVoC,EAAsBq7G,EAAeP,EAEtC4B,IAAkBA,MAAkB7+G,OAAOmC,GA0arD,SAAmBA,GACjB,IAAI0+G,EAAQtqG,EAAepW,KAAKgC,EAAO08G,IACnChzG,EAAM1J,EAAM08G,IAEhB,IACE18G,EAAM08G,SAAkB9+G,EACxB,IAAI+gH,GAAW,CACjB,CAAE,MAAOh5G,GAAI,CAEb,IAAI9E,EAASy7G,EAAqBt+G,KAAKgC,GACnC2+G,IACED,EACF1+G,EAAM08G,IAAkBhzG,SAEjB1J,EAAM08G,KAGjB,OAAO77G,CACT,CA3bM+9G,CAAU5+G,GA4iBhB,SAAwBA,GACtB,OAAOs8G,EAAqBt+G,KAAKgC,EACnC,CA7iBMk4G,CAAel4G,EACrB,CASA,SAAS6+G,GAAgB7+G,GACvB,OAAOk6G,GAAal6G,IAAUy+G,GAAWz+G,IAAUs6G,CACrD,CAgBA,SAASwE,GAAY9+G,EAAO2+F,EAAOogB,EAASC,EAAYjnE,GACtD,OAAI/3C,IAAU2+F,IAGD,MAAT3+F,GAA0B,MAAT2+F,IAAmBub,GAAal6G,KAAWk6G,GAAavb,GACpE3+F,IAAUA,GAAS2+F,IAAUA,EAmBxC,SAAyBqa,EAAQra,EAAOogB,EAASC,EAAYC,EAAWlnE,GACtE,IAAImnE,EAAWj8G,GAAQ+1G,GACnBmG,EAAWl8G,GAAQ07F,GACnBygB,EAASF,EAAW3E,EAAW8E,GAAOrG,GACtCsG,EAASH,EAAW5E,EAAW8E,GAAO1gB,GAKtC4gB,GAHJH,EAASA,GAAU9E,EAAUS,EAAYqE,IAGhBrE,EACrByE,GAHJF,EAASA,GAAUhF,EAAUS,EAAYuE,IAGhBvE,EACrB0E,EAAYL,GAAUE,EAE1B,GAAIG,GAAa1C,GAAS/D,GAAS,CACjC,IAAK+D,GAASpe,GACZ,OAAO,EAETugB,GAAW,EACXK,GAAW,CACb,CACA,GAAIE,IAAcF,EAEhB,OADAxnE,IAAUA,EAAQ,IAAI6lE,IACdsB,GAAYhD,GAAalD,GAC7B0G,GAAY1G,EAAQra,EAAOogB,EAASC,EAAYC,EAAWlnE,GAiKnE,SAAoBihE,EAAQra,EAAOj1F,EAAKq1G,EAASC,EAAYC,EAAWlnE,GACtE,OAAQruC,GACN,KAAK8xG,EACH,GAAKxC,EAAO2G,YAAchhB,EAAMghB,YAC3B3G,EAAO4G,YAAcjhB,EAAMihB,WAC9B,OAAO,EAET5G,EAASA,EAAO6G,OAChBlhB,EAAQA,EAAMkhB,OAEhB,KAAKtE,EACH,QAAKvC,EAAO2G,YAAchhB,EAAMghB,aAC3BV,EAAU,IAAIzC,GAAWxD,GAAS,IAAIwD,GAAW7d,KAKxD,KAAK8b,EACL,KAAKC,EACL,KAAKG,EAGH,OAAO2D,IAAIxF,GAASra,GAEtB,KAAKgc,EACH,OAAO3B,EAAOn5G,MAAQ8+F,EAAM9+F,MAAQm5G,EAAO1mG,SAAWqsF,EAAMrsF,QAE9D,KAAK4oG,EACL,KAAKE,EAIH,OAAOpC,GAAWra,EAAQ,GAE5B,KAAKic,EACH,IAAIkF,EAAU1D,EAEhB,KAAKjB,EACH,IAAI4E,EAAYhB,EAAU3E,EAG1B,GAFA0F,IAAYA,EAAUzD,GAElBrD,EAAO1rE,MAAQqxD,EAAMrxD,OAASyyE,EAChC,OAAO,EAGT,IAAIC,EAAUjoE,EAAMxqC,IAAIyrG,GACxB,GAAIgH,EACF,OAAOA,GAAWrhB,EAEpBogB,GAAW1E,EAGXtiE,EAAM1lC,IAAI2mG,EAAQra,GAClB,IAAI99F,EAAS6+G,GAAYI,EAAQ9G,GAAS8G,EAAQnhB,GAAQogB,EAASC,EAAYC,EAAWlnE,GAE1F,OADAA,EAAc,OAAEihE,GACTn4G,EAET,KAAKm2G,EACH,GAAIyG,GACF,OAAOA,GAAcz/G,KAAKg7G,IAAWyE,GAAcz/G,KAAK2gG,GAG9D,OAAO,CACT,CA/NQshB,CAAWjH,EAAQra,EAAOygB,EAAQL,EAASC,EAAYC,EAAWlnE,GAExE,KAAMgnE,EAAU3E,GAAuB,CACrC,IAAI8F,EAAeX,GAAYnrG,EAAepW,KAAKg7G,EAAQ,eACvDmH,EAAeX,GAAYprG,EAAepW,KAAK2gG,EAAO,eAE1D,GAAIuhB,GAAgBC,EAAc,CAChC,IAAIC,EAAeF,EAAelH,EAAOh5G,QAAUg5G,EAC/CqH,EAAeF,EAAexhB,EAAM3+F,QAAU2+F,EAGlD,OADA5mD,IAAUA,EAAQ,IAAI6lE,IACfqB,EAAUmB,EAAcC,EAActB,EAASC,EAAYjnE,EACpE,CACF,CACA,IAAK0nE,EACH,OAAO,EAGT,OADA1nE,IAAUA,EAAQ,IAAI6lE,IA6NxB,SAAsB5E,EAAQra,EAAOogB,EAASC,EAAYC,EAAWlnE,GACnE,IAAIgoE,EAAYhB,EAAU3E,EACtBkG,EAAWC,GAAWvH,GACtBwH,EAAYF,EAAStjH,OACrByjH,EAAWF,GAAW5hB,GACtB+hB,EAAYD,EAASzjH,OAEzB,GAAIwjH,GAAaE,IAAcX,EAC7B,OAAO,EAET,IAAI1+G,EAAQm/G,EACZ,KAAOn/G,KAAS,CACd,IAAII,EAAM6+G,EAASj/G,GACnB,KAAM0+G,EAAYt+G,KAAOk9F,EAAQvqF,EAAepW,KAAK2gG,EAAOl9F,IAC1D,OAAO,CAEX,CAEA,IAAIu+G,EAAUjoE,EAAMxqC,IAAIyrG,GACxB,GAAIgH,GAAWjoE,EAAMxqC,IAAIoxF,GACvB,OAAOqhB,GAAWrhB,EAEpB,IAAI99F,GAAS,EACbk3C,EAAM1lC,IAAI2mG,EAAQra,GAClB5mD,EAAM1lC,IAAIssF,EAAOqa,GAEjB,IAAI2H,EAAWZ,EACf,OAAS1+G,EAAQm/G,GAAW,CAE1B,IAAII,EAAW5H,EADfv3G,EAAM6+G,EAASj/G,IAEXw/G,EAAWliB,EAAMl9F,GAErB,GAAIu9G,EACF,IAAI8B,EAAWf,EACXf,EAAW6B,EAAUD,EAAUn/G,EAAKk9F,EAAOqa,EAAQjhE,GACnDinE,EAAW4B,EAAUC,EAAUp/G,EAAKu3G,EAAQra,EAAO5mD,GAGzD,UAAmBn6C,IAAbkjH,EACGF,IAAaC,GAAY5B,EAAU2B,EAAUC,EAAU9B,EAASC,EAAYjnE,GAC7E+oE,GACD,CACLjgH,GAAS,EACT,KACF,CACA8/G,IAAaA,EAAkB,eAAPl/G,EAC1B,CACA,GAAIZ,IAAW8/G,EAAU,CACvB,IAAII,EAAU/H,EAAOrqG,YACjBqyG,EAAUriB,EAAMhwF,YAGhBoyG,GAAWC,KACV,gBAAiBhI,MAAU,gBAAiBra,IACzB,mBAAXoiB,GAAyBA,aAAmBA,GACjC,mBAAXC,GAAyBA,aAAmBA,IACvDngH,GAAS,EAEb,CAGA,OAFAk3C,EAAc,OAAEihE,GAChBjhE,EAAc,OAAE4mD,GACT99F,CACT,CA1RSogH,CAAajI,EAAQra,EAAOogB,EAASC,EAAYC,EAAWlnE,EACrE,CA5DSmpE,CAAgBlhH,EAAO2+F,EAAOogB,EAASC,EAAYF,GAAa/mE,GACzE,CAqEA,SAASshE,GAAar5G,GACpB,SAAKs5G,GAASt5G,IAwahB,SAAkBw1C,GAChB,QAASsiE,GAAeA,KAActiE,CACxC,CA1a0B2rE,CAASnhH,MAGnBu5G,GAAWv5G,GAASm4G,GAAab,GAChCrvG,KAAKwxG,GAASz5G,GAC/B,CAqBA,SAASohH,GAASpI,GAChB,IAwZF,SAAqBh5G,GACnB,IAAIqhH,EAAOrhH,GAASA,EAAM2O,YACtBG,EAAwB,mBAARuyG,GAAsBA,EAAKvjH,WAAc85G,EAE7D,OAAO53G,IAAU8O,CACnB,CA7ZOwyG,CAAYtI,GACf,OAAOgE,GAAWhE,GAEpB,IAAIn4G,EAAS,GACb,IAAK,IAAIY,KAAO5D,OAAOm7G,GACjB5kG,EAAepW,KAAKg7G,EAAQv3G,IAAe,eAAPA,GACtCZ,EAAOvC,KAAKmD,GAGhB,OAAOZ,CACT,CAeA,SAAS6+G,GAAY77G,EAAO86F,EAAOogB,EAASC,EAAYC,EAAWlnE,GACjE,IAAIgoE,EAAYhB,EAAU3E,EACtBmH,EAAY19G,EAAM7G,OAClB0jH,EAAY/hB,EAAM3hG,OAEtB,GAAIukH,GAAab,KAAeX,GAAaW,EAAYa,GACvD,OAAO,EAGT,IAAIvB,EAAUjoE,EAAMxqC,IAAI1J,GACxB,GAAIm8G,GAAWjoE,EAAMxqC,IAAIoxF,GACvB,OAAOqhB,GAAWrhB,EAEpB,IAAIt9F,GAAS,EACTR,GAAS,EACT2gH,EAAQzC,EAAU1E,EAA0B,IAAIsD,QAAW//G,EAM/D,IAJAm6C,EAAM1lC,IAAIxO,EAAO86F,GACjB5mD,EAAM1lC,IAAIssF,EAAO96F,KAGRxC,EAAQkgH,GAAW,CAC1B,IAAIE,EAAW59G,EAAMxC,GACjBw/G,EAAWliB,EAAMt9F,GAErB,GAAI29G,EACF,IAAI8B,EAAWf,EACXf,EAAW6B,EAAUY,EAAUpgH,EAAOs9F,EAAO96F,EAAOk0C,GACpDinE,EAAWyC,EAAUZ,EAAUx/G,EAAOwC,EAAO86F,EAAO5mD,GAE1D,QAAiBn6C,IAAbkjH,EAAwB,CAC1B,GAAIA,EACF,SAEFjgH,GAAS,EACT,KACF,CAEA,GAAI2gH,GACF,IAAKrF,EAAUxd,GAAO,SAASkiB,EAAUa,GACnC,GA72BajgH,EA62BOigH,GAANF,EA52BX/7B,IAAIhkF,KA62BFggH,IAAaZ,GAAY5B,EAAUwC,EAAUZ,EAAU9B,EAASC,EAAYjnE,IAC/E,OAAOypE,EAAKljH,KAAKojH,GA/2B/B,IAAyBjgH,CAi3Bf,IAAI,CACNZ,GAAS,EACT,KACF,OACK,GACD4gH,IAAaZ,IACX5B,EAAUwC,EAAUZ,EAAU9B,EAASC,EAAYjnE,GACpD,CACLl3C,GAAS,EACT,KACF,CACF,CAGA,OAFAk3C,EAAc,OAAEl0C,GAChBk0C,EAAc,OAAE4mD,GACT99F,CACT,CAwKA,SAAS0/G,GAAWvH,GAClB,OApZF,SAAwBA,EAAQ2I,EAAUC,GACxC,IAAI/gH,EAAS8gH,EAAS3I,GACtB,OAAO/1G,GAAQ+1G,GAAUn4G,EAhuB3B,SAAmBgD,EAAOnC,GAKxB,IAJA,IAAIL,GAAS,EACTrE,EAAS0E,EAAO1E,OAChB0H,EAASb,EAAM7G,SAEVqE,EAAQrE,GACf6G,EAAMa,EAASrD,GAASK,EAAOL,GAEjC,OAAOwC,CACT,CAutBoCg+G,CAAUhhH,EAAQ+gH,EAAY5I,GAClE,CAiZS8I,CAAe9I,EAAQz3G,GAAMwgH,GACtC,CAUA,SAASrI,GAAW93G,EAAKH,GACvB,IAAIwP,EAAOrP,EAAI+3G,SACf,OAqHF,SAAmB35G,GACjB,IAAI2P,SAAc3P,EAClB,MAAgB,UAAR2P,GAA4B,UAARA,GAA4B,UAARA,GAA4B,WAARA,EACrD,cAAV3P,EACU,OAAVA,CACP,CA1HS45G,CAAUn4G,GACbwP,EAAmB,iBAAPxP,EAAkB,SAAW,QACzCwP,EAAKrP,GACX,CAUA,SAASy2G,GAAUW,EAAQv3G,GACzB,IAAIzB,EAxjCN,SAAkBg5G,EAAQv3G,GACxB,OAAiB,MAAVu3G,OAAiBp7G,EAAYo7G,EAAOv3G,EAC7C,CAsjCcuqC,CAASgtE,EAAQv3G,GAC7B,OAAO43G,GAAar5G,GAASA,OAAQpC,CACvC,CAr2BA66G,GAAK36G,UAAUqwF,MAvEf,WACE1xF,KAAKk9G,SAAWrB,GAAeA,GAAa,MAAQ,CAAC,EACrD77G,KAAK6wC,KAAO,CACd,EAqEAmrE,GAAK36G,UAAkB,OAzDvB,SAAoB2D,GAClB,IAAIZ,EAASpE,KAAKgpF,IAAIhkF,WAAehF,KAAKk9G,SAASl4G,GAEnD,OADAhF,KAAK6wC,MAAQzsC,EAAS,EAAI,EACnBA,CACT,EAsDA43G,GAAK36G,UAAUyP,IA3Cf,SAAiB9L,GACf,IAAIwP,EAAOxU,KAAKk9G,SAChB,GAAIrB,GAAc,CAChB,IAAIz3G,EAASoQ,EAAKxP,GAClB,OAAOZ,IAAW+1G,OAAiBh5G,EAAYiD,CACjD,CACA,OAAOuT,EAAepW,KAAKiT,EAAMxP,GAAOwP,EAAKxP,QAAO7D,CACtD,EAqCA66G,GAAK36G,UAAU2nF,IA1Bf,SAAiBhkF,GACf,IAAIwP,EAAOxU,KAAKk9G,SAChB,OAAOrB,QAA8B16G,IAAdqT,EAAKxP,GAAsB2S,EAAepW,KAAKiT,EAAMxP,EAC9E,EAwBAg3G,GAAK36G,UAAUuU,IAZf,SAAiB5Q,EAAKzB,GACpB,IAAIiR,EAAOxU,KAAKk9G,SAGhB,OAFAl9G,KAAK6wC,MAAQ7wC,KAAKgpF,IAAIhkF,GAAO,EAAI,EACjCwP,EAAKxP,GAAQ62G,SAA0B16G,IAAVoC,EAAuB42G,EAAiB52G,EAC9DvD,IACT,EAsHAm8G,GAAU96G,UAAUqwF,MApFpB,WACE1xF,KAAKk9G,SAAW,GAChBl9G,KAAK6wC,KAAO,CACd,EAkFAsrE,GAAU96G,UAAkB,OAvE5B,SAAyB2D,GACvB,IAAIwP,EAAOxU,KAAKk9G,SACZt4G,EAAQy3G,GAAa7nG,EAAMxP,GAE/B,QAAIJ,EAAQ,KAIRA,GADY4P,EAAKjU,OAAS,EAE5BiU,EAAKR,MAELrM,GAAOpG,KAAKiT,EAAM5P,EAAO,KAEzB5E,KAAK6wC,MACA,EACT,EAyDAsrE,GAAU96G,UAAUyP,IA9CpB,SAAsB9L,GACpB,IAAIwP,EAAOxU,KAAKk9G,SACZt4G,EAAQy3G,GAAa7nG,EAAMxP,GAE/B,OAAOJ,EAAQ,OAAIzD,EAAYqT,EAAK5P,GAAO,EAC7C,EA0CAu3G,GAAU96G,UAAU2nF,IA/BpB,SAAsBhkF,GACpB,OAAOq3G,GAAar8G,KAAKk9G,SAAUl4G,IAAQ,CAC7C,EA8BAm3G,GAAU96G,UAAUuU,IAlBpB,SAAsB5Q,EAAKzB,GACzB,IAAIiR,EAAOxU,KAAKk9G,SACZt4G,EAAQy3G,GAAa7nG,EAAMxP,GAQ/B,OANIJ,EAAQ,KACR5E,KAAK6wC,KACPr8B,EAAK3S,KAAK,CAACmD,EAAKzB,KAEhBiR,EAAK5P,GAAO,GAAKrB,EAEZvD,IACT,EAwGAo8G,GAAS/6G,UAAUqwF,MAtEnB,WACE1xF,KAAK6wC,KAAO,EACZ7wC,KAAKk9G,SAAW,CACd,KAAQ,IAAIlB,GACZ,IAAO,IAAKL,IAAOQ,IACnB,OAAU,IAAIH,GAElB,EAgEAI,GAAS/6G,UAAkB,OArD3B,SAAwB2D,GACtB,IAAIZ,EAAS64G,GAAWj9G,KAAMgF,GAAa,OAAEA,GAE7C,OADAhF,KAAK6wC,MAAQzsC,EAAS,EAAI,EACnBA,CACT,EAkDAg4G,GAAS/6G,UAAUyP,IAvCnB,SAAqB9L,GACnB,OAAOi4G,GAAWj9G,KAAMgF,GAAK8L,IAAI9L,EACnC,EAsCAo3G,GAAS/6G,UAAU2nF,IA3BnB,SAAqBhkF,GACnB,OAAOi4G,GAAWj9G,KAAMgF,GAAKgkF,IAAIhkF,EACnC,EA0BAo3G,GAAS/6G,UAAUuU,IAdnB,SAAqB5Q,EAAKzB,GACxB,IAAIiR,EAAOyoG,GAAWj9G,KAAMgF,GACxB6rC,EAAOr8B,EAAKq8B,KAIhB,OAFAr8B,EAAKoB,IAAI5Q,EAAKzB,GACdvD,KAAK6wC,MAAQr8B,EAAKq8B,MAAQA,EAAO,EAAI,EAC9B7wC,IACT,EAwDAkhH,GAAS7/G,UAAU0M,IAAMmzG,GAAS7/G,UAAUQ,KAnB5C,SAAqB0B,GAEnB,OADAvD,KAAKk9G,SAAStnG,IAAIrS,EAAO42G,GAClBn6G,IACT,EAiBAkhH,GAAS7/G,UAAU2nF,IANnB,SAAqBzlF,GACnB,OAAOvD,KAAKk9G,SAASl0B,IAAIzlF,EAC3B,EAoGA49G,GAAM9/G,UAAUqwF,MA3EhB,WACE1xF,KAAKk9G,SAAW,IAAIf,GACpBn8G,KAAK6wC,KAAO,CACd,EAyEAswE,GAAM9/G,UAAkB,OA9DxB,SAAqB2D,GACnB,IAAIwP,EAAOxU,KAAKk9G,SACZ94G,EAASoQ,EAAa,OAAExP,GAG5B,OADAhF,KAAK6wC,KAAOr8B,EAAKq8B,KACVzsC,CACT,EAyDA+8G,GAAM9/G,UAAUyP,IA9ChB,SAAkB9L,GAChB,OAAOhF,KAAKk9G,SAASpsG,IAAI9L,EAC3B,EA6CAm8G,GAAM9/G,UAAU2nF,IAlChB,SAAkBhkF,GAChB,OAAOhF,KAAKk9G,SAASl0B,IAAIhkF,EAC3B,EAiCAm8G,GAAM9/G,UAAUuU,IArBhB,SAAkB5Q,EAAKzB,GACrB,IAAIiR,EAAOxU,KAAKk9G,SAChB,GAAI1oG,aAAgB2nG,GAAW,CAC7B,IAAIoJ,EAAQ/wG,EAAK0oG,SACjB,IAAKvB,IAAQ4J,EAAMhlH,OAASilH,IAG1B,OAFAD,EAAM1jH,KAAK,CAACmD,EAAKzB,IACjBvD,KAAK6wC,OAASr8B,EAAKq8B,KACZ7wC,KAETwU,EAAOxU,KAAKk9G,SAAW,IAAId,GAASmJ,EACtC,CAGA,OAFA/wG,EAAKoB,IAAI5Q,EAAKzB,GACdvD,KAAK6wC,KAAOr8B,EAAKq8B,KACV7wC,IACT,EA8hBA,IAAIslH,GAAcnF,GAA+B,SAAS5D,GACxD,OAAc,MAAVA,EACK,IAETA,EAASn7G,OAAOm7G,GA9sClB,SAAqBn1G,EAAO7B,GAM1B,IALA,IAAIX,GAAS,EACTrE,EAAkB,MAAT6G,EAAgB,EAAIA,EAAM7G,OACnCklH,EAAW,EACXrhH,EAAS,KAEJQ,EAAQrE,GAAQ,CACvB,IAAIgD,EAAQ6D,EAAMxC,GACdW,EAAUhC,EAAOqB,EAAOwC,KAC1BhD,EAAOqhH,KAAcliH,EAEzB,CACA,OAAOa,CACT,CAksCSshH,CAAYvF,GAAiB5D,IAAS,SAASoJ,GACpD,OAAO3F,GAAqBz+G,KAAKg7G,EAAQoJ,EAC3C,IACF,EAodA,WACE,MAAO,EACT,EA7cI/C,GAASZ,GAkCb,SAASF,GAAQv+G,EAAOhD,GAEtB,SADAA,EAAmB,MAAVA,EAAiBwnB,EAAmBxnB,KAE1B,iBAATgD,GAAqBy7G,EAASxzG,KAAKjI,KAC1CA,GAAS,GAAKA,EAAQ,GAAK,GAAKA,EAAQhD,CAC7C,CA2DA,SAASy8G,GAASjkE,GAChB,GAAY,MAARA,EAAc,CAChB,IACE,OAAOyiE,EAAaj6G,KAAKw3C,EAC3B,CAAE,MAAO7vC,GAAI,CACb,IACE,OAAQ6vC,EAAO,EACjB,CAAE,MAAO7vC,GAAI,CACf,CACA,MAAO,EACT,CAkCA,SAAS64G,GAAGx+G,EAAO2+F,GACjB,OAAO3+F,IAAU2+F,GAAU3+F,IAAUA,GAAS2+F,IAAUA,CAC1D,EA7IKue,IAAYmC,GAAO,IAAInC,GAAS,IAAImF,YAAY,MAAQ7G,GACxDpD,IAAOiH,GAAO,IAAIjH,KAAQwC,GAC1B3qG,IAAWovG,GAAOpvG,GAAQC,YAAc8qG,GACxC11B,IAAO+5B,GAAO,IAAI/5B,KAAQ61B,GAC1BgC,IAAWkC,GAAO,IAAIlC,KAAY7B,KACrC+D,GAAS,SAASr/G,GAChB,IAAIa,EAAS49G,GAAWz+G,GACpBqhH,EAAOxgH,GAAUk6G,EAAY/6G,EAAM2O,iBAAc/Q,EACjD0kH,EAAajB,EAAO5H,GAAS4H,GAAQ,GAEzC,GAAIiB,EACF,OAAQA,GACN,KAAKlF,GAAoB,OAAO5B,EAChC,KAAK6B,GAAe,OAAOzC,EAC3B,KAAK0C,GAAmB,OAAOtC,EAC/B,KAAKuC,GAAe,OAAOpC,EAC3B,KAAKqC,GAAmB,OAAOlC,EAGnC,OAAOz6G,CACT,GA6IF,IAAIo9G,GAAcY,GAAgB,WAAa,OAAO9hH,SAAW,CAA/B,IAAsC8hH,GAAkB,SAAS7+G,GACjG,OAAOk6G,GAAal6G,IAAUoU,EAAepW,KAAKgC,EAAO,YACtDy8G,GAAqBz+G,KAAKgC,EAAO,SACtC,EAyBIiD,GAAUnB,MAAMmB,QAgDpB,IAAI85G,GAAWD,IA4Of,WACE,OAAO,CACT,EA3LA,SAASvD,GAAWv5G,GAClB,IAAKs5G,GAASt5G,GACZ,OAAO,EAIT,IAAI0J,EAAM+0G,GAAWz+G,GACrB,OAAO0J,GAAOotG,GAAWptG,GAAOqtG,GAAUrtG,GAAO8wG,GAAY9wG,GAAOuxG,CACtE,CA4BA,SAASsH,GAASviH,GAChB,MAAuB,iBAATA,GACZA,GAAS,GAAKA,EAAQ,GAAK,GAAKA,GAASwkB,CAC7C,CA2BA,SAAS80F,GAASt5G,GAChB,IAAI2P,SAAc3P,EAClB,OAAgB,MAATA,IAA0B,UAAR2P,GAA4B,YAARA,EAC/C,CA0BA,SAASuqG,GAAal6G,GACpB,OAAgB,MAATA,GAAiC,iBAATA,CACjC,CAmBA,IAAIk8G,GAAeD,EAhiDnB,SAAmBzmE,GACjB,OAAO,SAASx1C,GACd,OAAOw1C,EAAKx1C,EACd,CACF,CA4hDsCwiH,CAAUvG,GAnvBhD,SAA0Bj8G,GACxB,OAAOk6G,GAAal6G,IAClBuiH,GAASviH,EAAMhD,WAAa0+G,EAAe+C,GAAWz+G,GAC1D,EA8wBA,SAASuB,GAAKy3G,GACZ,OA1NgB,OADGh5G,EA2NAg5G,IA1NKuJ,GAASviH,EAAMhD,UAAYu8G,GAAWv5G,GA0NjC69G,GAAc7E,GAAUoI,GAASpI,GA3NhE,IAAqBh5G,CA4NrB,CAyCApD,EAAOsC,QAlNP,SAAiBc,EAAO2+F,GACtB,OAAOmgB,GAAY9+G,EAAO2+F,EAC5B,kqBCvmDA,IAAA8jB,EAAApkH,EAAA,OACAhF,EAAAgF,EAAA,OACMuZ,EAAUvZ,EAAQ,OACxBqkH,EAAArkH,EAAA,OAMMqB,EAAMgjH,EAAAC,iBACJvrG,EAAA1X,EAAArB,QAAA,aAAA+Y,MAiERwrG,EAAA,SAAAhuF,GA2FE,SAAAguF,EAAY3+G,GAAZ,IAAA4wB,EACED,EAAA52B,KAAA,KAAMiG,IAAM,YACZy+G,EAAAG,aAAarhH,SAAQ,SAAAuhD,GACnBluB,EAAKkuB,GAAUluB,EAAKkuB,GAAQzgC,KAAKuS,EACnC,IACAA,EAAKiuF,SAAWJ,EAAAI,UAClB,CAgXF,OAjdsC7xF,EAAA2xF,EAAAhuF,GAmG7BguF,EAAA9kH,UAAAilH,kBAAP,eAAAluF,EAAA,KACQtB,EAAA,KAAAtvB,MACJ7K,EAAAm6B,EAAAn6B,UACA4pH,EAAAzvF,EAAAyvF,aACAC,EAAA1vF,EAAA0vF,WACA5iF,EAAA9M,EAAA8M,KACAta,EAAAwN,EAAAxN,MACA0M,EAAAc,EAAAd,MACA1O,EAAAwP,EAAAxP,SACA/jB,EAAAuzB,EAAAvzB,MACAm6G,EAAA5mF,EAAA4mF,aACA+I,EAAA3vF,EAAA2vF,YACA1jC,EAAAjsD,EAAAisD,WACA2jC,EAAA5vF,EAAA4vF,YACAhsC,EAAA5jD,EAAA4jD,gBACA1jD,EAAAF,EAAAq/D,aAAAA,OAAA,IAAAn/D,EAAA,UAAAA,EACA88C,EAAAh9C,EAAAg9C,gBACAh7D,EAAAge,EAAAhe,OACAmX,EAAA6G,EAAA7G,SACA+N,EAAAlH,EAAAkH,YACA0pD,EAAA5wD,EAAA4wD,QACA51B,EAAAh7B,EAAAg7B,YAGF9xD,KAAK0wB,OAASztB,EAAIqmG,KAAKtpG,KAAK2mH,WAExBJ,GACFA,EAAatjH,GAIf,IADA,IAAM2jH,EAAcxlH,OAAO0D,KAAK9E,KAAKwH,MAAMo/G,aAClCnlH,EAAI,EAAGA,EAAImlH,EAAYrmH,OAAQkB,IACtCzB,KAAK0wB,OAAOk2F,EAAYnlH,IAAMzB,KAAKwH,MAAMo/G,YAAYA,EAAYnlH,IAE/DzB,KAAKwH,MAAMq/G,uBACb7mH,KAAK6vC,SAAW7vC,KAAKqmH,SACnBrmH,KAAK6vC,SACL7vC,KAAKwH,MAAMq/G,uBAGf7mH,KAAK0wB,OAAOnH,SAASuvE,gBACnB3C,EAAa,GACbA,EAAa,GACbA,EAAa,GACbA,EAAa,IAEfn2F,KAAK0wB,OAAOolD,aAAapb,QAAQ,YAAY92B,GAC7C5jC,KAAK0wB,OAAOqF,SAAS,aAAaC,GAClCh2B,KAAK0wB,OAAOylD,YAAY7uD,GACxBtnB,KAAK0wB,OACFolD,aACAptB,SAAUg1D,GAAen6G,EAAsBkjH,GAC9CzmH,KAAKwH,MAAMs/G,mBACb9mH,KAAK0wB,OAAOo6C,kBAEd9qE,KAAK0wB,OAAOnH,SAASkvE,cAAc1V,GACnC/iF,KAAK0wB,OAAOolD,aAAarU,eAAeilD,GACxC1mH,KAAK0wB,OAAO+pD,mBAAmBC,GAC/B16E,KAAK0wB,OAAOrd,GAAG,QAASrT,KAAKmpB,SAC7BnpB,KAAK0wB,OAAOrd,GAAG,OAAQrT,KAAKipB,QAC5BjpB,KAAK0wB,OAAOrd,GAAG,OAAQrT,KAAK+sB,QAC5B/sB,KAAK0wB,OAAOrd,GAAG,QAASrT,KAAKwrB,SAC7BxrB,KAAK0wB,OAAOrd,GAAG,SAAUrT,KAAK6vC,UAC9B7vC,KAAK0wB,OAAOrd,GAAG,QAASrT,KAAKisB,SACzB6lC,GACF9xD,KAAK+mH,oBAEP/mH,KAAK0wB,OACFolD,aACA/sD,UAAU1V,GAAG,kBAAmBrT,KAAK41E,mBACxC51E,KAAK0wB,OAAOolD,aAAa/sD,UAAU1V,GAAG,eAAgBrT,KAAKy1E,gBACvD+wC,GACFxmH,KAAK0wB,OAAOolD,aAAaziE,GAAG,oBAAoB,WAE9C,IAAM2qB,EAAc5F,EAAK1H,OAAOolD,aAAa7X,iBAC7C7lC,EAAK5wB,MAAMg/G,WAAWxoF,EACxB,IAEFh+B,KAAK0wB,OAAOzT,QAAQ5J,GAAG,kBAAmBrT,KAAKgvF,UAC/ChvF,KAAK0wB,OAAOolD,aAAaja,eAAe79B,GAAe,IACnD0pD,GAAWA,EAAQnnF,OAAS,GAC9BP,KAAKgnH,cAAct/B,GAIrB,IAAMu/B,EAAmBjnH,KAAK0wB,OAAOtb,SACrC6wG,EAAAiB,cAAcniH,SAAQ,SAAA+qB,GAChBm3F,EAAiBtvG,eAAemY,GAClCsI,EAAK1H,OAAOzb,UAAU6a,EAAQsI,EAAK5wB,MAAMsoB,IAChCsI,EAAK5wB,MAAMsoB,IACpBlvB,QAAQ6U,KACN,2BAA2Bqa,EAAM,8GAGvC,IAEA9vB,KAAKmnH,cAAcnnH,KAAKwH,OAEpBnC,MAAMmB,QAAQypB,IAChBA,EAASlrB,SAAQ,SAAAolB,GACa,kBAAjBA,EAAQlgB,KACjBmuB,EAAK1H,OAAOT,SAAS83C,QAAQ59C,EAAQ49C,QAAS59C,EAAQlgB,MAEtDmuB,EAAK1H,OAAOT,SAAS43C,WAAW19C,EAEpC,IAGE2pD,GACF9zE,KAAK0wB,OAAO8Y,mBAAmB,gBAAkBsqC,GAG/Cn3E,IACFqD,KAAK2mH,UAAUhqH,WAAa,IAAMA,GAGhCmc,GACFA,EAAO9Y,KAAK0wB,QAGd1wB,KAAK0wB,OAAOqlD,SAERzsD,GACFtpB,KAAK0wB,OAAOpH,OAEhB,EAEO68F,EAAA9kH,UAAA+lH,mBAAP,SAA0BC,GAIxB,IAHA,IAAMC,EAAWD,EACXE,EAAYvnH,KAAKwH,MAEd/F,EAAI,EAAGA,EAAIwkH,EAAAiB,cAAc3mH,OAAQkB,IAAK,CAC7C,IAAMquB,EAASm2F,EAAAiB,cAAczlH,GACzB8lH,EAAUz3F,KAAYw3F,EAASx3F,IACjC9vB,KAAK0wB,OAAOzb,UAAU6a,EAAQy3F,EAAUz3F,IAI5C,GAAIy3F,EAAU5qH,YAAc2qH,EAAS3qH,UAAW,CAC9C,IACM6qH,EADiBxnH,KAAK2mH,UAAUhqH,UACK63D,OAAOryD,MAAM,KAChCmlH,EAAS3qH,UAAU63D,OAAOryD,MAAM,KACxC4C,SAAQ,SAAA0iH,GACtB,IAAM7iH,EAAQ4iH,EAAoBvlH,QAAQwlH,GAC1CD,EAAoB7/G,OAAO/C,EAAO,EACpC,IACA5E,KAAK2mH,UAAUhqH,UACb,IAAM4qH,EAAU5qH,UAAY,IAAM6qH,EAAoBllH,KAAK,KAI/D,GAAItC,KAAK0wB,QAAU1wB,KAAK0wB,OAAO6e,aAAeg4E,EAAUhkH,MAAO,CAE7DvD,KAAK0nH,QAAS,EACd,IAAMv2F,EAAMnxB,KAAK0wB,OAAOzT,QAAQ8L,UAAUiwB,SAC1Ch5C,KAAK0wB,OAAOg4B,SAAS6+D,EAAUhkH,MAAOgkH,EAAUd,aAChDzmH,KAAK0wB,OAAOzT,QAAQ8L,UAAUqwB,SAASjoB,GACvCnxB,KAAK0nH,QAAS,EAGZH,EAAUz1D,cAAgBw1D,EAASx1D,aACrC9xD,KAAK+mH,oBAEHQ,EAAU3jF,OAAS0jF,EAAS1jF,MAC9B5jC,KAAK0wB,OAAOolD,aAAapb,QAAQ,YAAc6sD,EAAU3jF,MAEvD2jF,EAAUvxF,QAAUsxF,EAAStxF,OAC/Bh2B,KAAK0wB,OAAOqF,SAAS,aAAewxF,EAAUvxF,OAE5CuxF,EAAUzzC,kBAAoBwzC,EAASxzC,kBACrCyzC,EAAUzzC,gBACZ9zE,KAAK0wB,OAAO8Y,mBACV,gBAAkB+9E,EAAUzzC,iBAG9B9zE,KAAK0wB,OAAO8Y,mBAAmB,OAG/B+9E,EAAUjgG,WAAaggG,EAAShgG,UAClCtnB,KAAK0wB,OAAOylD,YAAYoxC,EAAUjgG,UAEhCigG,EAAUb,cAAgBY,EAASZ,aACrC1mH,KAAK0wB,OAAOolD,aAAarU,eAAe8lD,EAAUb,aAEhDa,EAAU7sC,kBAAoB4sC,EAAS5sC,iBACzC16E,KAAK0wB,OAAO+pD,mBAAmB8sC,EAAU7sC,iBAEvC6sC,EAAUxkC,aAAeukC,EAASvkC,YACpC/iF,KAAK0wB,OAAOnH,SAASkvE,cAAc8uB,EAAUxkC,YAE1C5nE,EAAQosG,EAAUxyG,WAAYuyG,EAASvyG,aAC1C/U,KAAKmnH,cAAcI,GAEhBpsG,EAAQosG,EAAUvpF,YAAaspF,EAAStpF,cAC3Ch+B,KAAK0wB,OAAOolD,aAAaja,eAAe0rD,EAAUvpF,aAAe,KAGhE7iB,EAAQosG,EAAU7/B,QAAS4/B,EAAS5/B,UACrCriF,MAAMmB,QAAQ+gH,EAAU7/B,UAExB1nF,KAAKgnH,cAAcO,EAAU7/B,SAI1BvsE,EAAQosG,EAAUpxB,aAAcmxB,EAASnxB,eAC5Cn2F,KAAK2nH,oBAAoBJ,EAAUpxB,cAInCkxB,EAAUvpH,SAAWkC,KAAKwH,MAAM1J,QAChCupH,EAAU7oH,QAAUwB,KAAKwH,MAAMhJ,OAE/BwB,KAAK0wB,OAAOqlD,SAEV/1E,KAAKwH,MAAM8hB,QAAU+9F,EAAU/9F,OACjCtpB,KAAK0wB,OAAOpH,OAEhB,EAEO68F,EAAA9kH,UAAAsmH,oBAAP,SAA2BC,QAAA,IAAAA,IAAAA,EAAA,CAAW,EAAG,EAAG,EAAG,IAC7C5nH,KAAK0wB,OAAOnH,SAASs+F,iBACnBD,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GACRA,EAAQ,GAEZ,EAEOzB,EAAA9kH,UAAAymH,qBAAP,WACE9nH,KAAK0wB,OAAO7O,UACZ7hB,KAAK0wB,OAAS,IAChB,EAEOy1F,EAAA9kH,UAAAwuC,SAAP,SAAgBzpB,GACd,GAAIpmB,KAAKwH,MAAMqoC,WAAa7vC,KAAK0nH,OAAQ,CACvC,IAAMnkH,EAAQvD,KAAK0wB,OAAO6e,WAC1BvvC,KAAKwH,MAAMqoC,SAAStsC,EAAO6iB,GAE/B,EAEO+/F,EAAA9kH,UAAAu0E,kBAAP,SAAyBxvD,GACvB,GAAIpmB,KAAKwH,MAAMouE,kBAAmB,CAChC,IAAMryE,EAAQvD,KAAK0wB,OAAOq9B,eAC1B/tD,KAAKwH,MAAMouE,kBAAkBryE,EAAO6iB,GAExC,EACO+/F,EAAA9kH,UAAAo0E,eAAP,SAAsBrvD,GACpB,GAAIpmB,KAAKwH,MAAMiuE,eAAgB,CAC7B,IAAMlyE,EAAQvD,KAAK0wB,OAAOq9B,eAC1B/tD,KAAKwH,MAAMiuE,eAAelyE,EAAO6iB,GAErC,EACO+/F,EAAA9kH,UAAA4qB,QAAP,SAAe7F,GACTpmB,KAAKwH,MAAMykB,SACbjsB,KAAKwH,MAAMykB,QAAQ7F,GAEjBpmB,KAAKwH,MAAMsqD,aACb9xD,KAAK+mH,mBAET,EACOZ,EAAA9kH,UAAA8nB,QAAP,SAAe/C,GACTpmB,KAAKwH,MAAM2hB,SACbnpB,KAAKwH,MAAM2hB,QAAQ/C,EAAOpmB,KAAK0wB,OAEnC,EAEOy1F,EAAA9kH,UAAA4nB,OAAP,SAAc7C,GACRpmB,KAAKwH,MAAMyhB,QACbjpB,KAAKwH,MAAMyhB,OAAO7C,EAAOpmB,KAAK0wB,OAElC,EAEOy1F,EAAA9kH,UAAA0rB,OAAP,SAAchG,GACR/mB,KAAKwH,MAAMulB,QACb/sB,KAAKwH,MAAMulB,OAAOhG,EAEtB,EAEOo/F,EAAA9kH,UAAAmqB,QAAP,SAAezE,GACT/mB,KAAKwH,MAAMgkB,SACbxrB,KAAKwH,MAAMgkB,QAAQzE,EAEvB,EAEOo/F,EAAA9kH,UAAA2tF,SAAP,WACMhvF,KAAKwH,MAAMwnF,UACbhvF,KAAKwH,MAAMwnF,SAAShvF,KAAK0wB,OAE7B,EAEOy1F,EAAA9kH,UAAA8lH,cAAP,SAAqB3/G,GAEnB,IADA,IAAMuN,EAAa3T,OAAO0D,KAAK0C,EAAMuN,YAC5Bgd,EAAI,EAAGA,EAAIhd,EAAWxU,OAAQwxB,IACrC/xB,KAAK0wB,OAAOzb,UAAUF,EAAWgd,GAAIvqB,EAAMuN,WAAWA,EAAWgd,IAErE,EAEOo0F,EAAA9kH,UAAA2lH,cAAP,SAAqBt/B,GAArB,IAAAtvD,EAAA,KAEM2vF,EAAiB/nH,KAAK0wB,OAAOolD,aAAajY,YAAW,GACzD,IAAK,IAAMp8D,KAAKsmH,EACVA,EAAepwG,eAAelW,IAChCzB,KAAK0wB,OAAOolD,aAAap7C,aAAaqtF,EAAetmH,GAAGkB,IAK5D,IAAK,IAAMlB,KADXsmH,EAAiB/nH,KAAK0wB,OAAOolD,aAAajY,YAAW,GAGjDkqD,EAAepwG,eAAelW,IACF,oBAA5BsmH,EAAetmH,GAAG0qD,OACU,sBAA5B47D,EAAetmH,GAAG0qD,OAElBnsD,KAAK0wB,OAAOolD,aAAap7C,aAAaqtF,EAAetmH,GAAGkB,IAI5D+kF,EAAQ3iF,SACN,SAAC+xB,OACClc,EAAAkc,EAAAlc,SACA43B,EAAA1b,EAAA0b,SACA13B,EAAAgc,EAAAhc,OACA23B,EAAA3b,EAAA2b,OACA91C,EAAAm6B,EAAAn6B,UACAuW,EAAA4jB,EAAA5jB,KACA8jB,EAAAF,EAAA4mC,QAAAA,OAAA,IAAA1mC,GAAAA,EAEM5b,EAAQ,IAAIT,EAAMC,EAAU43B,EAAU13B,EAAQ23B,GACpDra,EAAK1H,OAAOolD,aAAal8C,UAAUxe,EAAOze,EAAWuW,EAAMwqD,EAC7D,GAEJ,EAEOyoD,EAAA9kH,UAAA0lH,kBAAP,WAGE,IAAMr2F,EAAS1wB,KAAK0wB,OACZohC,EAAA,KAAAtqD,MAAAsqD,YAEFk2D,GAAmBt3F,EAAOzT,QAAQsyB,WAAWhvC,OAC/C0N,EAAOyiB,EAAOnH,SAASq4D,iBACtBomC,GAAmB/5G,GACtByiB,EAAOnH,SAAS8F,SAASvf,YAAY4gB,EAAOnH,SAASq4D,iBACrDlxD,EAAOnH,SAASq4D,gBAAkB,MACzBomC,IAAoB/5G,IAC7BA,EAAOyiB,EAAOnH,SAASq4D,gBAAkB51E,SAASM,cAAc,QAC3DgB,YAAcwkD,GAAe,GAClC7jD,EAAKtR,UAAY,8BACjBsR,EAAK/Q,MAAMgyE,QAAU,QACrBjhE,EAAK/Q,MAAMC,SAAW,WACtB8Q,EAAK/Q,MAAMD,OAAS,IACpByzB,EAAOnH,SAAS8F,SAASnjB,YAAY+B,IAC5B+5G,GAAmB/5G,IAC5BA,EAAKX,YAAcwkD,EAEvB,EAEOq0D,EAAA9kH,UAAA4mH,UAAP,SAAiBriH,GACf5F,KAAK2mH,UAAY/gH,CACnB,EAEOugH,EAAA9kH,UAAA6mH,OAAP,WACQ,IAAApxF,EAAA,KAAAtvB,MAAEpE,EAAA0zB,EAAA1zB,KAAM5E,EAAAs4B,EAAAt4B,MAAOV,EAAAg5B,EAAAh5B,OAAQZ,EAAA45B,EAAA55B,MACvBirH,EAAQC,EAAA,CAAK5pH,MAAKA,EAAEV,OAAMA,GAAKZ,GACrC,OAAON,EAAA0P,cAAA,OAAK+7G,IAAKroH,KAAKioH,UAAWtlH,GAAIS,EAAMlG,MAAOirH,GACpD,EA/cchC,EAAAmC,UAAsD,CAClE1kF,KAAMoiF,EAAU3hH,OAChBilB,MAAO08F,EAAUuC,KACjBvyF,MAAOgwF,EAAU3hH,OACjBjB,KAAM4iH,EAAU3hH,OAChB1H,UAAWqpH,EAAU3hH,OACrBvG,OAAQkoH,EAAU3hH,OAClB7F,MAAOwnH,EAAU3hH,OACjBijB,SAAU0+F,EAAUwC,UAAU,CAACxC,EAAU19F,OAAQ09F,EAAU3hH,SAC3D0+E,WAAYijC,EAAUuC,KACtB14E,SAAUm2E,EAAUjtE,KACpBhsB,OAAQi5F,EAAUjtE,KAClBvtB,QAASw6F,EAAUjtE,KACnB5vB,QAAS68F,EAAUjtE,KACnB9sB,QAAS+5F,EAAUjtE,KACnB9vB,OAAQ+8F,EAAUjtE,KAClBi2C,SAAUg3B,EAAUjtE,KACpBx1C,MAAOyiH,EAAU3hH,OACjBq5G,aAAcsI,EAAU3hH,OACxByU,OAAQktG,EAAUjtE,KAClB68B,kBAAmBowC,EAAUjtE,KAC7B08B,eAAgBuwC,EAAUjtE,KAC1BwtE,aAAcP,EAAUjtE,KACxBytE,WAAYR,EAAUjtE,KACtBmqC,SAAU8iC,EAAU19F,OACpB26D,SAAU+iC,EAAU19F,OACpBgG,SAAU03F,EAAUuC,KACpB7nC,oBAAqBslC,EAAUuC,KAC/B5xE,QAASqvE,EAAU19F,OACnBoyD,gBAAiBsrC,EAAUuC,KAC3B9B,YAAaT,EAAU19F,OACvBu+F,qBAAsBb,EAAU19F,OAChCs+F,YAAaZ,EAAUzJ,OACvBxnG,WAAYixG,EAAUzJ,OACtBr/G,MAAO8oH,EAAUzJ,OACjBpmB,aAAc6vB,EAAU5+G,MACxB42B,YAAagoF,EAAU5+G,MACvBsgF,QAASs+B,EAAU5+G,MACnB0sE,gBAAiBkyC,EAAU3hH,OAC3BqiH,YAAaV,EAAUuC,KACvBE,eAAgBzC,EAAUuC,KAC1BG,0BAA2B1C,EAAUwC,UAAU,CAC7CxC,EAAUuC,KACVvC,EAAU5+G,QAEZuhH,yBAA0B3C,EAAUwC,UAAU,CAC5CxC,EAAUuC,KACVvC,EAAU5+G,QAEZ0/G,kBAAmBd,EAAUuC,KAC7Bt4F,SAAU+1F,EAAU5+G,MACpB0qD,YAAak0D,EAAU3hH,QAEX8hH,EAAAyC,aAAyC,CACrDxlH,KAAM,aACNkmB,OAAO,EACPsa,KAAM,GACN5N,MAAO,GACPl4B,OAAQ,QACRU,MAAO,QACP+E,MAAO,GACP+jB,SAAU,GACVmhG,gBAAgB,EAChB1lC,YAAY,EACZlzC,SAAU,KACVrkB,QAAS,KACT1S,OAAQ,KACRk2E,SAAU,KACV9L,SAAU,KACVD,SAAU,KACV30D,UAAU,EACVoyD,qBAAqB,EACrBhG,iBAAiB,EACjB/jC,QAAS,EACT8vE,YAAa,EACbG,YAAa,CAAC,EACd1pH,MAAO,CAAC,EACRi5F,aAAc,CAAC,EAAG,EAAG,EAAG,GACxBphF,WAAY,CAAC,EACb2xG,aAAa,EACbgC,2BAA2B,EAC3BC,0BAA0B,EAC1B72D,YAAa,KACbg1D,mBAAmB,GA6XvBX,EAjdA,CAAsCvpH,EAAMisH,qBAAvB1C,6bC3ErB,IAAAH,EAAApkH,EAAA,OACAhF,EAAAgF,EAAA,OACAknH,EAAAlnH,EAAA,OACMmnH,EAAiBnnH,EAAQ,OA6C/BonH,EAAA,SAAA7wF,GAoEE,SAAA6wF,EAAYxhH,GAAZ,IAAA4wB,EACED,EAAA52B,KAAA,KAAMiG,IAAM,YACZ4wB,EAAK6K,MAAQ,CACX1/B,MAAO60B,EAAK5wB,MAAMjE,OAEpB60B,EAAKyX,SAAWzX,EAAKyX,SAAShqB,KAAKuS,GACnCA,EAAK22B,KAAO32B,EAAK22B,KAAKlpC,KAAKuS,IAC7B,CAoNF,OA/R2C5D,EAAAw0F,EAAA7wF,GA6ElC6wF,EAAA3nH,UAAA+lH,mBAAP,WACU,IAAA7jH,EAAA,KAAAiE,MAAAjE,MAEJA,IAAUvD,KAAKijC,MAAM1/B,OACvBvD,KAAK4xB,SAAS,CAAEruB,MAAKA,GAEzB,EAEOylH,EAAA3nH,UAAAwuC,SAAP,SAAgBtsC,GACdvD,KAAK4xB,SAAS,CACZruB,MAAKA,IAEHvD,KAAKwH,MAAMqoC,UACb7vC,KAAKwH,MAAMqoC,SAAStsC,EAExB,EAEOylH,EAAA3nH,UAAA0tD,KAAP,WACE,IAAM8iD,EAAM,IAAIkX,EACVE,EAAWjpH,KAAKijC,MAAM1/B,MAAM,GAC5B2lH,EAAWlpH,KAAKijC,MAAM1/B,MAAM,GAElC,GAAwB,IAApB0lH,EAAS1oH,QAAoC,IAApB2oH,EAAS3oH,OACpC,MAAO,GAGT,IAAMwuD,EAAO8iD,EAAI/E,UAAUmc,EAAUC,GACrCrX,EAAI5C,qBAAqBlgD,GAEzB,IAAMo6D,EAAcnpH,KAAKopH,oBAAoBr6D,GAE7C,OAD2B/uD,KAAKqpH,eAAeF,EAEjD,EAEOH,EAAA3nH,UAAA+nH,oBAAP,SAA2Br6D,GACzB,IAAMu6D,EACQ,EADRA,GAEU,EAFVA,EAGS,EAGTH,EAAc,CAClB5rH,KAAM,GACNF,MAAO,IAGH2rB,EAAS,CACbzrB,KAAM,EACNF,MAAO,GAqFT,OAlFA0xD,EAAKhqD,SAAQ,SAAC6lD,GACZ,IAAM2+D,EAAY3+D,EAAM,GAClB7jC,EAAO6jC,EAAM,GACf5/B,EAAQjE,EAAK5kB,MAAM,MAAM5B,OAAS,EAGtC,GAAoB,IAAhBwmB,EAAKxmB,OAAT,CAIA,IAAM2mE,EAAYngD,EAAK,GACjBqgD,EAAWrgD,EAAKA,EAAKxmB,OAAS,GAChCipH,EAAmB,EAEvB,OAAQD,GACN,KAAKD,EACHtgG,EAAOzrB,MAAQytB,EACfhC,EAAO3rB,OAAS2tB,EAEhB,MACF,KAAKs+F,EAEe,OAAdpiD,IACFl+C,EAAOzrB,OACPytB,KAMuB,KAHzBw+F,EAAmBx+F,IAIjBm+F,EAAY9rH,MAAMwE,KAAK,CACrB0pD,UAAWviC,EAAO3rB,MAClBiuD,QAAStiC,EAAO3rB,QAKH,OAAb+pE,IACFoiD,GAAoB,GAGtBL,EAAY5rH,KAAKsE,KAAK,CACpB0pD,UAAWviC,EAAOzrB,KAClB+tD,QAAStiC,EAAOzrB,KAAOisH,IAGzBxgG,EAAOzrB,MAAQytB,EACf,MACF,KAAKs+F,EAEe,OAAdpiD,IACFl+C,EAAO3rB,QACP2tB,KAMuB,KAHzBw+F,EAAmBx+F,IAIjBm+F,EAAY5rH,KAAKsE,KAAK,CACpB0pD,UAAWviC,EAAOzrB,KAClB+tD,QAAStiC,EAAOzrB,OAKH,OAAb6pE,IACFoiD,GAAoB,GAGtBL,EAAY9rH,MAAMwE,KAAK,CACrB0pD,UAAWviC,EAAO3rB,MAClBiuD,QAAStiC,EAAO3rB,MAAQmsH,IAG1BxgG,EAAO3rB,OAAS2tB,EAChB,MACF,QACE,MAAM,IAAIvW,MAAM,+BAEtB,IACO00G,CACT,EAIOH,EAAA3nH,UAAAgoH,eAAP,SAAsBF,QAAA,IAAAA,IAAAA,EAAA,CAAqB5rH,KAAM,GAAIF,MAAO,KAQ1D,IAPA,IAAMosH,EAAqB,GAErBC,EAAe,CACnBnsH,KAAM,GACNF,MAAO,IAGAoE,EAAI,EAAGA,EAAI0nH,EAAY5rH,KAAKgD,OAAQkB,IAAK,CAChD,IAAMkoH,EAAY,CAChB/uG,SAAUuuG,EAAY5rH,KAAKkE,GAAG8pD,UAAY,EAC1CzwC,OAAQquG,EAAY5rH,KAAKkE,GAAG6pD,QAC5Bp4C,KAAM,OACNvW,UAAW,cAEb+sH,EAAansH,KAAKsE,KAAK8nH,GAGzB,IAASloH,EAAI,EAAGA,EAAI0nH,EAAY9rH,MAAMkD,OAAQkB,IAAK,CAC3CkoH,EAAY,CAChB/uG,SAAUuuG,EAAY9rH,MAAMoE,GAAG8pD,UAAY,EAC3CzwC,OAAQquG,EAAY9rH,MAAMoE,GAAG6pD,QAC7Bp4C,KAAM,OACNvW,UAAW,cAEb+sH,EAAarsH,MAAMwE,KAAK8nH,GAM1B,OAHAF,EAAmB,GAAKC,EAAansH,KACrCksH,EAAmB,GAAKC,EAAarsH,MAE9BosH,CACT,EAEOT,EAAA3nH,UAAA6mH,OAAP,WACE,IAAMxgC,EAAU1nF,KAAK+uD,OACrB,OACEnyD,EAAA0P,cAACw8G,EAAAvvG,QAAW,CACVnW,KAAMpD,KAAKwH,MAAMpE,KACjBzG,UAAWqD,KAAKwH,MAAM7K,UACtB2sB,MAAOtpB,KAAKwH,MAAM8hB,MAClBwhF,YAAa9qG,KAAKwH,MAAMsjG,YACxBr6D,OAAQzwC,KAAKwH,MAAMipC,OACnB7M,KAAM5jC,KAAKwH,MAAMo8B,KACjB5N,MAAOh2B,KAAKwH,MAAMwuB,MAClBl4B,OAAQkC,KAAKwH,MAAM1J,OACnBU,MAAOwB,KAAKwH,MAAMhJ,MAClB8oB,SAAUtnB,KAAKwH,MAAM8f,SACrBy7D,WAAY/iF,KAAKwH,MAAMu7E,WACvBlzC,SAAU7vC,KAAK6vC,SACfrkB,QAASxrB,KAAKwH,MAAMgkB,QACpB1S,OAAQ9Y,KAAKwH,MAAMsR,OACnBk2E,SAAUhvF,KAAKwH,MAAMwnF,SACrB9L,SAAUljF,KAAKwH,MAAM07E,SACrBD,SAAUjjF,KAAKwH,MAAMy7E,SACrB30D,SAAUtuB,KAAKwH,MAAM8mB,SACrBoyD,oBAAqB1gF,KAAKwH,MAAMk5E,oBAChChG,gBAAiB16E,KAAKwH,MAAMkzE,gBAC5B/jC,QAAS32C,KAAKwH,MAAMmvC,QACpB8vE,YAAazmH,KAAKwH,MAAMi/G,YACxBG,YAAa5mH,KAAKwH,MAAMo/G,YACxB1pH,MAAO8C,KAAKwH,MAAMtK,MAClBi5F,aAAcn2F,KAAKwH,MAAM2uF,aACzBphF,WAAY/U,KAAKwH,MAAMuN,WACvB2xG,YAAa1mH,KAAKwH,MAAMk/G,YACxBgC,0BAA2B1oH,KAAKwH,MAAMkhH,0BACtCC,yBAA0B3oH,KAAKwH,MAAMmhH,yBACrCplH,MAAOvD,KAAKijC,MAAM1/B,MAClBmkF,QAASA,GAGf,EA1RcshC,EAAAV,UAAuD,CACnE7B,YAAaT,EAAU19F,OACvBs+F,YAAaZ,EAAUzJ,OACvBmM,0BAA2B1C,EAAUuC,KACrCI,yBAA0B3C,EAAUuC,KACpCj/F,MAAO08F,EAAUuC,KACjBjhG,SAAU0+F,EAAU19F,OACpBxqB,OAAQkoH,EAAU3hH,OAClBq8E,oBAAqBslC,EAAUuC,KAC/BtlC,SAAU+iC,EAAU19F,OACpB46D,SAAU8iC,EAAU19F,OACpBsb,KAAMoiF,EAAU3hH,OAChBjB,KAAM4iH,EAAU3hH,OAChB1H,UAAWqpH,EAAU3hH,OACrByU,OAAQktG,EAAUjtE,KAClBvtB,QAASw6F,EAAUjtE,KACnBi2C,SAAUg3B,EAAUjtE,KACpBlJ,SAAUm2E,EAAUjtE,KACpB+xD,YAAakb,EAAU3hH,OACvBiqB,SAAU03F,EAAUuC,KACpBpyB,aAAc6vB,EAAU5+G,MACxB2N,WAAYixG,EAAUzJ,OACtBx5B,WAAYijC,EAAUuC,KACtB7tC,gBAAiBsrC,EAAUuC,KAC3B93E,OAAQu1E,EAAU19F,OAClBprB,MAAO8oH,EAAUzJ,OACjB5lE,QAASqvE,EAAU19F,OACnB0N,MAAOgwF,EAAU3hH,OACjBd,MAAOyiH,EAAU5+G,MACjB5I,MAAOwnH,EAAU3hH,OACjBqiH,YAAaV,EAAUuC,MAGXS,EAAAJ,aAA0C,CACtDnC,YAAa,EACbG,YAAa,CAAC,EACd8B,2BAA2B,EAC3BC,0BAA0B,EAC1Br/F,OAAO,EACPhC,SAAU,GACVxpB,OAAQ,QACR4iF,qBAAqB,EACrBuC,SAAU,KACVC,SAAU,KACVt/C,KAAM,GACNxgC,KAAM,aACN0V,OAAQ,KACRk2E,SAAU,KACVxjE,QAAS,KACTqkB,SAAU,KACVi7D,YAAa,SACbx8E,UAAU,EACV6nE,aAAc,CAAC,EAAG,EAAG,EAAG,GACxBphF,WAAY,CAAC,EACbguE,YAAY,EACZrI,iBAAiB,EACjBjqC,OAAQ,EACRvzC,MAAO,CAAC,EACRy5C,QAAS,EACT3gB,MAAO,SACPzyB,MAAO,CAAC,GAAI,IACZ/E,MAAO,QACPkoH,aAAa,GA6NjBsC,EA/RA,CAA2CpsH,EAAMisH,qBAA5BG,iFCsBZvmH,EAAAA,cA5D6B,CACpC,WACA,WACA,WACA,sBACA,UACA,4BACA,2BACA,kBAoDsBA,EAAAA,aApCY,CAClC,WACA,UACA,UACA,SACA,SACA,UACA,oBACA,iBACA,WACA,gBACA,aAyB8CA,EAAAA,eAvBzB,WACrB,IAAIQ,EAQJ,OANKhD,OAAegD,KAClBA,EAAOhD,OAAegD,KAClBkoG,SAAYlrG,OAAegD,IAAIrB,SAAY3B,OAAegD,IAAIkoG,SAElEloG,EAAMrB,EAAQ,OAETqB,CACT,EAasCR,EAAAA,SAXrB,SAACmnH,EAA8B7gH,GAC9C,IAAIX,EAAa,KACjB,OAAO,WACL,IAAMolB,EAAUxtB,KACViqC,EAAO3pC,UACboI,aAAaN,GACbA,EAAQI,YAAW,WACjBohH,EAAGjpH,MAAM6sB,EAASyc,EACpB,GAAGlhC,EACL,CACF,gCCrEA,IAAA8gH,EAAAjoH,EAAA,OACAA,EAAA,OAAO2X,QACP3X,EAAA,OAAO2X,QAyBP9W,EAAAA,GAAeonH,EAAAtwG,wqBC3Bf,IAAA0sG,EAAArkH,EAAA,OAMMqB,EAAMgjH,EAAAC,iBACZ4D,EAAAloH,EAAA,OAEAmoH,EAAAnoH,EAAA,OACAokH,EAAApkH,EAAA,OACAhF,EAAAgF,EAAA,OACMuZ,EAAUvZ,EAAQ,OAClBkP,EAAMlP,EAAQ,OAgEpBooH,EAAA,SAAA7xF,GA8FE,SAAA6xF,EAAYxiH,GAAZ,IAAA4wB,EACED,EAAA52B,KAAA,KAAMiG,IAAM,YACZy+G,EAAAG,aAAarhH,SAAQ,SAAAuhD,GACnBluB,EAAKkuB,GAAUluB,EAAKkuB,GAAQzgC,KAAKuS,EACnC,IACAA,EAAKiuF,SAAWJ,EAAAI,UAClB,CAyWF,OA7c4C7xF,EAAAw1F,EAAA7xF,GAsGnC6xF,EAAA3oH,UAAAilH,kBAAP,eAAAluF,EAAA,KACQtB,EAAA,KAAAtvB,MACJ7K,EAAAm6B,EAAAn6B,UACA4pH,EAAAzvF,EAAAyvF,aACA3iF,EAAA9M,EAAA8M,KACAta,EAAAwN,EAAAxN,MACA0M,EAAAc,EAAAd,MACA1O,EAAAwP,EAAAxP,SACA/jB,EAAAuzB,EAAAvzB,MACAm6G,EAAA5mF,EAAA4mF,aACA+I,EAAA3vF,EAAA2vF,YACA1jC,EAAAjsD,EAAAisD,WACA2jC,EAAA5vF,EAAA4vF,YACAhsC,EAAA5jD,EAAA4jD,gBACA1jD,EAAAF,EAAAq/D,aAAAA,OAAA,IAAAn/D,EAAA,UAAAA,EACA88C,EAAAh9C,EAAAg9C,gBACAh7D,EAAAge,EAAAhe,OACAmX,EAAA6G,EAAA7G,SACA+N,EAAAlH,EAAAkH,YACA0pD,EAAA5wD,EAAA4wD,QACAj3C,EAAA3Z,EAAA2Z,OAGFzwC,KAAK0wB,OAASztB,EAAIqmG,KAAKtpG,KAAK2mH,WAC5B3mH,KAAK0wB,OAAOqF,SAAS,aAAaC,GAE9BuwF,GACFA,EAAatjH,GAGf,IAAM2jH,EAAcxlH,OAAO0D,KAAK9E,KAAKwH,MAAMo/G,aAErCzkH,EAAQ,IAAI4nH,EAAAngB,MAChB5pG,KAAK0wB,OAAO7hB,UACZ,aAAamnB,EACbya,GAEFzwC,KAAK0wB,OAAO84E,IAAIrnG,MAAQA,EAExBnC,KAAKiqH,YAAc9nH,EAAMkoG,UAAU,GACnCrqG,KAAKmC,MAAQA,EAEbnC,KAAK0wB,OAAO+pD,oBAAmB,GAC/Bz6E,KAAK0wB,OAAOnH,SAASkvE,eAAc,GAEnC,IAAMwuB,EAAmBjnH,KAAKiqH,YAAY70G,SACtCpV,KAAKwH,MAAMq/G,uBACb7mH,KAAK6vC,SAAW7vC,KAAKqmH,SACnBrmH,KAAK6vC,SACL7vC,KAAKwH,MAAMq/G,uBAGf1kH,EAAM4C,SAAQ,SAAC2rB,EAAyB9rB,GACtC,IAAK,IAAInD,EAAI,EAAGA,EAAImlH,EAAYrmH,OAAQkB,IACtCivB,EAAOk2F,EAAYnlH,IAAM22B,EAAK5wB,MAAMo/G,YAAYA,EAAYnlH,IAE9D,IAAMyoH,EAAwBp5G,EAAI4sG,EAAc94G,GAC1CulH,EAAiBr5G,EAAIvN,EAAOqB,EAAO,IACzC8rB,EAAOzT,QAAQs+C,eAAe,IAAIt4D,EAAI2pD,aACtCl8B,EAAOqF,SAAS,aAAaC,GAC7BtF,EAAOnH,SAASuvE,gBACd3C,EAAa,GACbA,EAAa,GACbA,EAAa,GACbA,EAAa,IAEfzlE,EAAOolD,aAAapb,QAAQ,YAAY92B,GACxClT,EAAOylD,YAAY7uD,GACnBoJ,EAAOnH,SAASkvE,cAAc1V,GAC9BryD,EAAOolD,aAAarU,eAAeilD,GACnCh2F,EAAO+pD,mBAAmBC,GAC1BhqD,EAAOrd,GAAG,QAAS+kB,EAAKjP,SACxBuH,EAAOrd,GAAG,OAAQ+kB,EAAKnP,QACvByH,EAAOrd,GAAG,QAAgB+kB,EAAKnM,SAC/ByE,EAAOrd,GAAG,OAAQ+kB,EAAKrL,QACvB2D,EAAOrd,GAAG,QAAS+kB,EAAK5M,SACxBkF,EAAOrd,GAAG,SAAU+kB,EAAKyX,UACzBnf,EACGolD,aACA/sD,UAAU1V,GAAG,kBAAmB+kB,EAAKw9C,mBACxCllD,EAAOolD,aAAa/sD,UAAU1V,GAAG,eAAgB+kB,EAAKq9C,gBACtD/kD,EAAOzT,QAAQ5J,GAAG,kBAAmB+kB,EAAK42D,UAC1Ct+D,EAAOg4B,cACqBvnD,IAA1B+oH,EACIC,EACAD,EACJzD,GAEF,IAAM2D,EAAiBt5G,EAAIktB,EAAap5B,EAAO,IACzCylH,EAAav5G,EAAI42E,EAAS9iF,EAAO,IACvC8rB,EAAOolD,aAAaja,eAAeuuD,GAC/BC,GAAcA,EAAW9pH,OAAS,GACpC63B,EAAK4uF,cAAcqD,EAAY35F,GAGjC,IAASjvB,EAAI,EAAGA,EAAIwkH,EAAAiB,cAAc3mH,OAAQkB,IAAK,CAC7C,IAAMquB,EAASm2F,EAAAiB,cAAczlH,GACzBwlH,EAAiBtvG,eAAemY,GAClCY,EAAOzb,UAAU6a,EAAesI,EAAK5wB,MAAMsoB,IAClCsI,EAAK5wB,MAAMsoB,IACpBlvB,QAAQ6U,KACN,2BAA2Bqa,EAAM,+GAIvCsI,EAAK+uF,cAAc/uF,EAAK5wB,MAAOkpB,GAE3BrrB,MAAMmB,QAAQypB,IAChBA,EAASlrB,SAAQ,SAAAolB,GACa,kBAAjBA,EAAQlgB,KAChBymB,EAAOT,SAAiB83C,QAAQ59C,EAAQ49C,QAAS59C,EAAQlgB,MAE1DymB,EAAOT,SAAS43C,WAAW19C,EAE/B,IAGE2pD,GACFpjD,EAAO8Y,mBAAmB,gBAAkBsqC,EAEhD,IAEIn3E,IACFqD,KAAK2mH,UAAUhqH,WAAa,IAAMA,GAGhC2sB,GACFtpB,KAAKiqH,YAAY3gG,QAGnB,IAAMghG,EAAKtqH,KAAK0wB,OAAO84E,IAAIrnG,MAC3BmoH,EAAGzf,eAC0B,UAA3B7qG,KAAKwH,MAAMsjG,YAA0Bwf,EAAGpf,MAAQof,EAAGvf,QAErDuf,EAAGv0C,QAAO,GACNj9D,GACFA,EAAOwxG,EAEX,EAEON,EAAA3oH,UAAA+lH,mBAAP,SAA0BC,GAA1B,IAAAjvF,EAAA,KACQkvF,EAAWD,EACXE,EAAYvnH,KAAKwH,MAEjBrF,EAAQnC,KAAK0wB,OAAO84E,IAAIrnG,MAqE9B,GAnEIolH,EAAU92E,SAAW62E,EAAS72E,QAChCtuC,EAAM+nG,UAAUqd,EAAU92E,QAGxB82E,EAAUzc,cAAgBwc,EAASxc,aACrC3oG,EAAM0oG,eACsB,UAA1B0c,EAAUzc,YAA0B3oG,EAAM+oG,MAAQ/oG,EAAM4oG,QAI5D5oG,EAAM4C,SAAQ,SAAC2rB,EAAyB9rB,GAClC2iH,EAAU3jF,OAAS0jF,EAAS1jF,MAC9BlT,EAAOolD,aAAapb,QAAQ,YAAc6sD,EAAU3jF,MAElD2jF,EAAUzzC,kBAAoBwzC,EAASxzC,kBACrCyzC,EAAUzzC,gBACZpjD,EAAO8Y,mBACL,gBAAkB+9E,EAAUzzC,iBAG9BpjD,EAAO8Y,mBAAmB,OAG1B+9E,EAAUjgG,WAAaggG,EAAShgG,UAClCoJ,EAAOylD,YAAYoxC,EAAUjgG,UAE3BigG,EAAUb,cAAgBY,EAASZ,aACrCh2F,EAAOolD,aAAarU,eAAe8lD,EAAUb,aAE3Ca,EAAU7sC,kBAAoB4sC,EAAS5sC,iBACzChqD,EAAO+pD,mBAAmB8sC,EAAU7sC,iBAElC6sC,EAAUxkC,aAAeukC,EAASvkC,YACpCryD,EAAOnH,SAASkvE,cAAc8uB,EAAUxkC,YAG1C,IAAK,IAAIthF,EAAI,EAAGA,EAAIwkH,EAAAiB,cAAc3mH,OAAQkB,IAAK,CAC7C,IAAMquB,EAASm2F,EAAAiB,cAAczlH,GACzB8lH,EAAUz3F,KAAYw3F,EAASx3F,IACjCY,EAAOzb,UAAU6a,EAAey3F,EAAUz3F,IAGzC3U,EAAQosG,EAAUxyG,WAAYuyG,EAASvyG,aAC1CqjB,EAAK+uF,cAAcI,EAAW72F,GAEhC,IAAM65F,EAAYz5G,EAAIy2G,EAAUhkH,MAAOqB,EAAO,IAC9C,GAAI8rB,EAAO6e,aAAeg7E,EAAW,CAEnCnyF,EAAKsvF,QAAS,EACd,IAAMv2F,EAAOT,EAAOzT,QAAQ8L,UAAkBiwB,SAC9CtoB,EAAOg4B,SAAS6hE,EAAWhD,EAAUd,aACpC/1F,EAAOzT,QAAQ8L,UAAkBqwB,SAASjoB,GAC3CiH,EAAKsvF,QAAS,EAEhB,IAAM0C,EAAiBt5G,EAAIy2G,EAAUvpF,YAAap5B,EAAO,IACnD4lH,EAAiB15G,EAAIw2G,EAAStpF,YAAap5B,EAAO,IACnDuW,EAAQivG,EAAgBI,IAC3B95F,EAAOolD,aAAaja,eAAeuuD,GAGrC,IAAMC,EAAav5G,EAAIy2G,EAAU7/B,QAAS9iF,EAAO,IAC3C6lH,EAAa35G,EAAIw2G,EAAS5/B,QAAS9iF,EAAO,KAC3CuW,EAAQkvG,EAAYI,IAAeplH,MAAMmB,QAAQ6jH,IACpDjyF,EAAK4uF,cAAcqD,EAAY35F,EAEnC,IAEI62F,EAAU5qH,YAAc2qH,EAAS3qH,UAAW,CAC9C,IACM6qH,EADiBxnH,KAAK2mH,UAAUhqH,UACK63D,OAAOryD,MAAM,KAChCmlH,EAAS3qH,UAAU63D,OAAOryD,MAAM,KACxC4C,SAAQ,SAAA0iH,GACtB,IAAM7iH,EAAQ4iH,EAAoBvlH,QAAQwlH,GAC1CD,EAAoB7/G,OAAO/C,EAAO,EACpC,IACA5E,KAAK2mH,UAAUhqH,UACb,IAAM4qH,EAAU5qH,UAAY,IAAM6qH,EAAoBllH,KAAK,KAG3DilH,EAAUvxF,QAAUsxF,EAAStxF,OAC/B7zB,EAAM4zB,SAAS,aAAewxF,EAAUvxF,OAGtCuxF,EAAUj+F,QAAUg+F,EAASh+F,OAC/BtpB,KAAKiqH,YAAY3gG,QAGjBi+F,EAAUzpH,SAAWkC,KAAKwH,MAAM1J,QAChCypH,EAAU/oH,QAAUwB,KAAKwH,MAAMhJ,OAE/BwB,KAAK0wB,OAAOqlD,QAEhB,EAEOi0C,EAAA3oH,UAAAymH,qBAAP,WACE9nH,KAAK0wB,OAAO7O,UACZ7hB,KAAK0wB,OAAS,IAChB,EAEOs5F,EAAA3oH,UAAAwuC,SAAP,SAAgBzpB,GACd,GAAIpmB,KAAKwH,MAAMqoC,WAAa7vC,KAAK0nH,OAAQ,CACvC,IAAMgD,EAAa,GACnB1qH,KAAK0wB,OAAO84E,IAAIrnG,MAAM4C,SAAQ,SAAC2rB,GAC7Bg6F,EAAM7oH,KAAK6uB,EAAO6e,WACpB,IACAvvC,KAAKwH,MAAMqoC,SAAS66E,EAAOtkG,GAE/B,EAEO4jG,EAAA3oH,UAAAu0E,kBAAP,SAAyBxvD,GACvB,GAAIpmB,KAAKwH,MAAMouE,kBAAmB,CAChC,IAAM+0C,EAAa,GACnB3qH,KAAK0wB,OAAO84E,IAAIrnG,MAAM4C,SAAQ,SAAC2rB,GAC7Bi6F,EAAM9oH,KAAK6uB,EAAOq9B,eACpB,IACA/tD,KAAKwH,MAAMouE,kBAAkB+0C,EAAOvkG,GAExC,EACO4jG,EAAA3oH,UAAAo0E,eAAP,SAAsBrvD,GACpB,GAAIpmB,KAAKwH,MAAMiuE,eAAgB,CAC7B,IAAMm1C,EAAa,GACnB5qH,KAAK0wB,OAAO84E,IAAIrnG,MAAM4C,SAAQ,SAAC2rB,GAC7Bk6F,EAAM/oH,KAAK6uB,EAAOq9B,eACpB,IACA/tD,KAAKwH,MAAMiuE,eAAem1C,EAAOxkG,GAErC,EACO4jG,EAAA3oH,UAAA8nB,QAAP,SAAe/C,GACTpmB,KAAKwH,MAAM2hB,SACbnpB,KAAKwH,MAAM2hB,QAAQ/C,EAEvB,EAEO4jG,EAAA3oH,UAAA4qB,QAAP,SAAe7F,GACTpmB,KAAKwH,MAAMykB,SACbjsB,KAAKwH,MAAMykB,QAAQ7F,EAEvB,EAEO4jG,EAAA3oH,UAAA4nB,OAAP,SAAc7C,GACRpmB,KAAKwH,MAAMyhB,QACbjpB,KAAKwH,MAAMyhB,OAAO7C,EAEtB,EAEO4jG,EAAA3oH,UAAA0rB,OAAP,SAAchG,GACR/mB,KAAKwH,MAAMulB,QACb/sB,KAAKwH,MAAMulB,OAAOhG,EAEtB,EAEOijG,EAAA3oH,UAAAmqB,QAAP,SAAezE,GACT/mB,KAAKwH,MAAMgkB,SACbxrB,KAAKwH,MAAMgkB,QAAQzE,EAEvB,EAEOijG,EAAA3oH,UAAA2tF,SAAP,WACMhvF,KAAKwH,MAAMwnF,UACbhvF,KAAKwH,MAAMwnF,SAAShvF,KAAK0wB,OAE7B,EAEOs5F,EAAA3oH,UAAA8lH,cAAP,SAAqB3/G,EAA0BkpB,GAE7C,IADA,IAAM3b,EAAa3T,OAAO0D,KAAK0C,EAAMuN,YAC5Bgd,EAAI,EAAGA,EAAIhd,EAAWxU,OAAQwxB,IACrCrB,EAAOzb,UAAUF,EAAWgd,GAAWvqB,EAAMuN,WAAWA,EAAWgd,IAEvE,EAEOi4F,EAAA3oH,UAAA2lH,cAAP,SAAqBt/B,EAAoBh3D,GAEvC,IAAIq3F,EAAiBr3F,EAAOolD,aAAajY,YAAW,GACpD,IAAK,IAAMp8D,KAAKsmH,EACVA,EAAepwG,eAAelW,IAChCivB,EAAOolD,aAAap7C,aAAaqtF,EAAetmH,GAAGkB,IAKvD,IAAK,IAAMlB,KADXsmH,EAAiBr3F,EAAOolD,aAAajY,YAAW,GAE1CkqD,EAAepwG,eAAelW,IAChCivB,EAAOolD,aAAap7C,aAAaqtF,EAAetmH,GAAGkB,IAIvD+kF,EAAQ3iF,SACN,SAAC+xB,OACClc,EAAAkc,EAAAlc,SACA43B,EAAA1b,EAAA0b,SACA13B,EAAAgc,EAAAhc,OACA23B,EAAA3b,EAAA2b,OACA91C,EAAAm6B,EAAAn6B,UACAuW,EAAA4jB,EAAA5jB,KACA8jB,EAAAF,EAAA4mC,QAAAA,OAAA,IAAA1mC,GAAAA,EAEM5b,EAAQ,IAAI0uG,EAAAnvG,MAAMC,EAAU43B,EAAU13B,EAAQ23B,GACpD/hB,EACGolD,aACAl8C,UAAUxe,EAAcze,EAAWuW,EAAawqD,EACrD,GAEJ,EAEOssD,EAAA3oH,UAAA4mH,UAAP,SAAiBriH,GACf5F,KAAK2mH,UAAY/gH,CACnB,EAEOokH,EAAA3oH,UAAA6mH,OAAP,WACQ,IAAApxF,EAAA,KAAAtvB,MAAEpE,EAAA0zB,EAAA1zB,KAAM5E,EAAAs4B,EAAAt4B,MAAOV,EAAAg5B,EAAAh5B,OAAQZ,EAAA45B,EAAA55B,MACvBirH,EAAQC,EAAA,CAAK5pH,MAAKA,EAAEV,OAAMA,GAAKZ,GACrC,OAAON,EAAA0P,cAAA,OAAK+7G,IAAKroH,KAAKioH,UAAWtlH,GAAIS,EAAMlG,MAAOirH,GACpD,EAtcc6B,EAAA1B,UAAwD,CACpE3rH,UAAWqpH,EAAU3hH,OACrBwiH,qBAAsBb,EAAU19F,OAChCo1F,aAAcsI,EAAU6E,QAAQ7E,EAAU3hH,QAC1CilB,MAAO08F,EAAUuC,KACjBjhG,SAAU0+F,EAAUwC,UAAU,CAACxC,EAAU19F,OAAQ09F,EAAU3hH,SAC3DvG,OAAQkoH,EAAU3hH,OAClBu/B,KAAMoiF,EAAU3hH,OAChBjB,KAAM4iH,EAAU3hH,OAChB4kB,OAAQ+8F,EAAUjtE,KAClBlJ,SAAUm2E,EAAUjtE,KACpBhsB,OAAQi5F,EAAUjtE,KAClB5vB,QAAS68F,EAAUjtE,KACnB9sB,QAAS+5F,EAAUjtE,KACnBjgC,OAAQktG,EAAUjtE,KAClBvtB,QAASw6F,EAAUjtE,KACnBi2C,SAAUg3B,EAAUjtE,KACpB+xD,YAAakb,EAAU3hH,OACvB0+E,WAAYijC,EAAUuC,KACtB93E,OAAQu1E,EAAU19F,OAClB0N,MAAOgwF,EAAU3hH,OACjBd,MAAOyiH,EAAU6E,QAAQ7E,EAAU3hH,QACnC7F,MAAOwnH,EAAU3hH,OACjBuxE,kBAAmBowC,EAAUjtE,KAC7B08B,eAAgBuwC,EAAUjtE,KAC1BwtE,aAAcP,EAAUjtE,KACxBmqC,SAAU8iC,EAAU19F,OACpB26D,SAAU+iC,EAAU19F,OACpBgG,SAAU03F,EAAUuC,KACpB7nC,oBAAqBslC,EAAUuC,KAC/B5xE,QAASqvE,EAAU19F,OACnBoyD,gBAAiBsrC,EAAUuC,KAC3B9B,YAAaT,EAAU19F,OACvBs+F,YAAaZ,EAAUzJ,OACvBxnG,WAAYixG,EAAUzJ,OACtBr/G,MAAO8oH,EAAUzJ,OACjBpmB,aAAc6vB,EAAU5+G,MACxB42B,YAAagoF,EAAU5+G,MACvBsgF,QAASs+B,EAAU5+G,MACnB0sE,gBAAiBkyC,EAAU3hH,OAC3BqiH,YAAaV,EAAUuC,KACvBG,0BAA2B1C,EAAUwC,UAAU,CAC7CxC,EAAUuC,KACVvC,EAAU5+G,QAEZuhH,yBAA0B3C,EAAUwC,UAAU,CAC5CxC,EAAUuC,KACVvC,EAAU5+G,QAEZ6oB,SAAU+1F,EAAU5+G,OAER4iH,EAAApB,aAA2C,CACvDxlH,KAAM,aACNkmB,OAAO,EACPwhF,YAAa,SACbr6D,OAAQ,EACR7M,KAAM,GACN5N,MAAO,GACPl4B,OAAQ,QACRU,MAAO,QACP+E,MAAO,GACP+jB,SAAU,GACVy7D,YAAY,EACZlzC,SAAU,KACVrkB,QAAS,KACT1S,OAAQ,KACRk2E,SAAU,KACV9L,SAAU,KACVD,SAAU,KACV30D,UAAU,EACVoyD,qBAAqB,EACrBhG,iBAAiB,EACjB/jC,QAAS,EACT8vE,YAAa,EACbG,YAAa,CAAC,EACd1pH,MAAO,CAAC,EACRi5F,aAAc,CAAC,EAAG,EAAG,EAAG,GACxBphF,WAAY,CAAC,EACb2xG,aAAa,EACbgC,2BAA2B,EAC3BC,0BAA0B,GAuX9BqB,EA7cA,CAA4CptH,EAAMisH,qBAA7BmB,kEC7ErBc,EAAgBvnH,GACdA,aAAiBwnH,YCCZ,MAAMC,EAAS,CACpBC,KAAM,OACNC,OAAQ,SACRC,MAAO,SAGIC,EAAkC,CAC7CniG,OAAQ,SACR4mB,SAAU,WACVw7E,SAAU,WACVC,UAAW,YACX1zG,IAAK,OAGM2zG,EAAS,SAETC,EAAY,YAEZC,EACN,MADMA,EAEN,MAFMA,EAGA,YAHAA,EAIA,YAJAA,EAKF,UALEA,EAMD,WANCA,EAOD,WC3BZ,IAAAC,EAAgBnoH,GAAuD,MAATA,ECEvD,MAAMooH,EAAgBpoH,GAAoC,kBAAVA,EAEvD,IAAAs5G,EAAkCt5G,IAC/BmoH,EAAkBnoH,KAClB8B,MAAMmB,QAAQjD,IACfooH,EAAapoH,MACXA,aAAiB0iB,MCRrBw2F,EAAgBl5G,GAAkB,QAAQiI,KAAKjI,GCA/CqoH,EAAgBroH,GAAiBA,EAAM8R,OAAO4xB,SCE9Cy1E,EAAgB92D,GACdgmE,EACEhmE,EACGpjD,QAAQ,SAAU,IAClBA,QAAQ,MAAO,KACfA,QAAQ,MAAO,IACfL,MAAM,eCHWyT,EACtB2mG,EACAhrG,EACAhO,GAEA,IAAIqB,GAAS,EACb,MAAMinH,EAAWpP,EAAMlrG,GAAQ,CAACA,GAAQmrG,EAAanrG,GAC/ChR,EAASsrH,EAAStrH,OAClB0D,EAAY1D,EAAS,EAE3B,OAASqE,EAAQrE,GAAQ,CACvB,MAAMyE,EAAM6mH,EAASjnH,GACrB,IAAI8lB,EAAWnnB,EAEf,GAAIqB,IAAUX,EAAW,CACvB,MAAMkgH,EAAW5H,EAAOv3G,GACxB0lB,EACEmyF,EAASsH,IAAa9+G,MAAMmB,QAAQ29G,GAChCA,EACC7kD,OAAOusD,EAASjnH,EAAQ,IAEzB,CAAC,EADD,GAGR23G,EAAOv3G,GAAO0lB,EACd6xF,EAASA,EAAOv3G,GAElB,OAAOu3G,CACT,CC5BA,IAAAuP,EAAe,SAACt3G,GAAkD,IAA/BjR,EAAAjD,UAAAC,OAAA,QAAAY,IAAAb,UAAA,GAAAA,UAAA,GAA6B,CAAC,EAC/D,IAAK,MAAM0E,KAAOwP,EACfioG,EAAMz3G,GAAqCzB,EAAMyB,GAAOwP,EAAKxP,GAAhD4Q,EAAIrS,EAAOyB,EAAKwP,EAAKxP,IAErC,OAAOzB,CACT,ECTAwoH,EAAgB1oH,QAA2ClC,IAARkC,ECInDyN,EAAe,WAAoD,IAAnD3N,EAAA7C,UAAAC,OAAA,QAAAY,IAAAb,UAAA,GAAAA,UAAA,GAAW,CAAC,EAAGiR,EAAYjR,UAAAC,OAAA,EAAAD,UAAA,QAAAa,EAAEu8G,EAAsBp9G,UAAAC,OAAA,EAAAD,UAAA,QAAAa,EACjE,MAAMiD,EAASwnH,EAAQr6G,EAAKpP,MAAM,cAAc6pH,QAC9C,CAAC5nH,EAAQY,IAAS0mH,EAAkBtnH,GAAUA,EAASA,EAAOY,IAC9D7B,GAGF,OAAO4oH,EAAY3nH,IAAWA,IAAWjB,EACrC4oH,EAAY5oH,EAAIoO,IACdmsG,EACAv6G,EAAIoO,GACNnN,CACN,ECXA6nH,EAAeA,CACbC,EACAC,KAEA,IAAK,MAAMnnH,KAAOknH,EAChB,GAAIp7G,EAAIq7G,EAAannH,GAAM,CACzB,MAAMonH,EAAQF,EAAOlnH,GAErB,GAAIonH,EAAO,CACT,GAAIA,EAAM/D,IAAI/+F,OAASyiG,EAAYK,EAAM/D,IAAI/+F,SAC3C,MACK,GAAI8iG,EAAM7/G,QAAS,CACxB6/G,EAAM7/G,QAAQ,GAAG87G,IAAI/+F,QAErB,UCdV+iG,EAAeA,CACbhE,EACAiE,KAEIxB,EAAczC,IAAQA,EAAIj0G,sBAC5Bi0G,EAAIj0G,oBAAoB42G,EAAOG,MAAOmB,GACtCjE,EAAIj0G,oBAAoB42G,EAAOE,OAAQoB,GACvCjE,EAAIj0G,oBAAoB42G,EAAOC,KAAMqB,KCJzC,MAAMC,EAAkC,CACtCC,SAAS,EACTjpH,MAAO,MAGT,IAAAkpH,EAAgBlgH,GACdlH,MAAMmB,QAAQ+F,GACVA,EAAQy/G,QACN,CAACzpH,EAAUutB,IACTA,GAAUA,EAAOu4F,IAAIqE,QACjB,CACEF,SAAS,EACTjpH,MAAOusB,EAAOu4F,IAAI9kH,OAEpBhB,GACNgqH,GAEFA,ECxBNI,EACEpgH,GAEA,IAAIA,GACD8I,QAAOtY,IAAA,IAAC,SAAEwnC,GAAUxnC,EAAA,OAAcwnC,CAAQ,IAC1Cp/B,KAAI1H,IAAA,IAAC,MAAE8F,GAAO9F,EAAA,OAAa8F,CAAK,ICHrCqpH,EAAgBx/G,GACG,UAAjBA,EAAQ8F,KCDV25G,EAAgBz/G,GACG,SAAjBA,EAAQ8F,KCDV45G,EAAgB1/G,GACG,aAAjBA,EAAQ8F,KCAV65G,EAAgB3/G,GACdA,EAAQ8F,OAAS,GAALrW,OAAQ0uH,EAAM,aCI5B,MAAMyB,EAAqC,CACzCzpH,OAAO,EACPipH,SAAS,GAGLS,EAAc,CAAE1pH,OAAO,EAAMipH,SAAS,GAE5C,IAAAU,EAAgB3gH,IACd,GAAIlH,MAAMmB,QAAQ+F,GAAU,CAC1B,GAAIA,EAAQhM,OAAS,EAAG,CACtB,MAAM0E,EAASsH,EACZ8I,QAAQya,GAAWA,GAAUA,EAAOu4F,IAAIqE,UACxCvnH,KAAItH,IAAA,IAAGwqH,KAAK,MAAE9kH,IAAS1F,EAAA,OAAK0F,CAAK,IACpC,MAAO,CAAEA,MAAO0B,EAAQunH,UAAWvnH,EAAO1E,QAG5C,MAAM,QAAEmsH,EAAO,MAAEnpH,EAAK,WAAE8W,GAAe9N,EAAQ,GAAG87G,IAElD,OAAOqE,EACHryG,IAAe0xG,EAAa1xG,EAAmB9W,OAC7CwoH,EAAYxoH,IAAoB,KAAVA,EACpB0pH,EACA,CAAE1pH,MAAOA,EAAOipH,SAAS,GAC3BS,EACFD,EAGN,OAAOA,CAAa,WCxBEG,EACtBC,EACAhqH,EACAiqH,EACAC,EACAC,GAEA,MAAMnB,EAAQgB,EAAUI,QAAQpqH,GAEhC,GAAIgpH,EAAO,CACT,MACE/D,KAAK,MAAE9kH,EAAK,SAAEuQ,GAAU,IACxBu0G,EAAG,cACHoF,EAAa,YACbC,EAAW,WACXC,GACEvB,EAEJ,GAAIt4G,GAAYw5G,EACd,OAGF,OAAIT,EAAYxE,GACPA,EAAIuF,MAGThB,EAAavE,GACRoE,EAAcL,EAAM7/G,SAAShJ,MAGlCwpH,EAAiB1E,GACZsE,EAAuBtE,EAAI97G,SAGhCugH,EAAWzE,GACN6E,EAAiBd,EAAM7/G,SAAShJ,MAGlCgqH,EACHhqH,EACAkqH,EACU,KAAVlqH,EACEsqH,KACCtqH,EACHmqH,EACCrF,EAAyBqF,YAC1BC,EACAA,EAAWpqH,GACXA,EAGN,GAAI8pH,EACF,OAAOv8G,EAAIu8G,EAAsBG,QAASpqH,EAE9C,UC/DwB0qH,EAAW1gH,GACjC,OAAKA,GAKDA,aAAmB29G,aACrB39G,EAAQ2c,WAAagkG,KAAKC,eAKrBF,EAAW1gH,EAAQyZ,WAC5B,CCZA,IAAAonG,EAAgB1qH,GACds5G,EAASt5G,KAAWnC,OAAO0D,KAAKvB,GAAOhD,OCJzC2tH,EAAgB3qH,GAAsD,mBAAVA,WCkBpC4qH,EAAM5R,EAAahrG,GACzC,MAAM68G,EAAa3R,EAAMlrG,GAAQ,CAACA,GAAQmrG,EAAanrG,GACjD88G,EACiB,GAArBD,EAAW7tH,OAAcg8G,EAd7B,SAAiBA,EAAa6R,GAC5B,MAAM7tH,EAAS6tH,EAAW/rH,MAAM,GAAI,GAAG9B,OACvC,IAAIqE,EAAQ,EAEZ,KAAOA,EAAQrE,GACbg8G,EAASwP,EAAYxP,GAAU33G,IAAU23G,EAAO6R,EAAWxpH,MAG7D,OAAO23G,CACT,CAKsCD,CAAQC,EAAQ6R,GAC9CppH,EAAMopH,EAAWA,EAAW7tH,OAAS,GAC3C,IAAI+tH,EAEAD,UACKA,EAAYrpH,GAGrB,IAAK,IAAII,EAAI,EAAGA,EAAIgpH,EAAW/rH,MAAM,GAAI,GAAG9B,OAAQ6E,IAAK,CACvD,IACImpH,EADA3pH,GAAS,EAEb,MAAM4pH,EAAeJ,EAAW/rH,MAAM,IAAK+C,EAAI,IACzCqpH,EAAqBD,EAAajuH,OAAS,EAMjD,IAJI6E,EAAI,IACNkpH,EAAiB/R,KAGV33G,EAAQ4pH,EAAajuH,QAAQ,CACpC,MAAMqF,EAAO4oH,EAAa5pH,GAC1B2pH,EAAYA,EAAYA,EAAU3oH,GAAQ22G,EAAO32G,GAG/C6oH,IAAuB7pH,IACrBi4G,EAAS0R,IAAcN,EAAcM,IACpClpH,MAAMmB,QAAQ+nH,KACZA,EAAUl5G,QACRb,GACEqoG,EAASroG,KAAUy5G,EAAcz5G,IAAU05G,EAAU15G,KACxDjU,UAEN+tH,SAAwBA,EAAe1oH,UAAe22G,EAAO32G,IAG/D0oH,EAAiBC,GAIrB,OAAOhS,CACT,CChDA,MAAMmS,EAAYA,CAACC,EAAmBtG,IACpCsG,GAAcA,EAAWtG,MAAQA,ECTnC,IAAAuG,EAAgBrrH,GACdmoH,EAAkBnoH,KAAWooH,EAAapoH,YCF5BsrH,EAGdpqH,EAAWI,GACX,GAAI+pH,EAAYnqH,IAAWmqH,EAAY/pH,GACrC,OAAOA,EAGT,IAAK,MAAMG,KAAOH,EAAQ,CACxB,MAAMiqH,EAAcrqH,EAAOO,GACrB+pH,EAAclqH,EAAOG,GAE3B,IACEP,EAAOO,GACJ63G,EAASiS,IAAgBjS,EAASkS,IAClC1pH,MAAMmB,QAAQsoH,IAAgBzpH,MAAMmB,QAAQuoH,GACzCF,EAAUC,EAAaC,GACvBA,EACN,MAAAj4F,GAAO,EAGX,OAAOryB,CACT,UCrBwBuqH,EACtBC,EACAC,EACAC,GAEA,GACEP,EAAYK,IACZL,EAAYM,IACZD,aAAmBhpG,MACnBipG,aAAmBjpG,KAEnB,OAAOgpG,IAAYC,EAGrB,KAAKE,EAAAA,EAAAA,gBAAqBH,GAAU,CAClC,MAAMI,EAAQjuH,OAAO0D,KAAKmqH,GACpBK,EAAQluH,OAAO0D,KAAKoqH,GAE1B,GAAIG,EAAM9uH,SAAW+uH,EAAM/uH,OACzB,OAAO,EAGT,IAAK,MAAMyE,KAAOqqH,EAAO,CACvB,MAAME,EAAON,EAAQjqH,GAErB,IAAMmqH,GAAyB,QAARnqH,EAAgB,CACrC,MAAMwqH,EAAON,EAAQlqH,GAErB,IACG63G,EAAS0S,IAASlqH,MAAMmB,QAAQ+oH,MAChC1S,EAAS2S,IAASnqH,MAAMmB,QAAQgpH,KAC5BR,EAAUO,EAAMC,EAAML,GACvBI,IAASC,EAEb,OAAO,IAMf,OAAO,CACT,CCxCA,SAASC,EAKPxqH,EACAyqH,EACAC,EACA9oG,EACA+oG,GAEA,IAAIhrH,GAAS,EAEb,OAASA,EAAQK,EAAO1E,QAAQ,CAC9B,IAAK,MAAMyE,KAAOC,EAAOL,GACnBS,MAAMmB,QAAQvB,EAAOL,GAAOI,MAC7B2qH,EAAY/qH,KAAW+qH,EAAY/qH,GAAS,CAAC,GAC9C+qH,EAAY/qH,GAAOI,GAAO,GAC1ByqH,EACExqH,EAAOL,GAAOI,GACd8L,EAAI4+G,EAAc9qH,IAAU,CAAC,EAAGI,EAAK,IACrC2qH,EAAY/qH,GAAOI,GACnB2qH,EAAY/qH,GACZI,IAGFgqH,EAAUl+G,EAAI4+G,EAAc9qH,IAAU,CAAC,EAAGI,GAAMC,EAAOL,GAAOI,IAC1D4Q,EAAI+5G,EAAY/qH,IAAU,CAAC,EAAGI,GAC7B2qH,EAAY/qH,GAAMxD,OAAAoD,OAAApD,OAAAoD,OAAA,GACdmrH,EAAY/qH,IAAM,CACrB,CAACI,IAAM,IAKjB6hB,IACG8oG,EAAYpvH,eACNsmB,EAAW+oG,GAGtB,OAAOD,CACT,CAEA,IAAAE,EAAeA,CACb5qH,EACAyqH,EACAC,IAEAd,EACEY,EAAexqH,EAAQyqH,EAAeC,EAAYttH,MAAM,EAAG4C,EAAO1E,SAClEkvH,EAAeC,EAAezqH,EAAQ0qH,EAAYttH,MAAM,EAAG4C,EAAO1E,UCvDtEuvH,EAAgBvsH,GAAqD,kBAAVA,ECQ3DwsH,EAAeA,CACb3C,EACA4C,EACAC,EACA3C,EACA/1E,KAKA,MAAM5yC,EAAS,CAAC,EAEhB,IAAK,MAAMvB,KAAQgqH,EAAUI,SAEzBzB,EAAYx0E,KACXu4E,EAASv4E,GACNn0C,EAAKQ,WAAW2zC,GAChBlyC,MAAMmB,QAAQ+wC,IAAWA,EAAOjyC,MAAMkP,GAASpR,EAAKQ,WAAW4Q,SAEnE7P,EAAOvB,GAA2C+pH,EAChDC,EACAhqH,OACAjC,EACAmsH,IAKN,OAAO2C,EACHnE,EAAsBnnH,GACtBkqH,EAAUmB,EAAoBlE,EAAsBnnH,GAAQ,EC3BlEurH,EAAepxH,IAYd,IAZiD,OAChDqxH,EAAM,KACN/sH,EAAI,MACJvC,EAAK,YACLuvH,EAAW,qBACXC,GAODvxH,EACC,MAAM0tH,EAAUT,EAAYlrH,GACtByvH,EAAgBx/G,EAAIq/G,EAAQ/sH,GAElC,OACGopH,KAAa8D,IACZ9D,IAAYwC,EAAUsB,EAAezvH,GAAO,IAC7C2rH,GAAW17G,EAAIu/G,EAAsBjtH,KAAU0N,EAAIs/G,EAAahtH,EAAM,EC9B3EmtH,EAAgBhtH,GAAoCA,aAAiB0F,OCIrEunH,EAAgBC,GACd5T,EAAS4T,KAAoBF,EAAQE,GACjCA,EACA,CACEltH,MAAOktH,EACP56G,QAAS,ICTjBinG,GAAgBv5G,GACG,oBAAVA,ECGTmtH,GAAgBntH,GACdusH,EAASvsH,KAAU6rH,EAAAA,EAAAA,gBAAqB7rH,YCDlBotH,GACtBvsH,EACAikH,GACiB,IAAjBn1G,EAAI5S,UAAAC,OAAA,QAAAY,IAAAb,UAAA,GAAAA,UAAA,GAAG,WAEP,GAAIowH,GAAUtsH,IAAY8pH,EAAU9pH,KAAYA,EAC9C,MAAO,CACL8O,OACA2C,QAAS66G,GAAUtsH,GAAUA,EAAS,GACtCikH,MAGN,CCVA,IAAAuI,GAAeA,CACbxtH,EACAytH,EACAV,EACAj9G,EACA2C,IAEAg7G,EAAwB,+BAEfV,EAAO/sH,IAAK,CACfk/B,MAAKlhC,OAAAoD,OAAApD,OAAAoD,OAAA,GACC2rH,EAAO/sH,IAAS+sH,EAAO/sH,GAAOk/B,MAAQ6tF,EAAO/sH,GAAOk/B,MAAQ,CAAC,GAAC,CAClE,CAACpvB,GAAO2C,IAAW,MAGvB,CAAC,ECOPi7G,GAAeC,MACb3D,EACAyD,EAAiC7xH,EAajCquH,KAAkE,IAZlE,IACEhF,EACAA,KAAK,MAAE9kH,GAAO,QACdgJ,EAAO,SACPykH,EAAQ,UACRC,EAAS,UACTC,EAAS,IACTjrH,EAAG,IACHD,EAAG,QACH4rG,EAAO,SACPuf,GACMnyH,EAGR,MAAMoE,EAAwCilH,EAAIjlH,KAC5CvC,EAA2C,CAAC,EAC5CuwH,EAAUxE,EAAavE,GACvBgJ,EAAavE,EAAgBzE,GAC7BiJ,EAAoBF,GAAWC,EAC/Bx0G,EAAoB,KAAVtZ,EACVguH,EAAoBX,GAAa/qG,KACrC,KACAziB,EACAytH,EACAhwH,GAEI2wH,EAAmB,SACvBC,EACAC,EACAC,GAE0C,IAD1CC,EAAOtxH,UAAAC,OAAA,QAAAY,IAAAb,UAAA,GAAAA,UAAA,GAAGmrH,EACVoG,EAAOvxH,UAAAC,OAAA,QAAAY,IAAAb,UAAA,GAAAA,UAAA,GAAGmrH,EAEV,MAAM51G,EAAU47G,EAAYC,EAAmBC,EAC/C9wH,EAAMuC,GAAKhC,OAAAoD,OAAA,CACT0O,KAAMu+G,EAAYG,EAAUC,EAC5Bh8G,UACAwyG,OAEIkJ,EADAE,EACkBG,EACAC,EADSh8G,KAKnC,GACEm7G,KACGI,IAAYC,IAAex0G,GAAW6uG,EAAkBnoH,KACxD2qH,EAAU3qH,KAAWA,GACrB8tH,IAAenE,EAAiB3gH,GAASigH,SACzC4E,IAAY3E,EAAclgH,GAASigH,SACtC,CACA,MAAM,MAAEjpH,EAAK,QAAEsS,GAAY66G,GAAUM,GACjC,CAAEztH,QAASytH,EAAUn7G,QAASm7G,GAC9BR,EAAmBQ,GAEvB,GAAIztH,IACF1C,EAAMuC,GAAKhC,OAAAoD,OAAA,CACT0O,KAAMu4G,EACN51G,UACAwyG,IAAKiJ,IACElE,EAAUI,QAAQpqH,GAAgBmJ,SAAW,IAAI,IAAM,CAAC,GAAG87G,IAC9DA,GACDkJ,EAAkB9F,EAAiC51G,KAEnDg7G,GACH,OAAOhwH,EAKb,KAAM6qH,EAAkBzlH,KAASylH,EAAkB1lH,KAAmB,KAAVzC,EAAc,CACxE,IAAIkuH,EACAK,EACJ,MAAMC,EAAYvB,EAAmBxqH,GAC/BgsH,EAAYxB,EAAmBvqH,GAErC,GAAKq5D,MAAM/7D,GASJ,CACL,MAAM0uH,EACH5J,EAAyBqF,aAAe,IAAIznG,KAAK1iB,GAChDusH,EAASiC,EAAUxuH,SACrBkuH,EAAYQ,EAAY,IAAIhsG,KAAK8rG,EAAUxuH,QAEzCusH,EAASkC,EAAUzuH,SACrBuuH,EAAYG,EAAY,IAAIhsG,KAAK+rG,EAAUzuH,YAhB5B,CACjB,MAAM2uH,EACH7J,EAAyBoF,eAAiBhjH,WAAWlH,GACnDmoH,EAAkBqG,EAAUxuH,SAC/BkuH,EAAYS,EAAcH,EAAUxuH,OAEjCmoH,EAAkBsG,EAAUzuH,SAC/BuuH,EAAYI,EAAcF,EAAUzuH,OAaxC,IAAIkuH,GAAaK,KACfN,IACIC,EACFM,EAAUl8G,QACVm8G,EAAUn8G,QACV41G,EACAA,IAEGoF,GACH,OAAOhwH,EAKb,GAAIivH,EAASvsH,KAAWsZ,IAAYo0G,GAAaC,GAAY,CAC3D,MAAMiB,EAAkB3B,EAAmBS,GACrCmB,EAAkB5B,EAAmBU,GACrCO,GACH/F,EAAkByG,EAAgB5uH,QACnCA,EAAMhD,OAAS4xH,EAAgB5uH,MAC3BuuH,GACHpG,EAAkB0G,EAAgB7uH,QACnCA,EAAMhD,OAAS6xH,EAAgB7uH,MAEjC,IAAIkuH,GAAaK,KACfN,EACEC,EACAU,EAAgBt8G,QAChBu8G,EAAgBv8G,UAEbg7G,GACH,OAAOhwH,EAKb,GAAIivH,EAASvsH,IAAUquG,IAAY/0F,EAAS,CAC1C,MAAQtZ,MAAO8uH,EAAY,QAAEx8G,GAAY26G,EAAmB5e,GAE5D,GAAI2e,EAAQ8B,KAAkBA,EAAa7mH,KAAKjI,KAC9C1C,EAAMuC,GAAKhC,OAAAoD,OAAA,CACT0O,KAAMu4G,EACN51G,UACAwyG,OACGkJ,EAAkB9F,EAAgC51G,KAElDg7G,GACH,OAAOhwH,EAKb,GAAIswH,EAAU,CACZ,MAAMxC,EAAaxB,EACjBC,EACAhqH,EACAiqH,GACA,GACA,GAEIiF,EAAchB,GAAqB/kH,EAAUA,EAAQ,GAAG87G,IAAMA,EAEpE,GAAIvL,GAAWqU,GAAW,CACxB,MACMoB,EAAgB5B,SADDQ,EAASxC,GACiB2D,GAE/C,GAAIC,IACF1xH,EAAMuC,GAAKhC,OAAAoD,OAAApD,OAAAoD,OAAA,GACN+tH,GACAhB,EACD9F,EACA8G,EAAc18G,WAGbg7G,GACH,OAAOhwH,OAGN,GAAIg8G,EAASsU,GAAW,CAC7B,IAAIqB,EAAmB,CAAC,EACxB,IAAK,MAAOxtH,EAAKytH,KAAqBrxH,OAAO66G,QAAQkV,GAAW,CAC9D,IAAKlD,EAAcuE,KAAsB3B,EACvC,MAGF,MACM0B,EAAgB5B,SADO8B,EAAiB9D,GAG5C2D,EACAttH,GAGEutH,IACFC,EAAgBpxH,OAAAoD,OAAApD,OAAAoD,OAAA,GACX+tH,GACAhB,EAAkBvsH,EAAKutH,EAAc18G,UAGtCg7G,IACFhwH,EAAMuC,GAAQovH,IAKpB,IAAKvE,EAAcuE,KACjB3xH,EAAMuC,GAAKhC,OAAAoD,OAAA,CACT6jH,IAAKiK,GACFE,IAEA3B,GACH,OAAOhwH,GAMf,OAAOA,CAAK,EC/OP,MAAM6xH,GAAU,SACrBC,EACA1tH,GACqC,IAArC2tH,EAAAtyH,UAAAC,OAAA,QAAAY,IAAAb,UAAA,GAAAA,UAAA,GAAmC,GAEnC,IAAK,MAAM6P,KAAYlL,EAAQ,CAC7B,MAAM4tH,EAAYF,GACf9V,EAAS53G,GAAO,IAAApI,OACTsT,GAAQ,IAAAtT,OACRsT,EAAQ,MAElBy+G,EAAY3pH,EAAOkL,IACfyiH,EAAM/wH,KAAKgxH,GACXH,GAAQG,EAAU5tH,EAAOkL,GAAWyiH,GAG1C,OAAOA,CACT,ECRA,IAAAE,GAAeA,CACbC,EACAC,EACAC,EACAC,EACAC,KAKA,IAAI5vH,EAYJ,OAVA0vH,EAAYllH,IAAIilH,GAEX/E,EAAc8E,KACjBxvH,EAAQuN,EAAIiiH,EAAaC,IAErBnW,EAASt5G,IAAU8B,MAAMmB,QAAQjD,KACnCmvH,GAAQM,EAAWzvH,GAAOwB,SAAS3B,GAAS6vH,EAAYllH,IAAI3K,MAIzD2oH,EAAYxoH,GACf4vH,EACED,EACApiH,EAAIoiH,EAAYF,GAClBzvH,CAAK,ECvCX6vH,GAAeh0H,IAoBd,IApBe,SACdi0H,EAAQ,WACRC,EAAU,UACVC,EAAS,UACTC,EAAS,mBACTC,EAAkB,qBAClBC,EAAoB,YACpBC,EAAW,YACXC,EAAW,QACXC,GAWDz0H,EACC,OAAIy0H,KAEQD,GAAeL,IAChBC,GAAaG,IACbC,EAAcH,EAAqBJ,IACpCM,IACCC,EAAcF,EAAuBJ,IACvCK,EAEE,EC9BbG,GAAgB1wH,GAAiBA,EAAKwtC,UAAU,EAAGxtC,EAAKnB,QAAQ,MCEzD,MAAM8xH,GAAwBA,CAAC3wH,EAAc4wH,IAClD/qH,OACE,IAAApM,OAAIm3H,EAAU,aAAYxxH,QAAQ,MAAO,OAAOA,QAAQ,MAAO,QAC/DgJ,KAAKpI,GAET,IAAA6wH,GAAeA,CACbC,EACA9wH,IACG,IAAI8wH,GAAO3xF,MAAMirF,GAAYuG,GAAsB3wH,EAAMoqH,KCP9D2G,GAAgB/mH,GACdA,EAAQ8F,OAAS,GAALrW,OAAQ0uH,EAAM,QCF5B,IAAA6I,UAAsBn0H,SAAWurH,UAAoBx/G,WAAaw/G,WCE1C6I,GAA+B7/G,SACrD,IAAIjO,EAEJ,GACEqoH,EAAYp6G,IACX4/G,KAAU5/G,aAAgB8/G,MAAQxJ,EAAct2G,IAEjD,OAAOA,EAGT,IACG,CAAC,MAAO,MAAO,SAAU,OAAQ,SAASlQ,SACb,QADqBwyB,EAChDtiB,EAAgBtC,mBAAW,IAAA4kB,OAAA,EAAAA,EAAE1zB,MAGhC,OAAOoR,EAGT,GAAIA,aAAgByR,KAElB,OADA1f,EAAO,IAAI0f,KAAKzR,EAAK24F,WACd5mG,EAGT,GAAIiO,aAAgBq0E,IAAK,CACvBtiF,EAAO,IAAIsiF,IACX,IAAK,MAAMjjF,KAAQ4O,EACjBjO,EAAKwH,IAAInI,GAEX,OAAOW,EAGT,GAAIiO,aAAgBmnG,IAAK,CACvBp1G,EAAO,IAAIo1G,IACX,IAAK,MAAM32G,KAAOwP,EAAK1P,OACrByB,EAAKqP,IAAI5Q,EAAKqvH,GAAY7/G,EAAK1D,IAAI9L,KAErC,OAAOuB,EAGTA,EAAOlB,MAAMmB,QAAQgO,GAAQ,GAAK,CAAC,EAEnC,IAAK,MAAMxP,KAAOwP,EAChBjO,EAAKvB,GAAOqvH,GAAY7/G,EAAKxP,IAG/B,OAAOuB,CACT,CC/CA,IAAAguH,GACE3wF,IAAW,CAQX4wF,YAAa5wF,GAAQA,IAASwnF,EAAgBC,SAC9CgI,SAAUzvF,IAASwnF,EAAgBniG,OACnCqqG,WAAY1vF,IAASwnF,EAAgBv7E,SACrCgkF,QAASjwF,IAASwnF,EAAgBxzG,IAClC27G,UAAW3vF,IAASwnF,EAAgBE,YCZtCmJ,GAAgBpM,GACduE,EAAavE,IAAQyE,EAAgBzE,GCuEvC,MAAMqM,UAA2Bz0H,SAAWurH,EACtCmJ,GAAiBP,GAAQ,UAAWn0H,cAAgB20H,QAAUpJ,WAEpDqJ,KAY8B,IAT5C,KACAjxF,EAAOwnF,EAAgBC,SAAQ,eAC/ByJ,EAAiB1J,EAAgBv7E,SAAQ,SACzCytE,EAAQ,QACR9vF,EAAO,cACPkiG,EAAgB,CAAC,EAAgC,iBACjDqF,GAAmB,EAAI,iBACvB9E,GAAmB,EAAI,aACvB+E,GAAY10H,UAAAC,OAAA,QAAAY,IAAAb,UAAA,GAAAA,UAAA,GAC8B,CAAC,EAC3C,MAAM8sH,GAAY6H,EAAAA,EAAAA,QAAsC,CAAC,GACnDC,GAA6BD,EAAAA,EAAAA,QAAsC,CAAC,GACpEE,GAAsBF,EAAAA,EAAAA,QAAsC,CAAC,GAC7DG,GAAiBH,EAAAA,EAAAA,QAA4C,IAAIpsC,KACjEwsC,GAAoBJ,EAAAA,EAAAA,QACxB,CAAC,GAEGK,GAA6BL,EAAAA,EAAAA,QAAsC,CAAC,GACpEM,GAA0BN,EAAAA,EAAAA,QAE9B,CAAC,GACGO,GAAiBP,EAAAA,EAAAA,QACrB,CAAC,GAEGQ,GAAmBR,EAAAA,EAAAA,QACvBvF,GAEIgG,GAAYT,EAAAA,EAAAA,SAAa,GACzBU,GAAgBV,EAAAA,EAAAA,SAAa,GAC7BW,GAAkBX,EAAAA,EAAAA,UAClB5H,GAAwB4H,EAAAA,EAAAA,QAAa,CAAC,GACtCY,GAA6BZ,EAAAA,EAAAA,QAEjC,CAAC,GACGa,GAAab,EAAAA,EAAAA,QAAaznG,GAC1BuoG,GAAcd,EAAAA,EAAAA,QAAa3X,GAC3B0Y,GAAqBf,EAAAA,EAAAA,QACzB,IAAIpsC,KAEAotC,IAAUhB,EAAAA,EAAAA,QAAaV,GAAY3wF,KACnC,WAAE4wF,GAAU,UAAEjB,IAAc0C,GAAQzI,QACpC0I,GAA6BlB,IAAiB5J,EAAgBxzG,KAC7Du+G,GAAWC,KAAgBC,EAAAA,EAAAA,UAAwC,CACxEC,SAAS,EACTC,cAAc,EACd5G,YAAa,CAAC,EACdiE,aAAa,EACb4C,YAAa,EACbC,QAAS,CAAC,EACVC,cAAc,EACdC,oBAAoB,EACpBnK,SAAUgI,GACVrE,OAAQ,CAAC,IAELyG,IAAmB3B,EAAAA,EAAAA,QAA4B,CACnDqB,SAAU3B,GACVhF,aAAcgF,GACd8B,SAAU9B,IAAkBpB,GAC5BgD,cAAe5B,GACf+B,cAAe/B,GACfnI,SAAUmI,KAENkC,IAAe5B,EAAAA,EAAAA,QAAakB,IAC5BW,IAAc7B,EAAAA,EAAAA,WAElB5B,SAAUI,GACVH,WAAYI,KACVuB,EAAAA,EAAAA,QAAaV,GAAYO,IAAiBtH,QAE9CsI,EAAWtI,QAAUhgG,EACrBuoG,EAAYvI,QAAUlQ,EACtBuZ,GAAarJ,QAAU2I,GACvB9I,EAAsBG,QAAUyC,EAC5B,CAAC,EACDhC,EAAcZ,EAAsBG,SACpC6G,GAAY3E,GACZrC,EAAsBG,QAE1B,MAAMuJ,IAAkBC,EAAAA,EAAAA,cACtB,WAA6C,IAA5C/zF,EAAA3iC,UAAAC,OAAA,QAAAY,IAAAb,UAAA,GAAAA,UAAA,GAA0C,CAAC,EACrCo1H,EAAUlI,UACbqJ,GAAarJ,QAAOpsH,OAAAoD,OAAApD,OAAAoD,OAAA,GACfqyH,GAAarJ,SACbvqF,GAELmzF,GAAaS,GAAarJ,YAG9B,IAGIyJ,GAAqBA,IACzBL,GAAiBpJ,QAAQ+I,cACzBQ,GAAgB,CACdR,cAAc,IAGZW,IAA0BF,EAAAA,EAAAA,cAC9B,SACE5zH,EACAvC,GAOiB,IANjBs2H,EAAA72H,UAAAC,OAAA,QAAAY,IAAAb,UAAA,IAAAA,UAAA,GACA2iC,EAAA3iC,UAAAC,OAAA,QAAAY,IAAAb,UAAA,GAAAA,UAAA,GAII,CAAC,EACLksH,EAAiBlsH,UAAAC,OAAA,EAAAD,UAAA,QAAAa,EAEbi2H,EACFD,GACAjH,EAAkC,CAChCC,OAAQ0G,GAAarJ,QAAQ2C,OAC7BtvH,QACAuC,OACAgtH,YAAaoF,EAAehI,QAC5B6C,qBAAsBkF,EAAwB/H,UAElD,MAAM8C,EAAgBx/G,EAAI+lH,GAAarJ,QAAQ2C,OAAQ/sH,GAEnDvC,GACFstH,EAAMqH,EAAehI,QAASpqH,GAC9Bg0H,EACEA,IACC9G,IACAtB,EAAUsB,EAAezvH,GAAO,GACnC+U,EAAIihH,GAAarJ,QAAQ2C,OAAQ/sH,EAAMvC,MAEnCiQ,EAAIykH,EAAwB/H,QAASpqH,IAAS2yH,EAAYvI,WAC5D53G,EAAI4/G,EAAehI,QAASpqH,GAAM,GAClCg0H,EAAiBA,GAAkB9G,GAGrCnC,EAAM0I,GAAarJ,QAAQ2C,OAAQ/sH,KAIlCg0H,IAAmB1L,EAAkByL,KACrClJ,EAAchrF,IACf2zF,GAAiBpJ,QAAQ+I,eAEzBQ,GAAe31H,OAAAoD,OAAApD,OAAAoD,OAAApD,OAAAoD,OAAC,CAAC,EACZy+B,GACC8yF,EAAYvI,QAAU,CAAEhB,UAAWA,GAAY,CAAC,GAAC,CACrD+J,cAAc,OAIpB,IAGIc,IAAgBL,EAAAA,EAAAA,cACpB,CAAC5zH,EAA+Bk0H,KAC9B,MAAM,IAAEjP,EAAG,QAAE97G,GAAY6gH,EAAUI,QAAQpqH,GACrCG,EACJ6wH,IAAStJ,EAAczC,IAAQqD,EAAkB4L,GAC7C,GACAA,EAEF1K,EAAavE,IACd97G,GAAW,IAAIxH,SACdzF,IAAA,IAAG+oH,IAAKkP,GAAqCj4H,EAAA,OAC1Ci4H,EAAS7K,QAAU6K,EAASh0H,QAAUA,CAAK,IAEvCspH,EAAYxE,KAASyH,EAASvsH,GACvC8kH,EAAIuF,MAAQrqH,EACHwpH,EAAiB1E,GAC1B,IAAIA,EAAI97G,SAASxH,SACdyyH,GACEA,EAAUjzF,SAAYhhC,EAAmBe,SACxCkzH,EAAUj0H,SAGPupH,EAAgBzE,IAAQ97G,EACjCA,EAAQhM,OAAS,EACbgM,EAAQxH,SACN0yH,IAAA,IAAGpP,IAAKqP,GAAaD,EAAA,OAClBC,EAAYhL,QAAUrnH,MAAMmB,QAAQjD,KAC9BA,EAAa+B,MACbkP,GAAiBA,IAASkjH,EAAYn0H,QAEzCA,IAAUm0H,EAAYn0H,KAAK,IAElCgJ,EAAQ,GAAG87G,IAAIqE,UAAYnpH,EAEhC8kH,EAAI9kH,MAAQA,IAGhB,IAGIo0H,IAAcX,EAAAA,EAAAA,cAClB,CAAC5zH,EAAeoR,KACd,GAAIoiH,GAAiBpJ,QAAQ8I,QAAS,CACpC,MAAMsB,EAAaC,KAInB,OAFAz0H,GAAQoR,GAAQoB,EAAIgiH,EAAYx0H,EAAMoR,IAE9Bw6G,EAAU4I,EAAYnC,EAAiBjI,SAGjD,OAAO,CAAK,GAEd,IAGIsK,IAAyBd,EAAAA,EAAAA,cAC7B,SACE5zH,GACmB,IAAnB+zH,IAAY72H,UAAAC,OAAA,QAAAY,IAAAb,UAAA,KAAAA,UAAA,GAIZ,GACEs2H,GAAiBpJ,QAAQ8I,SACzBM,GAAiBpJ,QAAQmC,YACzB,CACA,MAAMoI,GAAgB/I,EACpBl+G,EAAI2kH,EAAiBjI,QAASpqH,GAC9B+pH,EAAcC,EAAWhqH,EAAMiqH,IAE3B2K,EAAoBlnH,EAAI+lH,GAAarJ,QAAQmC,YAAavsH,GAC1D60H,EAAkBpB,GAAarJ,QAAQ8I,QAE7CyB,EACIniH,EAAIihH,GAAarJ,QAAQmC,YAAavsH,GAAM,GAC5C+qH,EAAM0I,GAAarJ,QAAQmC,YAAavsH,GAE5C,MAAM6/B,EAAQ,CACZqzF,QAASqB,KACThI,YAAakH,GAAarJ,QAAQmC,aAG9BuI,EACHtB,GAAiBpJ,QAAQ8I,SACxB2B,IAAoBh1F,EAAMqzF,SAC3BM,GAAiBpJ,QAAQmC,aACxBqI,IAAsBlnH,EAAI+lH,GAAarJ,QAAQmC,YAAavsH,GAIhE,OAFA80H,GAAaf,GAAgBJ,GAAgB9zF,GAEtCi1F,EAAYj1F,EAAQ,CAAC,EAG9B,MAAO,CAAC,IAEV,IAGIk1F,IAAoBnB,EAAAA,EAAAA,cACxBjG,MACE3tH,EACAg1H,KASA,MAAMv3H,SACEiwH,GACJ1D,EACA8I,GACA9I,EAAUI,QAAQpqH,GAClBiqH,IAEFjqH,GAIF,OAFA8zH,GAAwB9zH,EAAMvC,EAAOu3H,GAE9BrM,EAAYlrH,EAAM,GAE3B,CAACq2H,GAAyBhB,KAGtBmC,IAAoCrB,EAAAA,EAAAA,cACxCjG,UAKE,MAAM,OAAEZ,SAAiB4F,EAAYvI,QACnCqK,KACA/B,EAAWtI,QACX0I,IAEIoC,EAAsBzB,GAAarJ,QAAQhB,QAEjD,GAAInnH,MAAMmB,QAAQ0tH,GAAQ,CACxB,MAAMqE,EAAgBrE,EACnB/uH,KAAK/B,IACJ,MAAMvC,EAAQiQ,EAAIq/G,EAAQ/sH,GAM1B,OAJAvC,EACI+U,EAAIihH,GAAarJ,QAAQ2C,OAAQ/sH,EAAMvC,GACvCstH,EAAM0I,GAAarJ,QAAQ2C,OAAQ/sH,IAE/BvC,CAAK,IAEd23H,MAAMvxF,SAOT,OALA8vF,GAAgB,CACdvK,QAASyB,EAAckC,GACvBoG,cAAc,IAGTgC,EACF,CACL,MAAM13H,EAAQiQ,EAAIq/G,EAAQ+D,GAU1B,OARAgD,GACEhD,EACArzH,EACAy3H,IAAwBrK,EAAckC,GACtC,CAAC,EACDlC,EAAckC,KAGRtvH,KAGZ,CAACq2H,GAAyBhB,KAGtBuC,IAAUzB,EAAAA,EAAAA,cACdjG,UAGE,MAAM7E,EAAS9oH,GAAQhC,OAAO0D,KAAKsoH,EAAUI,SAI7C,GAFAyJ,KAEIlB,EAAYvI,QACd,OAAO6K,GAAkCnM,GAG3C,GAAI7mH,MAAMmB,QAAQ0lH,GAAS,EACxB9oH,IAASyzH,GAAarJ,QAAQ2C,OAAS,CAAC,GACzC,MAAM/rH,QAAeoP,QAAQoE,IAC3Bs0G,EAAO/mH,KAAI4rH,eAAsBoH,GAAkB3jH,EAAM,SAK3D,OAHAuiH,GAAgB,CACdR,cAAc,IAETnyH,EAAOo0H,MAAMvxF,SAGtB,aAAakxF,GAAkBjM,EAAO,GAExC,CAACmM,GAAmCF,KAGhCO,IAAoB1B,EAAAA,EAAAA,cACxB,CACE5zH,EACAG,EAAkCo1H,KACa,IAA/C,YAAEC,EAAW,eAAEC,GAAgCF,EAE/C,MAAMnkH,EAAO,CAAC,EACdoB,EAAIpB,EAAMpR,EAAMG,GAEhB,IAAK,MAAMyvH,KAAaN,GAAQtvH,EAAMG,GAChC6pH,EAAUI,QAAQwF,KACpBqE,GAAcrE,EAAWliH,EAAI0D,EAAMw+G,IACnC4F,GAAed,GAAuB9E,GACtC6F,GAAkBJ,GAAQzF,MAIhC,CAACyF,GAASpB,GAAeS,KAGrBgB,IAAmB9B,EAAAA,EAAAA,cACvB,CACE5zH,EACAG,EACAoW,KAUA,IARCs2G,IACErB,EAAYrrH,IACbqS,EACEy3G,EAAsBG,QACtBpqH,EACAiC,MAAMmB,QAAQjD,GAAS,IAAIA,GAAMnC,OAAAoD,OAAA,GAAQjB,IAGzC6pH,EAAUI,QAAQpqH,GACpBi0H,GAAcj0H,EAAMG,GACpBoW,EAAOi/G,aAAed,GAAuB10H,GAC7CuW,EAAOk/G,gBAAkBJ,GAAQr1H,QAC5B,IAAKwrH,EAAYrrH,KACtBm1H,GAAkBt1H,EAAMG,EAAOoW,GAE3Bq8G,EAAmBxI,QAAQxkC,IAAI5lF,IAAO,CACxC,MAAMwsH,EAAakE,GAAkB1wH,IAASA,EAC9CwS,EAAIs/G,EAA2B1H,QAASpqH,EAAMG,GAE9CsyH,EAA2BrI,QAAQoC,GAAY,CAC7C,CAACA,GAAa9+G,EAAIokH,EAA2B1H,QAASoC,MAIrDgH,GAAiBpJ,QAAQ8I,SACxBM,GAAiBpJ,QAAQmC,cAC3Bh2G,EAAOi/G,cAEPhjH,EACEihH,GAAarJ,QAAQmC,YACrBvsH,EACAysH,EACEtsH,EACAuN,EAAI2kH,EAAiBjI,QAASpqH,EAAM,IACpC0N,EAAI+lH,GAAarJ,QAAQmC,YAAavsH,EAAM,MAIhD2zH,GAAgB,CACdT,SAAUtH,EAAS5tH,OAAAoD,OAAApD,OAAAoD,OAAC,CAAD,EACZqzH,MAAW,CAAE,CAACz0H,GAAOG,IAC1BkyH,EAAiBjI,aAO1ByC,GAAoBr6G,EAAIy3G,EAAsBG,QAASpqH,EAAMG,EAAM,GAEtE,CAACu0H,GAAwBT,GAAeqB,KAGpCK,GAAqD31H,GACzDuyH,EAAcnI,SACd4H,EAAe5H,QAAQxkC,IAAI5lF,IAC3BgyH,EAAe5H,QAAQxkC,KAAK5lF,EAAKsH,MAAM,QAAU,IAAI,IAEjDsuH,GACJ51H,IAEA,IAAI41D,GAAQ,EAEZ,IAAKi1D,EAAcoH,EAAkB7H,SACnC,IAAK,MAAMxoH,KAAOqwH,EAAkB7H,QAE/BpqH,GACAiyH,EAAkB7H,QAAQxoH,GAAK6rC,OAChCwkF,EAAkB7H,QAAQxoH,GAAKgkF,IAAI5lF,KACnCiyH,EAAkB7H,QAAQxoH,GAAKgkF,IAAI8qC,GAAkB1wH,MAErDkyH,EAA2B9H,QAAQxoH,KACnCg0D,GAAQ,GAKd,OAAOA,CAAK,EAmHd,SAASigE,GAAkDzkH,GACzD,IAAKy7G,EAAkB,CACrB,IAAI1pH,EAAO8tH,GAAY7/G,GAEvB,IAAK,MAAMjR,KAASyyH,EAAmBxI,QACjC/Q,EAAMl5G,KAAWgD,EAAKhD,KACxBgD,EAAInF,OAAAoD,OAAApD,OAAAoD,OAAA,GACC+B,GAAI,CACP,CAAChD,GAAQ,MAKf,OAAOgD,EAET,OAAOiO,EAYT,SAASqjH,GAAUx3H,GACjB,GAAIyvH,EAASzvH,GACX,OAAO8sH,EAAcC,EAAW/sH,EAASgtH,GAG3C,GAAIhoH,MAAMmB,QAAQnG,GAAU,CAC1B,MAAMmU,EAAO,CAAC,EAEd,IAAK,MAAMpR,KAAQ/C,EACjBuV,EAAIpB,EAAMpR,EAAM+pH,EAAcC,EAAWhqH,EAAMiqH,IAGjD,OAAO74G,EAGT,OAAOykH,GACLlJ,EACE3C,EACAiH,GAAYhH,EAAsBG,SAClCyC,IApJN2F,EAAgBpI,QAAUoI,EAAgBpI,QACtCoI,EAAgBpI,QAChBuD,UAA8B,IAAvB,KAAE79G,EAAI,OAAEzO,GAAey0H,EACxB91H,EAAQqB,EAAgBrB,KAC5B,MAAMgpH,EAAQgB,EAAUI,QAAQpqH,GAChC,IAAIvC,EACA2rH,EAEJ,GAAIJ,EAAO,CACT,MAAMuH,EAAczgH,IAAS83G,EAAOC,KAC9BkO,EAAuB/F,GAAchyH,OAAAoD,OAAC,CAC1CmvH,cACAD,wBACAD,sBACAD,YAAa1iH,EAAI+lH,GAAarJ,QAAQiJ,QAASrzH,GAC/CwwH,YAAaiD,GAAarJ,QAAQoG,aAC/BqC,GAAQzI,UAEb,IAAIvqF,EAAQ60F,GAAuB10H,GAAM,GACrC+zH,GACDlJ,EAAchrF,KACb0wF,GAAeoF,GAAe31H,GAsBlC,GAnBEuwH,IACC7iH,EAAI+lH,GAAarJ,QAAQiJ,QAASrzH,IACnCwzH,GAAiBpJ,QAAQiJ,UAEzB7gH,EAAIihH,GAAarJ,QAAQiJ,QAASrzH,GAAM,GACxC6/B,EAAK7hC,OAAAoD,OAAApD,OAAAoD,OAAA,GACAy+B,GAAK,CACRwzF,QAASI,GAAarJ,QAAQiJ,YAI7BxG,GAAoBnD,EAAgBroH,IACvCmR,EACEy3G,EAAsBG,QACtBpqH,EACA+pH,EAAcC,EAAWhqH,IAIzB+1H,EAEF,OADCxF,GAAeqF,GAAoB51H,KAEhC6qH,EAAchrF,IACbk0F,GAAgBlJ,EAAchrF,KACjC8zF,GAAgB9zF,GAMpB,GAFAg0F,KAEIlB,EAAYvI,QAAS,CACvB,MAAM,OAAE2C,SAAiB4F,EAAYvI,QACnCqK,KACA/B,EAAWtI,QACX0I,IAEIoC,EAAsBzB,GAAarJ,QAAQhB,QAGjD,GAFA3rH,EAAQiQ,EAAIq/G,EAAQ/sH,GAGlB0pH,EAAgBroH,KACf5D,GACDk1H,EAAYvI,QACZ,CACA,MAAM4L,EAAiBtF,GAAkB1wH,GACnCi2H,EAAevoH,EAAIq/G,EAAQiJ,EAAgB,CAAC,GAClDC,EAAanmH,MACXmmH,EAAaxjH,UACZhV,EAAQw4H,GAGTD,IACCC,GACCvoH,EAAI+lH,GAAarJ,QAAQ2C,OAAQiJ,MAEnCh2H,EAAOg2H,GAIX5M,EAAUyB,EAAckC,GAExBmI,IAAwB9L,IAAY2K,GAAe,QAEnDt2H,SACQiwH,GACJ1D,EACA8I,GACA9J,EACAiB,IAEFjqH,IAGHuwH,GAAeqF,GAAoB51H,GACpC8zH,GAAwB9zH,EAAMvC,EAAOs2H,EAAcl0F,EAAOupF,KAuDlE,MAAM8M,IAAmBtC,EAAAA,EAAAA,cACvBjG,iBAAkB,IAAX9rH,EAAM3E,UAAAC,OAAA,QAAAY,IAAAb,UAAA,GAAAA,UAAA,GAAG,CAAC,EACf,MAAMi5H,EAAmBtL,EAAcb,EAAUI,SAC7CiI,EAAiBjI,QACjB,CAAC,GAEC,OAAE2C,SACC4F,EAAYvI,QAAQpsH,OAAAoD,OAAApD,OAAAoD,OAAApD,OAAAoD,OAAC,CAAD,EAEpB+0H,GACA1B,MACA5yH,GAEL6wH,EAAWtI,QACX0I,KACI,CAAC,EACH1J,EAAUyB,EAAckC,GAE9B0G,GAAarJ,QAAQhB,UAAYA,GAC/BuK,GAAgB,CACdvK,cAGN,CAAC0J,KAGGsD,IAA2BxC,EAAAA,EAAAA,cAC/B,CAAC5K,EAAcqN,ezB1sBjBrM,EACAsM,EACAtN,EACAiB,EACA4C,EACAwJ,GAEA,MAAM,IACJpR,EACAA,KAAK,KAAEjlH,IACLgpH,EACEuN,EAAWvM,EAAUI,QAAQpqH,GAEnC,IAAK6sH,EAAkB,CACrB,MAAM1sH,EAAQ4pH,EAAcC,EAAWhqH,EAAMiqH,IAE5CtB,EAAYxoH,IAAUqS,EAAIy3G,EAAsBG,QAASpqH,EAAMG,GAG7D8kH,EAAIn1G,MAASymH,EAKd/M,EAAavE,IAAQyE,EAAgBzE,GACnChjH,MAAMmB,QAAQmzH,EAASptH,UAAYotH,EAASptH,QAAQhM,QACtDqrH,EAAQ+N,EAASptH,SAASxH,SAAQ,WAAmB,IAAlB+qB,EAAMxvB,UAAAC,OAAA,QAAAY,IAAAb,UAAA,GAAAA,UAAA,GAAG,CAAC,EAAGsE,EAAKtE,UAAAC,OAAA,EAAAD,UAAA,QAAAa,GAEhD2sH,EAAWh+F,EAAOu4F,MAAQqG,EAAU5+F,EAAQA,EAAOu4F,MACpDoR,KAEApN,EAAwBv8F,EAAOu4F,IAAKqR,GACpCvL,EAAMwL,EAASptH,QAAS,IAAF1P,OAAM+H,EAAK,UAIjC+0H,EAASptH,UAAYq/G,EAAQ+N,EAASptH,SAAShM,eAC1C6sH,EAAUI,QAAQpqH,WAGpBgqH,EAAUI,QAAQpqH,IAEjB0qH,EAAWzF,IAAQqG,EAAUiL,EAAUtR,IAASoR,KAC1DpN,EAAwBhE,EAAKqR,UAEtBtM,EAAUI,QAAQpqH,WAzBlBgqH,EAAUI,QAAQpqH,EA2B7B,CyB4pBMw2H,CACExM,EACAwI,EAAgBpI,QAChBpB,EACAiB,EACA4C,EACAwJ,GAGExJ,IACF9B,EAAMqH,EAAehI,QAASpB,EAAM/D,IAAIjlH,MACxC+qH,EAAMoH,EAAwB/H,QAASpB,EAAM/D,IAAIjlH,SAGrD,CAAC6sH,IAGG4J,IAAqB7C,EAAAA,EAAAA,cAAmB5zH,IAC5C,GAAIuyH,EAAcnI,QAChBuJ,SACK,CACL,IAAK,MAAM+C,KAAc1E,EAAe5H,QACtC,GAAIsM,EAAWl2H,WAAWR,GAAO,CAC/B2zH,KACA,MAIJiC,GAAoB51H,MAErB,IAEG22H,IAAiC/C,EAAAA,EAAAA,cACrC,CAAC5K,EAAeqN,KACVrN,IACFoN,GAAyBpN,EAAOqN,GAE5BxJ,IAAqBrE,EAAQQ,EAAM7/G,SAAW,IAAIhM,SACpD4tH,EAAM0I,GAAarJ,QAAQ2C,OAAQ/D,EAAM/D,IAAIjlH,MAC7CwS,EAAIihH,GAAarJ,QAAQmC,YAAavD,EAAM/D,IAAIjlH,MAAM,GAEtD2zH,GAAgB,CACdT,QAASqB,OAGXf,GAAiBpJ,QAAQhB,SACvBuJ,EAAYvI,SACZ8L,KACFO,GAAmBzN,EAAM/D,IAAIjlH,UAInC,CAACk2H,GAAkBE,KAiCrB,MAAMQ,IAAgBhD,EAAAA,EAAAA,cACpB,CAAIiD,EAAgCvc,EAAkBwc,KACpD,MAAMjH,EAAciH,EAChB7E,EAAkB7H,QAAQ0M,GAC1B9E,EAAe5H,QACnB,IAAIuF,EAAchD,EAChB3C,EACAiH,GAAYhH,EAAsBG,SAClCyC,GACA,EACAgK,GAGF,GAAInK,EAASmK,GAAa,CACxB,MAAMb,EAAiBtF,GAAkBmG,IAAeA,EASxD,OAPIjE,EAAmBxI,QAAQxkC,IAAIowC,KACjCrG,EAAW3xH,OAAAoD,OAAApD,OAAAoD,OAAA,GACN2wH,EAAoB3H,SACpBuF,IAIAD,GACLC,EACAkH,EACAhH,EACAlH,EAAYj7G,EAAI2kH,EAAiBjI,QAASyM,IACtCvc,EACA5sG,EAAI2kH,EAAiBjI,QAASyM,IAClC,GAIJ,MAAME,EAAwBpO,EAAYrO,GACtC+X,EAAiBjI,QACjB9P,EAEJ,OAAIr4G,MAAMmB,QAAQyzH,GACTA,EAAWjO,QAChB,CAACzpH,EAAUa,IAAIhC,OAAAoD,OAAApD,OAAAoD,OAAA,GACVjC,GAAQ,CACX,CAACa,GAAO0vH,GACNC,EACA3vH,EACA6vH,EACAkH,MAKJ,CAAC,IAILxE,EAAcnI,QAAUzB,EAAYmO,GAE7BpO,GACHmC,EAAc8E,IAAgBA,GAC7BoH,GACJ,GAEH,IAoCF,SAASC,GACP/R,GACoC,IAApC97G,EAAAjM,UAAAC,OAAA,QAAAY,IAAAb,UAAA,GAAAA,UAAA,GAAkC,CAAC,EA2BnC,MAAM,KAAE8C,EAAI,KAAE8P,EAAI,MAAE3P,GAAU8kH,EACxBgS,EAA4Bj5H,OAAAoD,OAAA,CAChC6jH,OACG97G,GAEC2/G,EAASkB,EAAUI,QACnB8D,EAAoBmD,GAA0BpM,GAC9CiS,EAAerG,GAAmB+B,EAAmBxI,QAASpqH,GAC9Dm3H,EAAcC,GAClBpG,MAAWtJ,EAAczC,IAAQmS,IAAenS,GAClD,IAEI3K,EAFA0O,EAAQF,EAAO9oH,GACfq3H,GAAsB,EAG1B,GACErO,IACCkF,EACGjsH,MAAMmB,QAAQ4lH,EAAM7/G,UACpBq/G,EAAQQ,EAAM7/G,SAASjH,MAAMwqB,GACpBvsB,IAAUusB,EAAOu4F,IAAI9kH,OAASg3H,EAAWzqG,EAAOu4F,OAEzDkS,EAAWnO,EAAM/D,MAMrB,YAJA6D,EAAO9oH,GAAKhC,OAAAoD,OAAApD,OAAAoD,OAAA,GACP4nH,GACA7/G,IAML6/G,EADEl5G,EACMo+G,EAAiB,eAEnB/kH,QAAS,IACJq/G,EAASQ,GAASA,EAAM7/G,SAAY,IACvC,CACE87G,QAGJA,IAAK,CAAEn1G,OAAM9P,SACVmJ,GAAOnL,OAAAoD,OAAA,GAGP61H,GAGDA,EAGVnO,EAAO9oH,GAAQgpH,EAEf,MAAMsO,EAAuB3O,EAC3Bj7G,EAAIu8G,EAAsBG,QAASpqH,IAGhC6qH,EAAcwH,EAAiBjI,UAAakN,IAC/Chd,EAAe5sG,EACb4pH,EACIjF,EAAiBjI,QACjBH,EAAsBG,QAC1BpqH,GAEFq3H,EAAsB1O,EAAYrO,GAE7B+c,GAAwBH,GAC3BjD,GAAcj0H,EAAiCs6G,IAI9CuQ,EAAc1hH,KACjBqJ,EAAI2/G,EAAwB/H,QAASpqH,GAAM,IAEtCoxH,IAAcoC,GAAiBpJ,QAAQhB,SAC1CsE,GACE1D,EACA8I,GACA9J,EACAiB,GACA/zG,MAAMzY,IACN,MAAMy3H,EAAsBzB,GAAarJ,QAAQhB,QAEjDyB,EAAcptH,GACV+U,EAAI4/G,EAAehI,QAASpqH,GAAM,GAClC+qH,EAAMqH,EAAehI,QAASpqH,GAElCk1H,IAAwBrK,EAAcptH,IAAUk2H,IAAiB,MAKnE9G,GAAsBqK,GAAgBG,IACvCH,GAAgBnM,EAAM0I,GAAarJ,QAAQmC,YAAavsH,GAGvD8P,YC3gCoCzW,EAE1Ck+H,EACAjB,GAAiD,IAFjD,IAAErR,GAAY5rH,EAIVquH,EAAczC,IAAQqR,IACxBrR,EAAIp0G,iBACF0mH,EAA0B3P,EAAOE,OAASF,EAAOG,MACjDuO,GAEFrR,EAAIp0G,iBAAiB+2G,EAAOC,KAAMyO,GAEtC,CDggCMkB,CACEtJ,GAAqBlF,EAAM7/G,QACvB6/G,EAAM7/G,QAAQ6/G,EAAM7/G,QAAQhM,OAAS,GACrC6rH,EACJkF,GAAqB6C,GAAc9L,GACnCuN,EAAgBpI,SAuCtB,MAAMqN,IAAe7D,EAAAA,EAAAA,cACnB,CACE8D,EACAC,IACGhK,UACC7nH,GAAKA,EAAEuJ,iBACTvJ,EAAEuJ,iBACFvJ,EAAE8xH,WAEJ,IAAI7O,EAAyC,CAAC,EAC1C4G,EAAckG,GAChBlJ,EACE3C,EACAiH,GAAYhH,EAAsBG,SAClCyC,GACA,IAIJ2G,GAAiBpJ,QAAQkJ,cACvBK,GAAgB,CACdL,cAAc,IAGlB,IACE,GAAIX,EAAYvI,QAAS,CACvB,MAAM,OAAE2C,EAAM,OAAElrH,SAAiB8wH,EAAYvI,QAC3CuF,EACA+C,EAAWtI,QACX0I,IAEFW,GAAarJ,QAAQ2C,OAAShE,EAAcgE,EAC5C4C,EAAc9tH,OAEd,IAAK,MAAMmnH,KAAShrH,OAAO6D,OAAOmoH,EAAUI,SAC1C,GAAIpB,EAAO,CACT,MAAM,KAAEhpH,GAASgpH,EAAM/D,IAEjB4S,QAAmBnK,GACvB1D,EACA8I,GACA9J,EACAiB,GAGE4N,EAAW73H,IACbwS,EAAIu2G,EAAa/oH,EAAM63H,EAAW73H,IAClC+qH,EAAMqH,EAAehI,QAASpqH,IACrB0N,EAAIykH,EAAwB/H,QAASpqH,KAC9C+qH,EAAM0I,GAAarJ,QAAQ2C,OAAQ/sH,GACnCwS,EAAI4/G,EAAehI,QAASpqH,GAAM,IAOxC6qH,EAAc9B,IACd/qH,OAAO0D,KAAK+xH,GAAarJ,QAAQ2C,QAAQqI,OACtCp1H,GAASA,KAAQgqH,EAAUI,WAG9BuJ,GAAgB,CACd5G,OAAQ,CAAC,EACTuG,cAAc,UAEVoE,EAAQ/H,EAAa7pH,KAE3B2tH,GAAarJ,QAAQ2C,OAAM/uH,OAAAoD,OAAApD,OAAAoD,OAAA,GACtBqyH,GAAarJ,QAAQ2C,QACrBhE,GAEL4O,SAAoBA,EAAUlE,GAAarJ,QAAQ2C,OAAQjnH,GAC3D6rH,GACE9I,EAAkBmB,EAAUI,QAASqJ,GAAarJ,QAAQ2C,SAE9D,QACA0G,GAAarJ,QAAQkJ,cAAe,EACpCK,GAAgB,CACdnD,aAAa,EACb8C,cAAc,EACdC,mBAAoB1I,EAAc4I,GAAarJ,QAAQ2C,QACvDqG,YAAaK,GAAarJ,QAAQgJ,YAAc,OAItD,CAACzB,EAAkBmB,MAwErBgF,EAAAA,EAAAA,YAAgB,KACd5d,GAAYsZ,GAAiBpJ,QAAQhB,SAAW8M,KAChDxC,GAAYtJ,QACVsJ,GAAYtJ,UAAY4G,GACpB0C,GAAYtJ,iBEztCpBJ,EACA2M,GAKA,MAAMoB,EAAW,IAAIC,kBAAiB,KACpC,IAAK,MAAMhP,KAAShrH,OAAO6D,OAAOmoH,EAAUI,SAC1C,GAAIpB,GAASA,EAAM7/G,QACjB,IAAK,MAAMujB,KAAUs8F,EAAM7/G,QACrBujB,GAAUA,EAAOu4F,KAAOyF,EAAWh+F,EAAOu4F,MAC5C0R,EAA+B3N,QAG1BA,GAAS0B,EAAW1B,EAAM/D,MACnC0R,EAA+B3N,MAUrC,OALA+O,EAASxoC,QAAQ1yF,OAAO+L,SAAU,CAChCqvH,WAAW,EACXC,SAAS,IAGJH,CACT,CFgsCUI,CAAYnO,EAAW2M,GAA+B,GAC3D,CAACA,GAAgCtE,EAAiBjI,WAErD0N,EAAAA,EAAAA,YACE,IAAM,KACJpE,GAAYtJ,SAAWsJ,GAAYtJ,QAAQ36B,aAC3C6iC,EAAUlI,SAAU,EAMpBpsH,OAAO6D,OAAOmoH,EAAUI,SAASzoH,SAASqnH,GACxC2N,GAA+B3N,GAAO,IACvC,GAEH,KAGG9O,GAAYsZ,GAAiBpJ,QAAQhB,UACxC2J,GAAU3J,QACRwC,EAAUwG,EAAehI,QAAS+H,EAAwB/H,UAC1DS,EAAc4I,GAAarJ,QAAQ2C,SAGvC,MAAMqL,GAAc,CAClB/C,WACA/vE,UAAUsuE,EAAAA,EAAAA,cA5tBZ,SACE5zH,EACAG,EACAoW,GAEAm/G,GAAiB11H,EAAMG,EAAOoW,GAAU,CAAC,GACzCo/G,GAAe31H,IAAS2zH,KACxBiC,GAAoB51H,KAqtBkB,CAAC01H,GAAkBL,KACzDZ,WAAWb,EAAAA,EAAAA,aAAkBa,GAAW,IACxC4D,UAAUzE,EAAAA,EAAAA,cAvNZ,SACE0E,EAKAnvH,GAEA,IAAKmoH,GACH,GAAI5E,EAAS4L,GACXtB,GAAiB,CAAEh3H,KAAMs4H,GAAwBnvH,OAC5C,KACLswG,EAAS6e,MACT,SAAUA,GAIV,OAAQrT,GACNA,GAAO+R,GAAiB/R,EAAKqT,GAH/BtB,GAAiBsB,EAAsBnvH,MAwML,CAACkpH,EAAiBjI,UACxDmO,YAAY3E,EAAAA,EAAAA,cAjXd,SACE5zH,GAEA,IAAK,MAAM4vH,KAAa3tH,MAAMmB,QAAQpD,GAAQA,EAAO,CAACA,GACpD22H,GAA+B3M,EAAUI,QAAQwF,IAAY,KA6WrB,IAC1CmD,UAAWxB,GACP,IAAIC,MAAMuB,GAAW,CACnBrlH,IAAKA,CAAC3N,EAAKy4H,KAST,GAAIA,KAAQz4H,EAEV,OADAyzH,GAAiBpJ,QAAQoO,IAAQ,EAC1Bz4H,EAAIy4H,EAGG,IAGpBzF,IAGA0F,IAAUC,EAAAA,EAAAA,UACd,IAAA16H,OAAAoD,OAAC,CACCmzH,eACAkC,sBACA5J,mBACA8G,mBACAyC,4BACAQ,iBACAp2F,KAAMqyF,GAAQzI,QACdsH,eAAgB,CACdrB,sBACAC,yBAEF4F,iBAAkBhc,EAAWgc,QAAmBn4H,EAChDisH,YACAyI,6BACAR,oBACAC,6BACAJ,6BACAM,iBACAD,0BACAS,qBACAY,oBACAC,gBACApB,mBACApI,wBACA8H,uBACGqG,KAEL,CACE/F,EAAiBjI,QACjBqM,GACA5J,EACAuJ,GACAQ,KAIJ,OAAA54H,OAAAoD,OAAA,CACEu3H,MAtbF,SACE9B,EACAvc,GAEA,OAAOsc,GAAcC,EAAYvc,IAmbjCme,WACAhB,gBACA5tE,OAAO+pE,EAAAA,EAAAA,cA1IK,SACZ/xH,GACmC,IAAnC+2H,EAAA17H,UAAAC,OAAA,QAAAY,IAAAb,UAAA,GAAAA,UAAA,GAAiC,CAAC,EAElC,GAAI8zH,GACF,IAAK,MAAMhI,KAAShrH,OAAO6D,OAAOmoH,EAAUI,SAC1C,GAAIpB,EAAO,CACT,MAAM,IAAE/D,EAAG,QAAE97G,GAAY6/G,EACnB6P,EACJxH,GAA0BpM,IAAQhjH,MAAMmB,QAAQ+F,GAC5CA,EAAQ,GAAG87G,IACXA,EAEN,GAAIyC,EAAcmR,GAChB,IACEA,EAASC,QAAQ,QAASjvE,QAC1B,MACA,MAAAn2B,GAAO,EAMjBs2F,EAAUI,QAAU,CAAC,EACrBiI,EAAiBjI,QAAOpsH,OAAAoD,OAAA,GAASS,GAAUwwH,EAAiBjI,SAC5DvoH,GAAU+zH,GAAoB,IAE9B53H,OAAO6D,OAAO4wH,EAA2BrI,SAASzoH,SAC/Co3H,GAAoBrf,GAAWqf,IAAoBA,MAGtD9O,EAAsBG,QAAUyC,EAC5B,CAAC,EACDoE,GAAYpvH,GAAUwwH,EAAiBjI,SAhE3B4O,KAQD,IARE,OACjBjM,EAAM,QACNmG,EAAO,YACP1C,EAAW,QACX6C,EAAO,QACPjK,EAAO,YACPgK,EAAW,YACX7G,GACeyM,EACV5P,IACHgJ,EAAehI,QAAU,CAAC,EAC1B+H,EAAwB/H,QAAU,CAAC,GAGrC0H,EAA2B1H,QAAU,CAAC,EACtC4H,EAAe5H,QAAU,IAAI3kC,IAC7B8sC,EAAcnI,SAAU,EAExBuJ,GAAgB,CACdP,YAAaA,EAAcK,GAAarJ,QAAQgJ,YAAc,EAC9DF,UAASA,GAAUO,GAAarJ,QAAQ8I,QACxC1C,cAAaA,GAAciD,GAAarJ,QAAQoG,YAChDpH,UAASA,GAAUqK,GAAarJ,QAAQhB,QACxCmD,YAAaA,EAAckH,GAAarJ,QAAQmC,YAAc,CAAC,EAC/D8G,QAASA,EAAUI,GAAarJ,QAAQiJ,QAAU,CAAC,EACnDtG,OAAQA,EAAS0G,GAAarJ,QAAQ2C,OAAS,CAAC,EAChDuG,cAAc,EACdC,oBAAoB,GACpB,EAsCF0F,CAAUL,KAuGsB,IAChCM,aAAatF,EAAAA,EAAAA,cA3iBf,SACE5zH,GAEAA,IACGiC,MAAMmB,QAAQpD,GAAQA,EAAO,CAACA,IAAO2B,SAASw3H,GAC7CnP,EAAUI,QAAQ+O,IAAc9f,EAAM8f,UAC3B1F,GAAarJ,QAAQ2C,OAAOoM,GACnCpO,EAAM0I,GAAarJ,QAAQ2C,OAAQoM,KAG3CxF,GAAgB,CACd5G,OAAQ/sH,EAAOyzH,GAAarJ,QAAQ2C,OAAS,CAAC,MAgiBJ,IAC5CqM,UAAUxF,EAAAA,EAAAA,cA7hBZ,SAAkB5zH,EAA+BvC,GAC/C,MAAMwnH,GAAO+E,EAAUI,QAAQpqH,IAAS,CAAC,GAAIilH,IAE7CzyG,EAAIihH,GAAarJ,QAAQ2C,OAAQ/sH,EAAIhC,OAAAoD,OAAApD,OAAAoD,OAAA,GAChC3D,GAAK,CACRwnH,SAGF0O,GAAgB,CACdvK,SAAS,IAGX3rH,EAAM47H,aAAepU,GAAOA,EAAI/+F,OAAS++F,EAAI/+F,UAihBP,IACtC6mG,OAAQgG,GAAUhG,QACfqL,GAEP,CGj0CA,MAAMkB,IAAcC,EAAAA,EAAAA,eAA2C,MAE/DD,GAAYE,YAAc","sources":["../node_modules/@tableflip/react-dropdown/lib/index.js","../node_modules/ace-builds/src-noconflict/ace.js","../node_modules/ace-builds/src-noconflict/ext-split.js","../node_modules/brace/mode/json.js","../node_modules/brace/worker/json.js","../node_modules/diff-match-patch/index.js","../node_modules/lodash.get/index.js","../node_modules/lodash.isequal/index.js","../node_modules/react-ace/src/ace.tsx","../node_modules/react-ace/src/diff.tsx","../node_modules/react-ace/src/editorOptions.ts","../node_modules/react-ace/src/index.ts","../node_modules/react-ace/src/split.tsx","../node_modules/react-hook-form/src/utils/isHTMLElement.ts","../node_modules/react-hook-form/src/constants.ts","../node_modules/react-hook-form/src/utils/isNullOrUndefined.ts","../node_modules/react-hook-form/src/utils/isObject.ts","../node_modules/react-hook-form/src/utils/isKey.ts","../node_modules/react-hook-form/src/utils/compact.ts","../node_modules/react-hook-form/src/utils/stringToPath.ts","../node_modules/react-hook-form/src/utils/set.ts","../node_modules/react-hook-form/src/logic/transformToNestObject.ts","../node_modules/react-hook-form/src/utils/isUndefined.ts","../node_modules/react-hook-form/src/utils/get.ts","../node_modules/react-hook-form/src/logic/focusOnErrorField.ts","../node_modules/react-hook-form/src/logic/removeAllEventListeners.ts","../node_modules/react-hook-form/src/logic/getRadioValue.ts","../node_modules/react-hook-form/src/logic/getMultipleSelectValue.ts","../node_modules/react-hook-form/src/utils/isRadioInput.ts","../node_modules/react-hook-form/src/utils/isFileInput.ts","../node_modules/react-hook-form/src/utils/isCheckBoxInput.ts","../node_modules/react-hook-form/src/utils/isMultipleSelect.ts","../node_modules/react-hook-form/src/logic/getCheckboxValue.ts","../node_modules/react-hook-form/src/logic/getFieldValue.ts","../node_modules/react-hook-form/src/utils/isDetached.ts","../node_modules/react-hook-form/src/utils/isEmptyObject.ts","../node_modules/react-hook-form/src/utils/isBoolean.ts","../node_modules/react-hook-form/src/utils/unset.ts","../node_modules/react-hook-form/src/logic/findRemovedFieldAndRemoveListener.ts","../node_modules/react-hook-form/src/utils/isPrimitive.ts","../node_modules/react-hook-form/src/utils/deepMerge.ts","../node_modules/react-hook-form/src/utils/deepEqual.ts","../node_modules/react-hook-form/src/logic/setFieldArrayDirtyFields.ts","../node_modules/react-hook-form/src/utils/isString.ts","../node_modules/react-hook-form/src/logic/getFieldsValues.ts","../node_modules/react-hook-form/src/logic/isErrorStateChanged.ts","../node_modules/react-hook-form/src/utils/isRegex.ts","../node_modules/react-hook-form/src/logic/getValueAndMessage.ts","../node_modules/react-hook-form/src/utils/isFunction.ts","../node_modules/react-hook-form/src/utils/isMessage.ts","../node_modules/react-hook-form/src/logic/getValidateError.ts","../node_modules/react-hook-form/src/logic/appendErrors.ts","../node_modules/react-hook-form/src/logic/validateField.ts","../node_modules/react-hook-form/src/utils/getPath.ts","../node_modules/react-hook-form/src/logic/assignWatchFields.ts","../node_modules/react-hook-form/src/logic/skipValidation.ts","../node_modules/react-hook-form/src/logic/getNodeParentName.ts","../node_modules/react-hook-form/src/logic/isNameInFieldArray.ts","../node_modules/react-hook-form/src/utils/isSelectInput.ts","../node_modules/react-hook-form/src/utils/isWeb.ts","../node_modules/react-hook-form/src/utils/cloneObject.ts","../node_modules/react-hook-form/src/utils/validationModeChecker.ts","../node_modules/react-hook-form/src/utils/isRadioOrCheckbox.ts","../node_modules/react-hook-form/src/useForm.ts","../node_modules/react-hook-form/src/logic/attachEventListeners.ts","../node_modules/react-hook-form/src/utils/onDomRemove.ts","../node_modules/react-hook-form/src/useFormContext.tsx"],"sourcesContent":["import React from 'react';\n/*\n * Dropdown & DropdownMenu\n *\n * Usage:\n *   <Dropdown>\n *     <button onClick={() => this.setState({open: true})}>Fire!</button>\n *     <DropdownMenu width={200} open={this.state.open}>\n *      <div>Option 1</div>\n *      <div>Option 2</div>\n *     </DropdownMenu>\n *   </Dropdown>\n */\n\nexport const Dropdown = ({\n  children,\n  className\n}) => React.createElement(\"div\", {\n  className: `inline-block align-top ${className}`\n}, children); // Invisible click grabber, to detect when the user clicks away.\n\nconst Overlay = ({\n  onClick,\n  zIndex\n}) => {\n  return React.createElement(\"div\", {\n    onClick: onClick,\n    style: {\n      position: 'fixed',\n      zIndex,\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    },\n    \"data-id\": \"dropdown-overlay\"\n  });\n}; // `open` is used to show and hide the menu\n// `top` is used to move the menu and arrow down.\n\n\nconst Container = ({\n  open,\n  top = 0,\n  children\n}) => React.createElement(\"div\", {\n  style: {\n    display: open ? null : 'none',\n    position: 'relative',\n    top\n  },\n  \"data-id\": \"dropdown-menu\"\n}, children); // An arrow tip that appears at the top middle of the dropdown menu\n\n\nconst MenuArrowUp = ({\n  height,\n  boxShadow = '0px 1px 10px 0px rgba(0,0,0,0.20)',\n  background = 'white',\n  align = 'center',\n  marginLeft = 'auto',\n  marginRight = 'auto'\n}) => {\n  const side = Math.round(Math.sqrt(2) * height);\n  return React.createElement(\"div\", {\n    style: {\n      position: 'absolute',\n      width: '100%',\n      height: `${height}px`,\n      top: `-${height}px`,\n      textAlign: align,\n      overflow: 'hidden',\n      zIndex: 1\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      display: 'inline-block',\n      position: 'relative',\n      width: `${side}px`,\n      height: `${side}px`,\n      transform: `translate(0, ${height / 2}px) rotate(45deg)`,\n      borderRadius: '2px 0 0 0',\n      background: background,\n      left: marginLeft,\n      right: marginRight,\n      boxShadow: boxShadow\n    }\n  }));\n}; // An arrow tip that appears at the bottom middle of the dropdown menu\n\n\nconst MenuArrowDown = ({\n  height,\n  boxShadow = '0px 1px 10px 0px rgba(0,0,0,0.20)',\n  background = 'white',\n  align = 'center',\n  marginLeft = 'auto',\n  marginRight = 'auto'\n}) => {\n  const side = Math.round(Math.sqrt(2) * height);\n  return React.createElement(\"div\", {\n    style: {\n      width: '100%',\n      height: `${height + 5}px`,\n      textAlign: align,\n      overflow: 'hidden',\n      zIndex: 1\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      display: 'inline-block',\n      position: 'relative',\n      width: `${side}px`,\n      height: `${side}px`,\n      transform: `translate(0, ${height / 2}px) rotate(45deg)`,\n      borderRadius: '2px 0 0 0',\n      background: background,\n      boxShadow: boxShadow,\n      top: `-${height + 2}px`,\n      left: marginLeft,\n      right: marginRight\n    }\n  }));\n}; // `width` forces the width of the Menu.\n//         width is required to make other calculaitons possible.\n// `left` is the pixels from the left edge of the trigger element...\n//        centered by default.\n//        `left={0}` would make the left of the menu inline with the left of the\n//         trigger element.\n\n\nconst MenuPosition = ({\n  width,\n  left = `calc(50% - ${width / 2}px)`,\n  translateX,\n  translateY,\n  children,\n  zIndex\n}) => React.createElement(\"div\", {\n  style: {\n    position: 'absolute',\n    width: `${width}px`,\n    left,\n    transform: `translateX(${translateX}px) translateY(${translateY}px)`,\n    zIndex\n  }\n}, children); // Styling for the dropdown box and shadow, and reset positon to relative.\n\n\nconst Menu = ({\n  boxShadow = '0px 1px 10px 0px rgba(0,0,0,0.20)',\n  background = 'white',\n  className,\n  children\n}) => React.createElement(\"div\", {\n  style: {\n    position: 'relative',\n    textAlign: 'left',\n    background: background,\n    boxShadow: boxShadow\n  },\n  className: className\n}, children);\n\nexport const DropdownMenu = ({\n  open,\n  boxShadow,\n  className,\n  background,\n  translateX = 0,\n  translateY = 0,\n  width,\n  left,\n  top = 0,\n  arrowHeight = 12,\n  arrowPosition = 'top',\n  arrowAlign,\n  arrowMarginLeft,\n  arrowMarginRight,\n  onDismiss,\n  alignRight,\n  children,\n  baseZIndex = 100\n}) => {\n  if (alignRight) {\n    left = `calc(100% - ${width}px)`;\n    arrowAlign = 'right';\n    arrowMarginRight = arrowMarginRight || '13px';\n  }\n\n  return React.createElement(Container, {\n    open: open,\n    top: top + arrowHeight\n  }, React.createElement(Overlay, {\n    onClick: onDismiss,\n    zIndex: baseZIndex\n  }), React.createElement(MenuPosition, {\n    zIndex: baseZIndex + 1,\n    width: width,\n    left: left,\n    translateX: translateX,\n    translateY: translateY\n  }, arrowPosition === 'top' && React.createElement(MenuArrowUp, {\n    boxShadow: boxShadow,\n    background: background,\n    height: arrowHeight,\n    align: arrowAlign,\n    marginLeft: arrowMarginLeft,\n    marginRight: arrowMarginRight\n  }), React.createElement(Menu, {\n    className: className,\n    boxShadow: boxShadow,\n    background: background\n  }, open ? children : null), arrowPosition === 'bottom' && React.createElement(MenuArrowDown, {\n    boxShadow: boxShadow,\n    background: background,\n    height: arrowHeight,\n    align: arrowAlign,\n    marginLeft: arrowMarginLeft,\n    marginRight: arrowMarginRight\n  })));\n};","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n/**\n * Define a module along with a payload\n * @param module a name for the payload\n * @param payload a function to call with (require, exports, module) params\n */\n\n(function() {\n\nvar ACE_NAMESPACE = \"ace\";\n\nvar global = (function() { return this; })();\nif (!global && typeof window != \"undefined\") global = window; // strict mode\n\n\nif (!ACE_NAMESPACE && typeof requirejs !== \"undefined\")\n    return;\n\n\nvar define = function(module, deps, payload) {\n    if (typeof module !== \"string\") {\n        if (define.original)\n            define.original.apply(this, arguments);\n        else {\n            console.error(\"dropping module because define wasn\\'t a string.\");\n            console.trace();\n        }\n        return;\n    }\n    if (arguments.length == 2)\n        payload = deps;\n    if (!define.modules[module]) {\n        define.payloads[module] = payload;\n        define.modules[module] = null;\n    }\n};\n\ndefine.modules = {};\ndefine.payloads = {};\n\n/**\n * Get at functionality define()ed using the function above\n */\nvar _require = function(parentId, module, callback) {\n    if (typeof module === \"string\") {\n        var payload = lookup(parentId, module);\n        if (payload != undefined) {\n            callback && callback();\n            return payload;\n        }\n    } else if (Object.prototype.toString.call(module) === \"[object Array]\") {\n        var params = [];\n        for (var i = 0, l = module.length; i < l; ++i) {\n            var dep = lookup(parentId, module[i]);\n            if (dep == undefined && require.original)\n                return;\n            params.push(dep);\n        }\n        return callback && callback.apply(null, params) || true;\n    }\n};\n\nvar require = function(module, callback) {\n    var packagedModule = _require(\"\", module, callback);\n    if (packagedModule == undefined && require.original)\n        return require.original.apply(this, arguments);\n    return packagedModule;\n};\n\nvar normalizeModule = function(parentId, moduleName) {\n    // normalize plugin requires\n    if (moduleName.indexOf(\"!\") !== -1) {\n        var chunks = moduleName.split(\"!\");\n        return normalizeModule(parentId, chunks[0]) + \"!\" + normalizeModule(parentId, chunks[1]);\n    }\n    // normalize relative requires\n    if (moduleName.charAt(0) == \".\") {\n        var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n        moduleName = base + \"/\" + moduleName;\n\n        while(moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n            var previous = moduleName;\n            moduleName = moduleName.replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n        }\n    }\n    return moduleName;\n};\n\n/**\n * Internal function to lookup moduleNames and resolve them by calling the\n * definition function if needed.\n */\nvar lookup = function(parentId, moduleName) {\n    moduleName = normalizeModule(parentId, moduleName);\n\n    var module = define.modules[moduleName];\n    if (!module) {\n        module = define.payloads[moduleName];\n        if (typeof module === 'function') {\n            var exports = {};\n            var mod = {\n                id: moduleName,\n                uri: '',\n                exports: exports,\n                packaged: true\n            };\n\n            var req = function(module, callback) {\n                return _require(moduleName, module, callback);\n            };\n\n            var returnValue = module(req, exports, mod);\n            exports = returnValue || mod.exports;\n            define.modules[moduleName] = exports;\n            delete define.payloads[moduleName];\n        }\n        module = define.modules[moduleName] = exports || module;\n    }\n    return module;\n};\n\nfunction exportAce(ns) {\n    var root = global;\n    if (ns) {\n        if (!global[ns])\n            global[ns] = {};\n        root = global[ns];\n    }\n\n    if (!root.define || !root.define.packaged) {\n        define.original = root.define;\n        root.define = define;\n        root.define.packaged = true;\n    }\n\n    if (!root.require || !root.require.packaged) {\n        require.original = root.require;\n        root.require = require;\n        root.require.packaged = true;\n    }\n}\n\nexportAce(ACE_NAMESPACE);\n\n})();\n\nace.define(\"ace/lib/es6-shim\",[\"require\",\"exports\",\"module\"], function(require, exports, module){function defineProp(obj, name, val) {\n    Object.defineProperty(obj, name, {\n        value: val,\n        enumerable: false,\n        writable: true,\n        configurable: true\n    });\n}\nif (!String.prototype.startsWith) {\n    defineProp(String.prototype, \"startsWith\", function (searchString, position) {\n        position = position || 0;\n        return this.lastIndexOf(searchString, position) === position;\n    });\n}\nif (!String.prototype.endsWith) {\n    defineProp(String.prototype, \"endsWith\", function (searchString, position) {\n        var subjectString = this;\n        if (position === undefined || position > subjectString.length) {\n            position = subjectString.length;\n        }\n        position -= searchString.length;\n        var lastIndex = subjectString.indexOf(searchString, position);\n        return lastIndex !== -1 && lastIndex === position;\n    });\n}\nif (!String.prototype.repeat) {\n    defineProp(String.prototype, \"repeat\", function (count) {\n        var result = \"\";\n        var string = this;\n        while (count > 0) {\n            if (count & 1)\n                result += string;\n            if ((count >>= 1))\n                string += string;\n        }\n        return result;\n    });\n}\nif (!String.prototype.includes) {\n    defineProp(String.prototype, \"includes\", function (str, position) {\n        return this.indexOf(str, position) != -1;\n    });\n}\nif (!Object.assign) {\n    Object.assign = function (target) {\n        if (target === undefined || target === null) {\n            throw new TypeError(\"Cannot convert undefined or null to object\");\n        }\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                Object.keys(source).forEach(function (key) {\n                    output[key] = source[key];\n                });\n            }\n        }\n        return output;\n    };\n}\nif (!Object.values) {\n    Object.values = function (o) {\n        return Object.keys(o).map(function (k) {\n            return o[k];\n        });\n    };\n}\nif (!Array.prototype.find) {\n    defineProp(Array.prototype, \"find\", function (predicate) {\n        var len = this.length;\n        var thisArg = arguments[1];\n        for (var k = 0; k < len; k++) {\n            var kValue = this[k];\n            if (predicate.call(thisArg, kValue, k, this)) {\n                return kValue;\n            }\n        }\n    });\n}\nif (!Array.prototype.findIndex) {\n    defineProp(Array.prototype, \"findIndex\", function (predicate) {\n        var len = this.length;\n        var thisArg = arguments[1];\n        for (var k = 0; k < len; k++) {\n            var kValue = this[k];\n            if (predicate.call(thisArg, kValue, k, this)) {\n                return k;\n            }\n        }\n    });\n}\nif (!Array.prototype.includes) {\n    defineProp(Array.prototype, \"includes\", function (item, position) {\n        return this.indexOf(item, position) != -1;\n    });\n}\nif (!Array.prototype.fill) {\n    defineProp(Array.prototype, \"fill\", function (value) {\n        var O = this;\n        var len = O.length >>> 0;\n        var start = arguments[1];\n        var relativeStart = start >> 0;\n        var k = relativeStart < 0\n            ? Math.max(len + relativeStart, 0)\n            : Math.min(relativeStart, len);\n        var end = arguments[2];\n        var relativeEnd = end === undefined ? len : end >> 0;\n        var final = relativeEnd < 0\n            ? Math.max(len + relativeEnd, 0)\n            : Math.min(relativeEnd, len);\n        while (k < final) {\n            O[k] = value;\n            k++;\n        }\n        return O;\n    });\n}\nif (!Array.of) {\n    defineProp(Array, \"of\", function () {\n        return Array.prototype.slice.call(arguments);\n    });\n}\n\n});\n\nace.define(\"ace/lib/fixoldbrowsers\",[\"require\",\"exports\",\"module\",\"ace/lib/es6-shim\"], function(require, exports, module){// vim:set ts=4 sts=4 sw=4 st:\n\"use strict\";\nrequire(\"./es6-shim\");\n\n});\n\nace.define(\"ace/lib/deep_copy\",[\"require\",\"exports\",\"module\"], function(require, exports, module){exports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj)\n        return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n        copy = [];\n        for (var key = 0; key < obj.length; key++) {\n            copy[key] = deepCopy(obj[key]);\n        }\n        return copy;\n    }\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\")\n        return obj;\n    copy = {};\n    for (var key in obj)\n        copy[key] = deepCopy(obj[key]);\n    return copy;\n};\n\n});\n\nace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\",\"ace/lib/deep_copy\"], function(require, exports, module){\"use strict\";\nexports.last = function (a) {\n    return a[a.length - 1];\n};\nexports.stringReverse = function (string) {\n    return string.split(\"\").reverse().join(\"\");\n};\nexports.stringRepeat = function (string, count) {\n    var result = '';\n    while (count > 0) {\n        if (count & 1)\n            result += string;\n        if (count >>= 1)\n            string += string;\n    }\n    return result;\n};\nvar trimBeginRegexp = /^\\s\\s*/;\nvar trimEndRegexp = /\\s\\s*$/;\nexports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n};\nexports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n};\nexports.copyObject = function (obj) {\n    var copy = {};\n    for (var key in obj) {\n        copy[key] = obj[key];\n    }\n    return copy;\n};\nexports.copyArray = function (array) {\n    var copy = [];\n    for (var i = 0, l = array.length; i < l; i++) {\n        if (array[i] && typeof array[i] == \"object\")\n            copy[i] = this.copyObject(array[i]);\n        else\n            copy[i] = array[i];\n    }\n    return copy;\n};\nexports.deepCopy = require(\"./deep_copy\").deepCopy;\nexports.arrayToMap = function (arr) {\n    var map = {};\n    for (var i = 0; i < arr.length; i++) {\n        map[arr[i]] = 1;\n    }\n    return map;\n};\nexports.createMap = function (props) {\n    var map = Object.create(null);\n    for (var i in props) {\n        map[i] = props[i];\n    }\n    return map;\n};\nexports.arrayRemove = function (array, value) {\n    for (var i = 0; i <= array.length; i++) {\n        if (value === array[i]) {\n            array.splice(i, 1);\n        }\n    }\n};\nexports.escapeRegExp = function (str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n};\nexports.escapeHTML = function (str) {\n    return (\"\" + str).replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n};\nexports.getMatchOffsets = function (string, regExp) {\n    var matches = [];\n    string.replace(regExp, function (str) {\n        matches.push({\n            offset: arguments[arguments.length - 2],\n            length: str.length\n        });\n    });\n    return matches;\n};\nexports.deferredCall = function (fcn) {\n    var timer = null;\n    var callback = function () {\n        timer = null;\n        fcn();\n    };\n    var deferred = function (timeout) {\n        deferred.cancel();\n        timer = setTimeout(callback, timeout || 0);\n        return deferred;\n    };\n    deferred.schedule = deferred;\n    deferred.call = function () {\n        this.cancel();\n        fcn();\n        return deferred;\n    };\n    deferred.cancel = function () {\n        clearTimeout(timer);\n        timer = null;\n        return deferred;\n    };\n    deferred.isPending = function () {\n        return timer;\n    };\n    return deferred;\n};\nexports.delayedCall = function (fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function () {\n        timer = null;\n        fcn();\n    };\n    var _self = function (timeout) {\n        if (timer == null)\n            timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.delay = function (timeout) {\n        timer && clearTimeout(timer);\n        timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n    _self.call = function () {\n        this.cancel();\n        fcn();\n    };\n    _self.cancel = function () {\n        timer && clearTimeout(timer);\n        timer = null;\n    };\n    _self.isPending = function () {\n        return timer;\n    };\n    return _self;\n};\nexports.supportsLookbehind = function () {\n    try {\n        new RegExp('(?<=.)');\n    }\n    catch (e) {\n        return false;\n    }\n    return true;\n};\nexports.skipEmptyMatch = function (line, last, supportsUnicodeFlag) {\n    return supportsUnicodeFlag && line.codePointAt(last) > 0xffff ? 2 : 1;\n};\n\n});\n\nace.define(\"ace/lib/useragent\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nexports.OS = {\n    LINUX: \"LINUX\",\n    MAC: \"MAC\",\n    WINDOWS: \"WINDOWS\"\n};\nexports.getOS = function () {\n    if (exports.isMac) {\n        return exports.OS.MAC;\n    }\n    else if (exports.isLinux) {\n        return exports.OS.LINUX;\n    }\n    else {\n        return exports.OS.WINDOWS;\n    }\n};\nvar _navigator = typeof navigator == \"object\" ? navigator : {};\nvar os = (/mac|win|linux/i.exec(_navigator.platform) || [\"other\"])[0].toLowerCase();\nvar ua = _navigator.userAgent || \"\";\nvar appName = _navigator.appName || \"\";\nexports.isWin = (os == \"win\");\nexports.isMac = (os == \"mac\");\nexports.isLinux = (os == \"linux\");\nexports.isIE =\n    (appName == \"Microsoft Internet Explorer\" || appName.indexOf(\"MSAppHost\") >= 0)\n        ? parseFloat((ua.match(/(?:MSIE |Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/) || [])[1])\n        : parseFloat((ua.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/) || [])[1]); // for ie\nexports.isOldIE = exports.isIE && exports.isIE < 9;\nexports.isGecko = exports.isMozilla = ua.match(/ Gecko\\/\\d+/);\nexports.isOpera = typeof opera == \"object\" && Object.prototype.toString.call(window[\"opera\"]) == \"[object Opera]\";\nexports.isWebKit = parseFloat(ua.split(\"WebKit/\")[1]) || undefined;\nexports.isChrome = parseFloat(ua.split(\" Chrome/\")[1]) || undefined;\nexports.isSafari = parseFloat(ua.split(\" Safari/\")[1]) && !exports.isChrome || undefined;\nexports.isEdge = parseFloat(ua.split(\" Edge/\")[1]) || undefined;\nexports.isAIR = ua.indexOf(\"AdobeAIR\") >= 0;\nexports.isAndroid = ua.indexOf(\"Android\") >= 0;\nexports.isChromeOS = ua.indexOf(\" CrOS \") >= 0;\nexports.isIOS = /iPad|iPhone|iPod/.test(ua) && !window[\"MSStream\"];\nif (exports.isIOS)\n    exports.isMac = true;\nexports.isMobile = exports.isIOS || exports.isAndroid;\n\n});\n\nace.define(\"ace/lib/dom\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar useragent = require(\"./useragent\");\nvar XHTML_NS = \"http://www.w3.org/1999/xhtml\";\nexports.buildDom = function buildDom(arr, parent, refs) {\n    if (typeof arr == \"string\" && arr) {\n        var txt = document.createTextNode(arr);\n        if (parent)\n            parent.appendChild(txt);\n        return txt;\n    }\n    if (!Array.isArray(arr)) {\n        if (arr && arr.appendChild && parent)\n            parent.appendChild(arr);\n        return arr;\n    }\n    if (typeof arr[0] != \"string\" || !arr[0]) {\n        var els = [];\n        for (var i = 0; i < arr.length; i++) {\n            var ch = buildDom(arr[i], parent, refs);\n            ch && els.push(ch);\n        }\n        return els;\n    }\n    var el = document.createElement(arr[0]);\n    var options = arr[1];\n    var childIndex = 1;\n    if (options && typeof options == \"object\" && !Array.isArray(options))\n        childIndex = 2;\n    for (var i = childIndex; i < arr.length; i++)\n        buildDom(arr[i], el, refs);\n    if (childIndex == 2) {\n        Object.keys(options).forEach(function (n) {\n            var val = options[n];\n            if (n === \"class\") {\n                el.className = Array.isArray(val) ? val.join(\" \") : val;\n            }\n            else if (typeof val == \"function\" || n == \"value\" || n[0] == \"$\") {\n                el[n] = val;\n            }\n            else if (n === \"ref\") {\n                if (refs)\n                    refs[val] = el;\n            }\n            else if (n === \"style\") {\n                if (typeof val == \"string\")\n                    el.style.cssText = val;\n            }\n            else if (val != null) {\n                el.setAttribute(n, val);\n            }\n        });\n    }\n    if (parent)\n        parent.appendChild(el);\n    return el;\n};\nexports.getDocumentHead = function (doc) {\n    if (!doc)\n        doc = document;\n    return doc.head || doc.getElementsByTagName(\"head\")[0] || doc.documentElement;\n};\nexports.createElement = function (tag, ns) {\n    return document.createElementNS ?\n        document.createElementNS(ns || XHTML_NS, tag) :\n        document.createElement(tag);\n};\nexports.removeChildren = function (element) {\n    element.innerHTML = \"\";\n};\nexports.createTextNode = function (textContent, element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createTextNode(textContent);\n};\nexports.createFragment = function (element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createDocumentFragment();\n};\nexports.hasCssClass = function (el, name) {\n    var classes = (el.className + \"\").split(/\\s+/g);\n    return classes.indexOf(name) !== -1;\n};\nexports.addCssClass = function (el, name) {\n    if (!exports.hasCssClass(el, name)) {\n        el.className += \" \" + name;\n    }\n};\nexports.removeCssClass = function (el, name) {\n    var classes = el.className.split(/\\s+/g);\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        classes.splice(index, 1);\n    }\n    el.className = classes.join(\" \");\n};\nexports.toggleCssClass = function (el, name) {\n    var classes = el.className.split(/\\s+/g), add = true;\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        add = false;\n        classes.splice(index, 1);\n    }\n    if (add)\n        classes.push(name);\n    el.className = classes.join(\" \");\n    return add;\n};\nexports.setCssClass = function (node, className, include) {\n    if (include) {\n        exports.addCssClass(node, className);\n    }\n    else {\n        exports.removeCssClass(node, className);\n    }\n};\nexports.hasCssString = function (id, doc) {\n    var index = 0, sheets;\n    doc = doc || document;\n    if ((sheets = doc.querySelectorAll(\"style\"))) {\n        while (index < sheets.length) {\n            if (sheets[index++].id === id) {\n                return true;\n            }\n        }\n    }\n};\nexports.removeElementById = function (id, doc) {\n    doc = doc || document;\n    if (doc.getElementById(id)) {\n        doc.getElementById(id).remove();\n    }\n};\nvar strictCSP;\nvar cssCache = [];\nexports.useStrictCSP = function (value) {\n    strictCSP = value;\n    if (value == false)\n        insertPendingStyles();\n    else if (!cssCache)\n        cssCache = [];\n};\nfunction insertPendingStyles() {\n    var cache = cssCache;\n    cssCache = null;\n    cache && cache.forEach(function (item) {\n        importCssString(item[0], item[1]);\n    });\n}\nfunction importCssString(cssText, id, target) {\n    if (typeof document == \"undefined\")\n        return;\n    if (cssCache) {\n        if (target) {\n            insertPendingStyles();\n        }\n        else if (target === false) {\n            return cssCache.push([cssText, id]);\n        }\n    }\n    if (strictCSP)\n        return;\n    var container = target;\n    if (!target || !target.getRootNode) {\n        container = document;\n    }\n    else {\n        container = target.getRootNode();\n        if (!container || container == target)\n            container = document;\n    }\n    var doc = container.ownerDocument || container;\n    if (id && exports.hasCssString(id, container))\n        return null;\n    if (id)\n        cssText += \"\\n/*# sourceURL=ace/css/\" + id + \" */\";\n    var style = exports.createElement(\"style\");\n    style.appendChild(doc.createTextNode(cssText));\n    if (id)\n        style.id = id;\n    if (container == doc)\n        container = exports.getDocumentHead(doc);\n    container.insertBefore(style, container.firstChild);\n}\nexports.importCssString = importCssString;\nexports.importCssStylsheet = function (uri, doc) {\n    exports.buildDom([\"link\", { rel: \"stylesheet\", href: uri }], exports.getDocumentHead(doc));\n};\nexports.scrollbarWidth = function (doc) {\n    var inner = exports.createElement(\"ace_inner\");\n    inner.style.width = \"100%\";\n    inner.style.minWidth = \"0px\";\n    inner.style.height = \"200px\";\n    inner.style.display = \"block\";\n    var outer = exports.createElement(\"ace_outer\");\n    var style = outer.style;\n    style.position = \"absolute\";\n    style.left = \"-10000px\";\n    style.overflow = \"hidden\";\n    style.width = \"200px\";\n    style.minWidth = \"0px\";\n    style.height = \"150px\";\n    style.display = \"block\";\n    outer.appendChild(inner);\n    var body = (doc && doc.documentElement) || (document && document.documentElement);\n    if (!body)\n        return 0;\n    body.appendChild(outer);\n    var noScrollbar = inner.offsetWidth;\n    style.overflow = \"scroll\";\n    var withScrollbar = inner.offsetWidth;\n    if (noScrollbar === withScrollbar) {\n        withScrollbar = outer.clientWidth;\n    }\n    body.removeChild(outer);\n    return noScrollbar - withScrollbar;\n};\nexports.computedStyle = function (element, style) {\n    return window.getComputedStyle(element, \"\") || {};\n};\nexports.setStyle = function (styles, property, value) {\n    if (styles[property] !== value) {\n        styles[property] = value;\n    }\n};\nexports.HAS_CSS_ANIMATION = false;\nexports.HAS_CSS_TRANSFORMS = false;\nexports.HI_DPI = useragent.isWin\n    ? typeof window !== \"undefined\" && window.devicePixelRatio >= 1.5\n    : true;\nif (useragent.isChromeOS)\n    exports.HI_DPI = false;\nif (typeof document !== \"undefined\") {\n    var div = document.createElement(\"div\");\n    if (exports.HI_DPI && div.style.transform !== undefined)\n        exports.HAS_CSS_TRANSFORMS = true;\n    if (!useragent.isEdge && typeof div.style.animationName !== \"undefined\")\n        exports.HAS_CSS_ANIMATION = true;\n    div = null;\n}\nif (exports.HAS_CSS_TRANSFORMS) {\n    exports.translate = function (element, tx, ty) {\n        element.style.transform = \"translate(\" + Math.round(tx) + \"px, \" + Math.round(ty) + \"px)\";\n    };\n}\nelse {\n    exports.translate = function (element, tx, ty) {\n        element.style.top = Math.round(ty) + \"px\";\n        element.style.left = Math.round(tx) + \"px\";\n    };\n}\n\n});\n\nace.define(\"ace/lib/net\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){/*\n * based on code from:\n *\n * @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/jrburke/requirejs for details\n */\n\"use strict\";\nvar dom = require(\"./dom\");\nexports.get = function (url, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            callback(xhr.responseText);\n        }\n    };\n    xhr.send(null);\n};\nexports.loadScript = function (path, callback) {\n    var head = dom.getDocumentHead();\n    var s = document.createElement('script');\n    s.src = path;\n    head.appendChild(s);\n    s.onload = s.onreadystatechange = function (_, isAbort) {\n        if (isAbort || !s.readyState || s.readyState == \"loaded\" || s.readyState == \"complete\") {\n            s = s.onload = s.onreadystatechange = null;\n            if (!isAbort)\n                callback();\n        }\n    };\n};\nexports.qualifyURL = function (url) {\n    var a = document.createElement('a');\n    a.href = url;\n    return a.href;\n};\n\n});\n\nace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nexports.inherits = function (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n            value: ctor,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        }\n    });\n};\nexports.mixin = function (obj, mixin) {\n    for (var key in mixin) {\n        obj[key] = mixin[key];\n    }\n    return obj;\n};\nexports.implement = function (proto, mixin) {\n    exports.mixin(proto, mixin);\n};\n\n});\n\nace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar EventEmitter = {};\nvar stopPropagation = function () { this.propagationStopped = true; };\nvar preventDefault = function () { this.defaultPrevented = true; };\nEventEmitter._emit =\n    EventEmitter._dispatchEvent = function (eventName, e) {\n        this._eventRegistry || (this._eventRegistry = {});\n        this._defaultHandlers || (this._defaultHandlers = {});\n        var listeners = this._eventRegistry[eventName] || [];\n        var defaultHandler = this._defaultHandlers[eventName];\n        if (!listeners.length && !defaultHandler)\n            return;\n        if (typeof e != \"object\" || !e)\n            e = {};\n        if (!e.type)\n            e.type = eventName;\n        if (!e.stopPropagation)\n            e.stopPropagation = stopPropagation;\n        if (!e.preventDefault)\n            e.preventDefault = preventDefault;\n        listeners = listeners.slice();\n        for (var i = 0; i < listeners.length; i++) {\n            listeners[i](e, this);\n            if (e.propagationStopped)\n                break;\n        }\n        if (defaultHandler && !e.defaultPrevented)\n            return defaultHandler(e, this);\n    };\nEventEmitter._signal = function (eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners)\n        return;\n    listeners = listeners.slice();\n    for (var i = 0; i < listeners.length; i++)\n        listeners[i](e, this);\n};\nEventEmitter.once = function (eventName, callback) {\n    var _self = this;\n    this.on(eventName, function newCallback() {\n        _self.off(eventName, newCallback);\n        callback.apply(null, arguments);\n    });\n    if (!callback) {\n        return new Promise(function (resolve) {\n            callback = resolve;\n        });\n    }\n};\nEventEmitter.setDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        handlers = this._defaultHandlers = { _disabled_: {} };\n    if (handlers[eventName]) {\n        var old = handlers[eventName];\n        var disabled = handlers._disabled_[eventName];\n        if (!disabled)\n            handlers._disabled_[eventName] = disabled = [];\n        disabled.push(old);\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n    handlers[eventName] = callback;\n};\nEventEmitter.removeDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        return;\n    var disabled = handlers._disabled_[eventName];\n    if (handlers[eventName] == callback) {\n        if (disabled)\n            this.setDefaultHandler(eventName, disabled.pop());\n    }\n    else if (disabled) {\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n};\nEventEmitter.on =\n    EventEmitter.addEventListener = function (eventName, callback, capturing) {\n        this._eventRegistry = this._eventRegistry || {};\n        var listeners = this._eventRegistry[eventName];\n        if (!listeners)\n            listeners = this._eventRegistry[eventName] = [];\n        if (listeners.indexOf(callback) == -1)\n            listeners[capturing ? \"unshift\" : \"push\"](callback);\n        return callback;\n    };\nEventEmitter.off =\n    EventEmitter.removeListener =\n        EventEmitter.removeEventListener = function (eventName, callback) {\n            this._eventRegistry = this._eventRegistry || {};\n            var listeners = this._eventRegistry[eventName];\n            if (!listeners)\n                return;\n            var index = listeners.indexOf(callback);\n            if (index !== -1)\n                listeners.splice(index, 1);\n        };\nEventEmitter.removeAllListeners = function (eventName) {\n    if (!eventName)\n        this._eventRegistry = this._defaultHandlers = undefined;\n    if (this._eventRegistry)\n        this._eventRegistry[eventName] = undefined;\n    if (this._defaultHandlers)\n        this._defaultHandlers[eventName] = undefined;\n};\nexports.EventEmitter = EventEmitter;\n\n});\n\nace.define(\"ace/lib/report_error\",[\"require\",\"exports\",\"module\"], function(require, exports, module){exports.reportError = function reportError(msg, data) {\n    var e = new Error(msg);\n    e[\"data\"] = data;\n    if (typeof console == \"object\" && console.error)\n        console.error(e);\n    setTimeout(function () { throw e; });\n};\n\n});\n\nace.define(\"ace/lib/default_english_messages\",[\"require\",\"exports\",\"module\"], function(require, exports, module){var defaultEnglishMessages = {\n    \"autocomplete.popup.aria-roledescription\": \"Autocomplete suggestions\",\n    \"autocomplete.popup.aria-label\": \"Autocomplete suggestions\",\n    \"autocomplete.popup.item.aria-roledescription\": \"item\",\n    \"autocomplete.loading\": \"Loading...\",\n    \"editor.scroller.aria-roledescription\": \"editor\",\n    \"editor.scroller.aria-label\": \"Editor content, press Enter to start editing, press Escape to exit\",\n    \"editor.gutter.aria-roledescription\": \"editor\",\n    \"editor.gutter.aria-label\": \"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit\",\n    \"error-marker.good-state\": \"Looks good!\",\n    \"prompt.recently-used\": \"Recently used\",\n    \"prompt.other-commands\": \"Other commands\",\n    \"prompt.no-matching-commands\": \"No matching commands\",\n    \"search-box.find.placeholder\": \"Search for\",\n    \"search-box.find-all.text\": \"All\",\n    \"search-box.replace.placeholder\": \"Replace with\",\n    \"search-box.replace-next.text\": \"Replace\",\n    \"search-box.replace-all.text\": \"All\",\n    \"search-box.toggle-replace.title\": \"Toggle Replace mode\",\n    \"search-box.toggle-regexp.title\": \"RegExp Search\",\n    \"search-box.toggle-case.title\": \"CaseSensitive Search\",\n    \"search-box.toggle-whole-word.title\": \"Whole Word Search\",\n    \"search-box.toggle-in-selection.title\": \"Search In Selection\",\n    \"search-box.search-counter\": \"$0 of $1\",\n    \"text-input.aria-roledescription\": \"editor\",\n    \"text-input.aria-label\": \"Cursor at row $0\",\n    \"gutter.code-folding.range.aria-label\": \"Toggle code folding, rows $0 through $1\",\n    \"gutter.code-folding.closed.aria-label\": \"Toggle code folding, rows $0 through $1\",\n    \"gutter.code-folding.open.aria-label\": \"Toggle code folding, row $0\",\n    \"gutter.code-folding.closed.title\": \"Unfold code\",\n    \"gutter.code-folding.open.title\": \"Fold code\",\n    \"gutter.annotation.aria-label.error\": \"Error, read annotations row $0\",\n    \"gutter.annotation.aria-label.warning\": \"Warning, read annotations row $0\",\n    \"gutter.annotation.aria-label.info\": \"Info, read annotations row $0\",\n    \"inline-fold.closed.title\": \"Unfold code\",\n    \"gutter-tooltip.aria-label.error.singular\": \"error\",\n    \"gutter-tooltip.aria-label.error.plural\": \"errors\",\n    \"gutter-tooltip.aria-label.warning.singular\": \"warning\",\n    \"gutter-tooltip.aria-label.warning.plural\": \"warnings\",\n    \"gutter-tooltip.aria-label.info.singular\": \"information message\",\n    \"gutter-tooltip.aria-label.info.plural\": \"information messages\"\n};\nexports.defaultEnglishMessages = defaultEnglishMessages;\n\n});\n\nace.define(\"ace/lib/app_config\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\",\"ace/lib/report_error\",\"ace/lib/default_english_messages\"], function(require, exports, module){\"no use strict\";\nvar oop = require(\"./oop\");\nvar EventEmitter = require(\"./event_emitter\").EventEmitter;\nvar reportError = require(\"./report_error\").reportError;\nvar defaultEnglishMessages = require(\"./default_english_messages\").defaultEnglishMessages;\nvar optionsProvider = {\n    setOptions: function (optList) {\n        Object.keys(optList).forEach(function (key) {\n            this.setOption(key, optList[key]);\n        }, this);\n    },\n    getOptions: function (optionNames) {\n        var result = {};\n        if (!optionNames) {\n            var options = this.$options;\n            optionNames = Object.keys(options).filter(function (key) {\n                return !options[key].hidden;\n            });\n        }\n        else if (!Array.isArray(optionNames)) {\n            result = optionNames;\n            optionNames = Object.keys(result);\n        }\n        optionNames.forEach(function (key) {\n            result[key] = this.getOption(key);\n        }, this);\n        return result;\n    },\n    setOption: function (name, value) {\n        if (this[\"$\" + name] === value)\n            return;\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);\n        if (!opt.handlesSet)\n            this[\"$\" + name] = value;\n        if (opt && opt.set)\n            opt.set.call(this, value);\n    },\n    getOption: function (name) {\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);\n        return opt && opt.get ? opt.get.call(this) : this[\"$\" + name];\n    }\n};\nfunction warn(message) {\n    if (typeof console != \"undefined\" && console.warn)\n        console.warn.apply(console, arguments);\n}\nvar messages;\nvar nlsPlaceholders;\nvar AppConfig = /** @class */ (function () {\n    function AppConfig() {\n        this.$defaultOptions = {};\n        messages = defaultEnglishMessages;\n        nlsPlaceholders = \"dollarSigns\";\n    }\n    AppConfig.prototype.defineOptions = function (obj, path, options) {\n        if (!obj.$options)\n            this.$defaultOptions[path] = obj.$options = {};\n        Object.keys(options).forEach(function (key) {\n            var opt = options[key];\n            if (typeof opt == \"string\")\n                opt = { forwardTo: opt };\n            opt.name || (opt.name = key);\n            obj.$options[opt.name] = opt;\n            if (\"initialValue\" in opt)\n                obj[\"$\" + opt.name] = opt.initialValue;\n        });\n        oop.implement(obj, optionsProvider);\n        return this;\n    };\n    AppConfig.prototype.resetOptions = function (obj) {\n        Object.keys(obj.$options).forEach(function (key) {\n            var opt = obj.$options[key];\n            if (\"value\" in opt)\n                obj.setOption(key, opt.value);\n        });\n    };\n    AppConfig.prototype.setDefaultValue = function (path, name, value) {\n        if (!path) {\n            for (path in this.$defaultOptions)\n                if (this.$defaultOptions[path][name])\n                    break;\n            if (!this.$defaultOptions[path][name])\n                return false;\n        }\n        var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});\n        if (opts[name]) {\n            if (opts.forwardTo)\n                this.setDefaultValue(opts.forwardTo, name, value);\n            else\n                opts[name].value = value;\n        }\n    };\n    AppConfig.prototype.setDefaultValues = function (path, optionHash) {\n        Object.keys(optionHash).forEach(function (key) {\n            this.setDefaultValue(path, key, optionHash[key]);\n        }, this);\n    };\n    AppConfig.prototype.setMessages = function (value, options) {\n        messages = value;\n        if (options && options.placeholders) {\n            nlsPlaceholders = options.placeholders;\n        }\n    };\n    AppConfig.prototype.nls = function (key, defaultString, params) {\n        if (!messages[key]) {\n            warn(\"No message found for the key '\" + key + \"' in the provided messages, trying to find a translation for the default string '\" + defaultString + \"'.\");\n            if (!messages[defaultString]) {\n                warn(\"No message found for the default string '\" + defaultString + \"' in the provided messages. Falling back to the default English message.\");\n            }\n        }\n        var translated = messages[key] || messages[defaultString] || defaultString;\n        if (params) {\n            if (nlsPlaceholders === \"dollarSigns\") {\n                translated = translated.replace(/\\$(\\$|[\\d]+)/g, function (_, dollarMatch) {\n                    if (dollarMatch == \"$\")\n                        return \"$\";\n                    return params[dollarMatch];\n                });\n            }\n            if (nlsPlaceholders === \"curlyBrackets\") {\n                translated = translated.replace(/\\{([^\\}]+)\\}/g, function (_, curlyBracketMatch) {\n                    return params[curlyBracketMatch];\n                });\n            }\n        }\n        return translated;\n    };\n    return AppConfig;\n}());\nAppConfig.prototype.warn = warn;\nAppConfig.prototype.reportError = reportError;\noop.implement(AppConfig.prototype, EventEmitter);\nexports.AppConfig = AppConfig;\n\n});\n\nace.define(\"ace/theme/textmate-css\",[\"require\",\"exports\",\"module\"], function(require, exports, module){module.exports = \".ace-tm .ace_gutter {\\n  background: #f0f0f0;\\n  color: #333;\\n}\\n\\n.ace-tm .ace_print-margin {\\n  width: 1px;\\n  background: #e8e8e8;\\n}\\n\\n.ace-tm .ace_fold {\\n    background-color: #6B72E6;\\n}\\n\\n.ace-tm {\\n  background-color: #FFFFFF;\\n  color: black;\\n}\\n\\n.ace-tm .ace_cursor {\\n  color: black;\\n}\\n        \\n.ace-tm .ace_invisible {\\n  color: rgb(191, 191, 191);\\n}\\n\\n.ace-tm .ace_storage,\\n.ace-tm .ace_keyword {\\n  color: blue;\\n}\\n\\n.ace-tm .ace_constant {\\n  color: rgb(197, 6, 11);\\n}\\n\\n.ace-tm .ace_constant.ace_buildin {\\n  color: rgb(88, 72, 246);\\n}\\n\\n.ace-tm .ace_constant.ace_language {\\n  color: rgb(88, 92, 246);\\n}\\n\\n.ace-tm .ace_constant.ace_library {\\n  color: rgb(6, 150, 14);\\n}\\n\\n.ace-tm .ace_invalid {\\n  background-color: rgba(255, 0, 0, 0.1);\\n  color: red;\\n}\\n\\n.ace-tm .ace_support.ace_function {\\n  color: rgb(60, 76, 114);\\n}\\n\\n.ace-tm .ace_support.ace_constant {\\n  color: rgb(6, 150, 14);\\n}\\n\\n.ace-tm .ace_support.ace_type,\\n.ace-tm .ace_support.ace_class {\\n  color: rgb(109, 121, 222);\\n}\\n\\n.ace-tm .ace_keyword.ace_operator {\\n  color: rgb(104, 118, 135);\\n}\\n\\n.ace-tm .ace_string {\\n  color: rgb(3, 106, 7);\\n}\\n\\n.ace-tm .ace_comment {\\n  color: rgb(76, 136, 107);\\n}\\n\\n.ace-tm .ace_comment.ace_doc {\\n  color: rgb(0, 102, 255);\\n}\\n\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\n  color: rgb(128, 159, 191);\\n}\\n\\n.ace-tm .ace_constant.ace_numeric {\\n  color: rgb(0, 0, 205);\\n}\\n\\n.ace-tm .ace_variable {\\n  color: rgb(49, 132, 149);\\n}\\n\\n.ace-tm .ace_xml-pe {\\n  color: rgb(104, 104, 91);\\n}\\n\\n.ace-tm .ace_entity.ace_name.ace_function {\\n  color: #0000A2;\\n}\\n\\n\\n.ace-tm .ace_heading {\\n  color: rgb(12, 7, 255);\\n}\\n\\n.ace-tm .ace_list {\\n  color:rgb(185, 6, 144);\\n}\\n\\n.ace-tm .ace_meta.ace_tag {\\n  color:rgb(0, 22, 142);\\n}\\n\\n.ace-tm .ace_string.ace_regex {\\n  color: rgb(255, 0, 0)\\n}\\n\\n.ace-tm .ace_marker-layer .ace_selection {\\n  background: rgb(181, 213, 255);\\n}\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\n  box-shadow: 0 0 3px 0px white;\\n}\\n.ace-tm .ace_marker-layer .ace_step {\\n  background: rgb(252, 255, 0);\\n}\\n\\n.ace-tm .ace_marker-layer .ace_stack {\\n  background: rgb(164, 229, 101);\\n}\\n\\n.ace-tm .ace_marker-layer .ace_bracket {\\n  margin: -1px 0 0 -1px;\\n  border: 1px solid rgb(192, 192, 192);\\n}\\n\\n.ace-tm .ace_marker-layer .ace_active-line {\\n  background: rgba(0, 0, 0, 0.07);\\n}\\n\\n.ace-tm .ace_gutter-active-line {\\n    background-color : #dcdcdc;\\n}\\n\\n.ace-tm .ace_marker-layer .ace_selected-word {\\n  background: rgb(250, 250, 255);\\n  border: 1px solid rgb(200, 200, 250);\\n}\\n\\n.ace-tm .ace_indent-guide {\\n  background: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\n}\\n\\n.ace-tm .ace_indent-guide-active {\\n  background: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC\\\") right repeat-y;\\n}\\n\";\n\n});\n\nace.define(\"ace/theme/textmate\",[\"require\",\"exports\",\"module\",\"ace/theme/textmate-css\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nexports.isDark = false;\nexports.cssClass = \"ace-tm\";\nexports.cssText = require(\"./textmate-css\");\nexports.$id = \"ace/theme/textmate\";\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass, false);\n\n});\n\nace.define(\"ace/config\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/net\",\"ace/lib/dom\",\"ace/lib/app_config\",\"ace/theme/textmate\"], function(require, exports, module){\"no use strict\";\nvar lang = require(\"./lib/lang\");\nvar net = require(\"./lib/net\");\nvar dom = require(\"./lib/dom\");\nvar AppConfig = require(\"./lib/app_config\").AppConfig;\nmodule.exports = exports = new AppConfig();\nvar options = {\n    packaged: false,\n    workerPath: null,\n    modePath: null,\n    themePath: null,\n    basePath: \"\",\n    suffix: \".js\",\n    $moduleUrls: {},\n    loadWorkerFromBlob: true,\n    sharedPopups: false,\n    useStrictCSP: null\n};\nexports.get = function (key) {\n    if (!options.hasOwnProperty(key))\n        throw new Error(\"Unknown config key: \" + key);\n    return options[key];\n};\nexports.set = function (key, value) {\n    if (options.hasOwnProperty(key))\n        options[key] = value;\n    else if (this.setDefaultValue(\"\", key, value) == false)\n        throw new Error(\"Unknown config key: \" + key);\n    if (key == \"useStrictCSP\")\n        dom.useStrictCSP(value);\n};\nexports.all = function () {\n    return lang.copyObject(options);\n};\nexports.$modes = {};\nexports.moduleUrl = function (name, component) {\n    if (options.$moduleUrls[name])\n        return options.$moduleUrls[name];\n    var parts = name.split(\"/\");\n    component = component || parts[parts.length - 2] || \"\";\n    var sep = component == \"snippets\" ? \"/\" : \"-\";\n    var base = parts[parts.length - 1];\n    if (component == \"worker\" && sep == \"-\") {\n        var re = new RegExp(\"^\" + component + \"[\\\\-_]|[\\\\-_]\" + component + \"$\", \"g\");\n        base = base.replace(re, \"\");\n    }\n    if ((!base || base == component) && parts.length > 1)\n        base = parts[parts.length - 2];\n    var path = options[component + \"Path\"];\n    if (path == null) {\n        path = options.basePath;\n    }\n    else if (sep == \"/\") {\n        component = sep = \"\";\n    }\n    if (path && path.slice(-1) != \"/\")\n        path += \"/\";\n    return path + component + sep + base + this.get(\"suffix\");\n};\nexports.setModuleUrl = function (name, subst) {\n    return options.$moduleUrls[name] = subst;\n};\nvar loader = function (moduleName, cb) {\n    if (moduleName === \"ace/theme/textmate\" || moduleName === \"./theme/textmate\")\n        return cb(null, require(\"./theme/textmate\"));\n    if (customLoader)\n        return customLoader(moduleName, cb);\n    console.error(\"loader is not configured\");\n};\nvar customLoader;\nexports.setLoader = function (cb) {\n    customLoader = cb;\n};\nexports.dynamicModules = Object.create(null);\nexports.$loading = {};\nexports.$loaded = {};\nexports.loadModule = function (moduleId, onLoad) {\n    var loadedModule;\n    if (Array.isArray(moduleId)) {\n        var moduleType = moduleId[0];\n        var moduleName = moduleId[1];\n    }\n    else if (typeof moduleId == \"string\") {\n        var moduleName = moduleId;\n    }\n    var load = function (module) {\n        if (module && !exports.$loading[moduleName])\n            return onLoad && onLoad(module);\n        if (!exports.$loading[moduleName])\n            exports.$loading[moduleName] = [];\n        exports.$loading[moduleName].push(onLoad);\n        if (exports.$loading[moduleName].length > 1)\n            return;\n        var afterLoad = function () {\n            loader(moduleName, function (err, module) {\n                if (module)\n                    exports.$loaded[moduleName] = module;\n                exports._emit(\"load.module\", { name: moduleName, module: module });\n                var listeners = exports.$loading[moduleName];\n                exports.$loading[moduleName] = null;\n                listeners.forEach(function (onLoad) {\n                    onLoad && onLoad(module);\n                });\n            });\n        };\n        if (!exports.get(\"packaged\"))\n            return afterLoad();\n        net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);\n        reportErrorIfPathIsNotConfigured();\n    };\n    if (exports.dynamicModules[moduleName]) {\n        exports.dynamicModules[moduleName]().then(function (module) {\n            if (module.default) {\n                load(module.default);\n            }\n            else {\n                load(module);\n            }\n        });\n    }\n    else {\n        try {\n            loadedModule = this.$require(moduleName);\n        }\n        catch (e) { }\n        load(loadedModule || exports.$loaded[moduleName]);\n    }\n};\nexports.$require = function (moduleName) {\n    if (typeof module[\"require\"] == \"function\") {\n        var req = \"require\";\n        return module[req](moduleName);\n    }\n};\nexports.setModuleLoader = function (moduleName, onLoad) {\n    exports.dynamicModules[moduleName] = onLoad;\n};\nvar reportErrorIfPathIsNotConfigured = function () {\n    if (!options.basePath && !options.workerPath\n        && !options.modePath && !options.themePath\n        && !Object.keys(options.$moduleUrls).length) {\n        console.error(\"Unable to infer path to ace from script src,\", \"use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes\", \"or with webpack use ace/webpack-resolver\");\n        reportErrorIfPathIsNotConfigured = function () { };\n    }\n};\nexports.version = \"1.35.4\";\n\n});\n\nace.define(\"ace/loader_build\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./lib/fixoldbrowsers\");\nvar config = require(\"./config\");\nconfig.setLoader(function(moduleName, cb) {\n    require([moduleName], function(module) {\n        cb(null, module);\n    });\n});\n\nvar global = (function() {\n    return this || typeof window != \"undefined\" && window;\n})();\n\nmodule.exports = function(ace) {\n    config.init = init;\n    config.$require = require;\n    ace.require = require;\n\n    if (typeof define === \"function\")\n        ace.define = define;\n};\ninit(true);function init(packaged) {\n\n    if (!global || !global.document)\n        return;\n    \n    config.set(\"packaged\", packaged || require.packaged || module.packaged || (global.define && define.packaged));\n\n    var scriptOptions = {};\n    var scriptUrl = \"\";\n    var currentScript = (document.currentScript || document._currentScript ); // native or polyfill\n    var currentDocument = currentScript && currentScript.ownerDocument || document;\n    \n    if (currentScript && currentScript.src) {\n        scriptUrl = currentScript.src.split(/[?#]/)[0].split(\"/\").slice(0, -1).join(\"/\") || \"\";\n    }\n    \n    var scripts = currentDocument.getElementsByTagName(\"script\");\n    for (var i=0; i<scripts.length; i++) {\n        var script = scripts[i];\n\n        var src = script.src || script.getAttribute(\"src\");\n        if (!src)\n            continue;\n\n        var attributes = script.attributes;\n        for (var j=0, l=attributes.length; j < l; j++) {\n            var attr = attributes[j];\n            if (attr.name.indexOf(\"data-ace-\") === 0) {\n                scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, \"\"))] = attr.value;\n            }\n        }\n\n        var m = src.match(/^(.*)\\/ace([\\-.]\\w+)?\\.js(\\?|$)/);\n        if (m)\n            scriptUrl = m[1];\n    }\n\n    if (scriptUrl) {\n        scriptOptions.base = scriptOptions.base || scriptUrl;\n        scriptOptions.packaged = true;\n    }\n\n    scriptOptions.basePath = scriptOptions.base;\n    scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;\n    scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;\n    scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;\n    delete scriptOptions.base;\n\n    for (var key in scriptOptions)\n        if (typeof scriptOptions[key] !== \"undefined\")\n            config.set(key, scriptOptions[key]);\n}\n\nfunction deHyphenate(str) {\n    return str.replace(/-(.)/g, function(m, m1) { return m1.toUpperCase(); });\n}\n});\n\nace.define(\"ace/range\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar Range = /** @class */ (function () {\n    function Range(startRow, startColumn, endRow, endColumn) {\n        this.start = {\n            row: startRow,\n            column: startColumn\n        };\n        this.end = {\n            row: endRow,\n            column: endColumn\n        };\n    }\n    Range.prototype.isEqual = function (range) {\n        return this.start.row === range.start.row &&\n            this.end.row === range.end.row &&\n            this.start.column === range.start.column &&\n            this.end.column === range.end.column;\n    };\n    Range.prototype.toString = function () {\n        return (\"Range: [\" + this.start.row + \"/\" + this.start.column +\n            \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\");\n    };\n    Range.prototype.contains = function (row, column) {\n        return this.compare(row, column) == 0;\n    };\n    Range.prototype.compareRange = function (range) {\n        var cmp, end = range.end, start = range.start;\n        cmp = this.compare(end.row, end.column);\n        if (cmp == 1) {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == 1) {\n                return 2;\n            }\n            else if (cmp == 0) {\n                return 1;\n            }\n            else {\n                return 0;\n            }\n        }\n        else if (cmp == -1) {\n            return -2;\n        }\n        else {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == -1) {\n                return -1;\n            }\n            else if (cmp == 1) {\n                return 42;\n            }\n            else {\n                return 0;\n            }\n        }\n    };\n    Range.prototype.comparePoint = function (p) {\n        return this.compare(p.row, p.column);\n    };\n    Range.prototype.containsRange = function (range) {\n        return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n    Range.prototype.intersects = function (range) {\n        var cmp = this.compareRange(range);\n        return (cmp == -1 || cmp == 0 || cmp == 1);\n    };\n    Range.prototype.isEnd = function (row, column) {\n        return this.end.row == row && this.end.column == column;\n    };\n    Range.prototype.isStart = function (row, column) {\n        return this.start.row == row && this.start.column == column;\n    };\n    Range.prototype.setStart = function (row, column) {\n        if (typeof row == \"object\") {\n            this.start.column = row.column;\n            this.start.row = row.row;\n        }\n        else {\n            this.start.row = row;\n            this.start.column = column;\n        }\n    };\n    Range.prototype.setEnd = function (row, column) {\n        if (typeof row == \"object\") {\n            this.end.column = row.column;\n            this.end.row = row.row;\n        }\n        else {\n            this.end.row = row;\n            this.end.column = column;\n        }\n    };\n    Range.prototype.inside = function (row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column) || this.isStart(row, column)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    Range.prototype.insideStart = function (row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    Range.prototype.insideEnd = function (row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isStart(row, column)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    Range.prototype.compare = function (row, column) {\n        if (!this.isMultiLine()) {\n            if (row === this.start.row) {\n                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);\n            }\n        }\n        if (row < this.start.row)\n            return -1;\n        if (row > this.end.row)\n            return 1;\n        if (this.start.row === row)\n            return column >= this.start.column ? 0 : -1;\n        if (this.end.row === row)\n            return column <= this.end.column ? 0 : 1;\n        return 0;\n    };\n    Range.prototype.compareStart = function (row, column) {\n        if (this.start.row == row && this.start.column == column) {\n            return -1;\n        }\n        else {\n            return this.compare(row, column);\n        }\n    };\n    Range.prototype.compareEnd = function (row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        }\n        else {\n            return this.compare(row, column);\n        }\n    };\n    Range.prototype.compareInside = function (row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        }\n        else if (this.start.row == row && this.start.column == column) {\n            return -1;\n        }\n        else {\n            return this.compare(row, column);\n        }\n    };\n    Range.prototype.clipRows = function (firstRow, lastRow) {\n        if (this.end.row > lastRow)\n            var end = { row: lastRow + 1, column: 0 };\n        else if (this.end.row < firstRow)\n            var end = { row: firstRow, column: 0 };\n        if (this.start.row > lastRow)\n            var start = { row: lastRow + 1, column: 0 };\n        else if (this.start.row < firstRow)\n            var start = { row: firstRow, column: 0 };\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    Range.prototype.extend = function (row, column) {\n        var cmp = this.compare(row, column);\n        if (cmp == 0)\n            return this;\n        else if (cmp == -1)\n            var start = { row: row, column: column };\n        else\n            var end = { row: row, column: column };\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    Range.prototype.isEmpty = function () {\n        return (this.start.row === this.end.row && this.start.column === this.end.column);\n    };\n    Range.prototype.isMultiLine = function () {\n        return (this.start.row !== this.end.row);\n    };\n    Range.prototype.clone = function () {\n        return Range.fromPoints(this.start, this.end);\n    };\n    Range.prototype.collapseRows = function () {\n        if (this.end.column == 0)\n            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0);\n        else\n            return new Range(this.start.row, 0, this.end.row, 0);\n    };\n    Range.prototype.toScreenRange = function (session) {\n        var screenPosStart = session.documentToScreenPosition(this.start);\n        var screenPosEnd = session.documentToScreenPosition(this.end);\n        return new Range(screenPosStart.row, screenPosStart.column, screenPosEnd.row, screenPosEnd.column);\n    };\n    Range.prototype.moveBy = function (row, column) {\n        this.start.row += row;\n        this.start.column += column;\n        this.end.row += row;\n        this.end.column += column;\n    };\n    return Range;\n}());\nRange.fromPoints = function (start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n};\nRange.comparePoints = function (p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nexports.Range = Range;\n\n});\n\nace.define(\"ace/lib/keys\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./oop\");\nvar Keys = {\n    MODIFIER_KEYS: {\n        16: 'Shift', 17: 'Ctrl', 18: 'Alt', 224: 'Meta',\n        91: 'MetaLeft', 92: 'MetaRight', 93: 'ContextMenu'\n    },\n    KEY_MODS: {\n        \"ctrl\": 1, \"alt\": 2, \"option\": 2, \"shift\": 4,\n        \"super\": 8, \"meta\": 8, \"command\": 8, \"cmd\": 8,\n        \"control\": 1\n    },\n    FUNCTION_KEYS: {\n        8: \"Backspace\",\n        9: \"Tab\",\n        13: \"Return\",\n        19: \"Pause\",\n        27: \"Esc\",\n        32: \"Space\",\n        33: \"PageUp\",\n        34: \"PageDown\",\n        35: \"End\",\n        36: \"Home\",\n        37: \"Left\",\n        38: \"Up\",\n        39: \"Right\",\n        40: \"Down\",\n        44: \"Print\",\n        45: \"Insert\",\n        46: \"Delete\",\n        '-13': \"NumpadEnter\",\n        144: \"Numlock\",\n        145: \"Scrolllock\"\n    },\n    PRINTABLE_KEYS: {\n        32: ' ', 59: ';', 61: '=', 107: '+', 109: '-', 110: '.',\n        186: ';', 187: '=', 188: ',', 189: '-', 190: '.', 191: '/', 192: '`',\n        219: '[', 220: '\\\\', 221: ']', 222: \"'\", 111: '/', 106: '*'\n    }\n};\nvar codeToKeyCode = {\n    Command: 224,\n    Backspace: 8,\n    Tab: 9,\n    Return: 13,\n    Enter: 13,\n    Pause: 19,\n    Escape: 27,\n    PageUp: 33,\n    PageDown: 34,\n    End: 35,\n    Home: 36,\n    Insert: 45,\n    Delete: 46,\n    ArrowLeft: 37,\n    ArrowUp: 38,\n    ArrowRight: 39,\n    ArrowDown: 40,\n    Backquote: 192,\n    Minus: 189,\n    Equal: 187,\n    BracketLeft: 219,\n    Backslash: 220,\n    BracketRight: 221,\n    Semicolon: 186,\n    Quote: 222,\n    Comma: 188,\n    Period: 190,\n    Slash: 191,\n    Space: 32,\n    NumpadAdd: 107,\n    NumpadDecimal: 110,\n    NumpadSubtract: 109,\n    NumpadDivide: 111,\n    NumpadMultiply: 106\n};\nfor (var i = 0; i < 10; i++) {\n    codeToKeyCode[\"Digit\" + i] = 48 + i;\n    codeToKeyCode[\"Numpad\" + i] = 96 + i;\n    Keys.PRINTABLE_KEYS[48 + i] = \"\" + i;\n    Keys.FUNCTION_KEYS[96 + i] = \"Numpad\" + i;\n}\nfor (var i = 65; i < 91; i++) {\n    var chr = String.fromCharCode(i + 32);\n    codeToKeyCode[\"Key\" + chr.toUpperCase()] = i;\n    Keys.PRINTABLE_KEYS[i] = chr;\n}\nfor (var i = 1; i < 13; i++) {\n    codeToKeyCode[\"F\" + i] = 111 + i;\n    Keys.FUNCTION_KEYS[111 + i] = \"F\" + i;\n}\nvar modifiers = {\n    Shift: 16,\n    Control: 17,\n    Alt: 18,\n    Meta: 224\n};\nfor (var mod in modifiers) {\n    codeToKeyCode[mod] = codeToKeyCode[mod + \"Left\"]\n        = codeToKeyCode[mod + \"Right\"] = modifiers[mod];\n}\nexports.$codeToKeyCode = codeToKeyCode;\nKeys.PRINTABLE_KEYS[173] = '-';\nfor (var j in Keys.FUNCTION_KEYS) {\n    var name = Keys.FUNCTION_KEYS[j].toLowerCase();\n    Keys[name] = parseInt(j, 10);\n}\nfor (var j in Keys.PRINTABLE_KEYS) {\n    var name = Keys.PRINTABLE_KEYS[j].toLowerCase();\n    Keys[name] = parseInt(j, 10);\n}\noop.mixin(Keys, Keys.MODIFIER_KEYS);\noop.mixin(Keys, Keys.PRINTABLE_KEYS);\noop.mixin(Keys, Keys.FUNCTION_KEYS);\nKeys.enter = Keys[\"return\"];\nKeys.escape = Keys.esc;\nKeys.del = Keys[\"delete\"];\n(function () {\n    var mods = [\"cmd\", \"ctrl\", \"alt\", \"shift\"];\n    for (var i = Math.pow(2, mods.length); i--;) {\n        Keys.KEY_MODS[i] = mods.filter(function (x) {\n            return i & Keys.KEY_MODS[x];\n        }).join(\"-\") + \"-\";\n    }\n})();\nKeys.KEY_MODS[0] = \"\";\nKeys.KEY_MODS[-1] = \"input-\";\noop.mixin(exports, Keys);\nexports.default = exports;\nexports.keyCodeToString = function (keyCode) {\n    var keyString = Keys[keyCode];\n    if (typeof keyString != \"string\")\n        keyString = String.fromCharCode(keyCode);\n    return keyString.toLowerCase();\n};\n\n});\n\nace.define(\"ace/lib/event\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\"; var keys = require(\"./keys\");\nvar useragent = require(\"./useragent\");\nvar pressedKeys = null;\nvar ts = 0;\nvar activeListenerOptions;\nfunction detectListenerOptionsSupport() {\n    activeListenerOptions = false;\n    try {\n        document.createComment(\"\").addEventListener(\"test\", function () { }, {\n            get passive() {\n                activeListenerOptions = { passive: false };\n                return true;\n            }\n        });\n    }\n    catch (e) { }\n}\nfunction getListenerOptions() {\n    if (activeListenerOptions == undefined)\n        detectListenerOptionsSupport();\n    return activeListenerOptions;\n}\nfunction EventListener(elem, type, callback) {\n    this.elem = elem;\n    this.type = type;\n    this.callback = callback;\n}\nEventListener.prototype.destroy = function () {\n    removeListener(this.elem, this.type, this.callback);\n    this.elem = this.type = this.callback = undefined;\n};\nvar addListener = exports.addListener = function (elem, type, callback, /**@type{any?}*/ destroyer) {\n    elem.addEventListener(type, callback, getListenerOptions());\n    if (destroyer)\n        destroyer.$toDestroy.push(new EventListener(elem, type, callback));\n};\nvar removeListener = exports.removeListener = function (elem, type, callback) {\n    elem.removeEventListener(type, callback, getListenerOptions());\n};\nexports.stopEvent = function (e) {\n    exports.stopPropagation(e);\n    exports.preventDefault(e);\n    return false;\n};\nexports.stopPropagation = function (e) {\n    if (e.stopPropagation)\n        e.stopPropagation();\n};\nexports.preventDefault = function (e) {\n    if (e.preventDefault)\n        e.preventDefault();\n};\nexports.getButton = function (e) {\n    if (e.type == \"dblclick\")\n        return 0;\n    if (e.type == \"contextmenu\" || (useragent.isMac && (e.ctrlKey && !e.altKey && !e.shiftKey)))\n        return 2;\n    return e.button;\n};\nexports.capture = function (el, eventHandler, releaseCaptureHandler) {\n    var ownerDocument = el && el.ownerDocument || document;\n    function onMouseUp(e) {\n        eventHandler && eventHandler(e);\n        releaseCaptureHandler && releaseCaptureHandler(e);\n        removeListener(ownerDocument, \"mousemove\", eventHandler);\n        removeListener(ownerDocument, \"mouseup\", onMouseUp);\n        removeListener(ownerDocument, \"dragstart\", onMouseUp);\n    }\n    addListener(ownerDocument, \"mousemove\", eventHandler);\n    addListener(ownerDocument, \"mouseup\", onMouseUp);\n    addListener(ownerDocument, \"dragstart\", onMouseUp);\n    return onMouseUp;\n};\nexports.addMouseWheelListener = function (el, callback, destroyer) {\n    addListener(el, \"wheel\", function (e) {\n        var factor = 0.15;\n        var deltaX = e.deltaX || 0;\n        var deltaY = e.deltaY || 0;\n        switch (e.deltaMode) {\n            case e.DOM_DELTA_PIXEL:\n                e.wheelX = deltaX * factor;\n                e.wheelY = deltaY * factor;\n                break;\n            case e.DOM_DELTA_LINE:\n                var linePixels = 15;\n                e.wheelX = deltaX * linePixels;\n                e.wheelY = deltaY * linePixels;\n                break;\n            case e.DOM_DELTA_PAGE:\n                var pagePixels = 150;\n                e.wheelX = deltaX * pagePixels;\n                e.wheelY = deltaY * pagePixels;\n                break;\n        }\n        callback(e);\n    }, destroyer);\n};\nexports.addMultiMouseDownListener = function (elements, timeouts, eventHandler, callbackName, destroyer) {\n    var clicks = 0;\n    var startX, startY, timer;\n    var eventNames = {\n        2: \"dblclick\",\n        3: \"tripleclick\",\n        4: \"quadclick\"\n    };\n    function onMousedown(e) {\n        if (exports.getButton(e) !== 0) {\n            clicks = 0;\n        }\n        else if (e.detail > 1) {\n            clicks++;\n            if (clicks > 4)\n                clicks = 1;\n        }\n        else {\n            clicks = 1;\n        }\n        if (useragent.isIE) {\n            var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;\n            if (!timer || isNewClick)\n                clicks = 1;\n            if (timer)\n                clearTimeout(timer);\n            timer = setTimeout(function () { timer = null; }, timeouts[clicks - 1] || 600);\n            if (clicks == 1) {\n                startX = e.clientX;\n                startY = e.clientY;\n            }\n        }\n        e._clicks = clicks;\n        eventHandler[callbackName](\"mousedown\", e);\n        if (clicks > 4)\n            clicks = 0;\n        else if (clicks > 1)\n            return eventHandler[callbackName](eventNames[clicks], e);\n    }\n    if (!Array.isArray(elements))\n        elements = [elements];\n    elements.forEach(function (el) {\n        addListener(el, \"mousedown\", onMousedown, destroyer);\n    });\n};\nfunction getModifierHash(e) {\n    return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n}\nexports.getModifierString = function (e) {\n    return keys.KEY_MODS[getModifierHash(e)];\n};\nfunction normalizeCommandKeys(callback, e, keyCode) {\n    var hashId = getModifierHash(e);\n    if (!keyCode && e.code) {\n        keyCode = keys.$codeToKeyCode[e.code] || keyCode;\n    }\n    if (!useragent.isMac && pressedKeys) {\n        if (e.getModifierState && (e.getModifierState(\"OS\") || e.getModifierState(\"Win\")))\n            hashId |= 8;\n        if (pressedKeys.altGr) {\n            if ((3 & hashId) != 3)\n                pressedKeys.altGr = 0;\n            else\n                return;\n        }\n        if (keyCode === 18 || keyCode === 17) {\n            var location = e.location;\n            if (keyCode === 17 && location === 1) {\n                if (pressedKeys[keyCode] == 1)\n                    ts = e.timeStamp;\n            }\n            else if (keyCode === 18 && hashId === 3 && location === 2) {\n                var dt = e.timeStamp - ts;\n                if (dt < 50)\n                    pressedKeys.altGr = true;\n            }\n        }\n    }\n    if (keyCode in keys.MODIFIER_KEYS) {\n        keyCode = -1;\n    }\n    if (!hashId && keyCode === 13) {\n        if (e.location === 3) {\n            callback(e, hashId, -keyCode);\n            if (e.defaultPrevented)\n                return;\n        }\n    }\n    if (useragent.isChromeOS && hashId & 8) {\n        callback(e, hashId, keyCode);\n        if (e.defaultPrevented)\n            return;\n        else\n            hashId &= ~8;\n    }\n    if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {\n        return false;\n    }\n    return callback(e, hashId, keyCode);\n}\nexports.addCommandKeyListener = function (el, callback, destroyer) {\n    var lastDefaultPrevented = null;\n    addListener(el, \"keydown\", function (e) {\n        pressedKeys[e.keyCode] = (pressedKeys[e.keyCode] || 0) + 1;\n        var result = normalizeCommandKeys(callback, e, e.keyCode);\n        lastDefaultPrevented = e.defaultPrevented;\n        return result;\n    }, destroyer);\n    addListener(el, \"keypress\", function (e) {\n        if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {\n            exports.stopEvent(e);\n            lastDefaultPrevented = null;\n        }\n    }, destroyer);\n    addListener(el, \"keyup\", function (e) {\n        pressedKeys[e.keyCode] = null;\n    }, destroyer);\n    if (!pressedKeys) {\n        resetPressedKeys();\n        addListener(window, \"focus\", resetPressedKeys);\n    }\n};\nfunction resetPressedKeys() {\n    pressedKeys = Object.create(null);\n}\nif (typeof window == \"object\" && window.postMessage && !useragent.isOldIE) {\n    var postMessageId = 1;\n    exports.nextTick = function (callback, win) {\n        win = win || window;\n        var messageName = \"zero-timeout-message-\" + (postMessageId++);\n        var listener = function (e) {\n            if (e.data == messageName) {\n                exports.stopPropagation(e);\n                removeListener(win, \"message\", listener);\n                callback();\n            }\n        };\n        addListener(win, \"message\", listener);\n        win.postMessage(messageName, \"*\");\n    };\n}\nexports.$idleBlocked = false;\nexports.onIdle = function (cb, timeout) {\n    return setTimeout(function handler() {\n        if (!exports.$idleBlocked) {\n            cb();\n        }\n        else {\n            setTimeout(handler, 100);\n        }\n    }, timeout);\n};\nexports.$idleBlockId = null;\nexports.blockIdle = function (delay) {\n    if (exports.$idleBlockId)\n        clearTimeout(exports.$idleBlockId);\n    exports.$idleBlocked = true;\n    exports.$idleBlockId = setTimeout(function () {\n        exports.$idleBlocked = false;\n    }, delay || 100);\n};\nexports.nextFrame = typeof window == \"object\" && (window.requestAnimationFrame\n    || window[\"mozRequestAnimationFrame\"]\n    || window[\"webkitRequestAnimationFrame\"]\n    || window[\"msRequestAnimationFrame\"]\n    || window[\"oRequestAnimationFrame\"]);\nif (exports.nextFrame)\n    exports.nextFrame = exports.nextFrame.bind(window);\nelse\n    exports.nextFrame = function (callback) {\n        setTimeout(callback, 17);\n    };\n\n});\n\nace.define(\"ace/clipboard\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar $cancelT;\nmodule.exports = {\n    lineMode: false,\n    pasteCancelled: function () {\n        if ($cancelT && $cancelT > Date.now() - 50)\n            return true;\n        return $cancelT = false;\n    },\n    cancel: function () {\n        $cancelT = Date.now();\n    }\n};\n\n});\n\nace.define(\"ace/keyboard/textinput\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/config\",\"ace/lib/useragent\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/clipboard\",\"ace/lib/keys\"], function(require, exports, module){\"use strict\";\nvar event = require(\"../lib/event\");\nvar nls = require(\"../config\").nls;\nvar useragent = require(\"../lib/useragent\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar clipboard = require(\"../clipboard\");\nvar BROKEN_SETDATA = useragent.isChrome < 18;\nvar USE_IE_MIME_TYPE = useragent.isIE;\nvar HAS_FOCUS_ARGS = useragent.isChrome > 63;\nvar MAX_LINE_LENGTH = 400;\nvar KEYS = require(\"../lib/keys\");\nvar MODS = KEYS.KEY_MODS;\nvar isIOS = useragent.isIOS;\nvar valueResetRegex = isIOS ? /\\s/ : /\\n/;\nvar isMobile = useragent.isMobile;\nvar TextInput;\nTextInput = function (parentNode, host) {\n    var text = dom.createElement(\"textarea\");\n    text.className = \"ace_text-input\";\n    text.setAttribute(\"wrap\", \"off\");\n    text.setAttribute(\"autocorrect\", \"off\");\n    text.setAttribute(\"autocapitalize\", \"off\");\n    text.setAttribute(\"spellcheck\", \"false\");\n    text.style.opacity = \"0\";\n    parentNode.insertBefore(text, parentNode.firstChild);\n    var copied = false;\n    var pasted = false;\n    var inComposition = false;\n    var sendingText = false;\n    var tempStyle = '';\n    if (!isMobile)\n        text.style.fontSize = \"1px\";\n    var commandMode = false;\n    var ignoreFocusEvents = false;\n    var lastValue = \"\";\n    var lastSelectionStart = 0;\n    var lastSelectionEnd = 0;\n    var lastRestoreEnd = 0;\n    var rowStart = Number.MAX_SAFE_INTEGER;\n    var rowEnd = Number.MIN_SAFE_INTEGER;\n    var numberOfExtraLines = 0;\n    try {\n        var isFocused = document.activeElement === text;\n    }\n    catch (e) { }\n    this.setNumberOfExtraLines = function (number) {\n        rowStart = Number.MAX_SAFE_INTEGER;\n        rowEnd = Number.MIN_SAFE_INTEGER;\n        if (number < 0) {\n            numberOfExtraLines = 0;\n            return;\n        }\n        numberOfExtraLines = number;\n    };\n    this.setAriaOptions = function (options) {\n        if (options.activeDescendant) {\n            text.setAttribute(\"aria-haspopup\", \"true\");\n            text.setAttribute(\"aria-autocomplete\", options.inline ? \"both\" : \"list\");\n            text.setAttribute(\"aria-activedescendant\", options.activeDescendant);\n        }\n        else {\n            text.setAttribute(\"aria-haspopup\", \"false\");\n            text.setAttribute(\"aria-autocomplete\", \"both\");\n            text.removeAttribute(\"aria-activedescendant\");\n        }\n        if (options.role) {\n            text.setAttribute(\"role\", options.role);\n        }\n        if (options.setLabel) {\n            text.setAttribute(\"aria-roledescription\", nls(\"text-input.aria-roledescription\", \"editor\"));\n            var arialLabel = \"\";\n            if (host.$textInputAriaLabel) {\n                arialLabel += \"\".concat(host.$textInputAriaLabel, \", \");\n            }\n            if (host.session) {\n                var row = host.session.selection.cursor.row;\n                arialLabel += nls(\"text-input.aria-label\", \"Cursor at row $0\", [row + 1]);\n            }\n            text.setAttribute(\"aria-label\", arialLabel);\n        }\n    };\n    this.setAriaOptions({ role: \"textbox\" });\n    event.addListener(text, \"blur\", function (e) {\n        if (ignoreFocusEvents)\n            return;\n        host.onBlur(e);\n        isFocused = false;\n    }, host);\n    event.addListener(text, \"focus\", function (e) {\n        if (ignoreFocusEvents)\n            return;\n        isFocused = true;\n        if (useragent.isEdge) {\n            try {\n                if (!document.hasFocus())\n                    return;\n            }\n            catch (e) { }\n        }\n        host.onFocus(e);\n        if (useragent.isEdge)\n            setTimeout(resetSelection);\n        else\n            resetSelection();\n    }, host);\n    this.$focusScroll = false;\n    this.focus = function () {\n        this.setAriaOptions({\n            setLabel: host.renderer.enableKeyboardAccessibility\n        });\n        if (tempStyle || HAS_FOCUS_ARGS || this.$focusScroll == \"browser\")\n            return text.focus({ preventScroll: true });\n        var top = text.style.top;\n        text.style.position = \"fixed\";\n        text.style.top = \"0px\";\n        try {\n            var isTransformed = text.getBoundingClientRect().top != 0;\n        }\n        catch (e) {\n            return;\n        }\n        var ancestors = [];\n        if (isTransformed) {\n            var t = text.parentElement;\n            while (t && t.nodeType == 1) {\n                ancestors.push(t);\n                t.setAttribute(\"ace_nocontext\", \"true\");\n                if (!t.parentElement && t.getRootNode)\n                    t = t.getRootNode()[\"host\"];\n                else\n                    t = t.parentElement;\n            }\n        }\n        text.focus({ preventScroll: true });\n        if (isTransformed) {\n            ancestors.forEach(function (p) {\n                p.removeAttribute(\"ace_nocontext\");\n            });\n        }\n        setTimeout(function () {\n            text.style.position = \"\";\n            if (text.style.top == \"0px\")\n                text.style.top = top;\n        }, 0);\n    };\n    this.blur = function () {\n        text.blur();\n    };\n    this.isFocused = function () {\n        return isFocused;\n    };\n    host.on(\"beforeEndOperation\", function () {\n        var curOp = host.curOp;\n        var commandName = curOp && curOp.command && curOp.command.name;\n        if (commandName == \"insertstring\")\n            return;\n        var isUserAction = commandName && (curOp.docChanged || curOp.selectionChanged);\n        if (inComposition && isUserAction) {\n            lastValue = text.value = \"\";\n            onCompositionEnd();\n        }\n        resetSelection();\n    });\n    var positionToSelection = function (row, column) {\n        var selection = column;\n        for (var i = 1; i <= row - rowStart && i < 2 * numberOfExtraLines + 1; i++) {\n            selection += host.session.getLine(row - i).length + 1;\n        }\n        return selection;\n    };\n    var resetSelection = isIOS\n        ? function (value) {\n            if (!isFocused || (copied && !value) || sendingText)\n                return;\n            if (!value)\n                value = \"\";\n            var newValue = \"\\n ab\" + value + \"cde fg\\n\";\n            if (newValue != text.value)\n                text.value = lastValue = newValue;\n            var selectionStart = 4;\n            var selectionEnd = 4 + (value.length || (host.selection.isEmpty() ? 0 : 1));\n            if (lastSelectionStart != selectionStart || lastSelectionEnd != selectionEnd) {\n                text.setSelectionRange(selectionStart, selectionEnd);\n            }\n            lastSelectionStart = selectionStart;\n            lastSelectionEnd = selectionEnd;\n        }\n        : function () {\n            if (inComposition || sendingText)\n                return;\n            if (!isFocused && !afterContextMenu)\n                return;\n            inComposition = true;\n            var selectionStart = 0;\n            var selectionEnd = 0;\n            var line = \"\";\n            if (host.session) {\n                var selection = host.selection;\n                var range = selection.getRange();\n                var row = selection.cursor.row;\n                if (row === rowEnd + 1) {\n                    rowStart = rowEnd + 1;\n                    rowEnd = rowStart + 2 * numberOfExtraLines;\n                }\n                else if (row === rowStart - 1) {\n                    rowEnd = rowStart - 1;\n                    rowStart = rowEnd - 2 * numberOfExtraLines;\n                }\n                else if (row < rowStart - 1 || row > rowEnd + 1) {\n                    rowStart = row > numberOfExtraLines ? row - numberOfExtraLines : 0;\n                    rowEnd = row > numberOfExtraLines ? row + numberOfExtraLines : 2 * numberOfExtraLines;\n                }\n                var lines = [];\n                for (var i = rowStart; i <= rowEnd; i++) {\n                    lines.push(host.session.getLine(i));\n                }\n                line = lines.join('\\n');\n                selectionStart = positionToSelection(range.start.row, range.start.column);\n                selectionEnd = positionToSelection(range.end.row, range.end.column);\n                if (range.start.row < rowStart) {\n                    var prevLine = host.session.getLine(rowStart - 1);\n                    selectionStart = range.start.row < rowStart - 1 ? 0 : selectionStart;\n                    selectionEnd += prevLine.length + 1;\n                    line = prevLine + \"\\n\" + line;\n                }\n                else if (range.end.row > rowEnd) {\n                    var nextLine = host.session.getLine(rowEnd + 1);\n                    selectionEnd = range.end.row > rowEnd + 1 ? nextLine.length : range.end.column;\n                    selectionEnd += line.length + 1;\n                    line = line + \"\\n\" + nextLine;\n                }\n                else if (isMobile && row > 0) {\n                    line = \"\\n\" + line;\n                    selectionEnd += 1;\n                    selectionStart += 1;\n                }\n                if (line.length > MAX_LINE_LENGTH) {\n                    if (selectionStart < MAX_LINE_LENGTH && selectionEnd < MAX_LINE_LENGTH) {\n                        line = line.slice(0, MAX_LINE_LENGTH);\n                    }\n                    else {\n                        line = \"\\n\";\n                        if (selectionStart == selectionEnd) {\n                            selectionStart = selectionEnd = 0;\n                        }\n                        else {\n                            selectionStart = 0;\n                            selectionEnd = 1;\n                        }\n                    }\n                }\n                var newValue = line + \"\\n\\n\";\n                if (newValue != lastValue) {\n                    text.value = lastValue = newValue;\n                    lastSelectionStart = lastSelectionEnd = newValue.length;\n                }\n            }\n            if (afterContextMenu) {\n                lastSelectionStart = text.selectionStart;\n                lastSelectionEnd = text.selectionEnd;\n            }\n            if (lastSelectionEnd != selectionEnd\n                || lastSelectionStart != selectionStart\n                || text.selectionEnd != lastSelectionEnd // on ie edge selectionEnd changes silently after the initialization\n            ) {\n                try {\n                    text.setSelectionRange(selectionStart, selectionEnd);\n                    lastSelectionStart = selectionStart;\n                    lastSelectionEnd = selectionEnd;\n                }\n                catch (e) { }\n            }\n            inComposition = false;\n        };\n    this.resetSelection = resetSelection;\n    if (isFocused)\n        host.onFocus();\n    var isAllSelected = function (text) {\n        return text.selectionStart === 0 && text.selectionEnd >= lastValue.length\n            && text.value === lastValue && lastValue\n            && text.selectionEnd !== lastSelectionEnd;\n    };\n    var onSelect = function (e) {\n        if (inComposition)\n            return;\n        if (copied) {\n            copied = false;\n        }\n        else if (isAllSelected(text)) {\n            host.selectAll();\n            resetSelection();\n        }\n        else if (isMobile && text.selectionStart != lastSelectionStart) {\n            resetSelection();\n        }\n    };\n    var inputHandler = null;\n    this.setInputHandler = function (cb) { inputHandler = cb; };\n    this.getInputHandler = function () { return inputHandler; };\n    var afterContextMenu = false;\n    var sendText = function (value, fromInput) {\n        if (afterContextMenu)\n            afterContextMenu = false;\n        if (pasted) {\n            resetSelection();\n            if (value)\n                host.onPaste(value);\n            pasted = false;\n            return \"\";\n        }\n        else {\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n            var extendLeft = lastSelectionStart;\n            var extendRight = lastValue.length - lastSelectionEnd;\n            var inserted = value;\n            var restoreStart = value.length - selectionStart;\n            var restoreEnd = value.length - selectionEnd;\n            var i = 0;\n            while (extendLeft > 0 && lastValue[i] == value[i]) {\n                i++;\n                extendLeft--;\n            }\n            inserted = inserted.slice(i);\n            i = 1;\n            while (extendRight > 0 && lastValue.length - i > lastSelectionStart - 1 && lastValue[lastValue.length - i] == value[value.length - i]) {\n                i++;\n                extendRight--;\n            }\n            restoreStart -= i - 1;\n            restoreEnd -= i - 1;\n            var endIndex = inserted.length - i + 1;\n            if (endIndex < 0) {\n                extendLeft = -endIndex;\n                endIndex = 0;\n            }\n            inserted = inserted.slice(0, endIndex);\n            if (!fromInput && !inserted && !restoreStart && !extendLeft && !extendRight && !restoreEnd)\n                return \"\";\n            sendingText = true;\n            var shouldReset = false;\n            if (useragent.isAndroid && inserted == \". \") {\n                inserted = \"  \";\n                shouldReset = true;\n            }\n            if (inserted && !extendLeft && !extendRight && !restoreStart && !restoreEnd || commandMode) {\n                host.onTextInput(inserted);\n            }\n            else {\n                host.onTextInput(inserted, {\n                    extendLeft: extendLeft,\n                    extendRight: extendRight,\n                    restoreStart: restoreStart,\n                    restoreEnd: restoreEnd\n                });\n            }\n            sendingText = false;\n            lastValue = value;\n            lastSelectionStart = selectionStart;\n            lastSelectionEnd = selectionEnd;\n            lastRestoreEnd = restoreEnd;\n            return shouldReset ? \"\\n\" : inserted;\n        }\n    };\n    var onInput = function (e) {\n        if (inComposition)\n            return onCompositionUpdate();\n        if (e && e.inputType) {\n            if (e.inputType == \"historyUndo\")\n                return host.execCommand(\"undo\");\n            if (e.inputType == \"historyRedo\")\n                return host.execCommand(\"redo\");\n        }\n        var data = text.value;\n        var inserted = sendText(data, true);\n        if (data.length > MAX_LINE_LENGTH + 100\n            || valueResetRegex.test(inserted)\n            || isMobile && lastSelectionStart < 1 && lastSelectionStart == lastSelectionEnd) {\n            resetSelection();\n        }\n    };\n    var handleClipboardData = function (e, data, forceIEMime) {\n        var clipboardData = e.clipboardData || window[\"clipboardData\"];\n        if (!clipboardData || BROKEN_SETDATA)\n            return;\n        var mime = USE_IE_MIME_TYPE || forceIEMime ? \"Text\" : \"text/plain\";\n        try {\n            if (data) {\n                return clipboardData.setData(mime, data) !== false;\n            }\n            else {\n                return clipboardData.getData(mime);\n            }\n        }\n        catch (e) {\n            if (!forceIEMime)\n                return handleClipboardData(e, data, true);\n        }\n    };\n    var doCopy = function (e, isCut) {\n        var data = host.getCopyText();\n        if (!data)\n            return event.preventDefault(e);\n        if (handleClipboardData(e, data)) {\n            if (isIOS) {\n                resetSelection(data);\n                copied = data;\n                setTimeout(function () {\n                    copied = false;\n                }, 10);\n            }\n            isCut ? host.onCut() : host.onCopy();\n            event.preventDefault(e);\n        }\n        else {\n            copied = true;\n            text.value = data;\n            text.select();\n            setTimeout(function () {\n                copied = false;\n                resetSelection();\n                isCut ? host.onCut() : host.onCopy();\n            });\n        }\n    };\n    var onCut = function (e) {\n        doCopy(e, true);\n    };\n    var onCopy = function (e) {\n        doCopy(e, false);\n    };\n    var onPaste = function (e) {\n        var data = handleClipboardData(e);\n        if (clipboard.pasteCancelled())\n            return;\n        if (typeof data == \"string\") {\n            if (data)\n                host.onPaste(data, e);\n            if (useragent.isIE)\n                setTimeout(resetSelection);\n            event.preventDefault(e);\n        }\n        else {\n            text.value = \"\";\n            pasted = true;\n        }\n    };\n    event.addCommandKeyListener(text, function (e, hashId, keyCode) {\n        if (inComposition)\n            return;\n        return host.onCommandKey(e, hashId, keyCode);\n    }, host);\n    event.addListener(text, \"select\", onSelect, host);\n    event.addListener(text, \"input\", onInput, host);\n    event.addListener(text, \"cut\", onCut, host);\n    event.addListener(text, \"copy\", onCopy, host);\n    event.addListener(text, \"paste\", onPaste, host);\n    if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)) {\n        event.addListener(parentNode, \"keydown\", function (e) {\n            if ((useragent.isMac && !e.metaKey) || !e.ctrlKey)\n                return;\n            switch (e.keyCode) {\n                case 67:\n                    onCopy(e);\n                    break;\n                case 86:\n                    onPaste(e);\n                    break;\n                case 88:\n                    onCut(e);\n                    break;\n            }\n        }, host);\n    }\n    var onCompositionStart = function (e) {\n        if (inComposition || !host.onCompositionStart || host.$readOnly)\n            return;\n        inComposition = {};\n        if (commandMode)\n            return;\n        if (e.data)\n            inComposition.useTextareaForIME = false;\n        setTimeout(onCompositionUpdate, 0);\n        host._signal(\"compositionStart\");\n        host.on(\"mousedown\", cancelComposition);\n        var range = host.getSelectionRange();\n        range.end.row = range.start.row;\n        range.end.column = range.start.column;\n        inComposition.markerRange = range;\n        inComposition.selectionStart = lastSelectionStart;\n        host.onCompositionStart(inComposition);\n        if (inComposition.useTextareaForIME) {\n            lastValue = text.value = \"\";\n            lastSelectionStart = 0;\n            lastSelectionEnd = 0;\n        }\n        else {\n            if (text.msGetInputContext)\n                inComposition.context = text.msGetInputContext();\n            if (text.getInputContext)\n                inComposition.context = text.getInputContext();\n        }\n    };\n    var onCompositionUpdate = function () {\n        if (!inComposition || !host.onCompositionUpdate || host.$readOnly)\n            return;\n        if (commandMode)\n            return cancelComposition();\n        if (inComposition.useTextareaForIME) {\n            host.onCompositionUpdate(text.value);\n        }\n        else {\n            var data = text.value;\n            sendText(data);\n            if (inComposition.markerRange) {\n                if (inComposition.context) {\n                    inComposition.markerRange.start.column = inComposition.selectionStart\n                        = inComposition.context.compositionStartOffset;\n                }\n                inComposition.markerRange.end.column = inComposition.markerRange.start.column\n                    + lastSelectionEnd - inComposition.selectionStart + lastRestoreEnd;\n            }\n        }\n    };\n    var onCompositionEnd = function (e) {\n        if (!host.onCompositionEnd || host.$readOnly)\n            return;\n        inComposition = false;\n        host.onCompositionEnd();\n        host.off(\"mousedown\", cancelComposition);\n        if (e)\n            onInput();\n    };\n    function cancelComposition() {\n        ignoreFocusEvents = true;\n        text.blur();\n        text.focus();\n        ignoreFocusEvents = false;\n    }\n    var syncComposition = lang.delayedCall(onCompositionUpdate, 50).schedule.bind(null, null);\n    function onKeyup(e) {\n        if (e.keyCode == 27 && text.value.length < text.selectionStart) {\n            if (!inComposition)\n                lastValue = text.value;\n            lastSelectionStart = lastSelectionEnd = -1;\n            resetSelection();\n        }\n        syncComposition();\n    }\n    event.addListener(text, \"compositionstart\", onCompositionStart, host);\n    event.addListener(text, \"compositionupdate\", onCompositionUpdate, host);\n    event.addListener(text, \"keyup\", onKeyup, host);\n    event.addListener(text, \"keydown\", syncComposition, host);\n    event.addListener(text, \"compositionend\", onCompositionEnd, host);\n    this.getElement = function () {\n        return text;\n    };\n    this.setCommandMode = function (value) {\n        commandMode = value;\n        text.readOnly = false;\n    };\n    this.setReadOnly = function (readOnly) {\n        if (!commandMode)\n            text.readOnly = readOnly;\n    };\n    this.setCopyWithEmptySelection = function (value) {\n    };\n    this.onContextMenu = function (e) {\n        afterContextMenu = true;\n        resetSelection();\n        host._emit(\"nativecontextmenu\", { target: host, domEvent: e });\n        this.moveToMouse(e, true);\n    };\n    this.moveToMouse = function (e, bringToFront) {\n        if (!tempStyle)\n            tempStyle = text.style.cssText;\n        text.style.cssText = (bringToFront ? \"z-index:100000;\" : \"\")\n            + (useragent.isIE ? \"opacity:0.1;\" : \"\")\n            + \"text-indent: -\" + (lastSelectionStart + lastSelectionEnd) * host.renderer.characterWidth * 0.5 + \"px;\";\n        var rect = host.container.getBoundingClientRect();\n        var style = dom.computedStyle(host.container);\n        var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n        var maxTop = rect.bottom - top - text.clientHeight - 2;\n        var move = function (e) {\n            dom.translate(text, e.clientX - left - 2, Math.min(e.clientY - top - 2, maxTop));\n        };\n        move(e);\n        if (e.type != \"mousedown\")\n            return;\n        host.renderer.$isMousePressed = true;\n        clearTimeout(closeTimeout);\n        if (useragent.isWin)\n            event.capture(host.container, move, onContextMenuClose);\n    };\n    this.onContextMenuClose = onContextMenuClose;\n    var closeTimeout;\n    function onContextMenuClose() {\n        clearTimeout(closeTimeout);\n        closeTimeout = setTimeout(function () {\n            if (tempStyle) {\n                text.style.cssText = tempStyle;\n                tempStyle = '';\n            }\n            host.renderer.$isMousePressed = false;\n            if (host.renderer.$keepTextAreaAtCursor)\n                host.renderer.$moveTextAreaToCursor();\n        }, 0);\n    }\n    var onContextMenu = function (e) {\n        host.textInput.onContextMenu(e);\n        onContextMenuClose();\n    };\n    event.addListener(text, \"mouseup\", onContextMenu, host);\n    event.addListener(text, \"mousedown\", function (e) {\n        e.preventDefault();\n        onContextMenuClose();\n    }, host);\n    event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu, host);\n    event.addListener(text, \"contextmenu\", onContextMenu, host);\n    if (isIOS)\n        addIosSelectionHandler(parentNode, host, text);\n    function addIosSelectionHandler(parentNode, host, text) {\n        var typingResetTimeout = null;\n        var typing = false;\n        text.addEventListener(\"keydown\", function (e) {\n            if (typingResetTimeout)\n                clearTimeout(typingResetTimeout);\n            typing = true;\n        }, true);\n        text.addEventListener(\"keyup\", function (e) {\n            typingResetTimeout = setTimeout(function () {\n                typing = false;\n            }, 100);\n        }, true);\n        var detectArrowKeys = function (e) {\n            if (document.activeElement !== text)\n                return;\n            if (typing || inComposition || host.$mouseHandler.isMousePressed)\n                return;\n            if (copied) {\n                return;\n            }\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n            var key = null;\n            var modifier = 0;\n            if (selectionStart == 0) {\n                key = KEYS.up;\n            }\n            else if (selectionStart == 1) {\n                key = KEYS.home;\n            }\n            else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd] == \"\\n\") {\n                key = KEYS.end;\n            }\n            else if (selectionStart < lastSelectionStart && lastValue[selectionStart - 1] == \" \") {\n                key = KEYS.left;\n                modifier = MODS.option;\n            }\n            else if (selectionStart < lastSelectionStart\n                || (selectionStart == lastSelectionStart\n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd)) {\n                key = KEYS.left;\n            }\n            else if (selectionEnd > lastSelectionEnd && lastValue.slice(0, selectionEnd).split(\"\\n\").length > 2) {\n                key = KEYS.down;\n            }\n            else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd - 1] == \" \") {\n                key = KEYS.right;\n                modifier = MODS.option;\n            }\n            else if (selectionEnd > lastSelectionEnd\n                || (selectionEnd == lastSelectionEnd\n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd)) {\n                key = KEYS.right;\n            }\n            if (selectionStart !== selectionEnd)\n                modifier |= MODS.shift;\n            if (key) {\n                var result = host.onCommandKey({}, modifier, key);\n                if (!result && host.commands) {\n                    key = KEYS.keyCodeToString(key);\n                    var command = host.commands.findKeyCommand(modifier, key);\n                    if (command)\n                        host.execCommand(command);\n                }\n                lastSelectionStart = selectionStart;\n                lastSelectionEnd = selectionEnd;\n                resetSelection(\"\");\n            }\n        };\n        document.addEventListener(\"selectionchange\", detectArrowKeys);\n        host.on(\"destroy\", function () {\n            document.removeEventListener(\"selectionchange\", detectArrowKeys);\n        });\n    }\n    this.destroy = function () {\n        if (text.parentElement)\n            text.parentElement.removeChild(text);\n    };\n};\nexports.TextInput = TextInput;\nexports.$setUserAgentForTests = function (_isMobile, _isIOS) {\n    isMobile = _isMobile;\n    isIOS = _isIOS;\n};\n\n});\n\nace.define(\"ace/mouse/default_handlers\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar useragent = require(\"../lib/useragent\");\nvar DRAG_OFFSET = 0; // pixels\nvar SCROLL_COOLDOWN_T = 550; // milliseconds\nvar DefaultHandlers = /** @class */ (function () {\n    function DefaultHandlers(mouseHandler) {\n        mouseHandler.$clickSelection = null;\n        var editor = mouseHandler.editor;\n        editor.setDefaultHandler(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n        editor.setDefaultHandler(\"dblclick\", this.onDoubleClick.bind(mouseHandler));\n        editor.setDefaultHandler(\"tripleclick\", this.onTripleClick.bind(mouseHandler));\n        editor.setDefaultHandler(\"quadclick\", this.onQuadClick.bind(mouseHandler));\n        editor.setDefaultHandler(\"mousewheel\", this.onMouseWheel.bind(mouseHandler));\n        var exports = [\"select\", \"startSelect\", \"selectEnd\", \"selectAllEnd\", \"selectByWordsEnd\",\n            \"selectByLinesEnd\", \"dragWait\", \"dragWaitEnd\", \"focusWait\"];\n        exports.forEach(function (x) {\n            mouseHandler[x] = this[x];\n        }, this);\n        mouseHandler[\"selectByLines\"] = this.extendSelectionBy.bind(mouseHandler, \"getLineRange\");\n        mouseHandler[\"selectByWords\"] = this.extendSelectionBy.bind(mouseHandler, \"getWordRange\");\n    }\n    DefaultHandlers.prototype.onMouseDown = function (ev) {\n        var inSelection = ev.inSelection();\n        var pos = ev.getDocumentPosition();\n        this.mousedownEvent = ev;\n        var editor = this.editor;\n        var button = ev.getButton();\n        if (button !== 0) {\n            var selectionRange = editor.getSelectionRange();\n            var selectionEmpty = selectionRange.isEmpty();\n            if (selectionEmpty || button == 1)\n                editor.selection.moveToPosition(pos);\n            if (button == 2) {\n                editor.textInput.onContextMenu(ev.domEvent);\n                if (!useragent.isMozilla)\n                    ev.preventDefault();\n            }\n            return;\n        }\n        this.mousedownEvent.time = Date.now();\n        if (inSelection && !editor.isFocused()) {\n            editor.focus();\n            if (this.$focusTimeout && !this.$clickSelection && !editor.inMultiSelectMode) {\n                this.setState(\"focusWait\");\n                this.captureMouse(ev);\n                return;\n            }\n        }\n        this.captureMouse(ev);\n        this.startSelect(pos, ev.domEvent._clicks > 1);\n        return ev.preventDefault();\n    };\n    DefaultHandlers.prototype.startSelect = function (pos, waitForClickSelection) {\n        pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var editor = this.editor;\n        if (!this.mousedownEvent)\n            return;\n        if (this.mousedownEvent.getShiftKey())\n            editor.selection.selectToPosition(pos);\n        else if (!waitForClickSelection)\n            editor.selection.moveToPosition(pos);\n        if (!waitForClickSelection)\n            this.select();\n        editor.setStyle(\"ace_selecting\");\n        this.setState(\"select\");\n    };\n    DefaultHandlers.prototype.select = function () {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        if (this.$clickSelection) {\n            var cmp = this.$clickSelection.comparePoint(cursor);\n            if (cmp == -1) {\n                anchor = this.$clickSelection.end;\n            }\n            else if (cmp == 1) {\n                anchor = this.$clickSelection.start;\n            }\n            else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n    DefaultHandlers.prototype.extendSelectionBy = function (unitName) {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var range = editor.selection[unitName](cursor.row, cursor.column);\n        if (this.$clickSelection) {\n            var cmpStart = this.$clickSelection.comparePoint(range.start);\n            var cmpEnd = this.$clickSelection.comparePoint(range.end);\n            if (cmpStart == -1 && cmpEnd <= 0) {\n                anchor = this.$clickSelection.end;\n                if (range.end.row != cursor.row || range.end.column != cursor.column)\n                    cursor = range.start;\n            }\n            else if (cmpEnd == 1 && cmpStart >= 0) {\n                anchor = this.$clickSelection.start;\n                if (range.start.row != cursor.row || range.start.column != cursor.column)\n                    cursor = range.end;\n            }\n            else if (cmpStart == -1 && cmpEnd == 1) {\n                cursor = range.end;\n                anchor = range.start;\n            }\n            else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n    DefaultHandlers.prototype.selectByLinesEnd = function () {\n        this.$clickSelection = null;\n        this.editor.unsetStyle(\"ace_selecting\");\n    };\n    DefaultHandlers.prototype.focusWait = function () {\n        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n        var time = Date.now();\n        if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimeout)\n            this.startSelect(this.mousedownEvent.getDocumentPosition());\n    };\n    DefaultHandlers.prototype.onDoubleClick = function (ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n        var session = editor.session;\n        var range = session.getBracketRange(pos);\n        if (range) {\n            if (range.isEmpty()) {\n                range.start.column--;\n                range.end.column++;\n            }\n            this.setState(\"select\");\n        }\n        else {\n            range = editor.selection.getWordRange(pos.row, pos.column);\n            this.setState(\"selectByWords\");\n        }\n        this.$clickSelection = range;\n        this.select();\n    };\n    DefaultHandlers.prototype.onTripleClick = function (ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n        this.setState(\"selectByLines\");\n        var range = editor.getSelectionRange();\n        if (range.isMultiLine() && range.contains(pos.row, pos.column)) {\n            this.$clickSelection = editor.selection.getLineRange(range.start.row);\n            this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;\n        }\n        else {\n            this.$clickSelection = editor.selection.getLineRange(pos.row);\n        }\n        this.select();\n    };\n    DefaultHandlers.prototype.onQuadClick = function (ev) {\n        var editor = this.editor;\n        editor.selectAll();\n        this.$clickSelection = editor.getSelectionRange();\n        this.setState(\"selectAll\");\n    };\n    DefaultHandlers.prototype.onMouseWheel = function (ev) {\n        if (ev.getAccelKey())\n            return;\n        if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {\n            ev.wheelX = ev.wheelY;\n            ev.wheelY = 0;\n        }\n        var editor = this.editor;\n        if (!this.$lastScroll)\n            this.$lastScroll = { t: 0, vx: 0, vy: 0, allowed: 0 };\n        var prevScroll = this.$lastScroll;\n        var t = ev.domEvent.timeStamp;\n        var dt = t - prevScroll.t;\n        var vx = dt ? ev.wheelX / dt : prevScroll.vx;\n        var vy = dt ? ev.wheelY / dt : prevScroll.vy;\n        if (dt < SCROLL_COOLDOWN_T) {\n            vx = (vx + prevScroll.vx) / 2;\n            vy = (vy + prevScroll.vy) / 2;\n        }\n        var direction = Math.abs(vx / vy);\n        var canScroll = false;\n        if (direction >= 1 && editor.renderer.isScrollableBy(ev.wheelX * ev.speed, 0))\n            canScroll = true;\n        if (direction <= 1 && editor.renderer.isScrollableBy(0, ev.wheelY * ev.speed))\n            canScroll = true;\n        if (canScroll) {\n            prevScroll.allowed = t;\n        }\n        else if (t - prevScroll.allowed < SCROLL_COOLDOWN_T) {\n            var isSlower = Math.abs(vx) <= 1.5 * Math.abs(prevScroll.vx)\n                && Math.abs(vy) <= 1.5 * Math.abs(prevScroll.vy);\n            if (isSlower) {\n                canScroll = true;\n                prevScroll.allowed = t;\n            }\n            else {\n                prevScroll.allowed = 0;\n            }\n        }\n        prevScroll.t = t;\n        prevScroll.vx = vx;\n        prevScroll.vy = vy;\n        if (canScroll) {\n            editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n            return ev.stop();\n        }\n    };\n    return DefaultHandlers;\n}());\nDefaultHandlers.prototype.selectEnd = DefaultHandlers.prototype.selectByLinesEnd;\nDefaultHandlers.prototype.selectAllEnd = DefaultHandlers.prototype.selectByLinesEnd;\nDefaultHandlers.prototype.selectByWordsEnd = DefaultHandlers.prototype.selectByLinesEnd;\nexports.DefaultHandlers = DefaultHandlers;\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\nfunction calcRangeOrientation(range, cursor) {\n    if (range.start.row == range.end.row)\n        var cmp = 2 * cursor.column - range.start.column - range.end.column;\n    else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column)\n        var cmp = cursor.column - 4;\n    else\n        var cmp = 2 * cursor.row - range.start.row - range.end.row;\n    if (cmp < 0)\n        return { cursor: range.start, anchor: range.end };\n    else\n        return { cursor: range.end, anchor: range.start };\n}\n\n});\n\nace.define(\"ace/lib/scroll\",[\"require\",\"exports\",\"module\"], function(require, exports, module){exports.preventParentScroll = function preventParentScroll(event) {\n    event.stopPropagation();\n    var target = event.currentTarget;\n    var contentOverflows = target.scrollHeight > target.clientHeight;\n    if (!contentOverflows) {\n        event.preventDefault();\n    }\n};\n\n});\n\nace.define(\"ace/tooltip\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/range\",\"ace/lib/scroll\"], function(require, exports, module){\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar Range = require(\"./range\").Range;\nvar preventParentScroll = require(\"./lib/scroll\").preventParentScroll;\nvar CLASSNAME = \"ace_tooltip\";\nvar Tooltip = /** @class */ (function () {\n    function Tooltip(parentNode) {\n        this.isOpen = false;\n        this.$element = null;\n        this.$parentNode = parentNode;\n    }\n    Tooltip.prototype.$init = function () {\n        this.$element = dom.createElement(\"div\");\n        this.$element.className = CLASSNAME;\n        this.$element.style.display = \"none\";\n        this.$parentNode.appendChild(this.$element);\n        return this.$element;\n    };\n    Tooltip.prototype.getElement = function () {\n        return this.$element || this.$init();\n    };\n    Tooltip.prototype.setText = function (text) {\n        this.getElement().textContent = text;\n    };\n    Tooltip.prototype.setHtml = function (html) {\n        this.getElement().innerHTML = html;\n    };\n    Tooltip.prototype.setPosition = function (x, y) {\n        this.getElement().style.left = x + \"px\";\n        this.getElement().style.top = y + \"px\";\n    };\n    Tooltip.prototype.setClassName = function (className) {\n        dom.addCssClass(this.getElement(), className);\n    };\n    Tooltip.prototype.setTheme = function (theme) {\n        this.$element.className = CLASSNAME + \" \" +\n            (theme.isDark ? \"ace_dark \" : \"\") + (theme.cssClass || \"\");\n    };\n    Tooltip.prototype.show = function (text, x, y) {\n        if (text != null)\n            this.setText(text);\n        if (x != null && y != null)\n            this.setPosition(x, y);\n        if (!this.isOpen) {\n            this.getElement().style.display = \"block\";\n            this.isOpen = true;\n        }\n    };\n    Tooltip.prototype.hide = function (e) {\n        if (this.isOpen) {\n            this.getElement().style.display = \"none\";\n            this.getElement().className = CLASSNAME;\n            this.isOpen = false;\n        }\n    };\n    Tooltip.prototype.getHeight = function () {\n        return this.getElement().offsetHeight;\n    };\n    Tooltip.prototype.getWidth = function () {\n        return this.getElement().offsetWidth;\n    };\n    Tooltip.prototype.destroy = function () {\n        this.isOpen = false;\n        if (this.$element && this.$element.parentNode) {\n            this.$element.parentNode.removeChild(this.$element);\n        }\n    };\n    return Tooltip;\n}());\nvar PopupManager = /** @class */ (function () {\n    function PopupManager() {\n        this.popups = [];\n    }\n    PopupManager.prototype.addPopup = function (popup) {\n        this.popups.push(popup);\n        this.updatePopups();\n    };\n    PopupManager.prototype.removePopup = function (popup) {\n        var index = this.popups.indexOf(popup);\n        if (index !== -1) {\n            this.popups.splice(index, 1);\n            this.updatePopups();\n        }\n    };\n    PopupManager.prototype.updatePopups = function () {\n        var e_1, _a, e_2, _b;\n        this.popups.sort(function (a, b) { return b.priority - a.priority; });\n        var visiblepopups = [];\n        try {\n            for (var _c = __values(this.popups), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var popup = _d.value;\n                var shouldDisplay = true;\n                try {\n                    for (var visiblepopups_1 = (e_2 = void 0, __values(visiblepopups)), visiblepopups_1_1 = visiblepopups_1.next(); !visiblepopups_1_1.done; visiblepopups_1_1 = visiblepopups_1.next()) {\n                        var visiblePopup = visiblepopups_1_1.value;\n                        if (this.doPopupsOverlap(visiblePopup, popup)) {\n                            shouldDisplay = false;\n                            break;\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (visiblepopups_1_1 && !visiblepopups_1_1.done && (_b = visiblepopups_1.return)) _b.call(visiblepopups_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n                if (shouldDisplay) {\n                    visiblepopups.push(popup);\n                }\n                else {\n                    popup.hide();\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    PopupManager.prototype.doPopupsOverlap = function (popupA, popupB) {\n        var rectA = popupA.getElement().getBoundingClientRect();\n        var rectB = popupB.getElement().getBoundingClientRect();\n        return (rectA.left < rectB.right && rectA.right > rectB.left && rectA.top < rectB.bottom && rectA.bottom\n            > rectB.top);\n    };\n    return PopupManager;\n}());\nvar popupManager = new PopupManager();\nexports.popupManager = popupManager;\nexports.Tooltip = Tooltip;\nvar HoverTooltip = /** @class */ (function (_super) {\n    __extends(HoverTooltip, _super);\n    function HoverTooltip(parentNode) {\n        if (parentNode === void 0) { parentNode = document.body; }\n        var _this = _super.call(this, parentNode) || this;\n        _this.timeout = undefined;\n        _this.lastT = 0;\n        _this.idleTime = 350;\n        _this.lastEvent = undefined;\n        _this.onMouseOut = _this.onMouseOut.bind(_this);\n        _this.onMouseMove = _this.onMouseMove.bind(_this);\n        _this.waitForHover = _this.waitForHover.bind(_this);\n        _this.hide = _this.hide.bind(_this);\n        var el = _this.getElement();\n        el.style.whiteSpace = \"pre-wrap\";\n        el.style.pointerEvents = \"auto\";\n        el.addEventListener(\"mouseout\", _this.onMouseOut);\n        el.tabIndex = -1;\n        el.addEventListener(\"blur\", function () {\n            if (!el.contains(document.activeElement))\n                this.hide();\n        }.bind(_this));\n        el.addEventListener(\"wheel\", preventParentScroll);\n        return _this;\n    }\n    HoverTooltip.prototype.addToEditor = function (editor) {\n        editor.on(\"mousemove\", this.onMouseMove);\n        editor.on(\"mousedown\", this.hide);\n        editor.renderer.getMouseEventTarget().addEventListener(\"mouseout\", this.onMouseOut, true);\n    };\n    HoverTooltip.prototype.removeFromEditor = function (editor) {\n        editor.off(\"mousemove\", this.onMouseMove);\n        editor.off(\"mousedown\", this.hide);\n        editor.renderer.getMouseEventTarget().removeEventListener(\"mouseout\", this.onMouseOut, true);\n        if (this.timeout) {\n            clearTimeout(this.timeout);\n            this.timeout = null;\n        }\n    };\n    HoverTooltip.prototype.onMouseMove = function (e, editor) {\n        this.lastEvent = e;\n        this.lastT = Date.now();\n        var isMousePressed = editor.$mouseHandler.isMousePressed;\n        if (this.isOpen) {\n            var pos = this.lastEvent && this.lastEvent.getDocumentPosition();\n            if (!this.range\n                || !this.range.contains(pos.row, pos.column)\n                || isMousePressed\n                || this.isOutsideOfText(this.lastEvent)) {\n                this.hide();\n            }\n        }\n        if (this.timeout || isMousePressed)\n            return;\n        this.lastEvent = e;\n        this.timeout = setTimeout(this.waitForHover, this.idleTime);\n    };\n    HoverTooltip.prototype.waitForHover = function () {\n        if (this.timeout)\n            clearTimeout(this.timeout);\n        var dt = Date.now() - this.lastT;\n        if (this.idleTime - dt > 10) {\n            this.timeout = setTimeout(this.waitForHover, this.idleTime - dt);\n            return;\n        }\n        this.timeout = null;\n        if (this.lastEvent && !this.isOutsideOfText(this.lastEvent)) {\n            this.$gatherData(this.lastEvent, this.lastEvent.editor);\n        }\n    };\n    HoverTooltip.prototype.isOutsideOfText = function (e) {\n        var editor = e.editor;\n        var docPos = e.getDocumentPosition();\n        var line = editor.session.getLine(docPos.row);\n        if (docPos.column == line.length) {\n            var screenPos = editor.renderer.pixelToScreenCoordinates(e.clientX, e.clientY);\n            var clippedPos = editor.session.documentToScreenPosition(docPos.row, docPos.column);\n            if (clippedPos.column != screenPos.column\n                || clippedPos.row != screenPos.row) {\n                return true;\n            }\n        }\n        return false;\n    };\n    HoverTooltip.prototype.setDataProvider = function (value) {\n        this.$gatherData = value;\n    };\n    HoverTooltip.prototype.showForRange = function (editor, range, domNode, startingEvent) {\n        var MARGIN = 10;\n        if (startingEvent && startingEvent != this.lastEvent)\n            return;\n        if (this.isOpen && document.activeElement == this.getElement())\n            return;\n        var renderer = editor.renderer;\n        if (!this.isOpen) {\n            popupManager.addPopup(this);\n            this.$registerCloseEvents();\n            this.setTheme(renderer.theme);\n        }\n        this.isOpen = true;\n        this.addMarker(range, editor.session);\n        this.range = Range.fromPoints(range.start, range.end);\n        var position = renderer.textToScreenCoordinates(range.start.row, range.start.column);\n        var rect = renderer.scroller.getBoundingClientRect();\n        if (position.pageX < rect.left)\n            position.pageX = rect.left;\n        var element = this.getElement();\n        element.innerHTML = \"\";\n        element.appendChild(domNode);\n        element.style.maxHeight = \"\";\n        element.style.display = \"block\";\n        var labelHeight = element.clientHeight;\n        var labelWidth = element.clientWidth;\n        var spaceBelow = window.innerHeight - position.pageY - renderer.lineHeight;\n        var isAbove = true;\n        if (position.pageY - labelHeight < 0 && position.pageY < spaceBelow) {\n            isAbove = false;\n        }\n        element.style.maxHeight = (isAbove ? position.pageY : spaceBelow) - MARGIN + \"px\";\n        element.style.top = isAbove ? \"\" : position.pageY + renderer.lineHeight + \"px\";\n        element.style.bottom = isAbove ? window.innerHeight - position.pageY + \"px\" : \"\";\n        element.style.left = Math.min(position.pageX, window.innerWidth - labelWidth - MARGIN) + \"px\";\n    };\n    HoverTooltip.prototype.addMarker = function (range, session) {\n        if (this.marker) {\n            this.$markerSession.removeMarker(this.marker);\n        }\n        this.$markerSession = session;\n        this.marker = session && session.addMarker(range, \"ace_highlight-marker\", \"text\");\n    };\n    HoverTooltip.prototype.hide = function (e) {\n        if (!e && document.activeElement == this.getElement())\n            return;\n        if (e && e.target && (e.type != \"keydown\" || e.ctrlKey || e.metaKey) && this.$element.contains(e.target))\n            return;\n        this.lastEvent = null;\n        if (this.timeout)\n            clearTimeout(this.timeout);\n        this.timeout = null;\n        this.addMarker(null);\n        if (this.isOpen) {\n            this.$removeCloseEvents();\n            this.getElement().style.display = \"none\";\n            this.isOpen = false;\n            popupManager.removePopup(this);\n        }\n    };\n    HoverTooltip.prototype.$registerCloseEvents = function () {\n        window.addEventListener(\"keydown\", this.hide, true);\n        window.addEventListener(\"wheel\", this.hide, true);\n        window.addEventListener(\"mousedown\", this.hide, true);\n    };\n    HoverTooltip.prototype.$removeCloseEvents = function () {\n        window.removeEventListener(\"keydown\", this.hide, true);\n        window.removeEventListener(\"wheel\", this.hide, true);\n        window.removeEventListener(\"mousedown\", this.hide, true);\n    };\n    HoverTooltip.prototype.onMouseOut = function (e) {\n        if (this.timeout) {\n            clearTimeout(this.timeout);\n            this.timeout = null;\n        }\n        this.lastEvent = null;\n        if (!this.isOpen)\n            return;\n        if (!e.relatedTarget || this.getElement().contains(e.relatedTarget))\n            return;\n        if (e && e.currentTarget.contains(e.relatedTarget))\n            return;\n        if (!e.relatedTarget.classList.contains(\"ace_content\"))\n            this.hide();\n    };\n    return HoverTooltip;\n}(Tooltip));\nexports.HoverTooltip = HoverTooltip;\n\n});\n\nace.define(\"ace/mouse/default_gutter_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/tooltip\",\"ace/config\",\"ace/lib/lang\"], function(require, exports, module){\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar dom = require(\"../lib/dom\");\nvar event = require(\"../lib/event\");\nvar Tooltip = require(\"../tooltip\").Tooltip;\nvar nls = require(\"../config\").nls;\nvar lang = require(\"../lib/lang\");\nfunction GutterHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var gutter = editor.renderer.$gutterLayer;\n    var tooltip = new GutterTooltip(editor);\n    mouseHandler.editor.setDefaultHandler(\"guttermousedown\", function (e) {\n        if (!editor.isFocused() || e.getButton() != 0)\n            return;\n        var gutterRegion = gutter.getRegion(e);\n        if (gutterRegion == \"foldWidgets\")\n            return;\n        var row = e.getDocumentPosition().row;\n        var selection = editor.session.selection;\n        if (e.getShiftKey())\n            selection.selectTo(row, 0);\n        else {\n            if (e.domEvent.detail == 2) {\n                editor.selectAll();\n                return e.preventDefault();\n            }\n            mouseHandler.$clickSelection = editor.selection.getLineRange(row);\n        }\n        mouseHandler.setState(\"selectByLines\");\n        mouseHandler.captureMouse(e);\n        return e.preventDefault();\n    });\n    var tooltipTimeout, mouseEvent;\n    function showTooltip() {\n        var row = mouseEvent.getDocumentPosition().row;\n        var maxRow = editor.session.getLength();\n        if (row == maxRow) {\n            var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;\n            var pos = mouseEvent.$pos;\n            if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column))\n                return hideTooltip();\n        }\n        tooltip.showTooltip(row);\n        if (!tooltip.isOpen)\n            return;\n        editor.on(\"mousewheel\", hideTooltip);\n        if (mouseHandler.$tooltipFollowsMouse) {\n            moveTooltip(mouseEvent);\n        }\n        else {\n            var gutterRow = mouseEvent.getGutterRow();\n            var gutterCell = gutter.$lines.get(gutterRow);\n            if (gutterCell) {\n                var gutterElement = gutterCell.element.querySelector(\".ace_gutter_annotation\");\n                var rect = gutterElement.getBoundingClientRect();\n                var style = tooltip.getElement().style;\n                style.left = rect.right + \"px\";\n                style.top = rect.bottom + \"px\";\n            }\n            else {\n                moveTooltip(mouseEvent);\n            }\n        }\n    }\n    function hideTooltip() {\n        if (tooltipTimeout)\n            tooltipTimeout = clearTimeout(tooltipTimeout);\n        if (tooltip.isOpen) {\n            tooltip.hideTooltip();\n            editor.off(\"mousewheel\", hideTooltip);\n        }\n    }\n    function moveTooltip(e) {\n        tooltip.setPosition(e.x, e.y);\n    }\n    mouseHandler.editor.setDefaultHandler(\"guttermousemove\", function (e) {\n        var target = e.domEvent.target || e.domEvent.srcElement;\n        if (dom.hasCssClass(target, \"ace_fold-widget\"))\n            return hideTooltip();\n        if (tooltip.isOpen && mouseHandler.$tooltipFollowsMouse)\n            moveTooltip(e);\n        mouseEvent = e;\n        if (tooltipTimeout)\n            return;\n        tooltipTimeout = setTimeout(function () {\n            tooltipTimeout = null;\n            if (mouseEvent && !mouseHandler.isMousePressed)\n                showTooltip();\n            else\n                hideTooltip();\n        }, 50);\n    });\n    event.addListener(editor.renderer.$gutter, \"mouseout\", function (e) {\n        mouseEvent = null;\n        if (!tooltip.isOpen || tooltipTimeout)\n            return;\n        tooltipTimeout = setTimeout(function () {\n            tooltipTimeout = null;\n            hideTooltip();\n        }, 50);\n    }, editor);\n    editor.on(\"changeSession\", hideTooltip);\n    editor.on(\"input\", hideTooltip);\n}\nexports.GutterHandler = GutterHandler;\nvar GutterTooltip = /** @class */ (function (_super) {\n    __extends(GutterTooltip, _super);\n    function GutterTooltip(editor) {\n        var _this = _super.call(this, editor.container) || this;\n        _this.editor = editor;\n        return _this;\n    }\n    GutterTooltip.prototype.setPosition = function (x, y) {\n        var windowWidth = window.innerWidth || document.documentElement.clientWidth;\n        var windowHeight = window.innerHeight || document.documentElement.clientHeight;\n        var width = this.getWidth();\n        var height = this.getHeight();\n        x += 15;\n        y += 15;\n        if (x + width > windowWidth) {\n            x -= (x + width) - windowWidth;\n        }\n        if (y + height > windowHeight) {\n            y -= 20 + height;\n        }\n        Tooltip.prototype.setPosition.call(this, x, y);\n    };\n    Object.defineProperty(GutterTooltip, \"annotationLabels\", {\n        get: function () {\n            return {\n                error: {\n                    singular: nls(\"gutter-tooltip.aria-label.error.singular\", \"error\"),\n                    plural: nls(\"gutter-tooltip.aria-label.error.plural\", \"errors\")\n                },\n                warning: {\n                    singular: nls(\"gutter-tooltip.aria-label.warning.singular\", \"warning\"),\n                    plural: nls(\"gutter-tooltip.aria-label.warning.plural\", \"warnings\")\n                },\n                info: {\n                    singular: nls(\"gutter-tooltip.aria-label.info.singular\", \"information message\"),\n                    plural: nls(\"gutter-tooltip.aria-label.info.plural\", \"information messages\")\n                }\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    GutterTooltip.prototype.showTooltip = function (row) {\n        var _a;\n        var gutter = this.editor.renderer.$gutterLayer;\n        var annotationsInRow = gutter.$annotations[row];\n        var annotation;\n        if (annotationsInRow)\n            annotation = { displayText: Array.from(annotationsInRow.displayText), type: Array.from(annotationsInRow.type) };\n        else\n            annotation = { displayText: [], type: [] };\n        var fold = gutter.session.getFoldLine(row);\n        if (fold && gutter.$showFoldedAnnotations) {\n            var annotationsInFold = { error: [], warning: [], info: [] };\n            var mostSevereAnnotationInFoldType;\n            for (var i = row + 1; i <= fold.end.row; i++) {\n                if (!gutter.$annotations[i])\n                    continue;\n                for (var j = 0; j < gutter.$annotations[i].text.length; j++) {\n                    var annotationType = gutter.$annotations[i].type[j];\n                    annotationsInFold[annotationType].push(gutter.$annotations[i].text[j]);\n                    if (annotationType === \"error\") {\n                        mostSevereAnnotationInFoldType = \"error_fold\";\n                        continue;\n                    }\n                    if (annotationType === \"warning\") {\n                        mostSevereAnnotationInFoldType = \"warning_fold\";\n                        continue;\n                    }\n                }\n            }\n            if (mostSevereAnnotationInFoldType === \"error_fold\" || mostSevereAnnotationInFoldType === \"warning_fold\") {\n                var summaryFoldedAnnotations = \"\".concat(GutterTooltip.annotationsToSummaryString(annotationsInFold), \" in folded code.\");\n                annotation.displayText.push(summaryFoldedAnnotations);\n                annotation.type.push(mostSevereAnnotationInFoldType);\n            }\n        }\n        if (annotation.displayText.length === 0)\n            return this.hide();\n        var annotationMessages = { error: [], warning: [], info: [] };\n        var iconClassName = gutter.$useSvgGutterIcons ? \"ace_icon_svg\" : \"ace_icon\";\n        for (var i = 0; i < annotation.displayText.length; i++) {\n            var lineElement = dom.createElement(\"span\");\n            var iconElement = dom.createElement(\"span\");\n            (_a = iconElement.classList).add.apply(_a, [\"ace_\".concat(annotation.type[i]), iconClassName]);\n            iconElement.setAttribute(\"aria-label\", \"\".concat(GutterTooltip.annotationLabels[annotation.type[i].replace(\"_fold\", \"\")].singular));\n            iconElement.setAttribute(\"role\", \"img\");\n            iconElement.appendChild(dom.createTextNode(\" \"));\n            lineElement.appendChild(iconElement);\n            lineElement.appendChild(dom.createTextNode(annotation.displayText[i]));\n            lineElement.appendChild(dom.createElement(\"br\"));\n            annotationMessages[annotation.type[i].replace(\"_fold\", \"\")].push(lineElement);\n        }\n        var tooltipElement = this.getElement();\n        dom.removeChildren(tooltipElement);\n        annotationMessages.error.forEach(function (el) { return tooltipElement.appendChild(el); });\n        annotationMessages.warning.forEach(function (el) { return tooltipElement.appendChild(el); });\n        annotationMessages.info.forEach(function (el) { return tooltipElement.appendChild(el); });\n        tooltipElement.setAttribute(\"aria-live\", \"polite\");\n        if (!this.isOpen) {\n            this.setTheme(this.editor.renderer.theme);\n            this.setClassName(\"ace_gutter-tooltip\");\n        }\n        this.show();\n        this.editor._signal(\"showGutterTooltip\", this);\n    };\n    GutterTooltip.prototype.hideTooltip = function () {\n        this.$element.removeAttribute(\"aria-live\");\n        this.hide();\n        this.editor._signal(\"hideGutterTooltip\", this);\n    };\n    GutterTooltip.annotationsToSummaryString = function (annotations) {\n        var e_1, _a;\n        var summary = [];\n        var annotationTypes = ['error', 'warning', 'info'];\n        try {\n            for (var annotationTypes_1 = __values(annotationTypes), annotationTypes_1_1 = annotationTypes_1.next(); !annotationTypes_1_1.done; annotationTypes_1_1 = annotationTypes_1.next()) {\n                var annotationType = annotationTypes_1_1.value;\n                if (!annotations[annotationType].length)\n                    continue;\n                var label = annotations[annotationType].length === 1 ? GutterTooltip.annotationLabels[annotationType].singular : GutterTooltip.annotationLabels[annotationType].plural;\n                summary.push(\"\".concat(annotations[annotationType].length, \" \").concat(label));\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (annotationTypes_1_1 && !annotationTypes_1_1.done && (_a = annotationTypes_1.return)) _a.call(annotationTypes_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return summary.join(\", \");\n    };\n    return GutterTooltip;\n}(Tooltip));\nexports.GutterTooltip = GutterTooltip;\n\n});\n\nace.define(\"ace/mouse/mouse_event\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar MouseEvent = /** @class */ (function () {\n    function MouseEvent(domEvent, editor) { this.speed; this.wheelX; this.wheelY;\n        this.domEvent = domEvent;\n        this.editor = editor;\n        this.x = this.clientX = domEvent.clientX;\n        this.y = this.clientY = domEvent.clientY;\n        this.$pos = null;\n        this.$inSelection = null;\n        this.propagationStopped = false;\n        this.defaultPrevented = false;\n    }\n    MouseEvent.prototype.stopPropagation = function () {\n        event.stopPropagation(this.domEvent);\n        this.propagationStopped = true;\n    };\n    MouseEvent.prototype.preventDefault = function () {\n        event.preventDefault(this.domEvent);\n        this.defaultPrevented = true;\n    };\n    MouseEvent.prototype.stop = function () {\n        this.stopPropagation();\n        this.preventDefault();\n    };\n    MouseEvent.prototype.getDocumentPosition = function () {\n        if (this.$pos)\n            return this.$pos;\n        this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);\n        return this.$pos;\n    };\n    MouseEvent.prototype.getGutterRow = function () {\n        var documentRow = this.getDocumentPosition().row;\n        var screenRow = this.editor.session.documentToScreenRow(documentRow, 0);\n        var screenTopRow = this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row, 0);\n        return screenRow - screenTopRow;\n    };\n    MouseEvent.prototype.inSelection = function () {\n        if (this.$inSelection !== null)\n            return this.$inSelection;\n        var editor = this.editor;\n        var selectionRange = editor.getSelectionRange();\n        if (selectionRange.isEmpty())\n            this.$inSelection = false;\n        else {\n            var pos = this.getDocumentPosition();\n            this.$inSelection = selectionRange.contains(pos.row, pos.column);\n        }\n        return this.$inSelection;\n    };\n    MouseEvent.prototype.getButton = function () {\n        return event.getButton(this.domEvent);\n    };\n    MouseEvent.prototype.getShiftKey = function () {\n        return this.domEvent.shiftKey;\n    };\n    MouseEvent.prototype.getAccelKey = function () {\n        return useragent.isMac ? this.domEvent.metaKey : this.domEvent.ctrlKey;\n    };\n    return MouseEvent;\n}());\nexports.MouseEvent = MouseEvent;\n\n});\n\nace.define(\"ace/mouse/dragdrop_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar AUTOSCROLL_DELAY = 200;\nvar SCROLL_CURSOR_DELAY = 200;\nvar SCROLL_CURSOR_HYSTERESIS = 5;\nfunction DragdropHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var dragImage = dom.createElement(\"div\");\n    dragImage.style.cssText = \"top:-100px;position:absolute;z-index:2147483647;opacity:0.5\";\n    dragImage.textContent = \"\\xa0\";\n    var exports = [\"dragWait\", \"dragWaitEnd\", \"startDrag\", \"dragReadyEnd\", \"onMouseDrag\"];\n    exports.forEach(function (x) {\n        mouseHandler[x] = this[x];\n    }, this);\n    editor.on(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    var mouseTarget = editor.container;\n    var dragSelectionMarker, x, y;\n    var timerId, range;\n    var dragCursor, counter = 0;\n    var dragOperation;\n    var isInternal;\n    var autoScrollStartTime;\n    var cursorMovedTime;\n    var cursorPointOnCaretMoved;\n    this.onDragStart = function (e) {\n        if (this.cancelDrag || !mouseTarget.draggable) {\n            var self = this;\n            setTimeout(function () {\n                self.startSelect();\n                self.captureMouse(e);\n            }, 0);\n            return e.preventDefault();\n        }\n        range = editor.getSelectionRange();\n        var dataTransfer = e.dataTransfer;\n        dataTransfer.effectAllowed = editor.getReadOnly() ? \"copy\" : \"copyMove\";\n        editor.container.appendChild(dragImage);\n        dataTransfer.setDragImage && dataTransfer.setDragImage(dragImage, 0, 0);\n        setTimeout(function () {\n            editor.container.removeChild(dragImage);\n        });\n        dataTransfer.clearData();\n        dataTransfer.setData(\"Text\", editor.session.getTextRange());\n        isInternal = true;\n        this.setState(\"drag\");\n    };\n    this.onDragEnd = function (e) {\n        mouseTarget.draggable = false;\n        isInternal = false;\n        this.setState(null);\n        if (!editor.getReadOnly()) {\n            var dropEffect = e.dataTransfer.dropEffect;\n            if (!dragOperation && dropEffect == \"move\")\n                editor.session.remove(editor.getSelectionRange());\n            editor.$resetCursorStyle();\n        }\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n    };\n    this.onDragEnter = function (e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker)\n            addDragMarker();\n        counter++;\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n    this.onDragOver = function (e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker) {\n            addDragMarker();\n            counter++;\n        }\n        if (onMouseMoveTimer !== null)\n            onMouseMoveTimer = null;\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n    this.onDragLeave = function (e) {\n        counter--;\n        if (counter <= 0 && dragSelectionMarker) {\n            clearDragMarker();\n            dragOperation = null;\n            return event.preventDefault(e);\n        }\n    };\n    this.onDrop = function (e) {\n        if (!dragCursor)\n            return;\n        var dataTransfer = e.dataTransfer;\n        if (isInternal) {\n            switch (dragOperation) {\n                case \"move\":\n                    if (range.contains(dragCursor.row, dragCursor.column)) {\n                        range = {\n                            start: dragCursor,\n                            end: dragCursor\n                        };\n                    }\n                    else {\n                        range = editor.moveText(range, dragCursor);\n                    }\n                    break;\n                case \"copy\":\n                    range = editor.moveText(range, dragCursor, true);\n                    break;\n            }\n        }\n        else {\n            var dropData = dataTransfer.getData('Text');\n            range = {\n                start: dragCursor,\n                end: editor.session.insert(dragCursor, dropData)\n            };\n            editor.focus();\n            dragOperation = null;\n        }\n        clearDragMarker();\n        return event.preventDefault(e);\n    };\n    event.addListener(mouseTarget, \"dragstart\", this.onDragStart.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragend\", this.onDragEnd.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragenter\", this.onDragEnter.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragover\", this.onDragOver.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragleave\", this.onDragLeave.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"drop\", this.onDrop.bind(mouseHandler), editor);\n    function scrollCursorIntoView(cursor, prevCursor) {\n        var now = Date.now();\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        var hMovement = !prevCursor || cursor.column != prevCursor.column;\n        if (!cursorMovedTime || vMovement || hMovement) {\n            editor.moveCursorToPosition(cursor);\n            cursorMovedTime = now;\n            cursorPointOnCaretMoved = { x: x, y: y };\n        }\n        else {\n            var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);\n            if (distance > SCROLL_CURSOR_HYSTERESIS) {\n                cursorMovedTime = null;\n            }\n            else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {\n                editor.renderer.scrollCursorIntoView();\n                cursorMovedTime = null;\n            }\n        }\n    }\n    function autoScroll(cursor, prevCursor) {\n        var now = Date.now();\n        var lineHeight = editor.renderer.layerConfig.lineHeight;\n        var characterWidth = editor.renderer.layerConfig.characterWidth;\n        var editorRect = editor.renderer.scroller.getBoundingClientRect();\n        var offsets = {\n            x: {\n                left: x - editorRect.left,\n                right: editorRect.right - x\n            },\n            y: {\n                top: y - editorRect.top,\n                bottom: editorRect.bottom - y\n            }\n        };\n        var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);\n        var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);\n        var scrollCursor = { row: cursor.row, column: cursor.column };\n        if (nearestXOffset / characterWidth <= 2) {\n            scrollCursor.column += (offsets.x.left < offsets.x.right ? -3 : +2);\n        }\n        if (nearestYOffset / lineHeight <= 1) {\n            scrollCursor.row += (offsets.y.top < offsets.y.bottom ? -1 : +1);\n        }\n        var vScroll = cursor.row != scrollCursor.row;\n        var hScroll = cursor.column != scrollCursor.column;\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        if (vScroll || (hScroll && !vMovement)) {\n            if (!autoScrollStartTime)\n                autoScrollStartTime = now;\n            else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY)\n                editor.renderer.scrollCursorIntoView(scrollCursor);\n        }\n        else {\n            autoScrollStartTime = null;\n        }\n    }\n    function onDragInterval() {\n        var prevCursor = dragCursor;\n        dragCursor = editor.renderer.screenToTextCoordinates(x, y);\n        scrollCursorIntoView(dragCursor, prevCursor);\n        autoScroll(dragCursor, prevCursor);\n    }\n    function addDragMarker() {\n        range = editor.selection.toOrientedRange();\n        dragSelectionMarker = editor.session.addMarker(range, \"ace_selection\", editor.getSelectionStyle());\n        editor.clearSelection();\n        if (editor.isFocused())\n            editor.renderer.$cursorLayer.setBlinking(false);\n        clearInterval(timerId);\n        onDragInterval();\n        timerId = setInterval(onDragInterval, 20);\n        counter = 0;\n        event.addListener(document, \"mousemove\", onMouseMove);\n    }\n    function clearDragMarker() {\n        clearInterval(timerId);\n        editor.session.removeMarker(dragSelectionMarker);\n        dragSelectionMarker = null;\n        editor.selection.fromOrientedRange(range);\n        if (editor.isFocused() && !isInternal)\n            editor.$resetCursorStyle();\n        range = null;\n        dragCursor = null;\n        counter = 0;\n        autoScrollStartTime = null;\n        cursorMovedTime = null;\n        event.removeListener(document, \"mousemove\", onMouseMove);\n    }\n    var onMouseMoveTimer = null;\n    function onMouseMove() {\n        if (onMouseMoveTimer == null) {\n            onMouseMoveTimer = setTimeout(function () {\n                if (onMouseMoveTimer != null && dragSelectionMarker)\n                    clearDragMarker();\n            }, 20);\n        }\n    }\n    function canAccept(dataTransfer) {\n        var types = dataTransfer.types;\n        return !types || Array.prototype.some.call(types, function (type) {\n            return type == 'text/plain' || type == 'Text';\n        });\n    }\n    function getDropEffect(e) {\n        var copyAllowed = ['copy', 'copymove', 'all', 'uninitialized'];\n        var moveAllowed = ['move', 'copymove', 'linkmove', 'all', 'uninitialized'];\n        var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;\n        var effectAllowed = \"uninitialized\";\n        try {\n            effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();\n        }\n        catch (e) { }\n        var dropEffect = \"none\";\n        if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n        else if (moveAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"move\";\n        else if (copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n        return dropEffect;\n    }\n}\n(function () {\n    this.dragWait = function () {\n        var interval = Date.now() - this.mousedownEvent.time;\n        if (interval > this.editor.getDragDelay())\n            this.startDrag();\n    };\n    this.dragWaitEnd = function () {\n        var target = this.editor.container;\n        target.draggable = false;\n        this.startSelect(this.mousedownEvent.getDocumentPosition());\n        this.selectEnd();\n    };\n    this.dragReadyEnd = function (e) {\n        this.editor.$resetCursorStyle();\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n        this.dragWaitEnd();\n    };\n    this.startDrag = function () {\n        this.cancelDrag = false;\n        var editor = this.editor;\n        var target = editor.container;\n        target.draggable = true;\n        editor.renderer.$cursorLayer.setBlinking(false);\n        editor.setStyle(\"ace_dragging\");\n        var cursorStyle = useragent.isWin ? \"default\" : \"move\";\n        editor.renderer.setCursorStyle(cursorStyle);\n        this.setState(\"dragReady\");\n    };\n    this.onMouseDrag = function (e) {\n        var target = this.editor.container;\n        if (useragent.isIE && this.state == \"dragReady\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 3)\n                target.dragDrop();\n        }\n        if (this.state === \"dragWait\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 0) {\n                target.draggable = false;\n                this.startSelect(this.mousedownEvent.getDocumentPosition());\n            }\n        }\n    };\n    this.onMouseDown = function (e) {\n        if (!this.$dragEnabled)\n            return;\n        this.mousedownEvent = e;\n        var editor = this.editor;\n        var inSelection = e.inSelection();\n        var button = e.getButton();\n        var clickCount = e.domEvent.detail || 1;\n        if (clickCount === 1 && button === 0 && inSelection) {\n            if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey()))\n                return;\n            this.mousedownEvent.time = Date.now();\n            var eventTarget = e.domEvent.target || e.domEvent.srcElement;\n            if (\"unselectable\" in eventTarget)\n                eventTarget.unselectable = \"on\";\n            if (editor.getDragDelay()) {\n                if (useragent.isWebKit) {\n                    this.cancelDrag = true;\n                    var mouseTarget = editor.container;\n                    mouseTarget.draggable = true;\n                }\n                this.setState(\"dragWait\");\n            }\n            else {\n                this.startDrag();\n            }\n            this.captureMouse(e, this.onMouseDrag.bind(this));\n            e.defaultPrevented = true;\n        }\n    };\n}).call(DragdropHandler.prototype);\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\nexports.DragdropHandler = DragdropHandler;\n\n});\n\nace.define(\"ace/mouse/touch_handler\",[\"require\",\"exports\",\"module\",\"ace/mouse/mouse_event\",\"ace/lib/event\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar event = require(\"../lib/event\");\nvar dom = require(\"../lib/dom\");\nexports.addTouchListeners = function (el, editor) {\n    var mode = \"scroll\";\n    var startX;\n    var startY;\n    var touchStartT;\n    var lastT;\n    var longTouchTimer;\n    var animationTimer;\n    var animationSteps = 0;\n    var pos;\n    var clickCount = 0;\n    var vX = 0;\n    var vY = 0;\n    var pressed;\n    var contextMenu;\n    function createContextMenu() {\n        var clipboard = window.navigator && window.navigator.clipboard;\n        var isOpen = false;\n        var updateMenu = function () {\n            var selected = editor.getCopyText();\n            var hasUndo = editor.session.getUndoManager().hasUndo();\n            contextMenu.replaceChild(dom.buildDom(isOpen ? [\"span\",\n                !selected && canExecuteCommand(\"selectall\") && [\"span\", { class: \"ace_mobile-button\", action: \"selectall\" }, \"Select All\"],\n                selected && canExecuteCommand(\"copy\") && [\"span\", { class: \"ace_mobile-button\", action: \"copy\" }, \"Copy\"],\n                selected && canExecuteCommand(\"cut\") && [\"span\", { class: \"ace_mobile-button\", action: \"cut\" }, \"Cut\"],\n                clipboard && canExecuteCommand(\"paste\") && [\"span\", { class: \"ace_mobile-button\", action: \"paste\" }, \"Paste\"],\n                hasUndo && canExecuteCommand(\"undo\") && [\"span\", { class: \"ace_mobile-button\", action: \"undo\" }, \"Undo\"],\n                canExecuteCommand(\"find\") && [\"span\", { class: \"ace_mobile-button\", action: \"find\" }, \"Find\"],\n                canExecuteCommand(\"openCommandPalette\") && [\"span\", { class: \"ace_mobile-button\", action: \"openCommandPalette\" }, \"Palette\"]\n            ] : [\"span\"]), contextMenu.firstChild);\n        };\n        var canExecuteCommand = function (/** @type {string} */ cmd) {\n            return editor.commands.canExecute(cmd, editor);\n        };\n        var handleClick = function (e) {\n            var action = e.target.getAttribute(\"action\");\n            if (action == \"more\" || !isOpen) {\n                isOpen = !isOpen;\n                return updateMenu();\n            }\n            if (action == \"paste\") {\n                clipboard.readText().then(function (text) {\n                    editor.execCommand(action, text);\n                });\n            }\n            else if (action) {\n                if (action == \"cut\" || action == \"copy\") {\n                    if (clipboard)\n                        clipboard.writeText(editor.getCopyText());\n                    else\n                        document.execCommand(\"copy\");\n                }\n                editor.execCommand(action);\n            }\n            contextMenu.firstChild.style.display = \"none\";\n            isOpen = false;\n            if (action != \"openCommandPalette\")\n                editor.focus();\n        };\n        contextMenu = dom.buildDom([\"div\",\n            {\n                class: \"ace_mobile-menu\",\n                ontouchstart: function (e) {\n                    mode = \"menu\";\n                    e.stopPropagation();\n                    e.preventDefault();\n                    editor.textInput.focus();\n                },\n                ontouchend: function (e) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    handleClick(e);\n                },\n                onclick: handleClick\n            },\n            [\"span\"],\n            [\"span\", { class: \"ace_mobile-button\", action: \"more\" }, \"...\"]\n        ], editor.container);\n    }\n    function showContextMenu() {\n        if (!editor.getOption(\"enableMobileMenu\")) {\n            if (contextMenu) {\n                hideContextMenu();\n            }\n            return;\n        }\n        if (!contextMenu)\n            createContextMenu();\n        var cursor = editor.selection.cursor;\n        var pagePos = editor.renderer.textToScreenCoordinates(cursor.row, cursor.column);\n        var leftOffset = editor.renderer.textToScreenCoordinates(0, 0).pageX;\n        var scrollLeft = editor.renderer.scrollLeft;\n        var rect = editor.container.getBoundingClientRect();\n        contextMenu.style.top = pagePos.pageY - rect.top - 3 + \"px\";\n        if (pagePos.pageX - rect.left < rect.width - 70) {\n            contextMenu.style.left = \"\";\n            contextMenu.style.right = \"10px\";\n        }\n        else {\n            contextMenu.style.right = \"\";\n            contextMenu.style.left = leftOffset + scrollLeft - rect.left + \"px\";\n        }\n        contextMenu.style.display = \"\";\n        contextMenu.firstChild.style.display = \"none\";\n        editor.on(\"input\", hideContextMenu);\n    }\n    function hideContextMenu(e) {\n        if (contextMenu)\n            contextMenu.style.display = \"none\";\n        editor.off(\"input\", hideContextMenu);\n    }\n    function handleLongTap() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        var range = editor.selection.getRange();\n        var inSelection = range.contains(pos.row, pos.column);\n        if (range.isEmpty() || !inSelection) {\n            editor.selection.moveToPosition(pos);\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n        showContextMenu();\n    }\n    function switchToSelectionMode() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        editor.selection.moveToPosition(pos);\n        var range = clickCount >= 2\n            ? editor.selection.getLineRange(pos.row)\n            : editor.session.getBracketRange(pos);\n        if (range && !range.isEmpty()) {\n            editor.selection.setRange(range);\n        }\n        else {\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n    }\n    event.addListener(el, \"contextmenu\", function (e) {\n        if (!pressed)\n            return;\n        var textarea = editor.textInput.getElement();\n        textarea.focus();\n    }, editor);\n    event.addListener(el, \"touchstart\", function (e) {\n        var touches = e.touches;\n        if (longTouchTimer || touches.length > 1) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n            touchStartT = -1;\n            mode = \"zoom\";\n            return;\n        }\n        pressed = editor.$mouseHandler.isMousePressed = true;\n        var h = editor.renderer.layerConfig.lineHeight;\n        var w = editor.renderer.layerConfig.lineHeight;\n        var t = e.timeStamp;\n        lastT = t;\n        var touchObj = touches[0];\n        var x = touchObj.clientX;\n        var y = touchObj.clientY;\n        if (Math.abs(startX - x) + Math.abs(startY - y) > h)\n            touchStartT = -1;\n        startX = e.clientX = x;\n        startY = e.clientY = y;\n        vX = vY = 0;\n        var ev = new MouseEvent(e, editor);\n        pos = ev.getDocumentPosition();\n        if (t - touchStartT < 500 && touches.length == 1 && !animationSteps) {\n            clickCount++;\n            e.preventDefault();\n            e.button = 0;\n            switchToSelectionMode();\n        }\n        else {\n            clickCount = 0;\n            var cursor = editor.selection.cursor;\n            var anchor = editor.selection.isEmpty() ? cursor : editor.selection.anchor;\n            var cursorPos = editor.renderer.$cursorLayer.getPixelPosition(cursor, true);\n            var anchorPos = editor.renderer.$cursorLayer.getPixelPosition(anchor, true);\n            var rect = editor.renderer.scroller.getBoundingClientRect();\n            var offsetTop = editor.renderer.layerConfig.offset;\n            var offsetLeft = editor.renderer.scrollLeft;\n            var weightedDistance = function (x, y) {\n                x = x / w;\n                y = y / h - 0.75;\n                return x * x + y * y;\n            };\n            if (e.clientX < rect.left) {\n                mode = \"zoom\";\n                return;\n            }\n            var diff1 = weightedDistance(e.clientX - rect.left - cursorPos.left + offsetLeft, e.clientY - rect.top - cursorPos.top + offsetTop);\n            var diff2 = weightedDistance(e.clientX - rect.left - anchorPos.left + offsetLeft, e.clientY - rect.top - anchorPos.top + offsetTop);\n            if (diff1 < 3.5 && diff2 < 3.5)\n                mode = diff1 > diff2 ? \"cursor\" : \"anchor\";\n            if (diff2 < 3.5)\n                mode = \"anchor\";\n            else if (diff1 < 3.5)\n                mode = \"cursor\";\n            else\n                mode = \"scroll\";\n            longTouchTimer = setTimeout(handleLongTap, 450);\n        }\n        touchStartT = t;\n    }, editor);\n    event.addListener(el, \"touchend\", function (e) {\n        pressed = editor.$mouseHandler.isMousePressed = false;\n        if (animationTimer)\n            clearInterval(animationTimer);\n        if (mode == \"zoom\") {\n            mode = \"\";\n            animationSteps = 0;\n        }\n        else if (longTouchTimer) {\n            editor.selection.moveToPosition(pos);\n            animationSteps = 0;\n            showContextMenu();\n        }\n        else if (mode == \"scroll\") {\n            animate();\n            hideContextMenu();\n        }\n        else {\n            showContextMenu();\n        }\n        clearTimeout(longTouchTimer);\n        longTouchTimer = null;\n    }, editor);\n    event.addListener(el, \"touchmove\", function (e) {\n        if (longTouchTimer) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n        }\n        var touches = e.touches;\n        if (touches.length > 1 || mode == \"zoom\")\n            return;\n        var touchObj = touches[0];\n        var wheelX = startX - touchObj.clientX;\n        var wheelY = startY - touchObj.clientY;\n        if (mode == \"wait\") {\n            if (wheelX * wheelX + wheelY * wheelY > 4)\n                mode = \"cursor\";\n            else\n                return e.preventDefault();\n        }\n        startX = touchObj.clientX;\n        startY = touchObj.clientY;\n        e.clientX = touchObj.clientX;\n        e.clientY = touchObj.clientY;\n        var t = e.timeStamp;\n        var dt = t - lastT;\n        lastT = t;\n        if (mode == \"scroll\") {\n            var mouseEvent = new MouseEvent(e, editor);\n            mouseEvent.speed = 1;\n            mouseEvent.wheelX = wheelX;\n            mouseEvent.wheelY = wheelY;\n            if (10 * Math.abs(wheelX) < Math.abs(wheelY))\n                wheelX = 0;\n            if (10 * Math.abs(wheelY) < Math.abs(wheelX))\n                wheelY = 0;\n            if (dt != 0) {\n                vX = wheelX / dt;\n                vY = wheelY / dt;\n            }\n            editor._emit(\"mousewheel\", mouseEvent);\n            if (!mouseEvent.propagationStopped) {\n                vX = vY = 0;\n            }\n        }\n        else {\n            var ev = new MouseEvent(e, editor);\n            var pos = ev.getDocumentPosition();\n            if (mode == \"cursor\")\n                editor.selection.moveCursorToPosition(pos);\n            else if (mode == \"anchor\")\n                editor.selection.setSelectionAnchor(pos.row, pos.column);\n            editor.renderer.scrollCursorIntoView(pos);\n            e.preventDefault();\n        }\n    }, editor);\n    function animate() {\n        animationSteps += 60;\n        animationTimer = setInterval(function () {\n            if (animationSteps-- <= 0) {\n                clearInterval(animationTimer);\n                animationTimer = null;\n            }\n            if (Math.abs(vX) < 0.01)\n                vX = 0;\n            if (Math.abs(vY) < 0.01)\n                vY = 0;\n            if (animationSteps < 20)\n                vX = 0.9 * vX;\n            if (animationSteps < 20)\n                vY = 0.9 * vY;\n            var oldScrollTop = editor.session.getScrollTop();\n            editor.renderer.scrollBy(10 * vX, 10 * vY);\n            if (oldScrollTop == editor.session.getScrollTop())\n                animationSteps = 0;\n        }, 10);\n    }\n};\n\n});\n\nace.define(\"ace/mouse/mouse_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/mouse/default_handlers\",\"ace/mouse/default_gutter_handler\",\"ace/mouse/mouse_event\",\"ace/mouse/dragdrop_handler\",\"ace/mouse/touch_handler\",\"ace/config\"], function(require, exports, module){\"use strict\";\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar DefaultHandlers = require(\"./default_handlers\").DefaultHandlers;\nvar DefaultGutterHandler = require(\"./default_gutter_handler\").GutterHandler;\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar DragdropHandler = require(\"./dragdrop_handler\").DragdropHandler;\nvar addTouchListeners = require(\"./touch_handler\").addTouchListeners;\nvar config = require(\"../config\");\nvar MouseHandler = /** @class */ (function () {\n    function MouseHandler(editor) { this.$dragDelay; this.$dragEnabled; this.$mouseMoved; this.mouseEvent; this.$focusTimeout;\n        var _self = this;\n        this.editor = editor;\n        new DefaultHandlers(this);\n        new DefaultGutterHandler(this);\n        new DragdropHandler(this);\n        var focusEditor = function (e) {\n            var windowBlurred = !document.hasFocus || !document.hasFocus()\n                || !editor.isFocused() && document.activeElement == (editor.textInput && editor.textInput.getElement());\n            if (windowBlurred)\n                window.focus();\n            editor.focus();\n            setTimeout(function () {\n                if (!editor.isFocused())\n                    editor.focus();\n            });\n        };\n        var mouseTarget = editor.renderer.getMouseEventTarget();\n        event.addListener(mouseTarget, \"click\", this.onMouseEvent.bind(this, \"click\"), editor);\n        event.addListener(mouseTarget, \"mousemove\", this.onMouseMove.bind(this, \"mousemove\"), editor);\n        event.addMultiMouseDownListener([\n            mouseTarget,\n            editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner,\n            editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner,\n            editor.textInput && editor.textInput.getElement()\n        ].filter(Boolean), [400, 300, 250], this, \"onMouseEvent\", editor);\n        event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, \"mousewheel\"), editor);\n        addTouchListeners(editor.container, editor);\n        var gutterEl = editor.renderer.$gutter;\n        event.addListener(gutterEl, \"mousedown\", this.onMouseEvent.bind(this, \"guttermousedown\"), editor);\n        event.addListener(gutterEl, \"click\", this.onMouseEvent.bind(this, \"gutterclick\"), editor);\n        event.addListener(gutterEl, \"dblclick\", this.onMouseEvent.bind(this, \"gutterdblclick\"), editor);\n        event.addListener(gutterEl, \"mousemove\", this.onMouseEvent.bind(this, \"guttermousemove\"), editor);\n        event.addListener(mouseTarget, \"mousedown\", focusEditor, editor);\n        event.addListener(gutterEl, \"mousedown\", focusEditor, editor);\n        if (useragent.isIE && editor.renderer.scrollBarV) {\n            event.addListener(editor.renderer.scrollBarV.element, \"mousedown\", focusEditor, editor);\n            event.addListener(editor.renderer.scrollBarH.element, \"mousedown\", focusEditor, editor);\n        }\n        editor.on(\"mousemove\", function (e) {\n            if (_self.state || _self.$dragDelay || !_self.$dragEnabled)\n                return;\n            var character = editor.renderer.screenToTextCoordinates(e.x, e.y);\n            var range = editor.session.selection.getRange();\n            var renderer = editor.renderer;\n            if (!range.isEmpty() && range.insideStart(character.row, character.column)) {\n                renderer.setCursorStyle(\"default\");\n            }\n            else {\n                renderer.setCursorStyle(\"\");\n            }\n        }, //@ts-expect-error TODO: seems mistyping - should be boolean\n        editor);\n    }\n    MouseHandler.prototype.onMouseEvent = function (name, e) {\n        if (!this.editor.session)\n            return;\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n    MouseHandler.prototype.onMouseMove = function (name, e) {\n        var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;\n        if (!listeners || !listeners.length)\n            return;\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n    MouseHandler.prototype.onMouseWheel = function (name, e) {\n        var mouseEvent = new MouseEvent(e, this.editor);\n        mouseEvent.speed = this.$scrollSpeed * 2;\n        mouseEvent.wheelX = e.wheelX;\n        mouseEvent.wheelY = e.wheelY;\n        this.editor._emit(name, mouseEvent);\n    };\n    MouseHandler.prototype.setState = function (state) {\n        this.state = state;\n    };\n    MouseHandler.prototype.captureMouse = function (ev, mouseMoveHandler) {\n        this.x = ev.x;\n        this.y = ev.y;\n        this.isMousePressed = true;\n        var editor = this.editor;\n        var renderer = this.editor.renderer;\n        renderer.$isMousePressed = true;\n        var self = this;\n        var onMouseMove = function (e) {\n            if (!e)\n                return;\n            if (useragent.isWebKit && !e.which && self.releaseMouse)\n                return self.releaseMouse();\n            self.x = e.clientX;\n            self.y = e.clientY;\n            mouseMoveHandler && mouseMoveHandler(e);\n            self.mouseEvent = new MouseEvent(e, self.editor);\n            self.$mouseMoved = true;\n        };\n        var onCaptureEnd = function (e) {\n            editor.off(\"beforeEndOperation\", onOperationEnd);\n            clearInterval(timerId);\n            if (editor.session)\n                onCaptureInterval();\n            self[self.state + \"End\"] && self[self.state + \"End\"](e);\n            self.state = \"\";\n            self.isMousePressed = renderer.$isMousePressed = false;\n            if (renderer.$keepTextAreaAtCursor)\n                renderer.$moveTextAreaToCursor();\n            self.$onCaptureMouseMove = self.releaseMouse = null;\n            e && self.onMouseEvent(\"mouseup\", e);\n            editor.endOperation();\n        };\n        var onCaptureInterval = function () {\n            self[self.state] && self[self.state]();\n            self.$mouseMoved = false;\n        };\n        if (useragent.isOldIE && ev.domEvent.type == \"dblclick\") {\n            return setTimeout(function () { onCaptureEnd(ev); });\n        }\n        var onOperationEnd = function (e) {\n            if (!self.releaseMouse)\n                return;\n            if (editor.curOp.command.name && editor.curOp.selectionChanged) {\n                self[self.state + \"End\"] && self[self.state + \"End\"]();\n                self.state = \"\";\n                self.releaseMouse();\n            }\n        };\n        editor.on(\"beforeEndOperation\", onOperationEnd);\n        editor.startOperation({ command: { name: \"mouse\" } });\n        self.$onCaptureMouseMove = onMouseMove;\n        self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);\n        var timerId = setInterval(onCaptureInterval, 20);\n    };\n    MouseHandler.prototype.cancelContextMenu = function () {\n        var stop = function (e) {\n            if (e && e.domEvent && e.domEvent.type != \"contextmenu\")\n                return;\n            this.editor.off(\"nativecontextmenu\", stop);\n            if (e && e.domEvent)\n                event.stopEvent(e.domEvent);\n        }.bind(this);\n        setTimeout(stop, 10);\n        this.editor.on(\"nativecontextmenu\", stop);\n    };\n    MouseHandler.prototype.destroy = function () {\n        if (this.releaseMouse)\n            this.releaseMouse();\n    };\n    return MouseHandler;\n}());\nMouseHandler.prototype.releaseMouse = null;\nconfig.defineOptions(MouseHandler.prototype, \"mouseHandler\", {\n    scrollSpeed: { initialValue: 2 },\n    dragDelay: { initialValue: (useragent.isMac ? 150 : 0) },\n    dragEnabled: { initialValue: true },\n    focusTimeout: { initialValue: 0 },\n    tooltipFollowsMouse: { initialValue: true }\n});\nexports.MouseHandler = MouseHandler;\n\n});\n\nace.define(\"ace/mouse/fold_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar FoldHandler = /** @class */ (function () {\n    function FoldHandler(editor) {\n        editor.on(\"click\", function (e) {\n            var position = e.getDocumentPosition();\n            var session = editor.session;\n            var fold = session.getFoldAt(position.row, position.column, 1);\n            if (fold) {\n                if (e.getAccelKey())\n                    session.removeFold(fold);\n                else\n                    session.expandFold(fold);\n                e.stop();\n            }\n            var target = e.domEvent && e.domEvent.target;\n            if (target && dom.hasCssClass(target, \"ace_inline_button\")) {\n                if (dom.hasCssClass(target, \"ace_toggle_wrap\")) {\n                    session.setOption(\"wrap\", !session.getUseWrapMode());\n                    editor.renderer.scrollCursorIntoView();\n                }\n            }\n        });\n        editor.on(\"gutterclick\", function (e) {\n            var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n            if (gutterRegion == \"foldWidgets\") {\n                var row = e.getDocumentPosition().row;\n                var session = editor.session;\n                if (session.foldWidgets && session.foldWidgets[row])\n                    editor.session.onFoldWidgetClick(row, e);\n                if (!editor.isFocused())\n                    editor.focus();\n                e.stop();\n            }\n        });\n        editor.on(\"gutterdblclick\", function (e) {\n            var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n            if (gutterRegion == \"foldWidgets\") {\n                var row = e.getDocumentPosition().row;\n                var session = editor.session;\n                var data = session.getParentFoldRangeData(row, true);\n                var range = data.range || data.firstRange;\n                if (range) {\n                    row = range.start.row;\n                    var fold = session.getFoldAt(row, session.getLine(row).length, 1);\n                    if (fold) {\n                        session.removeFold(fold);\n                    }\n                    else {\n                        session.addFold(\"...\", range);\n                        editor.renderer.scrollCursorIntoView({ row: range.start.row, column: 0 });\n                    }\n                }\n                e.stop();\n            }\n        });\n    }\n    return FoldHandler;\n}());\nexports.FoldHandler = FoldHandler;\n\n});\n\nace.define(\"ace/keyboard/keybinding\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/event\"], function(require, exports, module){\"use strict\";\nvar keyUtil = require(\"../lib/keys\");\nvar event = require(\"../lib/event\");\nvar KeyBinding = /** @class */ (function () {\n    function KeyBinding(editor) {\n        this.$editor = editor;\n        this.$data = { editor: editor };\n        this.$handlers = [];\n        this.setDefaultHandler(editor.commands);\n    }\n    KeyBinding.prototype.setDefaultHandler = function (kb) {\n        this.removeKeyboardHandler(this.$defaultHandler);\n        this.$defaultHandler = kb;\n        this.addKeyboardHandler(kb, 0);\n    };\n    KeyBinding.prototype.setKeyboardHandler = function (kb) {\n        var h = this.$handlers;\n        if (h[h.length - 1] == kb)\n            return;\n        while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler)\n            this.removeKeyboardHandler(h[h.length - 1]);\n        this.addKeyboardHandler(kb, 1);\n    };\n    KeyBinding.prototype.addKeyboardHandler = function (kb, pos) {\n        if (!kb)\n            return;\n        if (typeof kb == \"function\" && !kb.handleKeyboard)\n            kb.handleKeyboard = kb;\n        var i = this.$handlers.indexOf(kb);\n        if (i != -1)\n            this.$handlers.splice(i, 1);\n        if (pos == undefined)\n            this.$handlers.push(kb);\n        else\n            this.$handlers.splice(pos, 0, kb);\n        if (i == -1 && kb.attach)\n            kb.attach(this.$editor);\n    };\n    KeyBinding.prototype.removeKeyboardHandler = function (kb) {\n        var i = this.$handlers.indexOf(kb);\n        if (i == -1)\n            return false;\n        this.$handlers.splice(i, 1);\n        kb.detach && kb.detach(this.$editor);\n        return true;\n    };\n    KeyBinding.prototype.getKeyboardHandler = function () {\n        return this.$handlers[this.$handlers.length - 1];\n    };\n    KeyBinding.prototype.getStatusText = function () {\n        var data = this.$data;\n        var editor = data.editor;\n        return this.$handlers.map(function (h) {\n            return h.getStatusText && h.getStatusText(editor, data) || \"\";\n        }).filter(Boolean).join(\" \");\n    };\n    KeyBinding.prototype.$callKeyboardHandlers = function (hashId, keyString, keyCode, e) {\n        var toExecute;\n        var success = false;\n        var commands = this.$editor.commands;\n        for (var i = this.$handlers.length; i--;) {\n            toExecute = this.$handlers[i].handleKeyboard(\n            this.$data, hashId, keyString, keyCode, e);\n            if (!toExecute || !toExecute.command)\n                continue;\n            if (toExecute.command == \"null\") {\n                success = true;\n            }\n            else {\n                success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);\n            }\n            if (success && e && hashId != -1 &&\n                toExecute[\"passEvent\"] != true && toExecute.command[\"passEvent\"] != true) {\n                event.stopEvent(e);\n            }\n            if (success)\n                break;\n        }\n        if (!success && hashId == -1) {\n            toExecute = { command: \"insertstring\" };\n            success = commands.exec(\"insertstring\", this.$editor, keyString);\n        }\n        if (success && this.$editor._signal)\n            this.$editor._signal(\"keyboardActivity\", toExecute);\n        return success;\n    };\n    KeyBinding.prototype.onCommandKey = function (e, hashId, keyCode) {\n        var keyString = keyUtil.keyCodeToString(keyCode);\n        return this.$callKeyboardHandlers(hashId, keyString, keyCode, e);\n    };\n    KeyBinding.prototype.onTextInput = function (text) {\n        return this.$callKeyboardHandlers(-1, text);\n    };\n    return KeyBinding;\n}());\nexports.KeyBinding = KeyBinding;\n\n});\n\nace.define(\"ace/lib/bidiutil\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar ArabicAlefBetIntervalsBegine = ['\\u0621', '\\u0641'];\nvar ArabicAlefBetIntervalsEnd = ['\\u063A', '\\u064a'];\nvar dir = 0, hiLevel = 0;\nvar lastArabic = false, hasUBAT_AL = false, hasUBAT_B = false, hasUBAT_S = false, hasBlockSep = false, hasSegSep = false;\nvar impTab_LTR = [ [0, 3, 0, 1, 0, 0, 0], [0, 3, 0, 1, 2, 2, 0], [0, 3, 0, 0x11, 2, 0, 1], [0, 3, 5, 5, 4, 1, 0], [0, 3, 0x15, 0x15, 4, 0, 1], [0, 3, 5, 5, 4, 2, 0]\n];\nvar impTab_RTL = [ [2, 0, 1, 1, 0, 1, 0], [2, 0, 1, 1, 0, 2, 0], [2, 0, 2, 1, 3, 2, 0], [2, 0, 2, 0x21, 3, 1, 1]\n];\nvar LTR = 0, RTL = 1;\nvar L = 0;\nvar R = 1;\nvar EN = 2;\nvar AN = 3;\nvar ON = 4;\nvar B = 5;\nvar S = 6;\nvar AL = 7;\nvar WS = 8;\nvar CS = 9;\nvar ES = 10;\nvar ET = 11;\nvar NSM = 12;\nvar LRE = 13;\nvar RLE = 14;\nvar PDF = 15;\nvar LRO = 16;\nvar RLO = 17;\nvar BN = 18;\nvar UnicodeTBL00 = [\n    BN, BN, BN, BN, BN, BN, BN, BN, BN, S, B, S, WS, B, BN, BN,\n    BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, B, B, B, S,\n    WS, ON, ON, ET, ET, ET, ON, ON, ON, ON, ON, ES, CS, ES, CS, CS,\n    EN, EN, EN, EN, EN, EN, EN, EN, EN, EN, CS, ON, ON, ON, ON, ON,\n    ON, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L,\n    L, L, L, L, L, L, L, L, L, L, L, ON, ON, ON, ON, ON,\n    ON, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L,\n    L, L, L, L, L, L, L, L, L, L, L, ON, ON, ON, ON, BN,\n    BN, BN, BN, BN, BN, B, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN,\n    BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN,\n    CS, ON, ET, ET, ET, ET, ON, ON, ON, ON, L, ON, ON, BN, ON, ON,\n    ET, ET, EN, EN, ON, L, ON, ON, ON, EN, L, ON, ON, ON, ON, ON\n];\nvar UnicodeTBL20 = [\n    WS, WS, WS, WS, WS, WS, WS, WS, WS, WS, WS, BN, BN, BN, L, R,\n    ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON,\n    ON, ON, ON, ON, ON, ON, ON, ON, WS, B, LRE, RLE, PDF, LRO, RLO, CS,\n    ET, ET, ET, ET, ET, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON,\n    ON, ON, ON, ON, CS, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON,\n    ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, WS\n];\nfunction _computeLevels(chars, levels, len, charTypes) {\n    var impTab = dir ? impTab_RTL : impTab_LTR, prevState = null, newClass = null, newLevel = null, newState = 0, action = null, cond = null, condPos = -1, i = null, ix = null, classes = [];\n    if (!charTypes) {\n        for (i = 0, charTypes = []; i < len; i++) {\n            charTypes[i] = _getCharacterType(chars[i]);\n        }\n    }\n    hiLevel = dir;\n    lastArabic = false;\n    hasUBAT_AL = false;\n    hasUBAT_B = false;\n    hasUBAT_S = false;\n    for (ix = 0; ix < len; ix++) {\n        prevState = newState;\n        classes[ix] = newClass = _getCharClass(chars, charTypes, classes, ix);\n        newState = impTab[prevState][newClass];\n        action = newState & 0xF0;\n        newState &= 0x0F;\n        levels[ix] = newLevel = impTab[newState][5];\n        if (action > 0) {\n            if (action == 0x10) {\n                for (i = condPos; i < ix; i++) {\n                    levels[i] = 1;\n                }\n                condPos = -1;\n            }\n            else {\n                condPos = -1;\n            }\n        }\n        cond = impTab[newState][6];\n        if (cond) {\n            if (condPos == -1) {\n                condPos = ix;\n            }\n        }\n        else {\n            if (condPos > -1) {\n                for (i = condPos; i < ix; i++) {\n                    levels[i] = newLevel;\n                }\n                condPos = -1;\n            }\n        }\n        if (charTypes[ix] == B) {\n            levels[ix] = 0;\n        }\n        hiLevel |= newLevel;\n    }\n    if (hasUBAT_S) {\n        for (i = 0; i < len; i++) {\n            if (charTypes[i] == S) {\n                levels[i] = dir;\n                for (var j = i - 1; j >= 0; j--) {\n                    if (charTypes[j] == WS) {\n                        levels[j] = dir;\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n        }\n    }\n}\nfunction _invertLevel(lev, levels, _array) {\n    if (hiLevel < lev) {\n        return;\n    }\n    if (lev == 1 && dir == RTL && !hasUBAT_B) {\n        _array.reverse();\n        return;\n    }\n    var len = _array.length, start = 0, end, lo, hi, tmp;\n    while (start < len) {\n        if (levels[start] >= lev) {\n            end = start + 1;\n            while (end < len && levels[end] >= lev) {\n                end++;\n            }\n            for (lo = start, hi = end - 1; lo < hi; lo++, hi--) {\n                tmp = _array[lo];\n                _array[lo] = _array[hi];\n                _array[hi] = tmp;\n            }\n            start = end;\n        }\n        start++;\n    }\n}\nfunction _getCharClass(chars, types, classes, ix) {\n    var cType = types[ix], wType, nType, len, i;\n    switch (cType) {\n        case L:\n        case R:\n            lastArabic = false;\n        case ON:\n        case AN:\n            return cType;\n        case EN:\n            return lastArabic ? AN : EN;\n        case AL:\n            lastArabic = true;\n            hasUBAT_AL = true;\n            return R;\n        case WS:\n            return ON;\n        case CS:\n            if (ix < 1 || (ix + 1) >= types.length ||\n                ((wType = classes[ix - 1]) != EN && wType != AN) ||\n                ((nType = types[ix + 1]) != EN && nType != AN)) {\n                return ON;\n            }\n            if (lastArabic) {\n                nType = AN;\n            }\n            return nType == wType ? nType : ON;\n        case ES:\n            wType = ix > 0 ? classes[ix - 1] : B;\n            if (wType == EN && (ix + 1) < types.length && types[ix + 1] == EN) {\n                return EN;\n            }\n            return ON;\n        case ET:\n            if (ix > 0 && classes[ix - 1] == EN) {\n                return EN;\n            }\n            if (lastArabic) {\n                return ON;\n            }\n            i = ix + 1;\n            len = types.length;\n            while (i < len && types[i] == ET) {\n                i++;\n            }\n            if (i < len && types[i] == EN) {\n                return EN;\n            }\n            return ON;\n        case NSM:\n            len = types.length;\n            i = ix + 1;\n            while (i < len && types[i] == NSM) {\n                i++;\n            }\n            if (i < len) {\n                var c = chars[ix], rtlCandidate = (c >= 0x0591 && c <= 0x08FF) || c == 0xFB1E;\n                wType = types[i];\n                if (rtlCandidate && (wType == R || wType == AL)) {\n                    return R;\n                }\n            }\n            if (ix < 1 || (wType = types[ix - 1]) == B) {\n                return ON;\n            }\n            return classes[ix - 1];\n        case B:\n            lastArabic = false;\n            hasUBAT_B = true;\n            return dir;\n        case S:\n            hasUBAT_S = true;\n            return ON;\n        case LRE:\n        case RLE:\n        case LRO:\n        case RLO:\n        case PDF:\n            lastArabic = false;\n        case BN:\n            return ON;\n    }\n}\nfunction _getCharacterType(ch) {\n    var uc = ch.charCodeAt(0), hi = uc >> 8;\n    if (hi == 0) {\n        return ((uc > 0x00BF) ? L : UnicodeTBL00[uc]);\n    }\n    else if (hi == 5) {\n        return (/[\\u0591-\\u05f4]/.test(ch) ? R : L);\n    }\n    else if (hi == 6) {\n        if (/[\\u0610-\\u061a\\u064b-\\u065f\\u06d6-\\u06e4\\u06e7-\\u06ed]/.test(ch))\n            return NSM;\n        else if (/[\\u0660-\\u0669\\u066b-\\u066c]/.test(ch))\n            return AN;\n        else if (uc == 0x066A)\n            return ET;\n        else if (/[\\u06f0-\\u06f9]/.test(ch))\n            return EN;\n        else\n            return AL;\n    }\n    else if (hi == 0x20 && uc <= 0x205F) {\n        return UnicodeTBL20[uc & 0xFF];\n    }\n    else if (hi == 0xFE) {\n        return (uc >= 0xFE70 ? AL : ON);\n    }\n    return ON;\n}\nfunction _isArabicDiacritics(ch) {\n    return (ch >= '\\u064b' && ch <= '\\u0655');\n}\nexports.L = L;\nexports.R = R;\nexports.EN = EN;\nexports.ON_R = 3;\nexports.AN = 4;\nexports.R_H = 5;\nexports.B = 6;\nexports.RLE = 7;\nexports.DOT = \"\\xB7\";\nexports.doBidiReorder = function (text, textCharTypes, isRtl) {\n    if (text.length < 2)\n        return {};\n    var chars = text.split(\"\"), logicalFromVisual = new Array(chars.length), bidiLevels = new Array(chars.length), levels = [];\n    dir = isRtl ? RTL : LTR;\n    _computeLevels(chars, levels, chars.length, textCharTypes);\n    for (var i = 0; i < logicalFromVisual.length; logicalFromVisual[i] = i, i++)\n        ;\n    _invertLevel(2, levels, logicalFromVisual);\n    _invertLevel(1, levels, logicalFromVisual);\n    for (var i = 0; i < logicalFromVisual.length - 1; i++) { //fix levels to reflect character width\n        if (textCharTypes[i] === AN) {\n            levels[i] = exports.AN;\n        }\n        else if (levels[i] === R && ((textCharTypes[i] > AL && textCharTypes[i] < LRE)\n            || textCharTypes[i] === ON || textCharTypes[i] === BN)) {\n            levels[i] = exports.ON_R;\n        }\n        else if ((i > 0 && chars[i - 1] === '\\u0644') && /\\u0622|\\u0623|\\u0625|\\u0627/.test(chars[i])) {\n            levels[i - 1] = levels[i] = exports.R_H;\n            i++;\n        }\n    }\n    if (chars[chars.length - 1] === exports.DOT)\n        levels[chars.length - 1] = exports.B;\n    if (chars[0] === '\\u202B')\n        levels[0] = exports.RLE;\n    for (var i = 0; i < logicalFromVisual.length; i++) {\n        bidiLevels[i] = levels[logicalFromVisual[i]];\n    }\n    return { 'logicalFromVisual': logicalFromVisual, 'bidiLevels': bidiLevels };\n};\nexports.hasBidiCharacters = function (text, textCharTypes) {\n    var ret = false;\n    for (var i = 0; i < text.length; i++) {\n        textCharTypes[i] = _getCharacterType(text.charAt(i));\n        if (!ret && (textCharTypes[i] == R || textCharTypes[i] == AL || textCharTypes[i] == AN))\n            ret = true;\n    }\n    return ret;\n};\nexports.getVisualFromLogicalIdx = function (logIdx, rowMap) {\n    for (var i = 0; i < rowMap.logicalFromVisual.length; i++) {\n        if (rowMap.logicalFromVisual[i] == logIdx)\n            return i;\n    }\n    return 0;\n};\n\n});\n\nace.define(\"ace/bidihandler\",[\"require\",\"exports\",\"module\",\"ace/lib/bidiutil\",\"ace/lib/lang\"], function(require, exports, module){\"use strict\";\nvar bidiUtil = require(\"./lib/bidiutil\");\nvar lang = require(\"./lib/lang\");\nvar bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\u202B]/;\nvar BidiHandler = /** @class */ (function () {\n    function BidiHandler(session) {\n        this.session = session;\n        this.bidiMap = {};\n        this.currentRow = null;\n        this.bidiUtil = bidiUtil;\n        this.charWidths = [];\n        this.EOL = \"\\xAC\";\n        this.showInvisibles = true;\n        this.isRtlDir = false;\n        this.$isRtl = false;\n        this.line = \"\";\n        this.wrapIndent = 0;\n        this.EOF = \"\\xB6\";\n        this.RLE = \"\\u202B\";\n        this.contentWidth = 0;\n        this.fontMetrics = null;\n        this.rtlLineOffset = 0;\n        this.wrapOffset = 0;\n        this.isMoveLeftOperation = false;\n        this.seenBidi = bidiRE.test(session.getValue());\n    }\n    BidiHandler.prototype.isBidiRow = function (screenRow, docRow, splitIndex) {\n        if (!this.seenBidi)\n            return false;\n        if (screenRow !== this.currentRow) {\n            this.currentRow = screenRow;\n            this.updateRowLine(docRow, splitIndex);\n            this.updateBidiMap();\n        }\n        return this.bidiMap.bidiLevels;\n    };\n    BidiHandler.prototype.onChange = function (delta) {\n        if (!this.seenBidi) {\n            if (delta.action == \"insert\" && bidiRE.test(delta.lines.join(\"\\n\"))) {\n                this.seenBidi = true;\n                this.currentRow = null;\n            }\n        }\n        else {\n            this.currentRow = null;\n        }\n    };\n    BidiHandler.prototype.getDocumentRow = function () {\n        var docRow = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var index = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            if (index >= 0)\n                docRow = this.session.$docRowCache[index];\n        }\n        return docRow;\n    };\n    BidiHandler.prototype.getSplitIndex = function () {\n        var splitIndex = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var currentIndex, prevIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            while (this.currentRow - splitIndex > 0) {\n                currentIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow - splitIndex - 1);\n                if (currentIndex !== prevIndex)\n                    break;\n                prevIndex = currentIndex;\n                splitIndex++;\n            }\n        }\n        else {\n            splitIndex = this.currentRow;\n        }\n        return splitIndex;\n    };\n    BidiHandler.prototype.updateRowLine = function (docRow, splitIndex) {\n        if (docRow === undefined)\n            docRow = this.getDocumentRow();\n        var isLastRow = (docRow === this.session.getLength() - 1), endOfLine = isLastRow ? this.EOF : this.EOL;\n        this.wrapIndent = 0;\n        this.line = this.session.getLine(docRow);\n        this.isRtlDir = this.$isRtl || this.line.charAt(0) === this.RLE;\n        if (this.session.$useWrapMode) {\n            var splits = this.session.$wrapData[docRow];\n            if (splits) {\n                if (splitIndex === undefined)\n                    splitIndex = this.getSplitIndex();\n                if (splitIndex > 0 && splits.length) {\n                    this.wrapIndent = splits.indent;\n                    this.wrapOffset = this.wrapIndent * this.charWidths[bidiUtil.L];\n                    this.line = (splitIndex < splits.length) ?\n                        this.line.substring(splits[splitIndex - 1], splits[splitIndex]) :\n                        this.line.substring(splits[splits.length - 1]);\n                }\n                else {\n                    this.line = this.line.substring(0, splits[splitIndex]);\n                }\n                if (splitIndex == splits.length) {\n                    this.line += (this.showInvisibles) ? endOfLine : bidiUtil.DOT;\n                }\n            }\n        }\n        else {\n            this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;\n        }\n        var session = this.session, shift = 0, size;\n        this.line = this.line.replace(/\\t|[\\u1100-\\u2029, \\u202F-\\uFFE6]/g, function (ch, i) {\n            if (ch === '\\t' || session.isFullWidth(ch.charCodeAt(0))) {\n                size = (ch === '\\t') ? session.getScreenTabSize(i + shift) : 2;\n                shift += size - 1;\n                return lang.stringRepeat(bidiUtil.DOT, size);\n            }\n            return ch;\n        });\n        if (this.isRtlDir) {\n            this.fontMetrics.$main.textContent = (this.line.charAt(this.line.length - 1) == bidiUtil.DOT) ? this.line.substr(0, this.line.length - 1) : this.line;\n            this.rtlLineOffset = this.contentWidth - this.fontMetrics.$main.getBoundingClientRect().width;\n        }\n    };\n    BidiHandler.prototype.updateBidiMap = function () {\n        var textCharTypes = [];\n        if (bidiUtil.hasBidiCharacters(this.line, textCharTypes) || this.isRtlDir) {\n            this.bidiMap = bidiUtil.doBidiReorder(this.line, textCharTypes, this.isRtlDir);\n        }\n        else {\n            this.bidiMap = {};\n        }\n    };\n    BidiHandler.prototype.markAsDirty = function () {\n        this.currentRow = null;\n    };\n    BidiHandler.prototype.updateCharacterWidths = function (fontMetrics) {\n        if (this.characterWidth === fontMetrics.$characterSize.width)\n            return;\n        this.fontMetrics = fontMetrics;\n        var characterWidth = this.characterWidth = fontMetrics.$characterSize.width;\n        var bidiCharWidth = fontMetrics.$measureCharWidth(\"\\u05d4\");\n        this.charWidths[bidiUtil.L] = this.charWidths[bidiUtil.EN] = this.charWidths[bidiUtil.ON_R] = characterWidth;\n        this.charWidths[bidiUtil.R] = this.charWidths[bidiUtil.AN] = bidiCharWidth;\n        this.charWidths[bidiUtil.R_H] = bidiCharWidth * 0.45;\n        this.charWidths[bidiUtil.B] = this.charWidths[bidiUtil.RLE] = 0;\n        this.currentRow = null;\n    };\n    BidiHandler.prototype.setShowInvisibles = function (showInvisibles) {\n        this.showInvisibles = showInvisibles;\n        this.currentRow = null;\n    };\n    BidiHandler.prototype.setEolChar = function (eolChar) {\n        this.EOL = eolChar;\n    };\n    BidiHandler.prototype.setContentWidth = function (width) {\n        this.contentWidth = width;\n    };\n    BidiHandler.prototype.isRtlLine = function (row) {\n        if (this.$isRtl)\n            return true;\n        if (row != undefined)\n            return (this.session.getLine(row).charAt(0) == this.RLE);\n        else\n            return this.isRtlDir;\n    };\n    BidiHandler.prototype.setRtlDirection = function (editor, isRtlDir) {\n        var cursor = editor.getCursorPosition();\n        for (var row = editor.selection.getSelectionAnchor().row; row <= cursor.row; row++) {\n            if (!isRtlDir && editor.session.getLine(row).charAt(0) === editor.session.$bidiHandler.RLE)\n                editor.session.doc.removeInLine(row, 0, 1);\n            else if (isRtlDir && editor.session.getLine(row).charAt(0) !== editor.session.$bidiHandler.RLE)\n                editor.session.doc.insert({ column: 0, row: row }, editor.session.$bidiHandler.RLE);\n        }\n    };\n    BidiHandler.prototype.getPosLeft = function (col) {\n        col -= this.wrapIndent;\n        var leftBoundary = (this.line.charAt(0) === this.RLE) ? 1 : 0;\n        var logicalIdx = (col > leftBoundary) ? (this.session.getOverwrite() ? col : col - 1) : leftBoundary;\n        var visualIdx = bidiUtil.getVisualFromLogicalIdx(logicalIdx, this.bidiMap), levels = this.bidiMap.bidiLevels, left = 0;\n        if (!this.session.getOverwrite() && col <= leftBoundary && levels[visualIdx] % 2 !== 0)\n            visualIdx++;\n        for (var i = 0; i < visualIdx; i++) {\n            left += this.charWidths[levels[i]];\n        }\n        if (!this.session.getOverwrite() && (col > leftBoundary) && (levels[visualIdx] % 2 === 0))\n            left += this.charWidths[levels[visualIdx]];\n        if (this.wrapIndent)\n            left += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n        if (this.isRtlDir)\n            left += this.rtlLineOffset;\n        return left;\n    };\n    BidiHandler.prototype.getSelections = function (startCol, endCol) {\n        var map = this.bidiMap, levels = map.bidiLevels, level, selections = [], offset = 0, selColMin = Math.min(startCol, endCol) - this.wrapIndent, selColMax = Math.max(startCol, endCol) - this.wrapIndent, isSelected = false, isSelectedPrev = false, selectionStart = 0;\n        if (this.wrapIndent)\n            offset += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n        for (var logIdx, visIdx = 0; visIdx < levels.length; visIdx++) {\n            logIdx = map.logicalFromVisual[visIdx];\n            level = levels[visIdx];\n            isSelected = (logIdx >= selColMin) && (logIdx < selColMax);\n            if (isSelected && !isSelectedPrev) {\n                selectionStart = offset;\n            }\n            else if (!isSelected && isSelectedPrev) {\n                selections.push({ left: selectionStart, width: offset - selectionStart });\n            }\n            offset += this.charWidths[level];\n            isSelectedPrev = isSelected;\n        }\n        if (isSelected && (visIdx === levels.length)) {\n            selections.push({ left: selectionStart, width: offset - selectionStart });\n        }\n        if (this.isRtlDir) {\n            for (var i = 0; i < selections.length; i++) {\n                selections[i].left += this.rtlLineOffset;\n            }\n        }\n        return selections;\n    };\n    BidiHandler.prototype.offsetToCol = function (posX) {\n        if (this.isRtlDir)\n            posX -= this.rtlLineOffset;\n        var logicalIdx = 0, posX = Math.max(posX, 0), offset = 0, visualIdx = 0, levels = this.bidiMap.bidiLevels, charWidth = this.charWidths[levels[visualIdx]];\n        if (this.wrapIndent)\n            posX -= this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n        while (posX > offset + charWidth / 2) {\n            offset += charWidth;\n            if (visualIdx === levels.length - 1) {\n                charWidth = 0;\n                break;\n            }\n            charWidth = this.charWidths[levels[++visualIdx]];\n        }\n        if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && (levels[visualIdx] % 2 === 0)) {\n            if (posX < offset)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n        }\n        else if (visualIdx > 0 && (levels[visualIdx - 1] % 2 === 0) && (levels[visualIdx] % 2 !== 0)) {\n            logicalIdx = 1 + ((posX > offset) ? this.bidiMap.logicalFromVisual[visualIdx]\n                : this.bidiMap.logicalFromVisual[visualIdx - 1]);\n        }\n        else if ((this.isRtlDir && visualIdx === levels.length - 1 && charWidth === 0 && (levels[visualIdx - 1] % 2 === 0))\n            || (!this.isRtlDir && visualIdx === 0 && (levels[visualIdx] % 2 !== 0))) {\n            logicalIdx = 1 + this.bidiMap.logicalFromVisual[visualIdx];\n        }\n        else {\n            if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && charWidth !== 0)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n        }\n        if (logicalIdx === 0 && this.isRtlDir)\n            logicalIdx++;\n        return (logicalIdx + this.wrapIndent);\n    };\n    return BidiHandler;\n}());\nexports.BidiHandler = BidiHandler;\n\n});\n\nace.define(\"ace/selection\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Selection = /** @class */ (function () {\n    function Selection(session) {\n        this.session = session;\n        this.doc = session.getDocument();\n        this.clearSelection();\n        this.cursor = this.lead = this.doc.createAnchor(0, 0);\n        this.anchor = this.doc.createAnchor(0, 0);\n        this.$silent = false;\n        var self = this;\n        this.cursor.on(\"change\", function (e) {\n            self.$cursorChanged = true;\n            if (!self.$silent)\n                self._emit(\"changeCursor\");\n            if (!self.$isEmpty && !self.$silent)\n                self._emit(\"changeSelection\");\n            if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column)\n                self.$desiredColumn = null;\n        });\n        this.anchor.on(\"change\", function () {\n            self.$anchorChanged = true;\n            if (!self.$isEmpty && !self.$silent)\n                self._emit(\"changeSelection\");\n        });\n    }\n    Selection.prototype.isEmpty = function () {\n        return this.$isEmpty || (this.anchor.row == this.lead.row &&\n            this.anchor.column == this.lead.column);\n    };\n    Selection.prototype.isMultiLine = function () {\n        return !this.$isEmpty && this.anchor.row != this.cursor.row;\n    };\n    Selection.prototype.getCursor = function () {\n        return this.lead.getPosition();\n    };\n    Selection.prototype.setAnchor = function (row, column) {\n        this.$isEmpty = false;\n        this.anchor.setPosition(row, column);\n    };\n    Selection.prototype.getAnchor = function () {\n        if (this.$isEmpty)\n            return this.getSelectionLead();\n        return this.anchor.getPosition();\n    };\n    Selection.prototype.getSelectionLead = function () {\n        return this.lead.getPosition();\n    };\n    Selection.prototype.isBackwards = function () {\n        var anchor = this.anchor;\n        var lead = this.lead;\n        return (anchor.row > lead.row || (anchor.row == lead.row && anchor.column > lead.column));\n    };\n    Selection.prototype.getRange = function () {\n        var anchor = this.anchor;\n        var lead = this.lead;\n        if (this.$isEmpty)\n            return Range.fromPoints(lead, lead);\n        return this.isBackwards()\n            ? Range.fromPoints(lead, anchor)\n            : Range.fromPoints(anchor, lead);\n    };\n    Selection.prototype.clearSelection = function () {\n        if (!this.$isEmpty) {\n            this.$isEmpty = true;\n            this._emit(\"changeSelection\");\n        }\n    };\n    Selection.prototype.selectAll = function () {\n        this.$setSelection(0, 0, Number.MAX_VALUE, Number.MAX_VALUE);\n    };\n    Selection.prototype.setRange = function (range, reverse) {\n        var start = reverse ? range.end : range.start;\n        var end = reverse ? range.start : range.end;\n        this.$setSelection(start.row, start.column, end.row, end.column);\n    };\n    Selection.prototype.$setSelection = function (anchorRow, anchorColumn, cursorRow, cursorColumn) {\n        if (this.$silent)\n            return;\n        var wasEmpty = this.$isEmpty;\n        var wasMultiselect = this.inMultiSelectMode;\n        this.$silent = true;\n        this.$cursorChanged = this.$anchorChanged = false;\n        this.anchor.setPosition(anchorRow, anchorColumn);\n        this.cursor.setPosition(cursorRow, cursorColumn);\n        this.$isEmpty = !Range.comparePoints(this.anchor, this.cursor);\n        this.$silent = false;\n        if (this.$cursorChanged)\n            this._emit(\"changeCursor\");\n        if (this.$cursorChanged || this.$anchorChanged || wasEmpty != this.$isEmpty || wasMultiselect)\n            this._emit(\"changeSelection\");\n    };\n    Selection.prototype.$moveSelection = function (mover) {\n        var lead = this.lead;\n        if (this.$isEmpty)\n            this.setSelectionAnchor(lead.row, lead.column);\n        mover.call(this);\n    };\n    Selection.prototype.selectTo = function (row, column) {\n        this.$moveSelection(function () {\n            this.moveCursorTo(row, column);\n        });\n    };\n    Selection.prototype.selectToPosition = function (pos) {\n        this.$moveSelection(function () {\n            this.moveCursorToPosition(pos);\n        });\n    };\n    Selection.prototype.moveTo = function (row, column) {\n        this.clearSelection();\n        this.moveCursorTo(row, column);\n    };\n    Selection.prototype.moveToPosition = function (pos) {\n        this.clearSelection();\n        this.moveCursorToPosition(pos);\n    };\n    Selection.prototype.selectUp = function () {\n        this.$moveSelection(this.moveCursorUp);\n    };\n    Selection.prototype.selectDown = function () {\n        this.$moveSelection(this.moveCursorDown);\n    };\n    Selection.prototype.selectRight = function () {\n        this.$moveSelection(this.moveCursorRight);\n    };\n    Selection.prototype.selectLeft = function () {\n        this.$moveSelection(this.moveCursorLeft);\n    };\n    Selection.prototype.selectLineStart = function () {\n        this.$moveSelection(this.moveCursorLineStart);\n    };\n    Selection.prototype.selectLineEnd = function () {\n        this.$moveSelection(this.moveCursorLineEnd);\n    };\n    Selection.prototype.selectFileEnd = function () {\n        this.$moveSelection(this.moveCursorFileEnd);\n    };\n    Selection.prototype.selectFileStart = function () {\n        this.$moveSelection(this.moveCursorFileStart);\n    };\n    Selection.prototype.selectWordRight = function () {\n        this.$moveSelection(this.moveCursorWordRight);\n    };\n    Selection.prototype.selectWordLeft = function () {\n        this.$moveSelection(this.moveCursorWordLeft);\n    };\n    Selection.prototype.getWordRange = function (row, column) {\n        if (typeof column == \"undefined\") {\n            var cursor = row || this.lead;\n            row = cursor.row;\n            column = cursor.column;\n        }\n        return this.session.getWordRange(row, column);\n    };\n    Selection.prototype.selectWord = function () {\n        this.setSelectionRange(this.getWordRange());\n    };\n    Selection.prototype.selectAWord = function () {\n        var cursor = this.getCursor();\n        var range = this.session.getAWordRange(cursor.row, cursor.column);\n        this.setSelectionRange(range);\n    };\n    Selection.prototype.getLineRange = function (row, excludeLastChar) {\n        var rowStart = typeof row == \"number\" ? row : this.lead.row;\n        var rowEnd;\n        var foldLine = this.session.getFoldLine(rowStart);\n        if (foldLine) {\n            rowStart = foldLine.start.row;\n            rowEnd = foldLine.end.row;\n        }\n        else {\n            rowEnd = rowStart;\n        }\n        if (excludeLastChar === true)\n            return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);\n        else\n            return new Range(rowStart, 0, rowEnd + 1, 0);\n    };\n    Selection.prototype.selectLine = function () {\n        this.setSelectionRange(this.getLineRange());\n    };\n    Selection.prototype.moveCursorUp = function () {\n        this.moveCursorBy(-1, 0);\n    };\n    Selection.prototype.moveCursorDown = function () {\n        this.moveCursorBy(1, 0);\n    };\n    Selection.prototype.wouldMoveIntoSoftTab = function (cursor, tabSize, direction) {\n        var start = cursor.column;\n        var end = cursor.column + tabSize;\n        if (direction < 0) {\n            start = cursor.column - tabSize;\n            end = cursor.column;\n        }\n        return this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(start, end).split(\" \").length - 1 == tabSize;\n    };\n    Selection.prototype.moveCursorLeft = function () {\n        var cursor = this.lead.getPosition(), fold;\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n        }\n        else if (cursor.column === 0) {\n            if (cursor.row > 0) {\n                this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, -1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, -tabSize);\n            }\n            else {\n                this.moveCursorBy(0, -1);\n            }\n        }\n    };\n    Selection.prototype.moveCursorRight = function () {\n        var cursor = this.lead.getPosition(), fold;\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n        }\n        else if (this.lead.column == this.doc.getLine(this.lead.row).length) {\n            if (this.lead.row < this.doc.getLength() - 1) {\n                this.moveCursorTo(this.lead.row + 1, 0);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            var cursor = this.lead;\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, 1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, tabSize);\n            }\n            else {\n                this.moveCursorBy(0, 1);\n            }\n        }\n    };\n    Selection.prototype.moveCursorLineStart = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var screenRow = this.session.documentToScreenRow(row, column);\n        var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);\n        var beforeCursor = this.session.getDisplayLine(row, null, firstColumnPosition.row, firstColumnPosition.column);\n        var leadingSpace = beforeCursor.match(/^\\s*/);\n        if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart)\n            firstColumnPosition.column += leadingSpace[0].length;\n        this.moveCursorToPosition(firstColumnPosition);\n    };\n    Selection.prototype.moveCursorLineEnd = function () {\n        var lead = this.lead;\n        var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);\n        if (this.lead.column == lineEnd.column) {\n            var line = this.session.getLine(lineEnd.row);\n            if (lineEnd.column == line.length) {\n                var textEnd = line.search(/\\s+$/);\n                if (textEnd > 0)\n                    lineEnd.column = textEnd;\n            }\n        }\n        this.moveCursorTo(lineEnd.row, lineEnd.column);\n    };\n    Selection.prototype.moveCursorFileEnd = function () {\n        var row = this.doc.getLength() - 1;\n        var column = this.doc.getLine(row).length;\n        this.moveCursorTo(row, column);\n    };\n    Selection.prototype.moveCursorFileStart = function () {\n        this.moveCursorTo(0, 0);\n    };\n    Selection.prototype.moveCursorLongWordRight = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n            return;\n        }\n        if (this.session.nonTokenRe.exec(rightOfCursor)) {\n            column += this.session.nonTokenRe.lastIndex;\n            this.session.nonTokenRe.lastIndex = 0;\n            rightOfCursor = line.substring(column);\n        }\n        if (column >= line.length) {\n            this.moveCursorTo(row, line.length);\n            this.moveCursorRight();\n            if (row < this.doc.getLength() - 1)\n                this.moveCursorWordRight();\n            return;\n        }\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            column += this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n        this.moveCursorTo(row, column);\n    };\n    Selection.prototype.moveCursorLongWordLeft = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n            return;\n        }\n        var str = this.session.getFoldStringAt(row, column, -1);\n        if (str == null) {\n            str = this.doc.getLine(row).substring(0, column);\n        }\n        var leftOfCursor = lang.stringReverse(str);\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        if (this.session.nonTokenRe.exec(leftOfCursor)) {\n            column -= this.session.nonTokenRe.lastIndex;\n            leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);\n            this.session.nonTokenRe.lastIndex = 0;\n        }\n        if (column <= 0) {\n            this.moveCursorTo(row, 0);\n            this.moveCursorLeft();\n            if (row > 0)\n                this.moveCursorWordLeft();\n            return;\n        }\n        if (this.session.tokenRe.exec(leftOfCursor)) {\n            column -= this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n        this.moveCursorTo(row, column);\n    };\n    Selection.prototype.$shortWordEndIndex = function (rightOfCursor) {\n        var index = 0, ch;\n        var whitespaceRe = /\\s/;\n        var tokenRe = this.session.tokenRe;\n        tokenRe.lastIndex = 0;\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            index = this.session.tokenRe.lastIndex;\n        }\n        else {\n            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                index++;\n            if (index < 1) {\n                tokenRe.lastIndex = 0;\n                while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {\n                    tokenRe.lastIndex = 0;\n                    index++;\n                    if (whitespaceRe.test(ch)) {\n                        if (index > 2) {\n                            index--;\n                            break;\n                        }\n                        else {\n                            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                                index++;\n                            if (index > 2)\n                                break;\n                        }\n                    }\n                }\n            }\n        }\n        tokenRe.lastIndex = 0;\n        return index;\n    };\n    Selection.prototype.moveCursorShortWordRight = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold)\n            return this.moveCursorTo(fold.end.row, fold.end.column);\n        if (column == line.length) {\n            var l = this.doc.getLength();\n            do {\n                row++;\n                rightOfCursor = this.doc.getLine(row);\n            } while (row < l && /^\\s*$/.test(rightOfCursor));\n            if (!/^\\s+/.test(rightOfCursor))\n                rightOfCursor = \"\";\n            column = 0;\n        }\n        var index = this.$shortWordEndIndex(rightOfCursor);\n        this.moveCursorTo(row, column + index);\n    };\n    Selection.prototype.moveCursorShortWordLeft = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1))\n            return this.moveCursorTo(fold.start.row, fold.start.column);\n        var line = this.session.getLine(row).substring(0, column);\n        if (column === 0) {\n            do {\n                row--;\n                line = this.doc.getLine(row);\n            } while (row > 0 && /^\\s*$/.test(line));\n            column = line.length;\n            if (!/\\s+$/.test(line))\n                line = \"\";\n        }\n        var leftOfCursor = lang.stringReverse(line);\n        var index = this.$shortWordEndIndex(leftOfCursor);\n        return this.moveCursorTo(row, column - index);\n    };\n    Selection.prototype.moveCursorWordRight = function () {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordRight();\n        else\n            this.moveCursorShortWordRight();\n    };\n    Selection.prototype.moveCursorWordLeft = function () {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordLeft();\n        else\n            this.moveCursorShortWordLeft();\n    };\n    Selection.prototype.moveCursorBy = function (rows, chars) {\n        var screenPos = this.session.documentToScreenPosition(this.lead.row, this.lead.column);\n        var offsetX;\n        if (chars === 0) {\n            if (rows !== 0) {\n                if (this.session.$bidiHandler.isBidiRow(screenPos.row, this.lead.row)) {\n                    offsetX = this.session.$bidiHandler.getPosLeft(screenPos.column);\n                    screenPos.column = Math.round(offsetX / this.session.$bidiHandler.charWidths[0]);\n                }\n                else {\n                    offsetX = screenPos.column * this.session.$bidiHandler.charWidths[0];\n                }\n            }\n            if (this.$desiredColumn)\n                screenPos.column = this.$desiredColumn;\n            else\n                this.$desiredColumn = screenPos.column;\n        }\n        if (rows != 0 && this.session.lineWidgets && this.session.lineWidgets[this.lead.row]) {\n            var widget = this.session.lineWidgets[this.lead.row];\n            if (rows < 0)\n                rows -= widget.rowsAbove || 0;\n            else if (rows > 0)\n                rows += widget.rowCount - (widget.rowsAbove || 0);\n        }\n        var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column, offsetX);\n        if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {\n        }\n        this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);\n    };\n    Selection.prototype.moveCursorToPosition = function (position) {\n        this.moveCursorTo(position.row, position.column);\n    };\n    Selection.prototype.moveCursorTo = function (row, column, keepDesiredColumn) {\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            row = fold.start.row;\n            column = fold.start.column;\n        }\n        this.$keepDesiredColumnOnChange = true;\n        var line = this.session.getLine(row);\n        if (/[\\uDC00-\\uDFFF]/.test(line.charAt(column)) && line.charAt(column - 1)) {\n            if (this.lead.row == row && this.lead.column == column + 1)\n                column = column - 1;\n            else\n                column = column + 1;\n        }\n        this.lead.setPosition(row, column);\n        this.$keepDesiredColumnOnChange = false;\n        if (!keepDesiredColumn)\n            this.$desiredColumn = null;\n    };\n    Selection.prototype.moveCursorToScreen = function (row, column, keepDesiredColumn) {\n        var pos = this.session.screenToDocumentPosition(row, column);\n        this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);\n    };\n    Selection.prototype.detach = function () {\n        this.lead.detach();\n        this.anchor.detach();\n    };\n    Selection.prototype.fromOrientedRange = function (range) {\n        this.setSelectionRange(range, range.cursor == range.start);\n        this.$desiredColumn = range.desiredColumn || this.$desiredColumn;\n    };\n    Selection.prototype.toOrientedRange = function (range) {\n        var r = this.getRange();\n        if (range) {\n            range.start.column = r.start.column;\n            range.start.row = r.start.row;\n            range.end.column = r.end.column;\n            range.end.row = r.end.row;\n        }\n        else {\n            range = r;\n        }\n        range.cursor = this.isBackwards() ? range.start : range.end;\n        range.desiredColumn = this.$desiredColumn;\n        return range;\n    };\n    Selection.prototype.getRangeOfMovements = function (func) {\n        var start = this.getCursor();\n        try {\n            func(this);\n            var end = this.getCursor();\n            return Range.fromPoints(start, end);\n        }\n        catch (e) {\n            return Range.fromPoints(start, start);\n        }\n        finally {\n            this.moveCursorToPosition(start);\n        }\n    };\n    Selection.prototype.toJSON = function () {\n        if (this.rangeCount) { var data = this.ranges.map(function (r) {\n                var r1 = r.clone();\n                r1.isBackwards = r.cursor == r.start;\n                return r1;\n            });\n        }\n        else { var data = this.getRange();\n            data.isBackwards = this.isBackwards();\n        }\n        return data;\n    };\n    Selection.prototype.fromJSON = function (data) {\n        if (data.start == undefined) {\n            if (this.rangeList && data.length > 1) {\n                this.toSingleRange(data[0]);\n                for (var i = data.length; i--;) {\n                    var r = Range.fromPoints(data[i].start, data[i].end);\n                    if (data[i].isBackwards)\n                        r.cursor = r.start;\n                    this.addRange(r, true);\n                }\n                return;\n            }\n            else {\n                data = data[0];\n            }\n        }\n        if (this.rangeList)\n            this.toSingleRange(data);\n        this.setSelectionRange(data, data.isBackwards);\n    };\n    Selection.prototype.isEqual = function (data) {\n        if ((data.length || this.rangeCount) && data.length != this.rangeCount)\n            return false;\n        if (!data.length || !this.ranges)\n            return this.getRange().isEqual(data);\n        for (var i = this.ranges.length; i--;) {\n            if (!this.ranges[i].isEqual(data[i]))\n                return false;\n        }\n        return true;\n    };\n    return Selection;\n}());\nSelection.prototype.setSelectionAnchor = Selection.prototype.setAnchor;\nSelection.prototype.getSelectionAnchor = Selection.prototype.getAnchor;\nSelection.prototype.setSelectionRange = Selection.prototype.setRange;\noop.implement(Selection.prototype, EventEmitter);\nexports.Selection = Selection;\n\n});\n\nace.define(\"ace/tokenizer\",[\"require\",\"exports\",\"module\",\"ace/lib/report_error\"], function(require, exports, module){\"use strict\";\nvar reportError = require(\"./lib/report_error\").reportError;\nvar MAX_TOKEN_COUNT = 2000;\nvar Tokenizer = /** @class */ (function () {\n    function Tokenizer(rules) {\n        this.splitRegex;\n        this.states = rules;\n        this.regExps = {};\n        this.matchMappings = {};\n        for (var key in this.states) {\n            var state = this.states[key];\n            var ruleRegExps = [];\n            var matchTotal = 0;\n            var mapping = this.matchMappings[key] = { defaultToken: \"text\" };\n            var flag = \"g\";\n            var splitterRurles = [];\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                if (rule.defaultToken)\n                    mapping.defaultToken = rule.defaultToken;\n                if (rule.caseInsensitive && flag.indexOf(\"i\") === -1)\n                    flag += \"i\";\n                if (rule.unicode && flag.indexOf(\"u\") === -1)\n                    flag += \"u\";\n                if (rule.regex == null)\n                    continue;\n                if (rule.regex instanceof RegExp)\n                    rule.regex = rule.regex.toString().slice(1, -1);\n                var adjustedregex = rule.regex;\n                var matchcount = new RegExp(\"(?:(\" + adjustedregex + \")|(.))\").exec(\"a\").length - 2;\n                if (Array.isArray(rule.token)) {\n                    if (rule.token.length == 1 || matchcount == 1) {\n                        rule.token = rule.token[0];\n                    }\n                    else if (matchcount - 1 != rule.token.length) {\n                        this.reportError(\"number of classes and regexp groups doesn't match\", {\n                            rule: rule,\n                            groupCount: matchcount - 1\n                        });\n                        rule.token = rule.token[0];\n                    }\n                    else {\n                        rule.tokenArray = rule.token;\n                        rule.token = null;\n                        rule.onMatch = this.$arrayTokens;\n                    }\n                }\n                else if (typeof rule.token == \"function\" && !rule.onMatch) {\n                    if (matchcount > 1)\n                        rule.onMatch = this.$applyToken;\n                    else\n                        rule.onMatch = rule.token;\n                }\n                if (matchcount > 1) {\n                    if (/\\\\\\d/.test(rule.regex)) {\n                        adjustedregex = rule.regex.replace(/\\\\([0-9]+)/g, function (match, digit) {\n                            return \"\\\\\" + (parseInt(digit, 10) + matchTotal + 1);\n                        });\n                    }\n                    else {\n                        matchcount = 1;\n                        adjustedregex = this.removeCapturingGroups(rule.regex);\n                    }\n                    if (!rule.splitRegex && typeof rule.token != \"string\")\n                        splitterRurles.push(rule); // flag will be known only at the very end\n                }\n                mapping[matchTotal] = i;\n                matchTotal += matchcount;\n                ruleRegExps.push(adjustedregex);\n                if (!rule.onMatch)\n                    rule.onMatch = null;\n            }\n            if (!ruleRegExps.length) {\n                mapping[0] = 0;\n                ruleRegExps.push(\"$\");\n            }\n            splitterRurles.forEach(function (rule) {\n                rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);\n            }, this);\n            this.regExps[key] = new RegExp(\"(\" + ruleRegExps.join(\")|(\") + \")|($)\", flag);\n        }\n    }\n    Tokenizer.prototype.$setMaxTokenCount = function (m) {\n        MAX_TOKEN_COUNT = m | 0;\n    };\n    Tokenizer.prototype.$applyToken = function (str) {\n        var values = this.splitRegex.exec(str).slice(1);\n        var types = this.token.apply(this, values);\n        if (typeof types === \"string\")\n            return [{ type: types, value: str }];\n        var tokens = [];\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i]\n                };\n        }\n        return tokens;\n    };\n    Tokenizer.prototype.$arrayTokens = function (str) {\n        if (!str)\n            return [];\n        var values = this.splitRegex.exec(str);\n        if (!values)\n            return \"text\";\n        var tokens = [];\n        var types = this.tokenArray;\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i + 1])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i + 1]\n                };\n        }\n        return tokens;\n    };\n    Tokenizer.prototype.removeCapturingGroups = function (src) {\n        var r = src.replace(/\\\\.|\\[(?:\\\\.|[^\\\\\\]])*|\\(\\?[:=!<]|(\\()/g, function (x, y) { return y ? \"(?:\" : x; });\n        return r;\n    };\n    Tokenizer.prototype.createSplitterRegexp = function (src, flag) {\n        if (src.indexOf(\"(?=\") != -1) {\n            var stack = 0;\n            var inChClass = false;\n            var lastCapture = {};\n            src.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g, function (m, esc, parenOpen, parenClose, square, index) {\n                if (inChClass) {\n                    inChClass = square != \"]\";\n                }\n                else if (square) {\n                    inChClass = true;\n                }\n                else if (parenClose) {\n                    if (stack == lastCapture.stack) {\n                        lastCapture.end = index + 1;\n                        lastCapture.stack = -1;\n                    }\n                    stack--;\n                }\n                else if (parenOpen) {\n                    stack++;\n                    if (parenOpen.length != 1) {\n                        lastCapture.stack = stack;\n                        lastCapture.start = index;\n                    }\n                }\n                return m;\n            });\n            if (lastCapture.end != null && /^\\)*$/.test(src.substr(lastCapture.end)))\n                src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);\n        }\n        if (src.charAt(0) != \"^\")\n            src = \"^\" + src;\n        if (src.charAt(src.length - 1) != \"$\")\n            src += \"$\";\n        return new RegExp(src, (flag || \"\").replace(\"g\", \"\"));\n    };\n    Tokenizer.prototype.getLineTokens = function (line, startState) {\n        if (startState && typeof startState != \"string\") {\n            var stack = startState.slice(0);\n            startState = stack[0];\n            if (startState === \"#tmp\") {\n                stack.shift();\n                startState = stack.shift();\n            }\n        }\n        else\n            var stack = [];\n        var currentState = /**@type{string}*/ (startState) || \"start\";\n        var state = this.states[currentState];\n        if (!state) {\n            currentState = \"start\";\n            state = this.states[currentState];\n        }\n        var mapping = this.matchMappings[currentState];\n        var re = this.regExps[currentState];\n        re.lastIndex = 0;\n        var match, tokens = [];\n        var lastIndex = 0;\n        var matchAttempts = 0;\n        var token = { type: null, value: \"\" };\n        while (match = re.exec(line)) {\n            var type = mapping.defaultToken;\n            var rule = null;\n            var value = match[0];\n            var index = re.lastIndex;\n            if (index - value.length > lastIndex) {\n                var skipped = line.substring(lastIndex, index - value.length);\n                if (token.type == type) {\n                    token.value += skipped;\n                }\n                else {\n                    if (token.type)\n                        tokens.push(token);\n                    token = { type: type, value: skipped };\n                }\n            }\n            for (var i = 0; i < match.length - 2; i++) {\n                if (match[i + 1] === undefined)\n                    continue;\n                rule = state[mapping[i]];\n                if (rule.onMatch)\n                    type = rule.onMatch(value, currentState, stack, line);\n                else\n                    type = rule.token;\n                if (rule.next) {\n                    if (typeof rule.next == \"string\") {\n                        currentState = rule.next;\n                    }\n                    else {\n                        currentState = rule.next(currentState, stack);\n                    }\n                    state = this.states[currentState];\n                    if (!state) {\n                        this.reportError(\"state doesn't exist\", currentState);\n                        currentState = \"start\";\n                        state = this.states[currentState];\n                    }\n                    mapping = this.matchMappings[currentState];\n                    lastIndex = index;\n                    re = this.regExps[currentState];\n                    re.lastIndex = index;\n                }\n                if (rule.consumeLineEnd)\n                    lastIndex = index;\n                break;\n            }\n            if (value) {\n                if (typeof type === \"string\") {\n                    if ((!rule || rule.merge !== false) && token.type === type) {\n                        token.value += value;\n                    }\n                    else {\n                        if (token.type)\n                            tokens.push(token);\n                        token = { type: type, value: value };\n                    }\n                }\n                else if (type) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = { type: null, value: \"\" };\n                    for (var i = 0; i < type.length; i++)\n                        tokens.push(type[i]);\n                }\n            }\n            if (lastIndex == line.length)\n                break;\n            lastIndex = index;\n            if (matchAttempts++ > MAX_TOKEN_COUNT) {\n                if (matchAttempts > 2 * line.length) {\n                    this.reportError(\"infinite loop with in ace tokenizer\", {\n                        startState: startState,\n                        line: line\n                    });\n                }\n                while (lastIndex < line.length) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {\n                        value: line.substring(lastIndex, lastIndex += 500),\n                        type: \"overflow\"\n                    };\n                }\n                currentState = \"start\";\n                stack = [];\n                break;\n            }\n        }\n        if (token.type)\n            tokens.push(token);\n        if (stack.length > 1) {\n            if (stack[0] !== currentState)\n                stack.unshift(\"#tmp\", currentState);\n        }\n        return {\n            tokens: tokens,\n            state: stack.length ? stack : currentState\n        };\n    };\n    return Tokenizer;\n}());\nTokenizer.prototype.reportError = reportError;\nexports.Tokenizer = Tokenizer;\n\n});\n\nace.define(\"ace/mode/text_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/deep_copy\"], function(require, exports, module){\"use strict\";\nvar deepCopy = require(\"../lib/deep_copy\").deepCopy;\nvar TextHighlightRules;\nTextHighlightRules = function () {\n    this.$rules = {\n        \"start\": [{\n                token: \"empty_line\",\n                regex: '^$'\n            }, {\n                defaultToken: \"text\"\n            }]\n    };\n};\n(function () {\n    this.addRules = function (rules, prefix) {\n        if (!prefix) {\n            for (var key in rules)\n                this.$rules[key] = rules[key];\n            return;\n        }\n        for (var key in rules) {\n            var state = rules[key];\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                if (rule.next || rule.onMatch) {\n                    if (typeof rule.next == \"string\") {\n                        if (rule.next.indexOf(prefix) !== 0)\n                            rule.next = prefix + rule.next;\n                    }\n                    if (rule.nextState && rule.nextState.indexOf(prefix) !== 0)\n                        rule.nextState = prefix + rule.nextState;\n                }\n            }\n            this.$rules[prefix + key] = state;\n        }\n    };\n    this.getRules = function () {\n        return this.$rules;\n    };\n    this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {\n        var embedRules = typeof HighlightRules == \"function\"\n            ? new HighlightRules().getRules()\n            : HighlightRules;\n        if (states) {\n            for (var i = 0; i < states.length; i++)\n                states[i] = prefix + states[i];\n        }\n        else {\n            states = [];\n            for (var key in embedRules)\n                states.push(prefix + key);\n        }\n        this.addRules(embedRules, prefix);\n        if (escapeRules) {\n            var addRules = Array.prototype[append ? \"push\" : \"unshift\"];\n            for (var i = 0; i < states.length; i++)\n                addRules.apply(this.$rules[states[i]], deepCopy(escapeRules));\n        }\n        if (!this.$embeds)\n            this.$embeds = [];\n        this.$embeds.push(prefix);\n    };\n    this.getEmbeds = function () {\n        return this.$embeds;\n    };\n    var pushState = function (currentState, stack) {\n        if (currentState != \"start\" || stack.length)\n            stack.unshift(this.nextState, currentState);\n        return this.nextState;\n    };\n    var popState = function (currentState, stack) {\n        stack.shift();\n        return stack.shift() || \"start\";\n    };\n    this.normalizeRules = function () {\n        var id = 0;\n        var rules = this.$rules;\n        function processState(key) {\n            var state = rules[key];\n            state[\"processed\"] = true;\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                var toInsert = null;\n                if (Array.isArray(rule)) {\n                    toInsert = rule;\n                    rule = {};\n                }\n                if (!rule.regex && rule.start) {\n                    rule.regex = rule.start;\n                    if (!rule.next)\n                        rule.next = [];\n                    rule.next.push({\n                        defaultToken: rule.token\n                    }, {\n                        token: rule.token + \".end\",\n                        regex: rule.end || rule.start,\n                        next: \"pop\"\n                    });\n                    rule.token = rule.token + \".start\";\n                    rule.push = true;\n                }\n                var next = rule.next || rule.push;\n                if (next && Array.isArray(next)) {\n                    var stateName = rule.stateName;\n                    if (!stateName) {\n                        stateName = rule.token;\n                        if (typeof stateName != \"string\")\n                            stateName = stateName[0] || \"\";\n                        if (rules[stateName])\n                            stateName += id++;\n                    }\n                    rules[stateName] = next;\n                    rule.next = stateName;\n                    processState(stateName);\n                }\n                else if (next == \"pop\") {\n                    rule.next = popState;\n                }\n                if (rule.push) {\n                    rule.nextState = rule.next || rule.push;\n                    rule.next = pushState;\n                    delete rule.push;\n                }\n                if (rule.rules) {\n                    for (var r in rule.rules) {\n                        if (rules[r]) {\n                            if (rules[r].push)\n                                rules[r].push.apply(rules[r], rule.rules[r]);\n                        }\n                        else {\n                            rules[r] = rule.rules[r];\n                        }\n                    }\n                }\n                var includeName = typeof rule == \"string\" ? rule : rule.include;\n                if (includeName) {\n                    if (includeName === \"$self\")\n                        includeName = \"start\";\n                    if (Array.isArray(includeName))\n                        toInsert = includeName.map(function (x) { return rules[x]; });\n                    else\n                        toInsert = rules[includeName];\n                }\n                if (toInsert) {\n                    var args = [i, 1].concat(toInsert);\n                    if (rule.noEscape)\n                        args = args.filter(function (x) { return !x.next; });\n                    state.splice.apply(state, args);\n                    i--;\n                }\n                if (rule.keywordMap) {\n                    rule.token = this.createKeywordMapper(rule.keywordMap, rule.defaultToken || \"text\", rule.caseInsensitive);\n                    delete rule.defaultToken;\n                }\n            }\n        }\n        Object.keys(rules).forEach(processState, this);\n    };\n    this.createKeywordMapper = function (map, defaultToken, ignoreCase, splitChar) {\n        var keywords = Object.create(null);\n        this.$keywordList = [];\n        Object.keys(map).forEach(function (className) {\n            var a = map[className];\n            var list = a.split(splitChar || \"|\");\n            for (var i = list.length; i--;) {\n                var word = list[i];\n                this.$keywordList.push(word);\n                if (ignoreCase)\n                    word = word.toLowerCase();\n                keywords[word] = className;\n            }\n        }, this);\n        map = null;\n        return ignoreCase\n            ? function (value) { return keywords[value.toLowerCase()] || defaultToken; }\n            : function (value) { return keywords[value] || defaultToken; };\n    };\n    this.getKeywords = function () {\n        return this.$keywords;\n    };\n}).call(TextHighlightRules.prototype);\nexports.TextHighlightRules = TextHighlightRules;\n\n});\n\nace.define(\"ace/mode/behaviour\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar Behaviour;\nBehaviour = function () {\n    this.$behaviours = {};\n};\n(function () {\n    this.add = function (name, action, callback) {\n        switch (undefined) {\n            case this.$behaviours:\n                this.$behaviours = {};\n            case this.$behaviours[name]:\n                this.$behaviours[name] = {};\n        }\n        this.$behaviours[name][action] = callback;\n    };\n    this.addBehaviours = function (behaviours) {\n        for (var key in behaviours) {\n            for (var action in behaviours[key]) {\n                this.add(key, action, behaviours[key][action]);\n            }\n        }\n    };\n    this.remove = function (name) {\n        if (this.$behaviours && this.$behaviours[name]) {\n            delete this.$behaviours[name];\n        }\n    };\n    this.inherit = function (mode, filter) {\n        if (typeof mode === \"function\") {\n            var behaviours = new mode().getBehaviours(filter);\n        }\n        else {\n            var behaviours = mode.getBehaviours(filter);\n        }\n        this.addBehaviours(behaviours);\n    };\n    this.getBehaviours = function (filter) {\n        if (!filter) {\n            return this.$behaviours;\n        }\n        else {\n            var ret = {};\n            for (var i = 0; i < filter.length; i++) {\n                if (this.$behaviours[filter[i]]) {\n                    ret[filter[i]] = this.$behaviours[filter[i]];\n                }\n            }\n            return ret;\n        }\n    };\n}).call(Behaviour.prototype);\nexports.Behaviour = Behaviour;\n\n});\n\nace.define(\"ace/token_iterator\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"./range\").Range;\nvar TokenIterator = /** @class */ (function () {\n    function TokenIterator(session, initialRow, initialColumn) {\n        this.$session = session;\n        this.$row = initialRow;\n        this.$rowTokens = session.getTokens(initialRow);\n        var token = session.getTokenAt(initialRow, initialColumn);\n        this.$tokenIndex = token ? token.index : -1;\n    }\n    TokenIterator.prototype.stepBackward = function () {\n        this.$tokenIndex -= 1;\n        while (this.$tokenIndex < 0) {\n            this.$row -= 1;\n            if (this.$row < 0) {\n                this.$row = 0;\n                return null;\n            }\n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = this.$rowTokens.length - 1;\n        }\n        return this.$rowTokens[this.$tokenIndex];\n    };\n    TokenIterator.prototype.stepForward = function () {\n        this.$tokenIndex += 1;\n        var rowCount;\n        while (this.$tokenIndex >= this.$rowTokens.length) {\n            this.$row += 1;\n            if (!rowCount)\n                rowCount = this.$session.getLength();\n            if (this.$row >= rowCount) {\n                this.$row = rowCount - 1;\n                return null;\n            }\n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = 0;\n        }\n        return this.$rowTokens[this.$tokenIndex];\n    };\n    TokenIterator.prototype.getCurrentToken = function () {\n        return this.$rowTokens[this.$tokenIndex];\n    };\n    TokenIterator.prototype.getCurrentTokenRow = function () {\n        return this.$row;\n    };\n    TokenIterator.prototype.getCurrentTokenColumn = function () {\n        var rowTokens = this.$rowTokens;\n        var tokenIndex = this.$tokenIndex;\n        var column = rowTokens[tokenIndex].start;\n        if (column !== undefined)\n            return column;\n        column = 0;\n        while (tokenIndex > 0) {\n            tokenIndex -= 1;\n            column += rowTokens[tokenIndex].value.length;\n        }\n        return column;\n    };\n    TokenIterator.prototype.getCurrentTokenPosition = function () {\n        return { row: this.$row, column: this.getCurrentTokenColumn() };\n    };\n    TokenIterator.prototype.getCurrentTokenRange = function () {\n        var token = this.$rowTokens[this.$tokenIndex];\n        var column = this.getCurrentTokenColumn();\n        return new Range(this.$row, column, this.$row, column + token.value.length);\n    };\n    return TokenIterator;\n}());\nexports.TokenIterator = TokenIterator;\n\n});\n\nace.define(\"ace/mode/behaviour/cstyle\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/token_iterator\",\"ace/lib/lang\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\nvar lang = require(\"../../lib/lang\");\nvar SAFE_INSERT_IN_TOKENS = [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\"];\nvar SAFE_INSERT_BEFORE_TOKENS = [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\", \"comment\"];\nvar context;\nvar contextCache = {};\nvar defaultQuotes = { '\"': '\"', \"'\": \"'\" };\nvar initContext = function (editor) {\n    var id = -1;\n    if (editor.multiSelect) {\n        id = editor.selection.index;\n        if (contextCache.rangeCount != editor.multiSelect.rangeCount)\n            contextCache = { rangeCount: editor.multiSelect.rangeCount };\n    }\n    if (contextCache[id])\n        return context = contextCache[id];\n    context = contextCache[id] = {\n        autoInsertedBrackets: 0,\n        autoInsertedRow: -1,\n        autoInsertedLineEnd: \"\",\n        maybeInsertedBrackets: 0,\n        maybeInsertedRow: -1,\n        maybeInsertedLineStart: \"\",\n        maybeInsertedLineEnd: \"\"\n    };\n};\nvar getWrapped = function (selection, selected, opening, closing) {\n    var rowDiff = selection.end.row - selection.start.row;\n    return {\n        text: opening + selected + closing,\n        selection: [\n            0,\n            selection.start.column + 1,\n            rowDiff,\n            selection.end.column + (rowDiff ? 0 : 1)\n        ]\n    };\n};\nvar CstyleBehaviour;\nCstyleBehaviour = function (options) {\n    options = options || {};\n    this.add(\"braces\", \"insertion\", function (state, action, editor, session, text) {\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        if (text == '{') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            var token = session.getTokenAt(cursor.row, cursor.column);\n            if (selected !== \"\" && selected !== \"{\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '{', '}');\n            }\n            else if (token && /(?:string)\\.quasi|\\.xml/.test(token.type)) {\n                var excludeTokens = [\n                    /tag\\-(?:open|name)/, /attribute\\-name/\n                ];\n                if (excludeTokens.some(function (el) { return el.test(token.type); }) || /(string)\\.quasi/.test(token.type)\n                    && token.value[cursor.column - token.start - 1] !== '$')\n                    return;\n                CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n                return {\n                    text: '{}',\n                    selection: [1, 1]\n                };\n            }\n            else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                if (/[\\]\\}\\)]/.test(line[cursor.column]) || editor.inMultiSelectMode || options.braces) {\n                    CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n                    return {\n                        text: '{}',\n                        selection: [1, 1]\n                    };\n                }\n                else {\n                    CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n                    return {\n                        text: '{',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n        else if (text == '}') {\n            initContext(editor);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == '}') {\n                var matching = session.$findOpeningBracket('}', { column: cursor.column + 1, row: cursor.row });\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n        else if (text == \"\\n\" || text == \"\\r\\n\") {\n            initContext(editor);\n            var closing = \"\";\n            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n                closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n                CstyleBehaviour.clearMaybeInsertedClosing();\n            }\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === '}') {\n                var openBracePos = session.findMatchingBracket({ row: cursor.row, column: cursor.column + 1 }, '}');\n                if (!openBracePos)\n                    return null;\n                var next_indent = this.$getIndent(session.getLine(openBracePos.row));\n            }\n            else if (closing) {\n                var next_indent = this.$getIndent(line);\n            }\n            else {\n                CstyleBehaviour.clearMaybeInsertedClosing();\n                return;\n            }\n            var indent = next_indent + session.getTabString();\n            return {\n                text: '\\n' + indent + '\\n' + next_indent + closing,\n                selection: [1, indent.length, 1, indent.length]\n            };\n        }\n        else {\n            CstyleBehaviour.clearMaybeInsertedClosing();\n        }\n    });\n    this.add(\"braces\", \"deletion\", function (state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '{') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.end.column, range.end.column + 1);\n            if (rightChar == '}') {\n                range.end.column++;\n                return range;\n            }\n            else {\n                context.maybeInsertedBrackets--;\n            }\n        }\n    });\n    this.add(\"parens\", \"insertion\", function (state, action, editor, session, text) {\n        if (text == '(') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '(', ')');\n            }\n            else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n                return {\n                    text: '()',\n                    selection: [1, 1]\n                };\n            }\n        }\n        else if (text == ')') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ')') {\n                var matching = session.$findOpeningBracket(')', { column: cursor.column + 1, row: cursor.row });\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n    this.add(\"parens\", \"deletion\", function (state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '(') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ')') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n    this.add(\"brackets\", \"insertion\", function (state, action, editor, session, text) {\n        if (text == '[') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '[', ']');\n            }\n            else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n                return {\n                    text: '[]',\n                    selection: [1, 1]\n                };\n            }\n        }\n        else if (text == ']') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ']') {\n                var matching = session.$findOpeningBracket(']', { column: cursor.column + 1, row: cursor.row });\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n    this.add(\"brackets\", \"deletion\", function (state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '[') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ']') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n    this.add(\"string_dquotes\", \"insertion\", function (state, action, editor, session, text) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n        if (text.length == 1 && quotes[text]) {\n            if (this.lineCommentStart && this.lineCommentStart.indexOf(text) != -1)\n                return;\n            initContext(editor);\n            var quote = text;\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && (selected.length != 1 || !quotes[selected]) && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, quote, quote);\n            }\n            else if (!selected) {\n                var cursor = editor.getCursorPosition();\n                var line = session.doc.getLine(cursor.row);\n                var leftChar = line.substring(cursor.column - 1, cursor.column);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                var token = session.getTokenAt(cursor.row, cursor.column);\n                var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);\n                if (leftChar == \"\\\\\" && token && /escape/.test(token.type))\n                    return null;\n                var stringBefore = token && /string|escape/.test(token.type);\n                var stringAfter = !rightToken || /string|escape/.test(rightToken.type);\n                var pair;\n                if (rightChar == quote) {\n                    pair = stringBefore !== stringAfter;\n                    if (pair && /string\\.end/.test(rightToken.type))\n                        pair = false;\n                }\n                else {\n                    if (stringBefore && !stringAfter)\n                        return null; // wrap string with different quote\n                    if (stringBefore && stringAfter)\n                        return null; // do not pair quotes inside strings\n                    var wordRe = session.$mode.tokenRe;\n                    wordRe.lastIndex = 0;\n                    var isWordBefore = wordRe.test(leftChar);\n                    wordRe.lastIndex = 0;\n                    var isWordAfter = wordRe.test(rightChar);\n                    var pairQuotesAfter = session.$mode.$pairQuotesAfter;\n                    var shouldPairQuotes = pairQuotesAfter && pairQuotesAfter[quote] && pairQuotesAfter[quote].test(leftChar);\n                    if ((!shouldPairQuotes && isWordBefore) || isWordAfter)\n                        return null; // before or after alphanumeric\n                    if (rightChar && !/[\\s;,.})\\]\\\\]/.test(rightChar))\n                        return null; // there is rightChar and it isn't closing\n                    var charBefore = line[cursor.column - 2];\n                    if (leftChar == quote && (charBefore == quote || wordRe.test(charBefore)))\n                        return null;\n                    pair = true;\n                }\n                return {\n                    text: pair ? quote + quote : \"\",\n                    selection: [1, 1]\n                };\n            }\n        }\n    });\n    this.add(\"string_dquotes\", \"deletion\", function (state, action, editor, session, range) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && quotes.hasOwnProperty(selected)) {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == selected) {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n    if (options.closeDocComment !== false) {\n        this.add(\"doc comment end\", \"insertion\", function (state, action, editor, session, text) {\n            if (state === \"doc-start\" && (text === \"\\n\" || text === \"\\r\\n\") && editor.selection.isEmpty()) {\n                var cursor = editor.getCursorPosition();\n                if (cursor.column === 0) {\n                    return;\n                }\n                var line = session.doc.getLine(cursor.row);\n                var nextLine = session.doc.getLine(cursor.row + 1);\n                var tokens = session.getTokens(cursor.row);\n                var index = 0;\n                for (var i = 0; i < tokens.length; i++) {\n                    index += tokens[i].value.length;\n                    var currentToken = tokens[i];\n                    if (index >= cursor.column) {\n                        if (index === cursor.column) {\n                            if (!/\\.doc/.test(currentToken.type)) {\n                                return;\n                            }\n                            if (/\\*\\//.test(currentToken.value)) {\n                                var nextToken = tokens[i + 1];\n                                if (!nextToken || !/\\.doc/.test(nextToken.type)) {\n                                    return;\n                                }\n                            }\n                        }\n                        var cursorPosInToken = cursor.column - (index - currentToken.value.length);\n                        var closeDocPos = currentToken.value.indexOf(\"*/\");\n                        var openDocPos = currentToken.value.indexOf(\"/**\", closeDocPos > -1 ? closeDocPos + 2 : 0);\n                        if (openDocPos !== -1 && cursorPosInToken > openDocPos && cursorPosInToken < openDocPos + 3) {\n                            return;\n                        }\n                        if (closeDocPos !== -1 && openDocPos !== -1 && cursorPosInToken >= closeDocPos\n                            && cursorPosInToken <= openDocPos || !/\\.doc/.test(currentToken.type)) {\n                            return;\n                        }\n                        break;\n                    }\n                }\n                var indent = this.$getIndent(line);\n                if (/\\s*\\*/.test(nextLine)) {\n                    if (/^\\s*\\*/.test(line)) {\n                        return {\n                            text: text + indent + \"* \",\n                            selection: [1, 2 + indent.length, 1, 2 + indent.length]\n                        };\n                    }\n                    else {\n                        return {\n                            text: text + indent + \" * \",\n                            selection: [1, 3 + indent.length, 1, 3 + indent.length]\n                        };\n                    }\n                }\n                if (/\\/\\*\\*/.test(line.substring(0, cursor.column))) {\n                    return {\n                        text: text + indent + \" * \" + text + \" \" + indent + \"*/\",\n                        selection: [1, 4 + indent.length, 1, 4 + indent.length]\n                    };\n                }\n            }\n        });\n    }\n};\nCstyleBehaviour.isSaneInsertion = function (editor, session) {\n    var cursor = editor.getCursorPosition();\n    var iterator = new TokenIterator(session, cursor.row, cursor.column);\n    if (!this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) {\n        if (/[)}\\]]/.test(editor.session.getLine(cursor.row)[cursor.column]))\n            return true;\n        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);\n        if (!this.$matchTokenType(iterator2.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS))\n            return false;\n    }\n    iterator.stepForward();\n    return iterator.getCurrentTokenRow() !== cursor.row ||\n        this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_BEFORE_TOKENS);\n};\nCstyleBehaviour[\"$matchTokenType\"] = function (token, types) {\n    return types.indexOf(token.type || token) > -1;\n};\nCstyleBehaviour[\"recordAutoInsert\"] = function (editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this[\"isAutoInsertedClosing\"](cursor, line, context.autoInsertedLineEnd[0]))\n        context.autoInsertedBrackets = 0;\n    context.autoInsertedRow = cursor.row;\n    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n    context.autoInsertedBrackets++;\n};\nCstyleBehaviour[\"recordMaybeInsert\"] = function (editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this[\"isMaybeInsertedClosing\"](cursor, line))\n        context.maybeInsertedBrackets = 0;\n    context.maybeInsertedRow = cursor.row;\n    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n    context.maybeInsertedLineEnd = line.substr(cursor.column);\n    context.maybeInsertedBrackets++;\n};\nCstyleBehaviour[\"isAutoInsertedClosing\"] = function (cursor, line, bracket) {\n    return context.autoInsertedBrackets > 0 &&\n        cursor.row === context.autoInsertedRow &&\n        bracket === context.autoInsertedLineEnd[0] &&\n        line.substr(cursor.column) === context.autoInsertedLineEnd;\n};\nCstyleBehaviour[\"isMaybeInsertedClosing\"] = function (cursor, line) {\n    return context.maybeInsertedBrackets > 0 &&\n        cursor.row === context.maybeInsertedRow &&\n        line.substr(cursor.column) === context.maybeInsertedLineEnd &&\n        line.substr(0, cursor.column) == context.maybeInsertedLineStart;\n};\nCstyleBehaviour[\"popAutoInsertedClosing\"] = function () {\n    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n    context.autoInsertedBrackets--;\n};\nCstyleBehaviour[\"clearMaybeInsertedClosing\"] = function () {\n    if (context) {\n        context.maybeInsertedBrackets = 0;\n        context.maybeInsertedRow = -1;\n    }\n};\noop.inherits(CstyleBehaviour, Behaviour);\nexports.CstyleBehaviour = CstyleBehaviour;\n\n});\n\nace.define(\"ace/unicode\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar wordChars = [48, 9, 8, 25, 5, 0, 2, 25, 48, 0, 11, 0, 5, 0, 6, 22, 2, 30, 2, 457, 5, 11, 15, 4, 8, 0, 2, 0, 18, 116, 2, 1, 3, 3, 9, 0, 2, 2, 2, 0, 2, 19, 2, 82, 2, 138, 2, 4, 3, 155, 12, 37, 3, 0, 8, 38, 10, 44, 2, 0, 2, 1, 2, 1, 2, 0, 9, 26, 6, 2, 30, 10, 7, 61, 2, 9, 5, 101, 2, 7, 3, 9, 2, 18, 3, 0, 17, 58, 3, 100, 15, 53, 5, 0, 6, 45, 211, 57, 3, 18, 2, 5, 3, 11, 3, 9, 2, 1, 7, 6, 2, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 0, 4, 3, 3, 8, 3, 1, 3, 3, 9, 0, 5, 1, 2, 4, 3, 11, 16, 2, 2, 5, 5, 1, 3, 21, 2, 6, 2, 1, 2, 1, 2, 1, 3, 0, 2, 4, 5, 1, 3, 2, 4, 0, 8, 3, 2, 0, 8, 15, 12, 2, 2, 8, 2, 2, 2, 21, 2, 6, 2, 1, 2, 4, 3, 9, 2, 2, 2, 2, 3, 0, 16, 3, 3, 9, 18, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 3, 8, 3, 1, 3, 2, 9, 1, 5, 1, 2, 4, 3, 9, 2, 0, 17, 1, 2, 5, 4, 2, 2, 3, 4, 1, 2, 0, 2, 1, 4, 1, 4, 2, 4, 11, 5, 4, 4, 2, 2, 3, 3, 0, 7, 0, 15, 9, 18, 2, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 4, 7, 2, 2, 2, 3, 8, 1, 2, 1, 7, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 3, 8, 2, 2, 2, 3, 8, 1, 8, 0, 2, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 15, 4, 7, 2, 2, 2, 3, 10, 0, 9, 3, 3, 9, 11, 5, 3, 1, 2, 17, 4, 23, 2, 8, 2, 0, 3, 6, 4, 0, 5, 5, 2, 0, 2, 7, 19, 1, 14, 57, 6, 14, 2, 9, 40, 1, 2, 0, 3, 1, 2, 0, 3, 0, 7, 3, 2, 6, 2, 2, 2, 0, 2, 0, 3, 1, 2, 12, 2, 2, 3, 4, 2, 0, 2, 5, 3, 9, 3, 1, 35, 0, 24, 1, 7, 9, 12, 0, 2, 0, 2, 0, 5, 9, 2, 35, 5, 19, 2, 5, 5, 7, 2, 35, 10, 0, 58, 73, 7, 77, 3, 37, 11, 42, 2, 0, 4, 328, 2, 3, 3, 6, 2, 0, 2, 3, 3, 40, 2, 3, 3, 32, 2, 3, 3, 6, 2, 0, 2, 3, 3, 14, 2, 56, 2, 3, 3, 66, 5, 0, 33, 15, 17, 84, 13, 619, 3, 16, 2, 25, 6, 74, 22, 12, 2, 6, 12, 20, 12, 19, 13, 12, 2, 2, 2, 1, 13, 51, 3, 29, 4, 0, 5, 1, 3, 9, 34, 2, 3, 9, 7, 87, 9, 42, 6, 69, 11, 28, 4, 11, 5, 11, 11, 39, 3, 4, 12, 43, 5, 25, 7, 10, 38, 27, 5, 62, 2, 28, 3, 10, 7, 9, 14, 0, 89, 75, 5, 9, 18, 8, 13, 42, 4, 11, 71, 55, 9, 9, 4, 48, 83, 2, 2, 30, 14, 230, 23, 280, 3, 5, 3, 37, 3, 5, 3, 7, 2, 0, 2, 0, 2, 0, 2, 30, 3, 52, 2, 6, 2, 0, 4, 2, 2, 6, 4, 3, 3, 5, 5, 12, 6, 2, 2, 6, 67, 1, 20, 0, 29, 0, 14, 0, 17, 4, 60, 12, 5, 0, 4, 11, 18, 0, 5, 0, 3, 9, 2, 0, 4, 4, 7, 0, 2, 0, 2, 0, 2, 3, 2, 10, 3, 3, 6, 4, 5, 0, 53, 1, 2684, 46, 2, 46, 2, 132, 7, 6, 15, 37, 11, 53, 10, 0, 17, 22, 10, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 31, 48, 0, 470, 1, 36, 5, 2, 4, 6, 1, 5, 85, 3, 1, 3, 2, 2, 89, 2, 3, 6, 40, 4, 93, 18, 23, 57, 15, 513, 6581, 75, 20939, 53, 1164, 68, 45, 3, 268, 4, 27, 21, 31, 3, 13, 13, 1, 2, 24, 9, 69, 11, 1, 38, 8, 3, 102, 3, 1, 111, 44, 25, 51, 13, 68, 12, 9, 7, 23, 4, 0, 5, 45, 3, 35, 13, 28, 4, 64, 15, 10, 39, 54, 10, 13, 3, 9, 7, 22, 4, 1, 5, 66, 25, 2, 227, 42, 2, 1, 3, 9, 7, 11171, 13, 22, 5, 48, 8453, 301, 3, 61, 3, 105, 39, 6, 13, 4, 6, 11, 2, 12, 2, 4, 2, 0, 2, 1, 2, 1, 2, 107, 34, 362, 19, 63, 3, 53, 41, 11, 5, 15, 17, 6, 13, 1, 25, 2, 33, 4, 2, 134, 20, 9, 8, 25, 5, 0, 2, 25, 12, 88, 4, 5, 3, 5, 3, 5, 3, 2];\nvar code = 0;\nvar str = [];\nfor (var i = 0; i < wordChars.length; i += 2) {\n    str.push(code += wordChars[i]);\n    if (wordChars[i + 1])\n        str.push(45, code += wordChars[i + 1]);\n}\nexports.wordChars = String.fromCharCode.apply(null, str);\n\n});\n\nace.define(\"ace/mode/text\",[\"require\",\"exports\",\"module\",\"ace/config\",\"ace/tokenizer\",\"ace/mode/text_highlight_rules\",\"ace/mode/behaviour/cstyle\",\"ace/unicode\",\"ace/lib/lang\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar config = require(\"../config\");\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\nvar CstyleBehaviour = require(\"./behaviour/cstyle\").CstyleBehaviour;\nvar unicode = require(\"../unicode\");\nvar lang = require(\"../lib/lang\");\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\nvar Mode;\nMode = function () {\n    this.HighlightRules = TextHighlightRules;\n};\n(function () {\n    this.$defaultBehaviour = new CstyleBehaviour();\n    this.tokenRe = new RegExp(\"^[\" + unicode.wordChars + \"\\\\$_]+\", \"g\");\n    this.nonTokenRe = new RegExp(\"^(?:[^\" + unicode.wordChars + \"\\\\$_]|\\\\s])+\", \"g\");\n    this.getTokenizer = function () {\n        if (!this.$tokenizer) {\n            this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig);\n            this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());\n        }\n        return this.$tokenizer;\n    };\n    this.lineCommentStart = \"\";\n    this.blockComment = \"\";\n    this.toggleCommentLines = function (state, session, startRow, endRow) {\n        var doc = session.doc;\n        var ignoreBlankLines = true;\n        var shouldRemove = true;\n        var minIndent = Infinity;\n        var tabSize = session.getTabSize();\n        var insertAtTabStop = false;\n        if (!this.lineCommentStart) {\n            if (!this.blockComment)\n                return false;\n            var lineCommentStart = this.blockComment.start;\n            var lineCommentEnd = this.blockComment.end;\n            var regexpStart = new RegExp(\"^(\\\\s*)(?:\" + lang.escapeRegExp(lineCommentStart) + \")\");\n            var regexpEnd = new RegExp(\"(?:\" + lang.escapeRegExp(lineCommentEnd) + \")\\\\s*$\");\n            var comment = function (line, i) {\n                if (testRemove(line, i))\n                    return;\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    doc.insertInLine({ row: i, column: line.length }, lineCommentEnd);\n                    doc.insertInLine({ row: i, column: minIndent }, lineCommentStart);\n                }\n            };\n            var uncomment = function (line, i) {\n                var m;\n                if (m = line.match(regexpEnd))\n                    doc.removeInLine(i, line.length - m[0].length, line.length);\n                if (m = line.match(regexpStart))\n                    doc.removeInLine(i, m[1].length, m[0].length);\n            };\n            var testRemove = function (line, row) {\n                if (regexpStart.test(line))\n                    return true;\n                var tokens = session.getTokens(row);\n                for (var i = 0; i < tokens.length; i++) {\n                    if (tokens[i].type === \"comment\")\n                        return true;\n                }\n            };\n        }\n        else {\n            if (Array.isArray(this.lineCommentStart)) {\n                var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join(\"|\");\n                var lineCommentStart = this.lineCommentStart[0];\n            }\n            else {\n                var regexpStart = lang.escapeRegExp(this.lineCommentStart);\n                var lineCommentStart = this.lineCommentStart;\n            }\n            regexpStart = new RegExp(\"^(\\\\s*)(?:\" + regexpStart + \") ?\");\n            insertAtTabStop = session.getUseSoftTabs();\n            var uncomment = function (line, i) {\n                var m = line.match(regexpStart);\n                if (!m)\n                    return;\n                var start = m[1].length, end = m[0].length;\n                if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == \" \")\n                    end--;\n                doc.removeInLine(i, start, end);\n            };\n            var commentWithSpace = lineCommentStart + \" \";\n            var comment = function (line, i) {\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    if (shouldInsertSpace(line, minIndent, minIndent))\n                        doc.insertInLine({ row: i, column: minIndent }, commentWithSpace);\n                    else\n                        doc.insertInLine({ row: i, column: minIndent }, lineCommentStart);\n                }\n            };\n            var testRemove = function (line, i) {\n                return regexpStart.test(line);\n            };\n            var shouldInsertSpace = function (line, before, after) {\n                var spaces = 0;\n                while (before-- && line.charAt(before) == \" \")\n                    spaces++;\n                if (spaces % tabSize != 0)\n                    return false;\n                var spaces = 0;\n                while (line.charAt(after++) == \" \")\n                    spaces++;\n                if (tabSize > 2)\n                    return spaces % tabSize != tabSize - 1;\n                else\n                    return spaces % tabSize == 0;\n            };\n        }\n        function iter(fun) {\n            for (var i = startRow; i <= endRow; i++)\n                fun(doc.getLine(i), i);\n        }\n        var minEmptyLength = Infinity;\n        iter(function (line, i) {\n            var indent = line.search(/\\S/);\n            if (indent !== -1) {\n                if (indent < minIndent)\n                    minIndent = indent;\n                if (shouldRemove && !testRemove(line, i))\n                    shouldRemove = false;\n            }\n            else if (minEmptyLength > line.length) {\n                minEmptyLength = line.length;\n            }\n        });\n        if (minIndent == Infinity) {\n            minIndent = minEmptyLength;\n            ignoreBlankLines = false;\n            shouldRemove = false;\n        }\n        if (insertAtTabStop && minIndent % tabSize != 0)\n            minIndent = Math.floor(minIndent / tabSize) * tabSize;\n        iter(shouldRemove ? uncomment : comment);\n    };\n    this.toggleBlockComment = function (state, session, range, cursor) {\n        var comment = this.blockComment;\n        if (!comment)\n            return;\n        if (!comment.start && comment[0])\n            comment = comment[0];\n        var iterator = new TokenIterator(session, cursor.row, cursor.column);\n        var token = iterator.getCurrentToken();\n        var sel = session.selection;\n        var initialRange = session.selection.toOrientedRange();\n        var startRow, colDiff;\n        if (token && /comment/.test(token.type)) {\n            var startRange, endRange;\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.start);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    startRange = new Range(row, column, row, column + comment.start.length);\n                    break;\n                }\n                token = iterator.stepBackward();\n            }\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.end);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    endRange = new Range(row, column, row, column + comment.end.length);\n                    break;\n                }\n                token = iterator.stepForward();\n            }\n            if (endRange)\n                session.remove(endRange);\n            if (startRange) {\n                session.remove(startRange);\n                startRow = startRange.start.row;\n                colDiff = -comment.start.length;\n            }\n        }\n        else {\n            colDiff = comment.start.length;\n            startRow = range.start.row;\n            session.insert(range.end, comment.end);\n            session.insert(range.start, comment.start);\n        }\n        if (initialRange.start.row == startRow)\n            initialRange.start.column += colDiff;\n        if (initialRange.end.row == startRow)\n            initialRange.end.column += colDiff;\n        session.selection.fromOrientedRange(initialRange);\n    };\n    this.getNextLineIndent = function (state, line, tab) {\n        return this.$getIndent(line);\n    };\n    this.checkOutdent = function (state, line, input) {\n        return false;\n    };\n    this.autoOutdent = function (state, doc, row) {\n    };\n    this.$getIndent = function (line) {\n        return line.match(/^\\s*/)[0];\n    };\n    this.createWorker = function (session) {\n        return null;\n    };\n    this.createModeDelegates = function (mapping) {\n        this.$embeds = [];\n        this.$modes = {};\n        for (var i in mapping) {\n            if (mapping[i]) {\n                var Mode = mapping[i];\n                var id = Mode.prototype.$id;\n                var mode = config.$modes[id];\n                if (!mode)\n                    config.$modes[id] = mode = new Mode();\n                if (!config.$modes[i])\n                    config.$modes[i] = mode;\n                this.$embeds.push(i);\n                this.$modes[i] = mode;\n            }\n        }\n        var delegations = [\"toggleBlockComment\", \"toggleCommentLines\", \"getNextLineIndent\",\n            \"checkOutdent\", \"autoOutdent\", \"transformAction\", \"getCompletions\"];\n        var _loop_1 = function (i) {\n            (function (scope) {\n                var functionName = delegations[i];\n                var defaultHandler = scope[functionName];\n                scope[delegations[i]] =\n                    function () {\n                        return this.$delegator(functionName, arguments, defaultHandler);\n                    };\n            }(this_1));\n        };\n        var this_1 = this;\n        for (var i = 0; i < delegations.length; i++) {\n            _loop_1(i);\n        }\n    };\n    this.$delegator = function (method, args, defaultHandler) {\n        var state = args[0] || \"start\";\n        if (typeof state != \"string\") {\n            if (Array.isArray(state[2])) {\n                var language = state[2][state[2].length - 1];\n                var mode = this.$modes[language];\n                if (mode)\n                    return mode[method].apply(mode, [state[1]].concat([].slice.call(args, 1)));\n            }\n            state = state[0] || \"start\";\n        }\n        for (var i = 0; i < this.$embeds.length; i++) {\n            if (!this.$modes[this.$embeds[i]])\n                continue;\n            var split = state.split(this.$embeds[i]);\n            if (!split[0] && split[1]) {\n                args[0] = split[1];\n                var mode = this.$modes[this.$embeds[i]];\n                return mode[method].apply(mode, args);\n            }\n        }\n        var ret = defaultHandler.apply(this, args);\n        return defaultHandler ? ret : undefined;\n    };\n    this.transformAction = function (state, action, editor, session, param) {\n        if (this.$behaviour) {\n            var behaviours = this.$behaviour.getBehaviours();\n            for (var key in behaviours) {\n                if (behaviours[key][action]) {\n                    var ret = behaviours[key][action].apply(this, arguments);\n                    if (ret) {\n                        return ret;\n                    }\n                }\n            }\n        }\n    };\n    this.getKeywords = function (append) {\n        if (!this.completionKeywords) {\n            var rules = this.$tokenizer[\"rules\"];\n            var completionKeywords = [];\n            for (var rule in rules) {\n                var ruleItr = rules[rule];\n                for (var r = 0, l = ruleItr.length; r < l; r++) {\n                    if (typeof ruleItr[r].token === \"string\") {\n                        if (/keyword|support|storage/.test(ruleItr[r].token))\n                            completionKeywords.push(ruleItr[r].regex);\n                    }\n                    else if (typeof ruleItr[r].token === \"object\") {\n                        for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {\n                            if (/keyword|support|storage/.test(ruleItr[r].token[a])) {\n                                var rule = ruleItr[r].regex.match(/\\(.+?\\)/g)[a];\n                                completionKeywords.push(rule.substr(1, rule.length - 2));\n                            }\n                        }\n                    }\n                }\n            }\n            this.completionKeywords = completionKeywords;\n        }\n        if (!append)\n            return this.$keywordList;\n        return completionKeywords.concat(this.$keywordList || []);\n    };\n    this.$createKeywordList = function () {\n        if (!this.$highlightRules)\n            this.getTokenizer();\n        return this.$keywordList = this.$highlightRules.$keywordList || [];\n    };\n    this.getCompletions = function (state, session, pos, prefix) {\n        var keywords = this.$keywordList || this.$createKeywordList();\n        return keywords.map(function (word) {\n            return {\n                name: word,\n                value: word,\n                score: 0,\n                meta: \"keyword\"\n            };\n        });\n    };\n    this.$id = \"ace/mode/text\";\n}).call(Mode.prototype);\nexports.Mode = Mode;\n\n});\n\nace.define(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nfunction throwDeltaError(delta, errorText) {\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n}\nfunction positionInDocument(docLines, position) {\n    return position.row >= 0 && position.row < docLines.length &&\n        position.column >= 0 && position.column <= docLines[position.row].length;\n}\nfunction validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\")\n        throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array))\n        throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end)\n        throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start))\n        throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end))\n        throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = (end.column - (numRangeRows == 0 ? start.column : 0));\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars)\n        throwDeltaError(delta, \"delta.range must match delta lines\");\n}\nexports.applyDelta = function (docLines, delta, doNotValidate) {\n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n    switch (delta.action) {\n        case \"insert\":\n            var lines = delta.lines;\n            if (lines.length === 1) {\n                docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n            }\n            else {\n                var args = [row, 1].concat(delta.lines);\n                docLines.splice.apply(docLines, args);\n                docLines[row] = line.substring(0, startColumn) + docLines[row];\n                docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n            }\n            break;\n        case \"remove\":\n            var endColumn = delta.end.column;\n            var endRow = delta.end.row;\n            if (row === endRow) {\n                docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n            }\n            else {\n                docLines.splice(row, endRow - row + 1, line.substring(0, startColumn) + docLines[endRow].substring(endColumn));\n            }\n            break;\n    }\n};\n\n});\n\nace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Anchor = /** @class */ (function () {\n    function Anchor(doc, row, column) {\n        this.$onChange = this.onChange.bind(this);\n        this.attach(doc);\n        if (typeof row != \"number\")\n            this.setPosition(row.row, row.column);\n        else\n            this.setPosition(row, column);\n    }\n    Anchor.prototype.getPosition = function () {\n        return this.$clipPositionToDocument(this.row, this.column);\n    };\n    Anchor.prototype.getDocument = function () {\n        return this.document;\n    };\n    Anchor.prototype.onChange = function (delta) {\n        if (delta.start.row == delta.end.row && delta.start.row != this.row)\n            return;\n        if (delta.start.row > this.row)\n            return;\n        var point = $getTransformedPoint(delta, { row: this.row, column: this.column }, this.$insertRight);\n        this.setPosition(point.row, point.column, true);\n    };\n    Anchor.prototype.setPosition = function (row, column, noClip) {\n        var pos;\n        if (noClip) {\n            pos = {\n                row: row,\n                column: column\n            };\n        }\n        else {\n            pos = this.$clipPositionToDocument(row, column);\n        }\n        if (this.row == pos.row && this.column == pos.column)\n            return;\n        var old = {\n            row: this.row,\n            column: this.column\n        };\n        this.row = pos.row;\n        this.column = pos.column;\n        this._signal(\"change\", {\n            old: old,\n            value: pos\n        });\n    };\n    Anchor.prototype.detach = function () {\n        this.document.off(\"change\", this.$onChange);\n    };\n    Anchor.prototype.attach = function (doc) {\n        this.document = doc || this.document;\n        this.document.on(\"change\", this.$onChange);\n    };\n    Anchor.prototype.$clipPositionToDocument = function (row, column) {\n        var pos = {};\n        if (row >= this.document.getLength()) {\n            pos.row = Math.max(0, this.document.getLength() - 1);\n            pos.column = this.document.getLine(pos.row).length;\n        }\n        else if (row < 0) {\n            pos.row = 0;\n            pos.column = 0;\n        }\n        else {\n            pos.row = row;\n            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n        }\n        if (column < 0)\n            pos.column = 0;\n        return pos;\n    };\n    return Anchor;\n}());\nAnchor.prototype.$insertRight = false;\noop.implement(Anchor.prototype, EventEmitter);\nfunction $pointsInOrder(point1, point2, equalPointsInOrder) {\n    var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n    return (point1.row < point2.row) || (point1.row == point2.row && bColIsAfter);\n}\nfunction $getTransformedPoint(delta, point, moveIfEqual) {\n    var deltaIsInsert = delta.action == \"insert\";\n    var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row);\n    var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n    var deltaStart = delta.start;\n    var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n    if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n        return {\n            row: point.row,\n            column: point.column\n        };\n    }\n    if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n        return {\n            row: point.row + deltaRowShift,\n            column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n        };\n    }\n    return {\n        row: deltaStart.row,\n        column: deltaStart.column\n    };\n}\nexports.Anchor = Anchor;\n\n});\n\nace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar applyDelta = require(\"./apply_delta\").applyDelta;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Anchor = require(\"./anchor\").Anchor;\nvar Document = /** @class */ (function () {\n    function Document(textOrLines) {\n        this.$lines = [\"\"];\n        if (textOrLines.length === 0) {\n            this.$lines = [\"\"];\n        }\n        else if (Array.isArray(textOrLines)) {\n            this.insertMergedLines({ row: 0, column: 0 }, textOrLines);\n        }\n        else {\n            this.insert({ row: 0, column: 0 }, textOrLines);\n        }\n    }\n    Document.prototype.setValue = function (text) {\n        var len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length));\n        this.insert({ row: 0, column: 0 }, text || \"\");\n    };\n    Document.prototype.getValue = function () {\n        return this.getAllLines().join(this.getNewLineCharacter());\n    };\n    Document.prototype.createAnchor = function (row, column) {\n        return new Anchor(this, row, column);\n    };\n    Document.prototype.$detectNewLine = function (text) {\n        var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        this.$autoNewLine = match ? match[1] : \"\\n\";\n        this._signal(\"changeNewLineMode\");\n    };\n    Document.prototype.getNewLineCharacter = function () {\n        switch (this.$newLineMode) {\n            case \"windows\":\n                return \"\\r\\n\";\n            case \"unix\":\n                return \"\\n\";\n            default:\n                return this.$autoNewLine || \"\\n\";\n        }\n    };\n    Document.prototype.setNewLineMode = function (newLineMode) {\n        if (this.$newLineMode === newLineMode)\n            return;\n        this.$newLineMode = newLineMode;\n        this._signal(\"changeNewLineMode\");\n    };\n    Document.prototype.getNewLineMode = function () {\n        return this.$newLineMode;\n    };\n    Document.prototype.isNewLine = function (text) {\n        return (text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\");\n    };\n    Document.prototype.getLine = function (row) {\n        return this.$lines[row] || \"\";\n    };\n    Document.prototype.getLines = function (firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n    };\n    Document.prototype.getAllLines = function () {\n        return this.getLines(0, this.getLength());\n    };\n    Document.prototype.getLength = function () {\n        return this.$lines.length;\n    };\n    Document.prototype.getTextRange = function (range) {\n        return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    };\n    Document.prototype.getLinesForRange = function (range) {\n        var lines;\n        if (range.start.row === range.end.row) {\n            lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n        }\n        else {\n            lines = this.getLines(range.start.row, range.end.row);\n            lines[0] = (lines[0] || \"\").substring(range.start.column);\n            var l = lines.length - 1;\n            if (range.end.row - range.start.row == l)\n                lines[l] = lines[l].substring(0, range.end.column);\n        }\n        return lines;\n    };\n    Document.prototype.insertLines = function (row, lines) {\n        console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n        return this.insertFullLines(row, lines);\n    };\n    Document.prototype.removeLines = function (firstRow, lastRow) {\n        console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n        return this.removeFullLines(firstRow, lastRow);\n    };\n    Document.prototype.insertNewLine = function (position) {\n        console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n        return this.insertMergedLines(position, [\"\", \"\"]);\n    };\n    Document.prototype.insert = function (position, text) {\n        if (this.getLength() <= 1)\n            this.$detectNewLine(text);\n        return this.insertMergedLines(position, this.$split(text));\n    };\n    Document.prototype.insertInLine = function (position, text) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = this.pos(position.row, position.column + text.length);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: [text]\n        }, true);\n        return this.clonePos(end);\n    };\n    Document.prototype.clippedPos = function (row, column) {\n        var length = this.getLength();\n        if (row === undefined) {\n            row = length;\n        }\n        else if (row < 0) {\n            row = 0;\n        }\n        else if (row >= length) {\n            row = length - 1;\n            column = undefined;\n        }\n        var line = this.getLine(row);\n        if (column == undefined)\n            column = line.length;\n        column = Math.min(Math.max(column, 0), line.length);\n        return { row: row, column: column };\n    };\n    Document.prototype.clonePos = function (pos) {\n        return { row: pos.row, column: pos.column };\n    };\n    Document.prototype.pos = function (row, column) {\n        return { row: row, column: column };\n    };\n    Document.prototype.$clipPosition = function (position) {\n        var length = this.getLength();\n        if (position.row >= length) {\n            position.row = Math.max(0, length - 1);\n            position.column = this.getLine(length - 1).length;\n        }\n        else {\n            position.row = Math.max(0, position.row);\n            position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n        }\n        return position;\n    };\n    Document.prototype.insertFullLines = function (row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        var column = 0;\n        if (row < this.getLength()) {\n            lines = lines.concat([\"\"]);\n            column = 0;\n        }\n        else {\n            lines = [\"\"].concat(lines);\n            row--;\n            column = this.$lines[row].length;\n        }\n        this.insertMergedLines({ row: row, column: column }, lines);\n    };\n    Document.prototype.insertMergedLines = function (position, lines) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = {\n            row: start.row + lines.length - 1,\n            column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n        };\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: lines\n        });\n        return this.clonePos(end);\n    };\n    Document.prototype.remove = function (range) {\n        var start = this.clippedPos(range.start.row, range.start.column);\n        var end = this.clippedPos(range.end.row, range.end.column);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({ start: start, end: end })\n        });\n        return this.clonePos(start);\n    };\n    Document.prototype.removeInLine = function (row, startColumn, endColumn) {\n        var start = this.clippedPos(row, startColumn);\n        var end = this.clippedPos(row, endColumn);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({ start: start, end: end })\n        }, true);\n        return this.clonePos(start);\n    };\n    Document.prototype.removeFullLines = function (firstRow, lastRow) {\n        firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n        lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1);\n        var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n        var deleteLastNewLine = lastRow < this.getLength() - 1;\n        var startRow = (deleteFirstNewLine ? firstRow - 1 : firstRow);\n        var startCol = (deleteFirstNewLine ? this.getLine(startRow).length : 0);\n        var endRow = (deleteLastNewLine ? lastRow + 1 : lastRow);\n        var endCol = (deleteLastNewLine ? 0 : this.getLine(endRow).length);\n        var range = new Range(startRow, startCol, endRow, endCol);\n        var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n        this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: \"remove\",\n            lines: this.getLinesForRange(range)\n        });\n        return deletedLines;\n    };\n    Document.prototype.removeNewLine = function (row) {\n        if (row < this.getLength() - 1 && row >= 0) {\n            this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: \"remove\",\n                lines: [\"\", \"\"]\n            });\n        }\n    };\n    Document.prototype.replace = function (range, text) {\n        if (!(range instanceof Range))\n            range = Range.fromPoints(range.start, range.end);\n        if (text.length === 0 && range.isEmpty())\n            return range.start;\n        if (text == this.getTextRange(range))\n            return range.end;\n        this.remove(range);\n        var end;\n        if (text) {\n            end = this.insert(range.start, text);\n        }\n        else {\n            end = range.start;\n        }\n        return end;\n    };\n    Document.prototype.applyDeltas = function (deltas) {\n        for (var i = 0; i < deltas.length; i++) {\n            this.applyDelta(deltas[i]);\n        }\n    };\n    Document.prototype.revertDeltas = function (deltas) {\n        for (var i = deltas.length - 1; i >= 0; i--) {\n            this.revertDelta(deltas[i]);\n        }\n    };\n    Document.prototype.applyDelta = function (delta, doNotValidate) {\n        var isInsert = delta.action == \"insert\";\n        if (isInsert ? delta.lines.length <= 1 && !delta.lines[0]\n            : !Range.comparePoints(delta.start, delta.end)) {\n            return;\n        }\n        if (isInsert && delta.lines.length > 20000) {\n            this.$splitAndapplyLargeDelta(delta, 20000);\n        }\n        else {\n            applyDelta(this.$lines, delta, doNotValidate);\n            this._signal(\"change\", delta);\n        }\n    };\n    Document.prototype.$safeApplyDelta = function (delta) {\n        var docLength = this.$lines.length;\n        if (delta.action == \"remove\" && delta.start.row < docLength && delta.end.row < docLength\n            || delta.action == \"insert\" && delta.start.row <= docLength) {\n            this.applyDelta(delta);\n        }\n    };\n    Document.prototype.$splitAndapplyLargeDelta = function (delta, MAX) {\n        var lines = delta.lines;\n        var l = lines.length - MAX + 1;\n        var row = delta.start.row;\n        var column = delta.start.column;\n        for (var from = 0, to = 0; from < l; from = to) {\n            to += MAX - 1;\n            var chunk = lines.slice(from, to);\n            chunk.push(\"\");\n            this.applyDelta({\n                start: this.pos(row + from, column),\n                end: this.pos(row + to, column = 0),\n                action: delta.action,\n                lines: chunk\n            }, true);\n        }\n        delta.lines = lines.slice(from);\n        delta.start.row = row + from;\n        delta.start.column = column;\n        this.applyDelta(delta, true);\n    };\n    Document.prototype.revertDelta = function (delta) {\n        this.$safeApplyDelta({\n            start: this.clonePos(delta.start),\n            end: this.clonePos(delta.end),\n            action: (delta.action == \"insert\" ? \"remove\" : \"insert\"),\n            lines: delta.lines.slice()\n        });\n    };\n    Document.prototype.indexToPosition = function (index, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        for (var i = startRow || 0, l = lines.length; i < l; i++) {\n            index -= lines[i].length + newlineLength;\n            if (index < 0)\n                return { row: i, column: index + lines[i].length + newlineLength };\n        }\n        return { row: l - 1, column: index + lines[l - 1].length + newlineLength };\n    };\n    Document.prototype.positionToIndex = function (pos, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        var index = 0;\n        var row = Math.min(pos.row, lines.length);\n        for (var i = startRow || 0; i < row; ++i)\n            index += lines[i].length + newlineLength;\n        return index + pos.column;\n    };\n    Document.prototype.$split = function (text) {\n        return text.split(/\\r\\n|\\r|\\n/);\n    };\n    return Document;\n}());\nDocument.prototype.$autoNewLine = \"\";\nDocument.prototype.$newLineMode = \"auto\";\noop.implement(Document.prototype, EventEmitter);\nexports.Document = Document;\n\n});\n\nace.define(\"ace/background_tokenizer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar BackgroundTokenizer = /** @class */ (function () {\n    function BackgroundTokenizer(tokenizer, session) {\n        this.running = false;\n        this.lines = [];\n        this.states = [];\n        this.currentLine = 0;\n        this.tokenizer = tokenizer;\n        var self = this;\n        this.$worker = function () {\n            if (!self.running) {\n                return;\n            }\n            var workerStart = new Date();\n            var currentLine = self.currentLine;\n            var endLine = -1;\n            var doc = self.doc;\n            var startLine = currentLine;\n            while (self.lines[currentLine])\n                currentLine++;\n            var len = doc.getLength();\n            var processedLines = 0;\n            self.running = false;\n            while (currentLine < len) {\n                self.$tokenizeRow(currentLine);\n                endLine = currentLine;\n                do {\n                    currentLine++;\n                } while (self.lines[currentLine]);\n                processedLines++;\n                if ((processedLines % 5 === 0) && (new Date() - workerStart) > 20) {\n                    self.running = setTimeout(self.$worker, 20);\n                    break;\n                }\n            }\n            self.currentLine = currentLine;\n            if (endLine == -1)\n                endLine = currentLine;\n            if (startLine <= endLine)\n                self.fireUpdateEvent(startLine, endLine);\n        };\n    }\n    BackgroundTokenizer.prototype.setTokenizer = function (tokenizer) {\n        this.tokenizer = tokenizer;\n        this.lines = [];\n        this.states = [];\n        this.start(0);\n    };\n    BackgroundTokenizer.prototype.setDocument = function (doc) {\n        this.doc = doc;\n        this.lines = [];\n        this.states = [];\n        this.stop();\n    };\n    BackgroundTokenizer.prototype.fireUpdateEvent = function (firstRow, lastRow) {\n        var data = {\n            first: firstRow,\n            last: lastRow\n        };\n        this._signal(\"update\", { data: data });\n    };\n    BackgroundTokenizer.prototype.start = function (startRow) {\n        this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());\n        this.lines.splice(this.currentLine, this.lines.length);\n        this.states.splice(this.currentLine, this.states.length);\n        this.stop();\n        this.running = setTimeout(this.$worker, 700);\n    };\n    BackgroundTokenizer.prototype.scheduleStart = function () {\n        if (!this.running)\n            this.running = setTimeout(this.$worker, 700);\n    };\n    BackgroundTokenizer.prototype.$updateOnChange = function (delta) {\n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n        if (len === 0) {\n            this.lines[startRow] = null;\n        }\n        else if (delta.action == \"remove\") {\n            this.lines.splice(startRow, len + 1, null);\n            this.states.splice(startRow, len + 1, null);\n        }\n        else {\n            var args = Array(len + 1);\n            args.unshift(startRow, 1);\n            this.lines.splice.apply(this.lines, args);\n            this.states.splice.apply(this.states, args);\n        }\n        this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());\n        this.stop();\n    };\n    BackgroundTokenizer.prototype.stop = function () {\n        if (this.running)\n            clearTimeout(this.running);\n        this.running = false;\n    };\n    BackgroundTokenizer.prototype.getTokens = function (row) {\n        return this.lines[row] || this.$tokenizeRow(row);\n    };\n    BackgroundTokenizer.prototype.getState = function (row) {\n        if (this.currentLine == row)\n            this.$tokenizeRow(row);\n        return this.states[row] || \"start\";\n    };\n    BackgroundTokenizer.prototype.$tokenizeRow = function (row) {\n        var line = this.doc.getLine(row);\n        var state = this.states[row - 1];\n        var data = this.tokenizer.getLineTokens(line, state, row);\n        if (this.states[row] + \"\" !== data.state + \"\") {\n            this.states[row] = data.state;\n            this.lines[row + 1] = null;\n            if (this.currentLine > row + 1)\n                this.currentLine = row + 1;\n        }\n        else if (this.currentLine == row) {\n            this.currentLine = row + 1;\n        }\n        return this.lines[row] = data.tokens;\n    };\n    BackgroundTokenizer.prototype.cleanup = function () {\n        this.running = false;\n        this.lines = [];\n        this.states = [];\n        this.currentLine = 0;\n        this.removeAllListeners();\n    };\n    return BackgroundTokenizer;\n}());\noop.implement(BackgroundTokenizer.prototype, EventEmitter);\nexports.BackgroundTokenizer = BackgroundTokenizer;\n\n});\n\nace.define(\"ace/search_highlight\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar lang = require(\"./lib/lang\");\nvar Range = require(\"./range\").Range;\nvar SearchHighlight = /** @class */ (function () {\n    function SearchHighlight(regExp, clazz, type) {\n        if (type === void 0) { type = \"text\"; }\n        this.setRegexp(regExp);\n        this.clazz = clazz;\n        this.type = type;\n    }\n    SearchHighlight.prototype.setRegexp = function (regExp) {\n        if (this.regExp + \"\" == regExp + \"\")\n            return;\n        this.regExp = regExp;\n        this.cache = [];\n    };\n    SearchHighlight.prototype.update = function (html, markerLayer, session, config) {\n        if (!this.regExp)\n            return;\n        var start = config.firstRow, end = config.lastRow;\n        var renderedMarkerRanges = {};\n        for (var i = start; i <= end; i++) {\n            var ranges = this.cache[i];\n            if (ranges == null) {\n                ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);\n                if (ranges.length > this.MAX_RANGES)\n                    ranges = ranges.slice(0, this.MAX_RANGES);\n                ranges = ranges.map(function (match) {\n                    return new Range(i, match.offset, i, match.offset + match.length);\n                });\n                this.cache[i] = ranges.length ? ranges : \"\";\n            }\n            for (var j = ranges.length; j--;) {\n                var rangeToAddMarkerTo = ranges[j].toScreenRange(session);\n                var rangeAsString = rangeToAddMarkerTo.toString();\n                if (renderedMarkerRanges[rangeAsString])\n                    continue;\n                renderedMarkerRanges[rangeAsString] = true;\n                markerLayer.drawSingleLineMarker(html, rangeToAddMarkerTo, this.clazz, config);\n            }\n        }\n    };\n    return SearchHighlight;\n}());\nSearchHighlight.prototype.MAX_RANGES = 500;\nexports.SearchHighlight = SearchHighlight;\n\n});\n\nace.define(\"ace/undomanager\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar UndoManager = /** @class */ (function () {\n    function UndoManager() {\n        this.$keepRedoStack;\n        this.$maxRev = 0;\n        this.$fromUndo = false;\n        this.$undoDepth = Infinity;\n        this.reset();\n    }\n    UndoManager.prototype.addSession = function (session) {\n        this.$session = session;\n    };\n    UndoManager.prototype.add = function (delta, allowMerge, session) {\n        if (this.$fromUndo)\n            return;\n        if (delta == this.$lastDelta)\n            return;\n        if (!this.$keepRedoStack)\n            this.$redoStack.length = 0;\n        if (allowMerge === false || !this.lastDeltas) {\n            this.lastDeltas = [];\n            var undoStackLength = this.$undoStack.length;\n            if (undoStackLength > this.$undoDepth - 1) {\n                this.$undoStack.splice(0, undoStackLength - this.$undoDepth + 1);\n            }\n            this.$undoStack.push(this.lastDeltas);\n            delta.id = this.$rev = ++this.$maxRev;\n        }\n        if (delta.action == \"remove\" || delta.action == \"insert\")\n            this.$lastDelta = delta;\n        this.lastDeltas.push(delta);\n    };\n    UndoManager.prototype.addSelection = function (selection, rev) {\n        this.selections.push({\n            value: selection,\n            rev: rev || this.$rev\n        });\n    };\n    UndoManager.prototype.startNewGroup = function () {\n        this.lastDeltas = null;\n        return this.$rev;\n    };\n    UndoManager.prototype.markIgnored = function (from, to) {\n        if (to == null)\n            to = this.$rev + 1;\n        var stack = this.$undoStack;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id <= from)\n                break;\n            if (delta.id < to)\n                delta.ignore = true;\n        }\n        this.lastDeltas = null;\n    };\n    UndoManager.prototype.getSelection = function (rev, after) {\n        var stack = this.selections;\n        for (var i = stack.length; i--;) {\n            var selection = stack[i];\n            if (selection.rev < rev) {\n                if (after)\n                    selection = stack[i + 1];\n                return selection;\n            }\n        }\n    };\n    UndoManager.prototype.getRevision = function () {\n        return this.$rev;\n    };\n    UndoManager.prototype.getDeltas = function (from, to) {\n        if (to == null)\n            to = this.$rev + 1;\n        var stack = this.$undoStack;\n        var end = null, start = 0;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id < to && !end)\n                end = i + 1;\n            if (delta.id <= from) {\n                start = i + 1;\n                break;\n            }\n        }\n        return stack.slice(start, end);\n    };\n    UndoManager.prototype.getChangedRanges = function (from, to) {\n        if (to == null)\n            to = this.$rev + 1;\n    };\n    UndoManager.prototype.getChangedLines = function (from, to) {\n        if (to == null)\n            to = this.$rev + 1;\n    };\n    UndoManager.prototype.undo = function (session, dontSelect) {\n        this.lastDeltas = null;\n        var stack = this.$undoStack;\n        if (!rearrangeUndoStack(stack, stack.length))\n            return;\n        if (!session)\n            session = this.$session;\n        if (this.$redoStackBaseRev !== this.$rev && this.$redoStack.length)\n            this.$redoStack = [];\n        this.$fromUndo = true;\n        var deltaSet = stack.pop();\n        var undoSelectionRange = null;\n        if (deltaSet) {\n            undoSelectionRange = session.undoChanges(deltaSet, dontSelect);\n            this.$redoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        this.$fromUndo = false;\n        return undoSelectionRange;\n    };\n    UndoManager.prototype.redo = function (session, dontSelect) {\n        this.lastDeltas = null;\n        if (!session)\n            session = this.$session;\n        this.$fromUndo = true;\n        if (this.$redoStackBaseRev != this.$rev) {\n            var diff = this.getDeltas(this.$redoStackBaseRev, this.$rev + 1);\n            rebaseRedoStack(this.$redoStack, diff);\n            this.$redoStackBaseRev = this.$rev;\n            this.$redoStack.forEach(function (x) {\n                x[0].id = ++this.$maxRev;\n            }, this);\n        }\n        var deltaSet = this.$redoStack.pop();\n        var redoSelectionRange = null;\n        if (deltaSet) {\n            redoSelectionRange = session.redoChanges(deltaSet, dontSelect);\n            this.$undoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        this.$fromUndo = false;\n        return redoSelectionRange;\n    };\n    UndoManager.prototype.$syncRev = function () {\n        var stack = this.$undoStack;\n        var nextDelta = stack[stack.length - 1];\n        var id = nextDelta && nextDelta[0].id || 0;\n        this.$redoStackBaseRev = id;\n        this.$rev = id;\n    };\n    UndoManager.prototype.reset = function () {\n        this.lastDeltas = null;\n        this.$lastDelta = null;\n        this.$undoStack = [];\n        this.$redoStack = [];\n        this.$rev = 0;\n        this.mark = 0;\n        this.$redoStackBaseRev = this.$rev;\n        this.selections = [];\n    };\n    UndoManager.prototype.canUndo = function () {\n        return this.$undoStack.length > 0;\n    };\n    UndoManager.prototype.canRedo = function () {\n        return this.$redoStack.length > 0;\n    };\n    UndoManager.prototype.bookmark = function (rev) {\n        if (rev == undefined)\n            rev = this.$rev;\n        this.mark = rev;\n    };\n    UndoManager.prototype.isAtBookmark = function () {\n        return this.$rev === this.mark;\n    };\n    UndoManager.prototype.toJSON = function () {\n        return {\n            $redoStack: this.$redoStack,\n            $undoStack: this.$undoStack\n        };\n    };\n    UndoManager.prototype.fromJSON = function (json) {\n        this.reset();\n        this.$undoStack = json.$undoStack;\n        this.$redoStack = json.$redoStack;\n    };\n    UndoManager.prototype.$prettyPrint = function (delta) {\n        if (delta)\n            return stringifyDelta(delta);\n        return stringifyDelta(this.$undoStack) + \"\\n---\\n\" + stringifyDelta(this.$redoStack);\n    };\n    return UndoManager;\n}());\nUndoManager.prototype.hasUndo = UndoManager.prototype.canUndo;\nUndoManager.prototype.hasRedo = UndoManager.prototype.canRedo;\nUndoManager.prototype.isClean = UndoManager.prototype.isAtBookmark;\nUndoManager.prototype.markClean = UndoManager.prototype.bookmark;\nfunction rearrangeUndoStack(stack, pos) {\n    for (var i = pos; i--;) {\n        var deltaSet = stack[i];\n        if (deltaSet && !deltaSet[0].ignore) {\n            while (i < pos - 1) {\n                var swapped = swapGroups(stack[i], stack[i + 1]);\n                stack[i] = swapped[0];\n                stack[i + 1] = swapped[1];\n                i++;\n            }\n            return true;\n        }\n    }\n}\nvar Range = require(\"./range\").Range;\nvar cmp = Range.comparePoints;\nvar comparePoints = Range.comparePoints;\nfunction $updateMarkers(delta) {\n    var isInsert = delta.action == \"insert\";\n    var start = delta.start;\n    var end = delta.end;\n    var rowShift = (end.row - start.row) * (isInsert ? 1 : -1);\n    var colShift = (end.column - start.column) * (isInsert ? 1 : -1);\n    if (isInsert)\n        end = start;\n    for (var i in this.marks) {\n        var point = this.marks[i];\n        var cmp = comparePoints(point, start);\n        if (cmp < 0) {\n            continue; // delta starts after the range\n        }\n        if (cmp === 0) {\n            if (isInsert) {\n                if (point.bias == 1) {\n                    cmp = 1;\n                }\n                else {\n                    point.bias == -1;\n                    continue;\n                }\n            }\n        }\n        var cmp2 = isInsert ? cmp : comparePoints(point, end);\n        if (cmp2 > 0) {\n            point.row += rowShift;\n            point.column += point.row == end.row ? colShift : 0;\n            continue;\n        }\n        if (!isInsert && cmp2 <= 0) {\n            point.row = start.row;\n            point.column = start.column;\n            if (cmp2 === 0)\n                point.bias = 1;\n        }\n    }\n}\nfunction clonePos(pos) {\n    return { row: pos.row, column: pos.column };\n}\nfunction cloneDelta(d) {\n    return {\n        start: clonePos(d.start),\n        end: clonePos(d.end),\n        action: d.action,\n        lines: d.lines.slice()\n    };\n}\nfunction stringifyDelta(d) {\n    d = d || this;\n    if (Array.isArray(d)) {\n        return d.map(stringifyDelta).join(\"\\n\");\n    }\n    var type = \"\";\n    if (d.action) {\n        type = d.action == \"insert\" ? \"+\" : \"-\";\n        type += \"[\" + d.lines + \"]\";\n    }\n    else if (d.value) {\n        if (Array.isArray(d.value)) {\n            type = d.value.map(stringifyRange).join(\"\\n\");\n        }\n        else {\n            type = stringifyRange(d.value);\n        }\n    }\n    if (d.start) {\n        type += stringifyRange(d);\n    }\n    if (d.id || d.rev) {\n        type += \"\\t(\" + (d.id || d.rev) + \")\";\n    }\n    return type;\n}\nfunction stringifyRange(r) {\n    return r.start.row + \":\" + r.start.column\n        + \"=>\" + r.end.row + \":\" + r.end.column;\n}\nfunction swap(d1, d2) {\n    var i1 = d1.action == \"insert\";\n    var i2 = d2.action == \"insert\";\n    if (i1 && i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        }\n        else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        }\n        else {\n            return null;\n        }\n    }\n    else if (i1 && !i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        }\n        else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        }\n        else {\n            return null;\n        }\n    }\n    else if (!i1 && i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        }\n        else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        }\n        else {\n            return null;\n        }\n    }\n    else if (!i1 && !i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        }\n        else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        }\n        else {\n            return null;\n        }\n    }\n    return [d2, d1];\n}\nfunction swapGroups(ds1, ds2) {\n    for (var i = ds1.length; i--;) {\n        for (var j = 0; j < ds2.length; j++) {\n            if (!swap(ds1[i], ds2[j])) {\n                while (i < ds1.length) {\n                    while (j--) {\n                        swap(ds2[j], ds1[i]);\n                    }\n                    j = ds2.length;\n                    i++;\n                }\n                return [ds1, ds2];\n            }\n        }\n    }\n    ds1.selectionBefore = ds2.selectionBefore =\n        ds1.selectionAfter = ds2.selectionAfter = null;\n    return [ds2, ds1];\n}\nfunction xform(d1, c1) {\n    var i1 = d1.action == \"insert\";\n    var i2 = c1.action == \"insert\";\n    if (i1 && i2) {\n        if (cmp(d1.start, c1.start) < 0) {\n            shift(c1, d1, 1);\n        }\n        else {\n            shift(d1, c1, 1);\n        }\n    }\n    else if (i1 && !i2) {\n        if (cmp(d1.start, c1.end) >= 0) {\n            shift(d1, c1, -1);\n        }\n        else if (cmp(d1.start, c1.start) <= 0) {\n            shift(c1, d1, +1);\n        }\n        else {\n            shift(d1, Range.fromPoints(c1.start, d1.start), -1);\n            shift(c1, d1, +1);\n        }\n    }\n    else if (!i1 && i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        }\n        else if (cmp(c1.start, d1.start) <= 0) {\n            shift(d1, c1, +1);\n        }\n        else {\n            shift(c1, Range.fromPoints(d1.start, c1.start), -1);\n            shift(d1, c1, +1);\n        }\n    }\n    else if (!i1 && !i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        }\n        else if (cmp(c1.end, d1.start) <= 0) {\n            shift(d1, c1, -1);\n        }\n        else {\n            var before, after;\n            if (cmp(d1.start, c1.start) < 0) {\n                before = d1;\n                d1 = splitDelta(d1, c1.start);\n            }\n            if (cmp(d1.end, c1.end) > 0) {\n                after = splitDelta(d1, c1.end);\n            }\n            shiftPos(c1.end, d1.start, d1.end, -1);\n            if (after && !before) {\n                d1.lines = after.lines;\n                d1.start = after.start;\n                d1.end = after.end;\n                after = d1;\n            }\n            return [c1, before, after].filter(Boolean);\n        }\n    }\n    return [c1, d1];\n}\nfunction shift(d1, d2, dir) {\n    shiftPos(d1.start, d2.start, d2.end, dir);\n    shiftPos(d1.end, d2.start, d2.end, dir);\n}\nfunction shiftPos(pos, start, end, dir) {\n    if (pos.row == (dir == 1 ? start : end).row) {\n        pos.column += dir * (end.column - start.column);\n    }\n    pos.row += dir * (end.row - start.row);\n}\nfunction splitDelta(c, pos) {\n    var lines = c.lines;\n    var end = c.end;\n    c.end = clonePos(pos);\n    var rowsBefore = c.end.row - c.start.row;\n    var otherLines = lines.splice(rowsBefore, lines.length);\n    var col = rowsBefore ? pos.column : pos.column - c.start.column;\n    lines.push(otherLines[0].substring(0, col));\n    otherLines[0] = otherLines[0].substr(col);\n    var rest = {\n        start: clonePos(pos),\n        end: end,\n        lines: otherLines,\n        action: c.action\n    };\n    return rest;\n}\nfunction moveDeltasByOne(redoStack, d) {\n    d = cloneDelta(d);\n    for (var j = redoStack.length; j--;) {\n        var deltaSet = redoStack[j];\n        for (var i = 0; i < deltaSet.length; i++) {\n            var x = deltaSet[i];\n            var xformed = xform(x, d);\n            d = xformed[0];\n            if (xformed.length != 2) {\n                if (xformed[2]) {\n                    deltaSet.splice(i + 1, 1, xformed[1], xformed[2]);\n                    i++;\n                }\n                else if (!xformed[1]) {\n                    deltaSet.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        if (!deltaSet.length) {\n            redoStack.splice(j, 1);\n        }\n    }\n    return redoStack;\n}\nfunction rebaseRedoStack(redoStack, deltaSets) {\n    for (var i = 0; i < deltaSets.length; i++) {\n        var deltas = deltaSets[i];\n        for (var j = 0; j < deltas.length; j++) {\n            moveDeltasByOne(redoStack, deltas[j]);\n        }\n    }\n}\nexports.UndoManager = UndoManager;\n\n});\n\nace.define(\"ace/edit_session/fold_line\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"../range\").Range;\nvar FoldLine = /** @class */ (function () {\n    function FoldLine(foldData, folds) {\n        this.foldData = foldData;\n        if (Array.isArray(folds)) {\n            this.folds = folds;\n        }\n        else {\n            folds = this.folds = [folds];\n        }\n        var last = folds[folds.length - 1];\n        this.range = new Range(folds[0].start.row, folds[0].start.column, last.end.row, last.end.column);\n        this.start = this.range.start;\n        this.end = this.range.end;\n        this.folds.forEach(function (fold) {\n            fold.setFoldLine(this);\n        }, this);\n    }\n    FoldLine.prototype.shiftRow = function (shift) {\n        this.start.row += shift;\n        this.end.row += shift;\n        this.folds.forEach(function (fold) {\n            fold.start.row += shift;\n            fold.end.row += shift;\n        });\n    };\n    FoldLine.prototype.addFold = function (fold) {\n        if (fold.sameRow) {\n            if (fold.start.row < this.startRow || fold.endRow > this.endRow) {\n                throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");\n            }\n            this.folds.push(fold);\n            this.folds.sort(function (a, b) {\n                return -a.range.compareEnd(b.start.row, b.start.column);\n            });\n            if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {\n                this.end.row = fold.end.row;\n                this.end.column = fold.end.column;\n            }\n            else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {\n                this.start.row = fold.start.row;\n                this.start.column = fold.start.column;\n            }\n        }\n        else if (fold.start.row == this.end.row) {\n            this.folds.push(fold);\n            this.end.row = fold.end.row;\n            this.end.column = fold.end.column;\n        }\n        else if (fold.end.row == this.start.row) {\n            this.folds.unshift(fold);\n            this.start.row = fold.start.row;\n            this.start.column = fold.start.column;\n        }\n        else {\n            throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");\n        }\n        fold.foldLine = this;\n    };\n    FoldLine.prototype.containsRow = function (row) {\n        return row >= this.start.row && row <= this.end.row;\n    };\n    FoldLine.prototype.walk = function (callback, endRow, endColumn) {\n        var lastEnd = 0, folds = this.folds, fold, cmp, stop, isNewRow = true;\n        if (endRow == null) {\n            endRow = this.end.row;\n            endColumn = this.end.column;\n        }\n        for (var i = 0; i < folds.length; i++) {\n            fold = folds[i];\n            cmp = fold.range.compareStart(endRow, endColumn);\n            if (cmp == -1) {\n                callback(null, endRow, endColumn, lastEnd, isNewRow);\n                return;\n            }\n            stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);\n            stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);\n            if (stop || cmp === 0) {\n                return;\n            }\n            isNewRow = !fold.sameRow;\n            lastEnd = fold.end.column;\n        }\n        callback(null, endRow, endColumn, lastEnd, isNewRow);\n    };\n    FoldLine.prototype.getNextFoldTo = function (row, column) {\n        var fold, cmp;\n        for (var i = 0; i < this.folds.length; i++) {\n            fold = this.folds[i];\n            cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                return {\n                    fold: fold,\n                    kind: \"after\"\n                };\n            }\n            else if (cmp === 0) {\n                return {\n                    fold: fold,\n                    kind: \"inside\"\n                };\n            }\n        }\n        return null;\n    };\n    FoldLine.prototype.addRemoveChars = function (row, column, len) {\n        var ret = this.getNextFoldTo(row, column), fold, folds;\n        if (ret) {\n            fold = ret.fold;\n            if (ret.kind == \"inside\"\n                && fold.start.column != column\n                && fold.start.row != row) {\n                window.console && window.console.log(row, column, fold);\n            }\n            else if (fold.start.row == row) {\n                folds = this.folds;\n                var i = folds.indexOf(fold);\n                if (i === 0) {\n                    this.start.column += len;\n                }\n                for (i; i < folds.length; i++) {\n                    fold = folds[i];\n                    fold.start.column += len;\n                    if (!fold.sameRow) {\n                        return;\n                    }\n                    fold.end.column += len;\n                }\n                this.end.column += len;\n            }\n        }\n    };\n    FoldLine.prototype.split = function (row, column) {\n        var pos = this.getNextFoldTo(row, column);\n        if (!pos || pos.kind == \"inside\")\n            return null;\n        var fold = pos.fold;\n        var folds = this.folds;\n        var foldData = this.foldData;\n        var i = folds.indexOf(fold);\n        var foldBefore = folds[i - 1];\n        this.end.row = foldBefore.end.row;\n        this.end.column = foldBefore.end.column;\n        folds = folds.splice(i, folds.length - i);\n        var newFoldLine = new FoldLine(foldData, folds);\n        foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);\n        return newFoldLine;\n    };\n    FoldLine.prototype.merge = function (foldLineNext) {\n        var folds = foldLineNext.folds;\n        for (var i = 0; i < folds.length; i++) {\n            this.addFold(folds[i]);\n        }\n        var foldData = this.foldData;\n        foldData.splice(foldData.indexOf(foldLineNext), 1);\n    };\n    FoldLine.prototype.toString = function () {\n        var ret = [this.range.toString() + \": [\"];\n        this.folds.forEach(function (fold) {\n            ret.push(\"  \" + fold.toString());\n        });\n        ret.push(\"]\");\n        return ret.join(\"\\n\");\n    };\n    FoldLine.prototype.idxToPosition = function (idx) {\n        var lastFoldEndColumn = 0;\n        for (var i = 0; i < this.folds.length; i++) {\n            var fold = this.folds[i];\n            idx -= fold.start.column - lastFoldEndColumn;\n            if (idx < 0) {\n                return {\n                    row: fold.start.row,\n                    column: fold.start.column + idx\n                };\n            }\n            idx -= fold.placeholder.length;\n            if (idx < 0) {\n                return fold.start;\n            }\n            lastFoldEndColumn = fold.end.column;\n        }\n        return {\n            row: this.end.row,\n            column: this.end.column + idx\n        };\n    };\n    return FoldLine;\n}());\nexports.FoldLine = FoldLine;\n\n});\n\nace.define(\"ace/range_list\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"./range\").Range;\nvar comparePoints = Range.comparePoints;\nvar RangeList = /** @class */ (function () {\n    function RangeList() {\n        this.ranges = [];\n        this.$bias = 1;\n    }\n    RangeList.prototype.pointIndex = function (pos, excludeEdges, startIndex) {\n        var list = this.ranges;\n        for (var i = startIndex || 0; i < list.length; i++) {\n            var range = list[i];\n            var cmpEnd = comparePoints(pos, range.end);\n            if (cmpEnd > 0)\n                continue;\n            var cmpStart = comparePoints(pos, range.start);\n            if (cmpEnd === 0)\n                return excludeEdges && cmpStart !== 0 ? -i - 2 : i;\n            if (cmpStart > 0 || (cmpStart === 0 && !excludeEdges))\n                return i;\n            return -i - 1;\n        }\n        return -i - 1;\n    };\n    RangeList.prototype.add = function (range) {\n        var excludeEdges = !range.isEmpty();\n        var startIndex = this.pointIndex(range.start, excludeEdges);\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n        var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n        else\n            endIndex++;\n        return this.ranges.splice(startIndex, endIndex - startIndex, range);\n    };\n    RangeList.prototype.addList = function (list) {\n        var removed = [];\n        for (var i = list.length; i--;) {\n            removed.push.apply(removed, this.add(list[i]));\n        }\n        return removed;\n    };\n    RangeList.prototype.substractPoint = function (pos) {\n        var i = this.pointIndex(pos);\n        if (i >= 0)\n            return this.ranges.splice(i, 1);\n    };\n    RangeList.prototype.merge = function () {\n        var removed = [];\n        var list = this.ranges;\n        list = list.sort(function (a, b) {\n            return comparePoints(a.start, b.start);\n        });\n        var next = list[0], range;\n        for (var i = 1; i < list.length; i++) {\n            range = next;\n            next = list[i];\n            var cmp = comparePoints(range.end, next.start);\n            if (cmp < 0)\n                continue;\n            if (cmp == 0 && !range.isEmpty() && !next.isEmpty())\n                continue;\n            if (comparePoints(range.end, next.end) < 0) {\n                range.end.row = next.end.row;\n                range.end.column = next.end.column;\n            }\n            list.splice(i, 1);\n            removed.push(next);\n            next = range;\n            i--;\n        }\n        this.ranges = list;\n        return removed;\n    };\n    RangeList.prototype.contains = function (row, column) {\n        return this.pointIndex({ row: row, column: column }) >= 0;\n    };\n    RangeList.prototype.containsPoint = function (pos) {\n        return this.pointIndex(pos) >= 0;\n    };\n    RangeList.prototype.rangeAtPoint = function (pos) {\n        var i = this.pointIndex(pos);\n        if (i >= 0)\n            return this.ranges[i];\n    };\n    RangeList.prototype.clipRows = function (startRow, endRow) {\n        var list = this.ranges;\n        if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow)\n            return [];\n        var startIndex = this.pointIndex({ row: startRow, column: 0 });\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n        var endIndex = this.pointIndex({ row: endRow, column: 0 }, startIndex);\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n        var clipped = [];\n        for (var i = startIndex; i < endIndex; i++) {\n            clipped.push(list[i]);\n        }\n        return clipped;\n    };\n    RangeList.prototype.removeAll = function () {\n        return this.ranges.splice(0, this.ranges.length);\n    };\n    RangeList.prototype.attach = function (session) {\n        if (this.session)\n            this.detach();\n        this.session = session;\n        this.onChange = this.$onChange.bind(this);\n        this.session.on('change', this.onChange);\n    };\n    RangeList.prototype.detach = function () {\n        if (!this.session)\n            return;\n        this.session.removeListener('change', this.onChange);\n        this.session = null;\n    };\n    RangeList.prototype.$onChange = function (delta) {\n        var start = delta.start;\n        var end = delta.end;\n        var startRow = start.row;\n        var endRow = end.row;\n        var ranges = this.ranges;\n        for (var i = 0, n = ranges.length; i < n; i++) {\n            var r = ranges[i];\n            if (r.end.row >= startRow)\n                break;\n        }\n        if (delta.action == \"insert\") {\n            var lineDif = endRow - startRow;\n            var colDiff = -start.column + end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                if (r.start.row > startRow)\n                    break;\n                if (r.start.row == startRow && r.start.column >= start.column) {\n                    if (r.start.column == start.column && this.$bias <= 0) {\n                    }\n                    else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                if (r.end.row == startRow && r.end.column >= start.column) {\n                    if (r.end.column == start.column && this.$bias < 0) {\n                        continue;\n                    }\n                    if (r.end.column == start.column && colDiff > 0 && i < n - 1) {\n                        if (r.end.column > r.start.column && r.end.column == ranges[i + 1].start.column)\n                            r.end.column -= colDiff;\n                    }\n                    r.end.column += colDiff;\n                    r.end.row += lineDif;\n                }\n            }\n        }\n        else {\n            var lineDif = startRow - endRow;\n            var colDiff = start.column - end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                if (r.start.row > endRow)\n                    break;\n                if (r.end.row < endRow\n                    && (startRow < r.end.row\n                        || startRow == r.end.row && start.column < r.end.column)) {\n                    r.end.row = startRow;\n                    r.end.column = start.column;\n                }\n                else if (r.end.row == endRow) {\n                    if (r.end.column <= end.column) {\n                        if (lineDif || r.end.column > start.column) {\n                            r.end.column = start.column;\n                            r.end.row = start.row;\n                        }\n                    }\n                    else {\n                        r.end.column += colDiff;\n                        r.end.row += lineDif;\n                    }\n                }\n                else if (r.end.row > endRow) {\n                    r.end.row += lineDif;\n                }\n                if (r.start.row < endRow\n                    && (startRow < r.start.row\n                        || startRow == r.start.row && start.column < r.start.column)) {\n                    r.start.row = startRow;\n                    r.start.column = start.column;\n                }\n                else if (r.start.row == endRow) {\n                    if (r.start.column <= end.column) {\n                        if (lineDif || r.start.column > start.column) {\n                            r.start.column = start.column;\n                            r.start.row = start.row;\n                        }\n                    }\n                    else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                else if (r.start.row > endRow) {\n                    r.start.row += lineDif;\n                }\n            }\n        }\n        if (lineDif != 0 && i < n) {\n            for (; i < n; i++) {\n                var r = ranges[i];\n                r.start.row += lineDif;\n                r.end.row += lineDif;\n            }\n        }\n    };\n    return RangeList;\n}());\nRangeList.prototype.comparePoints = comparePoints;\nexports.RangeList = RangeList;\n\n});\n\nace.define(\"ace/edit_session/fold\",[\"require\",\"exports\",\"module\",\"ace/range_list\"], function(require, exports, module){\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar RangeList = require(\"../range_list\").RangeList;\nvar Fold = /** @class */ (function (_super) {\n    __extends(Fold, _super);\n    function Fold(range, placeholder) {\n        var _this = _super.call(this) || this;\n        _this.foldLine = null;\n        _this.placeholder = placeholder;\n        _this.range = range;\n        _this.start = range.start;\n        _this.end = range.end;\n        _this.sameRow = range.start.row == range.end.row;\n        _this.subFolds = _this.ranges = [];\n        return _this;\n    }\n    Fold.prototype.toString = function () {\n        return '\"' + this.placeholder + '\" ' + this.range.toString();\n    };\n    Fold.prototype.setFoldLine = function (foldLine) {\n        this.foldLine = foldLine;\n        this.subFolds.forEach(function (fold) {\n            fold.setFoldLine(foldLine);\n        });\n    };\n    Fold.prototype.clone = function () {\n        var range = this.range.clone();\n        var fold = new Fold(range, this.placeholder);\n        this.subFolds.forEach(function (subFold) {\n            fold.subFolds.push(subFold.clone());\n        });\n        fold.collapseChildren = this.collapseChildren;\n        return fold;\n    };\n    Fold.prototype.addSubFold = function (fold) {\n        if (this.range.isEqual(fold))\n            return;\n        consumeRange(fold, this.start);\n        var row = fold.start.row, column = fold.start.column;\n        for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {\n            cmp = this.subFolds[i].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        var afterStart = this.subFolds[i];\n        var firstConsumed = 0;\n        if (cmp == 0) {\n            if (afterStart.range.containsRange(fold))\n                return afterStart.addSubFold(fold);\n            else\n                firstConsumed = 1;\n        }\n        var row = fold.range.end.row, column = fold.range.end.column;\n        for (var j = i, cmp = -1; j < this.subFolds.length; j++) {\n            cmp = this.subFolds[j].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        if (cmp == 0)\n            j++;\n        var consumedFolds = this.subFolds.splice(i, j - i, fold);\n        var last = cmp == 0 ? consumedFolds.length - 1 : consumedFolds.length;\n        for (var k = firstConsumed; k < last; k++) {\n            fold.addSubFold(consumedFolds[k]);\n        }\n        fold.setFoldLine(this.foldLine);\n        return fold;\n    };\n    Fold.prototype.restoreRange = function (range) {\n        return restoreRange(range, this.start);\n    };\n    return Fold;\n}(RangeList));\nfunction consumePoint(point, anchor) {\n    point.row -= anchor.row;\n    if (point.row == 0)\n        point.column -= anchor.column;\n}\nfunction consumeRange(range, anchor) {\n    consumePoint(range.start, anchor);\n    consumePoint(range.end, anchor);\n}\nfunction restorePoint(point, anchor) {\n    if (point.row == 0)\n        point.column += anchor.column;\n    point.row += anchor.row;\n}\nfunction restoreRange(range, anchor) {\n    restorePoint(range.start, anchor);\n    restorePoint(range.end, anchor);\n}\nexports.Fold = Fold;\n\n});\n\nace.define(\"ace/edit_session/folding\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/edit_session/fold_line\",\"ace/edit_session/fold\",\"ace/token_iterator\",\"ace/mouse/mouse_event\"], function(require, exports, module){// @ts-nocheck\n\"use strict\";\nvar Range = require(\"../range\").Range;\nvar FoldLine = require(\"./fold_line\").FoldLine;\nvar Fold = require(\"./fold\").Fold;\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar MouseEvent = require(\"../mouse/mouse_event\").MouseEvent;\nfunction Folding() {\n    this.getFoldAt = function (row, column, side) {\n        var foldLine = this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n        var folds = foldLine.folds;\n        for (var i = 0; i < folds.length; i++) {\n            var range = folds[i].range;\n            if (range.contains(row, column)) {\n                if (side == 1 && range.isEnd(row, column) && !range.isEmpty()) {\n                    continue;\n                }\n                else if (side == -1 && range.isStart(row, column) && !range.isEmpty()) {\n                    continue;\n                }\n                return folds[i];\n            }\n        }\n    };\n    this.getFoldsInRange = function (range) {\n        var start = range.start;\n        var end = range.end;\n        var foldLines = this.$foldData;\n        var foundFolds = [];\n        start.column += 1;\n        end.column -= 1;\n        for (var i = 0; i < foldLines.length; i++) {\n            var cmp = foldLines[i].range.compareRange(range);\n            if (cmp == 2) {\n                continue;\n            }\n            else if (cmp == -2) {\n                break;\n            }\n            var folds = foldLines[i].folds;\n            for (var j = 0; j < folds.length; j++) {\n                var fold = folds[j];\n                cmp = fold.range.compareRange(range);\n                if (cmp == -2) {\n                    break;\n                }\n                else if (cmp == 2) {\n                    continue;\n                }\n                else \n                if (cmp == 42) {\n                    break;\n                }\n                foundFolds.push(fold);\n            }\n        }\n        start.column -= 1;\n        end.column += 1;\n        return foundFolds;\n    };\n    this.getFoldsInRangeList = function (ranges) {\n        if (Array.isArray(ranges)) {\n            var folds = [];\n            ranges.forEach(function (range) {\n                folds = folds.concat(this.getFoldsInRange(range));\n            }, this);\n        }\n        else {\n            var folds = this.getFoldsInRange(ranges);\n        }\n        return folds;\n    };\n    this.getAllFolds = function () {\n        var folds = [];\n        var foldLines = this.$foldData;\n        for (var i = 0; i < foldLines.length; i++)\n            for (var j = 0; j < foldLines[i].folds.length; j++)\n                folds.push(foldLines[i].folds[j]);\n        return folds;\n    };\n    this.getFoldStringAt = function (row, column, trim, foldLine) {\n        foldLine = foldLine || this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n        var lastFold = {\n            end: { column: 0 }\n        };\n        var str, fold;\n        for (var i = 0; i < foldLine.folds.length; i++) {\n            fold = foldLine.folds[i];\n            var cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                str = this\n                    .getLine(fold.start.row)\n                    .substring(lastFold.end.column, fold.start.column);\n                break;\n            }\n            else if (cmp === 0) {\n                return null;\n            }\n            lastFold = fold;\n        }\n        if (!str)\n            str = this.getLine(fold.start.row).substring(lastFold.end.column);\n        if (trim == -1)\n            return str.substring(0, column - lastFold.end.column);\n        else if (trim == 1)\n            return str.substring(column - lastFold.end.column);\n        else\n            return str;\n    };\n    this.getFoldLine = function (docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {\n                return foldLine;\n            }\n            else if (foldLine.end.row > docRow) {\n                return null;\n            }\n        }\n        return null;\n    };\n    this.getNextFoldLine = function (docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.end.row >= docRow) {\n                return foldLine;\n            }\n        }\n        return null;\n    };\n    this.getFoldedRowCount = function (first, last) {\n        var foldData = this.$foldData, rowCount = last - first + 1;\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i], end = foldLine.end.row, start = foldLine.start.row;\n            if (end >= last) {\n                if (start < last) {\n                    if (start >= first)\n                        rowCount -= last - start;\n                    else\n                        rowCount = 0; // in one fold\n                }\n                break;\n            }\n            else if (end >= first) {\n                if (start >= first) // fold inside range\n                    rowCount -= end - start;\n                else\n                    rowCount -= end - first + 1;\n            }\n        }\n        return rowCount;\n    };\n    this.$addFoldLine = function (foldLine) {\n        this.$foldData.push(foldLine);\n        this.$foldData.sort(function (a, b) {\n            return a.start.row - b.start.row;\n        });\n        return foldLine;\n    };\n    this.addFold = function (placeholder, range) {\n        var foldData = this.$foldData;\n        var added = false;\n        var fold;\n        if (placeholder instanceof Fold)\n            fold = placeholder;\n        else {\n            fold = new Fold(range, placeholder);\n            fold.collapseChildren = range.collapseChildren;\n        }\n        this.$clipRangeToDocument(fold.range);\n        var startRow = fold.start.row;\n        var startColumn = fold.start.column;\n        var endRow = fold.end.row;\n        var endColumn = fold.end.column;\n        var startFold = this.getFoldAt(startRow, startColumn, 1);\n        var endFold = this.getFoldAt(endRow, endColumn, -1);\n        if (startFold && endFold == startFold)\n            return startFold.addSubFold(fold);\n        if (startFold && !startFold.range.isStart(startRow, startColumn))\n            this.removeFold(startFold);\n        if (endFold && !endFold.range.isEnd(endRow, endColumn))\n            this.removeFold(endFold);\n        var folds = this.getFoldsInRange(fold.range);\n        if (folds.length > 0) {\n            this.removeFolds(folds);\n            if (!fold.collapseChildren) {\n                folds.forEach(function (subFold) {\n                    fold.addSubFold(subFold);\n                });\n            }\n        }\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (endRow == foldLine.start.row) {\n                foldLine.addFold(fold);\n                added = true;\n                break;\n            }\n            else if (startRow == foldLine.end.row) {\n                foldLine.addFold(fold);\n                added = true;\n                if (!fold.sameRow) {\n                    var foldLineNext = foldData[i + 1];\n                    if (foldLineNext && foldLineNext.start.row == endRow) {\n                        foldLine.merge(foldLineNext);\n                        break;\n                    }\n                }\n                break;\n            }\n            else if (endRow <= foldLine.start.row) {\n                break;\n            }\n        }\n        if (!added)\n            foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));\n        if (this.$useWrapMode)\n            this.$updateWrapData(foldLine.start.row, foldLine.start.row);\n        else\n            this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"add\" });\n        return fold;\n    };\n    this.addFolds = function (folds) {\n        folds.forEach(function (fold) {\n            this.addFold(fold);\n        }, this);\n    };\n    this.removeFold = function (fold) {\n        var foldLine = fold.foldLine;\n        var startRow = foldLine.start.row;\n        var endRow = foldLine.end.row;\n        var foldLines = this.$foldData;\n        var folds = foldLine.folds;\n        if (folds.length == 1) {\n            foldLines.splice(foldLines.indexOf(foldLine), 1);\n        }\n        else \n        if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {\n            folds.pop();\n            foldLine.end.row = folds[folds.length - 1].end.row;\n            foldLine.end.column = folds[folds.length - 1].end.column;\n        }\n        else \n        if (foldLine.range.isStart(fold.start.row, fold.start.column)) {\n            folds.shift();\n            foldLine.start.row = folds[0].start.row;\n            foldLine.start.column = folds[0].start.column;\n        }\n        else \n        if (fold.sameRow) {\n            folds.splice(folds.indexOf(fold), 1);\n        }\n        else \n        {\n            var newFoldLine = foldLine.split(fold.start.row, fold.start.column);\n            folds = newFoldLine.folds;\n            folds.shift();\n            newFoldLine.start.row = folds[0].start.row;\n            newFoldLine.start.column = folds[0].start.column;\n        }\n        if (!this.$updating) {\n            if (this.$useWrapMode)\n                this.$updateWrapData(startRow, endRow);\n            else\n                this.$updateRowLengthCache(startRow, endRow);\n        }\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"remove\" });\n    };\n    this.removeFolds = function (folds) {\n        var cloneFolds = [];\n        for (var i = 0; i < folds.length; i++) {\n            cloneFolds.push(folds[i]);\n        }\n        cloneFolds.forEach(function (fold) {\n            this.removeFold(fold);\n        }, this);\n        this.$modified = true;\n    };\n    this.expandFold = function (fold) {\n        this.removeFold(fold);\n        fold.subFolds.forEach(function (subFold) {\n            fold.restoreRange(subFold);\n            this.addFold(subFold);\n        }, this);\n        if (fold.collapseChildren > 0) {\n            this.foldAll(fold.start.row + 1, fold.end.row, fold.collapseChildren - 1);\n        }\n        fold.subFolds = [];\n    };\n    this.expandFolds = function (folds) {\n        folds.forEach(function (fold) {\n            this.expandFold(fold);\n        }, this);\n    };\n    this.unfold = function (location, expandInner) {\n        var range, folds;\n        if (location == null) {\n            range = new Range(0, 0, this.getLength(), 0);\n            if (expandInner == null)\n                expandInner = true;\n        }\n        else if (typeof location == \"number\") {\n            range = new Range(location, 0, location, this.getLine(location).length);\n        }\n        else if (\"row\" in location) {\n            range = Range.fromPoints(location, location);\n        }\n        else if (Array.isArray(location)) {\n            folds = [];\n            location.forEach(function (range) {\n                folds = folds.concat(this.unfold(range));\n            }, this);\n            return folds;\n        }\n        else {\n            range = location;\n        }\n        folds = this.getFoldsInRangeList(range);\n        var outermostFolds = folds;\n        while (folds.length == 1\n            && Range.comparePoints(folds[0].start, range.start) < 0\n            && Range.comparePoints(folds[0].end, range.end) > 0) {\n            this.expandFolds(folds);\n            folds = this.getFoldsInRangeList(range);\n        }\n        if (expandInner != false) {\n            this.removeFolds(folds);\n        }\n        else {\n            this.expandFolds(folds);\n        }\n        if (outermostFolds.length)\n            return outermostFolds;\n    };\n    this.isRowFolded = function (docRow, startFoldRow) {\n        return !!this.getFoldLine(docRow, startFoldRow);\n    };\n    this.getRowFoldEnd = function (docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.end.row : docRow;\n    };\n    this.getRowFoldStart = function (docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.start.row : docRow;\n    };\n    this.getFoldDisplayLine = function (foldLine, endRow, endColumn, startRow, startColumn) {\n        if (startRow == null)\n            startRow = foldLine.start.row;\n        if (startColumn == null)\n            startColumn = 0;\n        if (endRow == null)\n            endRow = foldLine.end.row;\n        if (endColumn == null)\n            endColumn = this.getLine(endRow).length;\n        var doc = this.doc;\n        var textLine = \"\";\n        foldLine.walk(function (placeholder, row, column, lastColumn) {\n            if (row < startRow)\n                return;\n            if (row == startRow) {\n                if (column < startColumn)\n                    return;\n                lastColumn = Math.max(startColumn, lastColumn);\n            }\n            if (placeholder != null) {\n                textLine += placeholder;\n            }\n            else {\n                textLine += doc.getLine(row).substring(lastColumn, column);\n            }\n        }, endRow, endColumn);\n        return textLine;\n    };\n    this.getDisplayLine = function (row, endColumn, startRow, startColumn) {\n        var foldLine = this.getFoldLine(row);\n        if (!foldLine) {\n            var line;\n            line = this.doc.getLine(row);\n            return line.substring(startColumn || 0, endColumn || line.length);\n        }\n        else {\n            return this.getFoldDisplayLine(foldLine, row, endColumn, startRow, startColumn);\n        }\n    };\n    this.$cloneFoldData = function () {\n        var fd = [];\n        fd = this.$foldData.map(function (foldLine) {\n            var folds = foldLine.folds.map(function (fold) {\n                return fold.clone();\n            });\n            return new FoldLine(fd, folds);\n        });\n        return fd;\n    };\n    this.toggleFold = function (tryToUnfold) {\n        var selection = this.selection;\n        var range = selection.getRange();\n        var fold;\n        var bracketPos;\n        if (range.isEmpty()) {\n            var cursor = range.start;\n            fold = this.getFoldAt(cursor.row, cursor.column);\n            if (fold) {\n                this.expandFold(fold);\n                return;\n            }\n            else if (bracketPos = this.findMatchingBracket(cursor)) {\n                if (range.comparePoint(bracketPos) == 1) {\n                    range.end = bracketPos;\n                }\n                else {\n                    range.start = bracketPos;\n                    range.start.column++;\n                    range.end.column--;\n                }\n            }\n            else if (bracketPos = this.findMatchingBracket({ row: cursor.row, column: cursor.column + 1 })) {\n                if (range.comparePoint(bracketPos) == 1)\n                    range.end = bracketPos;\n                else\n                    range.start = bracketPos;\n                range.start.column++;\n            }\n            else {\n                range = this.getCommentFoldRange(cursor.row, cursor.column) || range;\n            }\n        }\n        else {\n            var folds = this.getFoldsInRange(range);\n            if (tryToUnfold && folds.length) {\n                this.expandFolds(folds);\n                return;\n            }\n            else if (folds.length == 1) {\n                fold = folds[0];\n            }\n        }\n        if (!fold)\n            fold = this.getFoldAt(range.start.row, range.start.column);\n        if (fold && fold.range.toString() == range.toString()) {\n            this.expandFold(fold);\n            return;\n        }\n        var placeholder = \"...\";\n        if (!range.isMultiLine()) {\n            placeholder = this.getTextRange(range);\n            if (placeholder.length < 4)\n                return;\n            placeholder = placeholder.trim().substring(0, 2) + \"..\";\n        }\n        this.addFold(placeholder, range);\n    };\n    this.getCommentFoldRange = function (row, column, dir) {\n        var iterator = new TokenIterator(this, row, column);\n        var token = iterator.getCurrentToken();\n        var type = token && token.type;\n        if (token && /^comment|string/.test(type)) {\n            type = type.match(/comment|string/)[0];\n            if (type == \"comment\")\n                type += \"|doc-start|\\\\.doc\";\n            var re = new RegExp(type);\n            var range = new Range();\n            if (dir != 1) {\n                do {\n                    token = iterator.stepBackward();\n                } while (token && re.test(token.type));\n                token = iterator.stepForward();\n            }\n            range.start.row = iterator.getCurrentTokenRow();\n            range.start.column = iterator.getCurrentTokenColumn() + token.value.length;\n            iterator = new TokenIterator(this, row, column);\n            var initState = this.getState(iterator.$row);\n            if (dir != -1) {\n                var lastRow = -1;\n                do {\n                    token = iterator.stepForward();\n                    if (lastRow == -1) {\n                        var state = this.getState(iterator.$row);\n                        if (initState.toString() !== state.toString())\n                            lastRow = iterator.$row;\n                    }\n                    else if (iterator.$row > lastRow) {\n                        break;\n                    }\n                } while (token && re.test(token.type));\n                token = iterator.stepBackward();\n            }\n            else\n                token = iterator.getCurrentToken();\n            range.end.row = iterator.getCurrentTokenRow();\n            range.end.column = iterator.getCurrentTokenColumn();\n            return range;\n        }\n    };\n    this.foldAll = function (startRow, endRow, depth, test) {\n        if (depth == undefined)\n            depth = 100000; // JSON.stringify doesn't hanle Infinity\n        var foldWidgets = this.foldWidgets;\n        if (!foldWidgets)\n            return; // mode doesn't support folding\n        endRow = endRow || this.getLength();\n        startRow = startRow || 0;\n        for (var row = startRow; row < endRow; row++) {\n            if (foldWidgets[row] == null)\n                foldWidgets[row] = this.getFoldWidget(row);\n            if (foldWidgets[row] != \"start\")\n                continue;\n            if (test && !test(row))\n                continue;\n            var range = this.getFoldWidgetRange(row);\n            if (range && range.isMultiLine()\n                && range.end.row <= endRow\n                && range.start.row >= startRow) {\n                row = range.end.row;\n                range.collapseChildren = depth;\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n    this.foldToLevel = function (level) {\n        this.foldAll();\n        while (level-- > 0)\n            this.unfold(null, false);\n    };\n    this.foldAllComments = function () {\n        var session = this;\n        this.foldAll(null, null, null, function (row) {\n            var tokens = session.getTokens(row);\n            for (var i = 0; i < tokens.length; i++) {\n                var token = tokens[i];\n                if (token.type == \"text\" && /^\\s+$/.test(token.value))\n                    continue;\n                if (/comment/.test(token.type))\n                    return true;\n                return false;\n            }\n        });\n    };\n    this.$foldStyles = {\n        \"manual\": 1,\n        \"markbegin\": 1,\n        \"markbeginend\": 1\n    };\n    this.$foldStyle = \"markbegin\";\n    this.setFoldStyle = function (style) {\n        if (!this.$foldStyles[style])\n            throw new Error(\"invalid fold style: \" + style + \"[\" + Object.keys(this.$foldStyles).join(\", \") + \"]\");\n        if (this.$foldStyle == style)\n            return;\n        this.$foldStyle = style;\n        if (style == \"manual\")\n            this.unfold();\n        var mode = this.$foldMode;\n        this.$setFolding(null);\n        this.$setFolding(mode);\n    };\n    this.$setFolding = function (foldMode) {\n        if (this.$foldMode == foldMode)\n            return;\n        this.$foldMode = foldMode;\n        this.off('change', this.$updateFoldWidgets);\n        this.off('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n        this._signal(\"changeAnnotation\");\n        if (!foldMode || this.$foldStyle == \"manual\") {\n            this.foldWidgets = null;\n            return;\n        }\n        this.foldWidgets = [];\n        this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);\n        this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);\n        this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);\n        this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);\n        this.on('change', this.$updateFoldWidgets);\n        this.on('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n    };\n    this.getParentFoldRangeData = function (row, ignoreCurrent) {\n        var fw = this.foldWidgets;\n        if (!fw || (ignoreCurrent && fw[row]))\n            return {};\n        var i = row - 1, firstRange;\n        while (i >= 0) {\n            var c = fw[i];\n            if (c == null)\n                c = fw[i] = this.getFoldWidget(i);\n            if (c == \"start\") {\n                var range = this.getFoldWidgetRange(i);\n                if (!firstRange)\n                    firstRange = range;\n                if (range && range.end.row >= row)\n                    break;\n            }\n            i--;\n        }\n        return {\n            range: i !== -1 && range,\n            firstRange: firstRange\n        };\n    };\n    this.onFoldWidgetClick = function (row, e) {\n        if (e instanceof MouseEvent)\n            e = e.domEvent;\n        var options = {\n            children: e.shiftKey,\n            all: e.ctrlKey || e.metaKey,\n            siblings: e.altKey\n        };\n        var range = this.$toggleFoldWidget(row, options);\n        if (!range) {\n            var el = (e.target || e.srcElement);\n            if (el && /ace_fold-widget/.test(el.className))\n                el.className += \" ace_invalid\";\n        }\n    };\n    this.$toggleFoldWidget = function (row, options) {\n        if (!this.getFoldWidget)\n            return;\n        var type = this.getFoldWidget(row);\n        var line = this.getLine(row);\n        var dir = type === \"end\" ? -1 : 1;\n        var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);\n        if (fold) {\n            if (options.children || options.all)\n                this.removeFold(fold);\n            else\n                this.expandFold(fold);\n            return fold;\n        }\n        var range = this.getFoldWidgetRange(row, true);\n        if (range && !range.isMultiLine()) {\n            fold = this.getFoldAt(range.start.row, range.start.column, 1);\n            if (fold && range.isEqual(fold.range)) {\n                this.removeFold(fold);\n                return fold;\n            }\n        }\n        if (options.siblings) {\n            var data = this.getParentFoldRangeData(row);\n            if (data.range) {\n                var startRow = data.range.start.row + 1;\n                var endRow = data.range.end.row;\n            }\n            this.foldAll(startRow, endRow, options.all ? 10000 : 0);\n        }\n        else if (options.children) {\n            endRow = range ? range.end.row : this.getLength();\n            this.foldAll(row + 1, endRow, options.all ? 10000 : 0);\n        }\n        else if (range) {\n            if (options.all)\n                range.collapseChildren = 10000;\n            this.addFold(\"...\", range);\n        }\n        return range;\n    };\n    this.toggleFoldWidget = function (toggleParent) {\n        var row = this.selection.getCursor().row;\n        row = this.getRowFoldStart(row);\n        var range = this.$toggleFoldWidget(row, {});\n        if (range)\n            return;\n        var data = this.getParentFoldRangeData(row, true);\n        range = data.range || data.firstRange;\n        if (range) {\n            row = range.start.row;\n            var fold = this.getFoldAt(row, this.getLine(row).length, 1);\n            if (fold) {\n                this.removeFold(fold);\n            }\n            else {\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n    this.updateFoldWidgets = function (delta) {\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n        if (len === 0) {\n            this.foldWidgets[firstRow] = null;\n        }\n        else if (delta.action == 'remove') {\n            this.foldWidgets.splice(firstRow, len + 1, null);\n        }\n        else {\n            var args = Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.foldWidgets.splice.apply(this.foldWidgets, args);\n        }\n    };\n    this.tokenizerUpdateFoldWidgets = function (e) {\n        var rows = e.data;\n        if (rows.first != rows.last) {\n            if (this.foldWidgets.length > rows.first)\n                this.foldWidgets.splice(rows.first, this.foldWidgets.length);\n        }\n    };\n}\nexports.Folding = Folding;\n\n});\n\nace.define(\"ace/edit_session/bracket_match\",[\"require\",\"exports\",\"module\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\nfunction BracketMatch() {\n    this.findMatchingBracket = function (position, chr) {\n        if (position.column == 0)\n            return null;\n        var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column - 1);\n        if (charBeforeCursor == \"\")\n            return null;\n        var match = charBeforeCursor.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match)\n            return null;\n        if (match[1])\n            return this.$findClosingBracket(match[1], position);\n        else\n            return this.$findOpeningBracket(match[2], position);\n    };\n    this.getBracketRange = function (pos) {\n        var line = this.getLine(pos.row);\n        var before = true, range;\n        var chr = line.charAt(pos.column - 1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = { row: pos.row, column: pos.column + 1 };\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n            before = false;\n        }\n        if (!match)\n            return null;\n        if (match[1]) {\n            var bracketPos = this.$findClosingBracket(match[1], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(pos, bracketPos);\n            if (!before) {\n                range.end.column++;\n                range.start.column--;\n            }\n            range.cursor = range.end;\n        }\n        else {\n            var bracketPos = this.$findOpeningBracket(match[2], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(bracketPos, pos);\n            if (!before) {\n                range.start.column++;\n                range.end.column--;\n            }\n            range.cursor = range.start;\n        }\n        return range;\n    };\n    this.getMatchingBracketRanges = function (pos, isBackwards) {\n        var line = this.getLine(pos.row);\n        var bracketsRegExp = /([\\(\\[\\{])|([\\)\\]\\}])/;\n        var chr = !isBackwards && line.charAt(pos.column - 1);\n        var match = chr && chr.match(bracketsRegExp);\n        if (!match) {\n            chr = (isBackwards === undefined || isBackwards) && line.charAt(pos.column);\n            pos = {\n                row: pos.row,\n                column: pos.column + 1\n            };\n            match = chr && chr.match(bracketsRegExp);\n        }\n        if (!match)\n            return null;\n        var startRange = new Range(pos.row, pos.column - 1, pos.row, pos.column);\n        var bracketPos = match[1] ? this.$findClosingBracket(match[1], pos)\n            : this.$findOpeningBracket(match[2], pos);\n        if (!bracketPos)\n            return [startRange];\n        var endRange = new Range(bracketPos.row, bracketPos.column, bracketPos.row, bracketPos.column + 1);\n        return [startRange, endRange];\n    };\n    this.$brackets = {\n        \")\": \"(\",\n        \"(\": \")\",\n        \"]\": \"[\",\n        \"[\": \"]\",\n        \"{\": \"}\",\n        \"}\": \"{\",\n        \"<\": \">\",\n        \">\": \"<\"\n    };\n    this.$findOpeningBracket = function (bracket, position, typeRe) {\n        var openBracket = this.$brackets[bracket];\n        var depth = 1;\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n        if (!typeRe) {\n            typeRe = new RegExp(\"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"rparen\", \".paren\")\n                    .replace(/\\b(?:end)\\b/, \"(?:start|begin|end)\")\n                    .replace(/-close\\b/, \"-(close|open)\")\n                + \")+\");\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;\n        var value = token.value;\n        while (true) {\n            while (valueIndex >= 0) {\n                var chr = value.charAt(valueIndex);\n                if (chr == openBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return { row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn() };\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex -= 1;\n            }\n            do {\n                token = iterator.stepBackward();\n            } while (token && !typeRe.test(token.type));\n            if (token == null)\n                break;\n            value = token.value;\n            valueIndex = value.length - 1;\n        }\n        return null;\n    };\n    this.$findClosingBracket = function (bracket, position, typeRe) {\n        var closingBracket = this.$brackets[bracket];\n        var depth = 1;\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n        if (!typeRe) {\n            typeRe = new RegExp(\"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"lparen\", \".paren\")\n                    .replace(/\\b(?:start|begin)\\b/, \"(?:start|begin|end)\")\n                    .replace(/-open\\b/, \"-(close|open)\")\n                + \")+\");\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn();\n        while (true) {\n            var value = token.value;\n            var valueLength = value.length;\n            while (valueIndex < valueLength) {\n                var chr = value.charAt(valueIndex);\n                if (chr == closingBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return { row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn() };\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex += 1;\n            }\n            do {\n                token = iterator.stepForward();\n            } while (token && !typeRe.test(token.type));\n            if (token == null)\n                break;\n            valueIndex = 0;\n        }\n        return null;\n    };\n    this.getMatchingTags = function (pos) {\n        var iterator = new TokenIterator(this, pos.row, pos.column);\n        var token = this.$findTagName(iterator);\n        if (!token)\n            return;\n        var prevToken = iterator.stepBackward();\n        if (prevToken.value === '<') {\n            return this.$findClosingTag(iterator, token);\n        }\n        else {\n            return this.$findOpeningTag(iterator, token);\n        }\n    };\n    this.$findTagName = function (iterator) {\n        var token = iterator.getCurrentToken();\n        var found = false;\n        var backward = false;\n        if (token && token.type.indexOf('tag-name') === -1) {\n            do {\n                if (backward)\n                    token = iterator.stepBackward();\n                else\n                    token = iterator.stepForward();\n                if (token) {\n                    if (token.value === \"/>\") {\n                        backward = true;\n                    }\n                    else if (token.type.indexOf('tag-name') !== -1) {\n                        found = true;\n                    }\n                }\n            } while (token && !found);\n        }\n        return token;\n    };\n    this.$findClosingTag = function (iterator, token) {\n        var prevToken;\n        var currentTag = token.value;\n        var tag = token.value;\n        var depth = 0;\n        var openTagStart = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);\n        token = iterator.stepForward();\n        var openTagName = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + token.value.length);\n        var foundOpenTagEnd = false;\n        do {\n            prevToken = token;\n            if (prevToken.type.indexOf('tag-close') !== -1 && !foundOpenTagEnd) {\n                var openTagEnd = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1); //Range for `>`\n                foundOpenTagEnd = true;\n            }\n            token = iterator.stepForward();\n            if (token) {\n                if (token.value === '>' && !foundOpenTagEnd) {\n                    var openTagEnd = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1); //Range for `>`\n                    foundOpenTagEnd = true;\n                }\n                if (token.type.indexOf('tag-name') !== -1) {\n                    currentTag = token.value;\n                    if (tag === currentTag) {\n                        if (prevToken.value === '<') {\n                            depth++;\n                        }\n                        else if (prevToken.value === '</') {\n                            depth--;\n                            if (depth < 0) { //found closing tag\n                                iterator.stepBackward();\n                                var closeTagStart = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 2); //Range for </\n                                token = iterator.stepForward();\n                                var closeTagName = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + token.value.length);\n                                if (token.type.indexOf('tag-close') === -1) {\n                                    token = iterator.stepForward();\n                                }\n                                if (token && token.value === '>') {\n                                    var closeTagEnd = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1); //Range for >\n                                }\n                                else {\n                                    return;\n                                }\n                            }\n                        }\n                    }\n                }\n                else if (tag === currentTag && token.value === '/>') { // self-closing tag\n                    depth--;\n                    if (depth < 0) { //found self-closing tag end\n                        var closeTagStart = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 2);\n                        var closeTagName = closeTagStart;\n                        var closeTagEnd = closeTagName;\n                        var openTagEnd = new Range(openTagName.end.row, openTagName.end.column, openTagName.end.row, openTagName.end.column + 1);\n                    }\n                }\n            }\n        } while (token && depth >= 0);\n        if (openTagStart && openTagEnd && closeTagStart && closeTagEnd && openTagName && closeTagName) {\n            return {\n                openTag: new Range(openTagStart.start.row, openTagStart.start.column, openTagEnd.end.row, openTagEnd.end.column),\n                closeTag: new Range(closeTagStart.start.row, closeTagStart.start.column, closeTagEnd.end.row, closeTagEnd.end.column),\n                openTagName: openTagName,\n                closeTagName: closeTagName\n            };\n        }\n    };\n    this.$findOpeningTag = function (iterator, token) {\n        var prevToken = iterator.getCurrentToken();\n        var tag = token.value;\n        var depth = 0;\n        var startRow = iterator.getCurrentTokenRow();\n        var startColumn = iterator.getCurrentTokenColumn();\n        var endColumn = startColumn + 2;\n        var closeTagStart = new Range(startRow, startColumn, startRow, endColumn); //Range for </\n        iterator.stepForward();\n        var closeTagName = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + token.value.length);\n        if (token.type.indexOf('tag-close') === -1) {\n            token = iterator.stepForward();\n        }\n        if (!token || token.value !== \">\")\n            return;\n        var closeTagEnd = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1); //Range for >\n        iterator.stepBackward();\n        iterator.stepBackward();\n        do {\n            token = prevToken;\n            startRow = iterator.getCurrentTokenRow();\n            startColumn = iterator.getCurrentTokenColumn();\n            endColumn = startColumn + token.value.length;\n            prevToken = iterator.stepBackward();\n            if (token) {\n                if (token.type.indexOf('tag-name') !== -1) {\n                    if (tag === token.value) {\n                        if (prevToken.value === '<') {\n                            depth++;\n                            if (depth > 0) { //found opening tag\n                                var openTagName = new Range(startRow, startColumn, startRow, endColumn);\n                                var openTagStart = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1); //Range for <\n                                do {\n                                    token = iterator.stepForward();\n                                } while (token && token.value !== '>');\n                                var openTagEnd = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1); //Range for >\n                            }\n                        }\n                        else if (prevToken.value === '</') {\n                            depth--;\n                        }\n                    }\n                }\n                else if (token.value === '/>') { // self-closing tag\n                    var stepCount = 0;\n                    var tmpToken = prevToken;\n                    while (tmpToken) {\n                        if (tmpToken.type.indexOf('tag-name') !== -1 && tmpToken.value === tag) {\n                            depth--;\n                            break;\n                        }\n                        else if (tmpToken.value === '<') {\n                            break;\n                        }\n                        tmpToken = iterator.stepBackward();\n                        stepCount++;\n                    }\n                    for (var i = 0; i < stepCount; i++) {\n                        iterator.stepForward();\n                    }\n                }\n            }\n        } while (prevToken && depth <= 0);\n        if (openTagStart && openTagEnd && closeTagStart && closeTagEnd && openTagName && closeTagName) {\n            return {\n                openTag: new Range(openTagStart.start.row, openTagStart.start.column, openTagEnd.end.row, openTagEnd.end.column),\n                closeTag: new Range(closeTagStart.start.row, closeTagStart.start.column, closeTagEnd.end.row, closeTagEnd.end.column),\n                openTagName: openTagName,\n                closeTagName: closeTagName\n            };\n        }\n    };\n}\nexports.BracketMatch = BracketMatch;\n\n});\n\nace.define(\"ace/edit_session\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/bidihandler\",\"ace/config\",\"ace/lib/event_emitter\",\"ace/selection\",\"ace/mode/text\",\"ace/range\",\"ace/document\",\"ace/background_tokenizer\",\"ace/search_highlight\",\"ace/undomanager\",\"ace/edit_session/folding\",\"ace/edit_session/bracket_match\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar BidiHandler = require(\"./bidihandler\").BidiHandler;\nvar config = require(\"./config\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Selection = require(\"./selection\").Selection;\nvar TextMode = require(\"./mode/text\").Mode;\nvar Range = require(\"./range\").Range;\nvar Document = require(\"./document\").Document;\nvar BackgroundTokenizer = require(\"./background_tokenizer\").BackgroundTokenizer;\nvar SearchHighlight = require(\"./search_highlight\").SearchHighlight;\nvar UndoManager = require(\"./undomanager\").UndoManager;\nvar EditSession = /** @class */ (function () {\n    function EditSession(text, mode) { this.doc;\n        this.$breakpoints = [];\n        this.$decorations = [];\n        this.$frontMarkers = {};\n        this.$backMarkers = {};\n        this.$markerId = 1;\n        this.$undoSelect = true;\n        this.$foldData = [];\n        this.id = \"session\" + (++EditSession.$uid);\n        this.$foldData.toString = function () {\n            return this.join(\"\\n\");\n        };\n        this.bgTokenizer = new BackgroundTokenizer((new TextMode()).getTokenizer(), this);\n        var _self = this;\n        this.bgTokenizer.on(\"update\", function (e) {\n            _self._signal(\"tokenizerUpdate\", e);\n        });\n        this.on(\"changeFold\", this.onChangeFold.bind(this));\n        this.$onChange = this.onChange.bind(this);\n        if (typeof text != \"object\" || !text.getLine)\n            text = new Document(/**@type{string}*/ (text));\n        this.setDocument(text);\n        this.selection = new Selection(this);\n        this.$bidiHandler = new BidiHandler(this);\n        config.resetOptions(this);\n        this.setMode(mode);\n        config._signal(\"session\", this);\n        this.destroyed = false;\n    }\n    EditSession.prototype.setDocument = function (doc) {\n        if (this.doc)\n            this.doc.off(\"change\", this.$onChange);\n        this.doc = doc;\n        doc.on(\"change\", this.$onChange, true);\n        this.bgTokenizer.setDocument(this.getDocument());\n        this.resetCaches();\n    };\n    EditSession.prototype.getDocument = function () {\n        return this.doc;\n    };\n    EditSession.prototype.$resetRowCache = function (docRow) {\n        if (!docRow) {\n            this.$docRowCache = [];\n            this.$screenRowCache = [];\n            return;\n        }\n        var l = this.$docRowCache.length;\n        var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;\n        if (l > i) {\n            this.$docRowCache.splice(i, l);\n            this.$screenRowCache.splice(i, l);\n        }\n    };\n    EditSession.prototype.$getRowCacheIndex = function (cacheArray, val) {\n        var low = 0;\n        var hi = cacheArray.length - 1;\n        while (low <= hi) {\n            var mid = (low + hi) >> 1;\n            var c = cacheArray[mid];\n            if (val > c)\n                low = mid + 1;\n            else if (val < c)\n                hi = mid - 1;\n            else\n                return mid;\n        }\n        return low - 1;\n    };\n    EditSession.prototype.resetCaches = function () {\n        this.$modified = true;\n        this.$wrapData = [];\n        this.$rowLengthCache = [];\n        this.$resetRowCache(0);\n        if (!this.destroyed)\n            this.bgTokenizer.start(0);\n    };\n    EditSession.prototype.onChangeFold = function (e) {\n        var fold = e.data;\n        this.$resetRowCache(fold.start.row);\n    };\n    EditSession.prototype.onChange = function (delta) {\n        this.$modified = true;\n        this.$bidiHandler.onChange(delta);\n        this.$resetRowCache(delta.start.row);\n        var removedFolds = this.$updateInternalDataOnChange(delta);\n        if (!this.$fromUndo && this.$undoManager) {\n            if (removedFolds && removedFolds.length) {\n                this.$undoManager.add({\n                    action: \"removeFolds\",\n                    folds: removedFolds\n                }, this.mergeUndoDeltas);\n                this.mergeUndoDeltas = true;\n            }\n            this.$undoManager.add(delta, this.mergeUndoDeltas);\n            this.mergeUndoDeltas = true;\n            this.$informUndoManager.schedule();\n        }\n        this.bgTokenizer.$updateOnChange(delta);\n        this._signal(\"change\", delta);\n    };\n    EditSession.prototype.setValue = function (text) {\n        this.doc.setValue(text);\n        this.selection.moveTo(0, 0);\n        this.$resetRowCache(0);\n        this.setUndoManager(this.$undoManager);\n        this.getUndoManager().reset();\n    };\n    EditSession.fromJSON = function (session) {\n        if (typeof session == \"string\")\n            session = JSON.parse(session);\n        var undoManager = new UndoManager();\n        undoManager.$undoStack = session.history.undo;\n        undoManager.$redoStack = session.history.redo;\n        undoManager.mark = session.history.mark;\n        undoManager.$rev = session.history.rev;\n        var editSession = new EditSession(session.value);\n        session.folds.forEach(function (fold) {\n            editSession.addFold(\"...\", Range.fromPoints(fold.start, fold.end));\n        });\n        editSession.setAnnotations(session.annotations);\n        editSession.setBreakpoints(session.breakpoints);\n        editSession.setMode(session.mode);\n        editSession.setScrollLeft(session.scrollLeft);\n        editSession.setScrollTop(session.scrollTop);\n        editSession.setUndoManager(undoManager);\n        editSession.selection.fromJSON(session.selection);\n        return editSession;\n    };\n    EditSession.prototype.toJSON = function () {\n        return {\n            annotations: this.$annotations,\n            breakpoints: this.$breakpoints,\n            folds: this.getAllFolds().map(function (fold) {\n                return fold.range;\n            }),\n            history: this.getUndoManager(),\n            mode: this.$mode.$id,\n            scrollLeft: this.$scrollLeft,\n            scrollTop: this.$scrollTop,\n            selection: this.selection.toJSON(),\n            value: this.doc.getValue()\n        };\n    };\n    EditSession.prototype.toString = function () {\n        return this.doc.getValue();\n    };\n    EditSession.prototype.getSelection = function () {\n        return this.selection;\n    };\n    EditSession.prototype.getState = function (row) {\n        return this.bgTokenizer.getState(row);\n    };\n    EditSession.prototype.getTokens = function (row) {\n        return this.bgTokenizer.getTokens(row);\n    };\n    EditSession.prototype.getTokenAt = function (row, column) {\n        var tokens = this.bgTokenizer.getTokens(row);\n        var token, c = 0;\n        if (column == null) {\n            var i = tokens.length - 1;\n            c = this.getLine(row).length;\n        }\n        else {\n            for (var i = 0; i < tokens.length; i++) {\n                c += tokens[i].value.length;\n                if (c >= column)\n                    break;\n            }\n        }\n        token = tokens[i];\n        if (!token)\n            return null;\n        token.index = i;\n        token.start = c - token.value.length;\n        return token;\n    };\n    EditSession.prototype.setUndoManager = function (undoManager) {\n        this.$undoManager = undoManager;\n        if (this.$informUndoManager)\n            this.$informUndoManager.cancel();\n        if (undoManager) {\n            var self = this;\n            undoManager.addSession(this);\n            this.$syncInformUndoManager = function () {\n                self.$informUndoManager.cancel();\n                self.mergeUndoDeltas = false;\n            };\n            this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);\n        }\n        else {\n            this.$syncInformUndoManager = function () { };\n        }\n    };\n    EditSession.prototype.markUndoGroup = function () {\n        if (this.$syncInformUndoManager)\n            this.$syncInformUndoManager();\n    };\n    EditSession.prototype.getUndoManager = function () {\n        return this.$undoManager || this.$defaultUndoManager;\n    };\n    EditSession.prototype.getTabString = function () {\n        if (this.getUseSoftTabs()) {\n            return lang.stringRepeat(\" \", this.getTabSize());\n        }\n        else {\n            return \"\\t\";\n        }\n    };\n    EditSession.prototype.setUseSoftTabs = function (val) {\n        this.setOption(\"useSoftTabs\", val);\n    };\n    EditSession.prototype.getUseSoftTabs = function () {\n        return this.$useSoftTabs && !this.$mode.$indentWithTabs;\n    };\n    EditSession.prototype.setTabSize = function (tabSize) {\n        this.setOption(\"tabSize\", tabSize);\n    };\n    EditSession.prototype.getTabSize = function () {\n        return this.$tabSize;\n    };\n    EditSession.prototype.isTabStop = function (position) {\n        return this.$useSoftTabs && (position.column % this.$tabSize === 0);\n    };\n    EditSession.prototype.setNavigateWithinSoftTabs = function (navigateWithinSoftTabs) {\n        this.setOption(\"navigateWithinSoftTabs\", navigateWithinSoftTabs);\n    };\n    EditSession.prototype.getNavigateWithinSoftTabs = function () {\n        return this.$navigateWithinSoftTabs;\n    };\n    EditSession.prototype.setOverwrite = function (overwrite) {\n        this.setOption(\"overwrite\", overwrite);\n    };\n    EditSession.prototype.getOverwrite = function () {\n        return this.$overwrite;\n    };\n    EditSession.prototype.toggleOverwrite = function () {\n        this.setOverwrite(!this.$overwrite);\n    };\n    EditSession.prototype.addGutterDecoration = function (row, className) {\n        if (!this.$decorations[row])\n            this.$decorations[row] = \"\";\n        this.$decorations[row] += \" \" + className;\n        this._signal(\"changeBreakpoint\", {});\n    };\n    EditSession.prototype.removeGutterDecoration = function (row, className) {\n        this.$decorations[row] = (this.$decorations[row] || \"\").replace(\" \" + className, \"\");\n        this._signal(\"changeBreakpoint\", {});\n    };\n    EditSession.prototype.getBreakpoints = function () {\n        return this.$breakpoints;\n    };\n    EditSession.prototype.setBreakpoints = function (rows) {\n        this.$breakpoints = [];\n        for (var i = 0; i < rows.length; i++) {\n            this.$breakpoints[rows[i]] = \"ace_breakpoint\";\n        }\n        this._signal(\"changeBreakpoint\", {});\n    };\n    EditSession.prototype.clearBreakpoints = function () {\n        this.$breakpoints = [];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    EditSession.prototype.setBreakpoint = function (row, className) {\n        if (className === undefined)\n            className = \"ace_breakpoint\";\n        if (className)\n            this.$breakpoints[row] = className;\n        else\n            delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    EditSession.prototype.clearBreakpoint = function (row) {\n        delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    EditSession.prototype.addMarker = function (range, clazz, type, inFront) {\n        var id = this.$markerId++;\n        var marker = {\n            range: range,\n            type: type || \"line\",\n            renderer: typeof type == \"function\" ? type : null,\n            clazz: clazz,\n            inFront: !!inFront,\n            id: id\n        };\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        }\n        else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n        return id;\n    };\n    EditSession.prototype.addDynamicMarker = function (marker, inFront) {\n        if (!marker.update)\n            return;\n        var id = this.$markerId++;\n        marker.id = id;\n        marker.inFront = !!inFront;\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        }\n        else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n        return marker;\n    };\n    EditSession.prototype.removeMarker = function (markerId) {\n        var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];\n        if (!marker)\n            return;\n        var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;\n        delete (markers[markerId]);\n        this._signal(marker.inFront ? \"changeFrontMarker\" : \"changeBackMarker\");\n    };\n    EditSession.prototype.getMarkers = function (inFront) {\n        return inFront ? this.$frontMarkers : this.$backMarkers;\n    };\n    EditSession.prototype.highlight = function (re) {\n        if (!this.$searchHighlight) {\n            var highlight = new SearchHighlight(null, \"ace_selected-word\", \"text\");\n            this.$searchHighlight = this.addDynamicMarker(highlight);\n        }\n        this.$searchHighlight.setRegexp(re);\n    };\n    EditSession.prototype.highlightLines = function (startRow, endRow, clazz, inFront) {\n        if (typeof endRow != \"number\") {\n            clazz = endRow;\n            endRow = startRow;\n        }\n        if (!clazz)\n            clazz = \"ace_step\";\n        var range = new Range(startRow, 0, endRow, Infinity);\n        range.id = this.addMarker(range, clazz, \"fullLine\", inFront);\n        return range;\n    };\n    EditSession.prototype.setAnnotations = function (annotations) {\n        this.$annotations = annotations;\n        this._signal(\"changeAnnotation\", {});\n    };\n    EditSession.prototype.getAnnotations = function () {\n        return this.$annotations || [];\n    };\n    EditSession.prototype.clearAnnotations = function () {\n        this.setAnnotations([]);\n    };\n    EditSession.prototype.$detectNewLine = function (text) {\n        var match = text.match(/^.*?(\\r?\\n)/m);\n        if (match) {\n            this.$autoNewLine = match[1];\n        }\n        else {\n            this.$autoNewLine = \"\\n\";\n        }\n    };\n    EditSession.prototype.getWordRange = function (row, column) {\n        var line = this.getLine(row);\n        var inToken = false;\n        if (column > 0)\n            inToken = !!line.charAt(column - 1).match(this.tokenRe);\n        if (!inToken)\n            inToken = !!line.charAt(column).match(this.tokenRe);\n        if (inToken)\n            var re = this.tokenRe;\n        else if (/^\\s+$/.test(line.slice(column - 1, column + 1)))\n            var re = /\\s/;\n        else\n            var re = this.nonTokenRe;\n        var start = column;\n        if (start > 0) {\n            do {\n                start--;\n            } while (start >= 0 && line.charAt(start).match(re));\n            start++;\n        }\n        var end = column;\n        while (end < line.length && line.charAt(end).match(re)) {\n            end++;\n        }\n        return new Range(row, start, row, end);\n    };\n    EditSession.prototype.getAWordRange = function (row, column) {\n        var wordRange = this.getWordRange(row, column);\n        var line = this.getLine(wordRange.end.row);\n        while (line.charAt(wordRange.end.column).match(/[ \\t]/)) {\n            wordRange.end.column += 1;\n        }\n        return wordRange;\n    };\n    EditSession.prototype.setNewLineMode = function (newLineMode) {\n        this.doc.setNewLineMode(newLineMode);\n    };\n    EditSession.prototype.getNewLineMode = function () {\n        return this.doc.getNewLineMode();\n    };\n    EditSession.prototype.setUseWorker = function (useWorker) { this.setOption(\"useWorker\", useWorker); };\n    EditSession.prototype.getUseWorker = function () { return this.$useWorker; };\n    EditSession.prototype.onReloadTokenizer = function (e) {\n        var rows = e.data;\n        this.bgTokenizer.start(rows.first);\n        this._signal(\"tokenizerUpdate\", e);\n    };\n    EditSession.prototype.setMode = function (mode, cb) {\n        if (mode && typeof mode === \"object\") {\n            if (mode.getTokenizer)\n                return this.$onChangeMode(mode);\n            var options = mode;\n            var path = options.path;\n        }\n        else {\n            path = /**@type{string}*/ (mode) || \"ace/mode/text\";\n        }\n        if (!this.$modes[\"ace/mode/text\"])\n            this.$modes[\"ace/mode/text\"] = new TextMode();\n        if (this.$modes[path] && !options) {\n            this.$onChangeMode(this.$modes[path]);\n            cb && cb();\n            return;\n        }\n        this.$modeId = path;\n        config.loadModule([\"mode\", path], function (m) {\n            if (this.$modeId !== path)\n                return cb && cb();\n            if (this.$modes[path] && !options) {\n                this.$onChangeMode(this.$modes[path]);\n            }\n            else if (m && m.Mode) {\n                m = new m.Mode(options);\n                if (!options) {\n                    this.$modes[path] = m;\n                    m.$id = path;\n                }\n                this.$onChangeMode(m);\n            }\n            cb && cb();\n        }.bind(this));\n        if (!this.$mode)\n            this.$onChangeMode(this.$modes[\"ace/mode/text\"], true);\n    };\n    EditSession.prototype.$onChangeMode = function (mode, $isPlaceholder) {\n        if (!$isPlaceholder)\n            this.$modeId = mode.$id;\n        if (this.$mode === mode)\n            return;\n        var oldMode = this.$mode;\n        this.$mode = mode;\n        this.$stopWorker();\n        if (this.$useWorker)\n            this.$startWorker();\n        var tokenizer = mode.getTokenizer();\n        if (tokenizer.on !== undefined) {\n            var onReloadTokenizer = this.onReloadTokenizer.bind(this);\n            tokenizer.on(\"update\", onReloadTokenizer);\n        }\n        this.bgTokenizer.setTokenizer(tokenizer);\n        this.bgTokenizer.setDocument(this.getDocument());\n        this.tokenRe = mode.tokenRe;\n        this.nonTokenRe = mode.nonTokenRe;\n        if (!$isPlaceholder) {\n            if (mode.attachToSession)\n                mode.attachToSession(this);\n            this.$options.wrapMethod.set.call(this, this.$wrapMethod);\n            this.$setFolding(mode.foldingRules);\n            this.bgTokenizer.start(0);\n            this._emit(\"changeMode\", { oldMode: oldMode, mode: mode });\n        }\n    };\n    EditSession.prototype.$stopWorker = function () {\n        if (this.$worker) {\n            this.$worker.terminate();\n            this.$worker = null;\n        }\n    };\n    EditSession.prototype.$startWorker = function () {\n        try {\n            this.$worker = this.$mode.createWorker(this);\n        }\n        catch (e) {\n            config.warn(\"Could not load worker\", e);\n            this.$worker = null;\n        }\n    };\n    EditSession.prototype.getMode = function () {\n        return this.$mode;\n    };\n    EditSession.prototype.setScrollTop = function (scrollTop) {\n        if (this.$scrollTop === scrollTop || isNaN(scrollTop))\n            return;\n        this.$scrollTop = scrollTop;\n        this._signal(\"changeScrollTop\", scrollTop);\n    };\n    EditSession.prototype.getScrollTop = function () {\n        return this.$scrollTop;\n    };\n    EditSession.prototype.setScrollLeft = function (scrollLeft) {\n        if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft))\n            return;\n        this.$scrollLeft = scrollLeft;\n        this._signal(\"changeScrollLeft\", scrollLeft);\n    };\n    EditSession.prototype.getScrollLeft = function () {\n        return this.$scrollLeft;\n    };\n    EditSession.prototype.getScreenWidth = function () {\n        this.$computeWidth();\n        if (this.lineWidgets)\n            return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);\n        return this.screenWidth;\n    };\n    EditSession.prototype.getLineWidgetMaxWidth = function () {\n        if (this.lineWidgetsWidth != null)\n            return this.lineWidgetsWidth;\n        var width = 0;\n        this.lineWidgets.forEach(function (w) {\n            if (w && w.screenWidth > width)\n                width = w.screenWidth;\n        });\n        return this.lineWidgetWidth = width;\n    };\n    EditSession.prototype.$computeWidth = function (force) {\n        if (this.$modified || force) {\n            this.$modified = false;\n            if (this.$useWrapMode)\n                return this.screenWidth = this.$wrapLimit;\n            var lines = this.doc.getAllLines();\n            var cache = this.$rowLengthCache;\n            var longestScreenLine = 0;\n            var foldIndex = 0;\n            var foldLine = this.$foldData[foldIndex];\n            var foldStart = foldLine ? foldLine.start.row : Infinity;\n            var len = lines.length;\n            for (var i = 0; i < len; i++) {\n                if (i > foldStart) {\n                    i = foldLine.end.row + 1;\n                    if (i >= len)\n                        break;\n                    foldLine = this.$foldData[foldIndex++];\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n                if (cache[i] == null)\n                    cache[i] = this.$getStringScreenWidth(lines[i])[0];\n                if (cache[i] > longestScreenLine)\n                    longestScreenLine = cache[i];\n            }\n            this.screenWidth = longestScreenLine;\n        }\n    };\n    EditSession.prototype.getLine = function (row) {\n        return this.doc.getLine(row);\n    };\n    EditSession.prototype.getLines = function (firstRow, lastRow) {\n        return this.doc.getLines(firstRow, lastRow);\n    };\n    EditSession.prototype.getLength = function () {\n        return this.doc.getLength();\n    };\n    EditSession.prototype.getTextRange = function (range) {\n        return this.doc.getTextRange(range || this.selection.getRange());\n    };\n    EditSession.prototype.insert = function (position, text) {\n        return this.doc.insert(position, text);\n    };\n    EditSession.prototype.remove = function (range) {\n        return this.doc.remove(range);\n    };\n    EditSession.prototype.removeFullLines = function (firstRow, lastRow) {\n        return this.doc.removeFullLines(firstRow, lastRow);\n    };\n    EditSession.prototype.undoChanges = function (deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n        this.$fromUndo = true;\n        for (var i = deltas.length - 1; i != -1; i--) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.revertDelta(delta);\n            }\n            else if (delta.folds) {\n                this.addFolds(delta.folds);\n            }\n        }\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionBefore)\n                this.selection.fromJSON(deltas.selectionBefore);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, true));\n        }\n        this.$fromUndo = false;\n    };\n    EditSession.prototype.redoChanges = function (deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n        this.$fromUndo = true;\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.$safeApplyDelta(delta);\n            }\n        }\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionAfter)\n                this.selection.fromJSON(deltas.selectionAfter);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, false));\n        }\n        this.$fromUndo = false;\n    };\n    EditSession.prototype.setUndoSelect = function (enable) {\n        this.$undoSelect = enable;\n    };\n    EditSession.prototype.$getUndoSelection = function (deltas, isUndo) {\n        function isInsert(delta) {\n            return isUndo ? delta.action !== \"insert\" : delta.action === \"insert\";\n        }\n        var range, point;\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (!delta.start)\n                continue; // skip folds\n            if (!range) {\n                if (isInsert(delta)) {\n                    range = Range.fromPoints(delta.start, delta.end);\n                }\n                else {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n                continue;\n            }\n            if (isInsert(delta)) {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range.setStart(point);\n                }\n                point = delta.end;\n                if (range.compare(point.row, point.column) == 1) {\n                    range.setEnd(point);\n                }\n            }\n            else {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n            }\n        }\n        return range;\n    };\n    EditSession.prototype.replace = function (range, text) {\n        return this.doc.replace(range, text);\n    };\n    EditSession.prototype.moveText = function (fromRange, toPosition, copy) {\n        var text = this.getTextRange(fromRange);\n        var folds = this.getFoldsInRange(fromRange);\n        var toRange = Range.fromPoints(toPosition, toPosition);\n        if (!copy) {\n            this.remove(fromRange);\n            var rowDiff = fromRange.start.row - fromRange.end.row;\n            var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;\n            if (collDiff) {\n                if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column)\n                    toRange.start.column += collDiff;\n                if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column)\n                    toRange.end.column += collDiff;\n            }\n            if (rowDiff && toRange.start.row >= fromRange.end.row) {\n                toRange.start.row += rowDiff;\n                toRange.end.row += rowDiff;\n            }\n        }\n        toRange.end = this.insert(toRange.start, text);\n        if (folds.length) {\n            var oldStart = fromRange.start;\n            var newStart = toRange.start;\n            var rowDiff = newStart.row - oldStart.row;\n            var collDiff = newStart.column - oldStart.column;\n            this.addFolds(folds.map(function (x) {\n                x = x.clone();\n                if (x.start.row == oldStart.row)\n                    x.start.column += collDiff;\n                if (x.end.row == oldStart.row)\n                    x.end.column += collDiff;\n                x.start.row += rowDiff;\n                x.end.row += rowDiff;\n                return x;\n            }));\n        }\n        return toRange;\n    };\n    EditSession.prototype.indentRows = function (startRow, endRow, indentString) {\n        indentString = indentString.replace(/\\t/g, this.getTabString());\n        for (var row = startRow; row <= endRow; row++)\n            this.doc.insertInLine({ row: row, column: 0 }, indentString);\n    };\n    EditSession.prototype.outdentRows = function (range) {\n        var rowRange = range.collapseRows();\n        var deleteRange = new Range(0, 0, 0, 0);\n        var size = this.getTabSize();\n        for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {\n            var line = this.getLine(i);\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            for (var j = 0; j < size; ++j)\n                if (line.charAt(j) != ' ')\n                    break;\n            if (j < size && line.charAt(j) == '\\t') {\n                deleteRange.start.column = j;\n                deleteRange.end.column = j + 1;\n            }\n            else {\n                deleteRange.start.column = 0;\n                deleteRange.end.column = j;\n            }\n            this.remove(deleteRange);\n        }\n    };\n    EditSession.prototype.$moveLines = function (firstRow, lastRow, dir) {\n        firstRow = this.getRowFoldStart(firstRow);\n        lastRow = this.getRowFoldEnd(lastRow);\n        if (dir < 0) {\n            var row = this.getRowFoldStart(firstRow + dir);\n            if (row < 0)\n                return 0;\n            var diff = row - firstRow;\n        }\n        else if (dir > 0) {\n            var row = this.getRowFoldEnd(lastRow + dir);\n            if (row > this.doc.getLength() - 1)\n                return 0;\n            var diff = row - lastRow;\n        }\n        else {\n            firstRow = this.$clipRowToDocument(firstRow);\n            lastRow = this.$clipRowToDocument(lastRow);\n            var diff = lastRow - firstRow + 1;\n        }\n        var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);\n        var folds = this.getFoldsInRange(range).map(function (x) {\n            x = x.clone();\n            x.start.row += diff;\n            x.end.row += diff;\n            return x;\n        });\n        var lines = dir == 0\n            ? this.doc.getLines(firstRow, lastRow)\n            : this.doc.removeFullLines(firstRow, lastRow);\n        this.doc.insertFullLines(firstRow + diff, lines);\n        folds.length && this.addFolds(folds);\n        return diff;\n    };\n    EditSession.prototype.moveLinesUp = function (firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, -1);\n    };\n    EditSession.prototype.moveLinesDown = function (firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 1);\n    };\n    EditSession.prototype.duplicateLines = function (firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 0);\n    };\n    EditSession.prototype.$clipRowToDocument = function (row) {\n        return Math.max(0, Math.min(row, this.doc.getLength() - 1));\n    };\n    EditSession.prototype.$clipColumnToRow = function (row, column) {\n        if (column < 0)\n            return 0;\n        return Math.min(this.doc.getLine(row).length, column);\n    };\n    EditSession.prototype.$clipPositionToDocument = function (row, column) {\n        column = Math.max(0, column);\n        if (row < 0) {\n            row = 0;\n            column = 0;\n        }\n        else {\n            var len = this.doc.getLength();\n            if (row >= len) {\n                row = len - 1;\n                column = this.doc.getLine(len - 1).length;\n            }\n            else {\n                column = Math.min(this.doc.getLine(row).length, column);\n            }\n        }\n        return {\n            row: row,\n            column: column\n        };\n    };\n    EditSession.prototype.$clipRangeToDocument = function (range) {\n        if (range.start.row < 0) {\n            range.start.row = 0;\n            range.start.column = 0;\n        }\n        else {\n            range.start.column = this.$clipColumnToRow(range.start.row, range.start.column);\n        }\n        var len = this.doc.getLength() - 1;\n        if (range.end.row > len) {\n            range.end.row = len;\n            range.end.column = this.doc.getLine(len).length;\n        }\n        else {\n            range.end.column = this.$clipColumnToRow(range.end.row, range.end.column);\n        }\n        return range;\n    };\n    EditSession.prototype.setUseWrapMode = function (useWrapMode) {\n        if (useWrapMode != this.$useWrapMode) {\n            this.$useWrapMode = useWrapMode;\n            this.$modified = true;\n            this.$resetRowCache(0);\n            if (useWrapMode) {\n                var len = this.getLength();\n                this.$wrapData = Array(len);\n                this.$updateWrapData(0, len - 1);\n            }\n            this._signal(\"changeWrapMode\");\n        }\n    };\n    EditSession.prototype.getUseWrapMode = function () {\n        return this.$useWrapMode;\n    };\n    EditSession.prototype.setWrapLimitRange = function (min, max) {\n        if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {\n            this.$wrapLimitRange = { min: min, max: max };\n            this.$modified = true;\n            this.$bidiHandler.markAsDirty();\n            if (this.$useWrapMode)\n                this._signal(\"changeWrapMode\");\n        }\n    };\n    EditSession.prototype.adjustWrapLimit = function (desiredLimit, $printMargin) {\n        var limits = this.$wrapLimitRange;\n        if (limits.max < 0)\n            limits = { min: $printMargin, max: $printMargin };\n        var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);\n        if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {\n            this.$wrapLimit = wrapLimit;\n            this.$modified = true;\n            if (this.$useWrapMode) {\n                this.$updateWrapData(0, this.getLength() - 1);\n                this.$resetRowCache(0);\n                this._signal(\"changeWrapLimit\");\n            }\n            return true;\n        }\n        return false;\n    };\n    EditSession.prototype.$constrainWrapLimit = function (wrapLimit, min, max) {\n        if (min)\n            wrapLimit = Math.max(min, wrapLimit);\n        if (max)\n            wrapLimit = Math.min(max, wrapLimit);\n        return wrapLimit;\n    };\n    EditSession.prototype.getWrapLimit = function () {\n        return this.$wrapLimit;\n    };\n    EditSession.prototype.setWrapLimit = function (limit) {\n        this.setWrapLimitRange(limit, limit);\n    };\n    EditSession.prototype.getWrapLimitRange = function () {\n        return {\n            min: this.$wrapLimitRange.min,\n            max: this.$wrapLimitRange.max\n        };\n    };\n    EditSession.prototype.$updateInternalDataOnChange = function (delta) {\n        var useWrapMode = this.$useWrapMode;\n        var action = delta.action;\n        var start = delta.start;\n        var end = delta.end;\n        var firstRow = start.row;\n        var lastRow = end.row;\n        var len = lastRow - firstRow;\n        var removedFolds = null;\n        this.$updating = true;\n        if (len != 0) {\n            if (action === \"remove\") {\n                this[useWrapMode ? \"$wrapData\" : \"$rowLengthCache\"].splice(firstRow, len);\n                var foldLines = this.$foldData;\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n                var foldLine = this.getFoldLine(end.row);\n                var idx = 0;\n                if (foldLine) {\n                    foldLine.addRemoveChars(end.row, end.column, start.column - end.column);\n                    foldLine.shiftRow(-len);\n                    var foldLineBefore = this.getFoldLine(firstRow);\n                    if (foldLineBefore && foldLineBefore !== foldLine) {\n                        foldLineBefore.merge(foldLine);\n                        foldLine = foldLineBefore;\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= end.row) {\n                        foldLine.shiftRow(-len);\n                    }\n                }\n                lastRow = firstRow;\n            }\n            else {\n                var args = Array(len);\n                args.unshift(firstRow, 0);\n                var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache;\n                arr.splice.apply(arr, args);\n                var foldLines = this.$foldData;\n                var foldLine = this.getFoldLine(firstRow);\n                var idx = 0;\n                if (foldLine) {\n                    var cmp = foldLine.range.compareInside(start.row, start.column);\n                    if (cmp == 0) {\n                        foldLine = foldLine.split(start.row, start.column);\n                        if (foldLine) {\n                            foldLine.shiftRow(len);\n                            foldLine.addRemoveChars(lastRow, 0, end.column - start.column);\n                        }\n                    }\n                    else \n                    if (cmp == -1) {\n                        foldLine.addRemoveChars(firstRow, 0, end.column - start.column);\n                        foldLine.shiftRow(len);\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= firstRow) {\n                        foldLine.shiftRow(len);\n                    }\n                }\n            }\n        }\n        else {\n            len = Math.abs(delta.start.column - delta.end.column);\n            if (action === \"remove\") {\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n                len = -len;\n            }\n            var foldLine = this.getFoldLine(firstRow);\n            if (foldLine) {\n                foldLine.addRemoveChars(firstRow, start.column, len);\n            }\n        }\n        if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {\n            console.error(\"doc.getLength() and $wrapData.length have to be the same!\");\n        }\n        this.$updating = false;\n        if (useWrapMode)\n            this.$updateWrapData(firstRow, lastRow);\n        else\n            this.$updateRowLengthCache(firstRow, lastRow);\n        return removedFolds;\n    };\n    EditSession.prototype.$updateRowLengthCache = function (firstRow, lastRow) {\n        this.$rowLengthCache[firstRow] = null;\n        this.$rowLengthCache[lastRow] = null;\n    };\n    EditSession.prototype.$updateWrapData = function (firstRow, lastRow) {\n        var lines = this.doc.getAllLines();\n        var tabSize = this.getTabSize();\n        var wrapData = this.$wrapData;\n        var wrapLimit = this.$wrapLimit;\n        var tokens;\n        var foldLine;\n        var row = firstRow;\n        lastRow = Math.min(lastRow, lines.length - 1);\n        while (row <= lastRow) {\n            foldLine = this.getFoldLine(row, foldLine);\n            if (!foldLine) {\n                tokens = this.$getDisplayTokens(lines[row]);\n                wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row++;\n            }\n            else {\n                tokens = [];\n                foldLine.walk(function (placeholder, row, column, lastColumn) {\n                    var walkTokens;\n                    if (placeholder != null) {\n                        walkTokens = this.$getDisplayTokens(placeholder, tokens.length);\n                        walkTokens[0] = PLACEHOLDER_START;\n                        for (var i = 1; i < walkTokens.length; i++) {\n                            walkTokens[i] = PLACEHOLDER_BODY;\n                        }\n                    }\n                    else {\n                        walkTokens = this.$getDisplayTokens(lines[row].substring(lastColumn, column), tokens.length);\n                    }\n                    tokens = tokens.concat(walkTokens);\n                }.bind(this), foldLine.end.row, lines[foldLine.end.row].length + 1);\n                wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row = foldLine.end.row + 1;\n            }\n        }\n    };\n    EditSession.prototype.$computeWrapSplits = function (tokens, wrapLimit, tabSize) {\n        if (tokens.length == 0) {\n            return [];\n        }\n        var splits = [];\n        var displayLength = tokens.length;\n        var lastSplit = 0, lastDocSplit = 0;\n        var isCode = this.$wrapAsCode;\n        var indentedSoftWrap = this.$indentedSoftWrap;\n        var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8)\n            || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);\n        function getWrapIndent() {\n            var indentation = 0;\n            if (maxIndent === 0)\n                return indentation;\n            if (indentedSoftWrap) {\n                for (var i = 0; i < tokens.length; i++) {\n                    var token = tokens[i];\n                    if (token == SPACE)\n                        indentation += 1;\n                    else if (token == TAB)\n                        indentation += tabSize;\n                    else if (token == TAB_SPACE)\n                        continue;\n                    else\n                        break;\n                }\n            }\n            if (isCode && indentedSoftWrap !== false)\n                indentation += tabSize;\n            return Math.min(indentation, maxIndent);\n        }\n        function addSplit(screenPos) {\n            var len = screenPos - lastSplit;\n            for (var i = lastSplit; i < screenPos; i++) {\n                var ch = tokens[i];\n                if (ch === 12 || ch === 2)\n                    len -= 1;\n            }\n            if (!splits.length) {\n                indent = getWrapIndent();\n                splits.indent = indent;\n            }\n            lastDocSplit += len;\n            splits.push(lastDocSplit);\n            lastSplit = screenPos;\n        }\n        var indent = 0;\n        while (displayLength - lastSplit > wrapLimit - indent) {\n            var split = lastSplit + wrapLimit - indent;\n            if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {\n                addSplit(split);\n                continue;\n            }\n            if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {\n                for (split; split != lastSplit - 1; split--) {\n                    if (tokens[split] == PLACEHOLDER_START) {\n                        break;\n                    }\n                }\n                if (split > lastSplit) {\n                    addSplit(split);\n                    continue;\n                }\n                split = lastSplit + wrapLimit;\n                for (split; split < tokens.length; split++) {\n                    if (tokens[split] != PLACEHOLDER_BODY) {\n                        break;\n                    }\n                }\n                if (split == tokens.length) {\n                    break; // Breaks the while-loop.\n                }\n                addSplit(split);\n                continue;\n            }\n            var minSplit = Math.max(split - (wrapLimit - (wrapLimit >> 2)), lastSplit - 1);\n            while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                split--;\n            }\n            if (isCode) {\n                while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                    split--;\n                }\n                while (split > minSplit && tokens[split] == PUNCTUATION) {\n                    split--;\n                }\n            }\n            else {\n                while (split > minSplit && tokens[split] < SPACE) {\n                    split--;\n                }\n            }\n            if (split > minSplit) {\n                addSplit(++split);\n                continue;\n            }\n            split = lastSplit + wrapLimit;\n            if (tokens[split] == CHAR_EXT)\n                split--;\n            addSplit(split - indent);\n        }\n        return splits;\n    };\n    EditSession.prototype.$getDisplayTokens = function (str, offset) {\n        var arr = [];\n        var tabSize;\n        offset = offset || 0;\n        for (var i = 0; i < str.length; i++) {\n            var c = str.charCodeAt(i);\n            if (c == 9) {\n                tabSize = this.getScreenTabSize(arr.length + offset);\n                arr.push(TAB);\n                for (var n = 1; n < tabSize; n++) {\n                    arr.push(TAB_SPACE);\n                }\n            }\n            else if (c == 32) {\n                arr.push(SPACE);\n            }\n            else if ((c > 39 && c < 48) || (c > 57 && c < 64)) {\n                arr.push(PUNCTUATION);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                arr.push(CHAR, CHAR_EXT);\n            }\n            else {\n                arr.push(CHAR);\n            }\n        }\n        return arr;\n    };\n    EditSession.prototype.$getStringScreenWidth = function (str, maxScreenColumn, screenColumn) {\n        if (maxScreenColumn == 0)\n            return [0, 0];\n        if (maxScreenColumn == null)\n            maxScreenColumn = Infinity;\n        screenColumn = screenColumn || 0;\n        var c, column;\n        for (column = 0; column < str.length; column++) {\n            c = str.charCodeAt(column);\n            if (c == 9) {\n                screenColumn += this.getScreenTabSize(screenColumn);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                screenColumn += 2;\n            }\n            else {\n                screenColumn += 1;\n            }\n            if (screenColumn > maxScreenColumn) {\n                break;\n            }\n        }\n        return [screenColumn, column];\n    };\n    EditSession.prototype.getRowLength = function (row) {\n        var h = 1;\n        if (this.lineWidgets)\n            h += this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        if (!this.$useWrapMode || !this.$wrapData[row])\n            return h;\n        else\n            return this.$wrapData[row].length + h;\n    };\n    EditSession.prototype.getRowLineCount = function (row) {\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1;\n        }\n        else {\n            return this.$wrapData[row].length + 1;\n        }\n    };\n    EditSession.prototype.getRowWrapIndent = function (screenRow) {\n        if (this.$useWrapMode) {\n            var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n            var splits = this.$wrapData[pos.row];\n            return splits.length && splits[0] < pos.column ? splits.indent : 0;\n        }\n        else {\n            return 0;\n        }\n    };\n    EditSession.prototype.getScreenLastRowColumn = function (screenRow) {\n        var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n        return this.documentToScreenColumn(pos.row, pos.column);\n    };\n    EditSession.prototype.getDocumentLastRowColumn = function (docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.getScreenLastRowColumn(screenRow);\n    };\n    EditSession.prototype.getDocumentLastRowColumnPosition = function (docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);\n    };\n    EditSession.prototype.getRowSplitData = function (row) {\n        if (!this.$useWrapMode) {\n            return undefined;\n        }\n        else {\n            return this.$wrapData[row];\n        }\n    };\n    EditSession.prototype.getScreenTabSize = function (screenColumn) {\n        return this.$tabSize - (screenColumn % this.$tabSize | 0);\n    };\n    EditSession.prototype.screenToDocumentRow = function (screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).row;\n    };\n    EditSession.prototype.screenToDocumentColumn = function (screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).column;\n    };\n    EditSession.prototype.screenToDocumentPosition = function (screenRow, screenColumn, offsetX) {\n        if (screenRow < 0)\n            return { row: 0, column: 0 };\n        var line;\n        var docRow = 0;\n        var docColumn = 0;\n        var column;\n        var row = 0;\n        var rowLength = 0;\n        var rowCache = this.$screenRowCache;\n        var i = this.$getRowCacheIndex(rowCache, screenRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var docRow = this.$docRowCache[i];\n            var doCache = screenRow > rowCache[l - 1];\n        }\n        else {\n            var doCache = !l;\n        }\n        var maxRow = this.getLength() - 1;\n        var foldLine = this.getNextFoldLine(docRow);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (row <= screenRow) {\n            rowLength = this.getRowLength(docRow);\n            if (row + rowLength > screenRow || docRow >= maxRow) {\n                break;\n            }\n            else {\n                row += rowLength;\n                docRow++;\n                if (docRow > foldStart) {\n                    docRow = foldLine.end.row + 1;\n                    foldLine = this.getNextFoldLine(docRow, foldLine);\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n            }\n            if (doCache) {\n                this.$docRowCache.push(docRow);\n                this.$screenRowCache.push(row);\n            }\n        }\n        if (foldLine && foldLine.start.row <= docRow) {\n            line = this.getFoldDisplayLine(foldLine);\n            docRow = foldLine.start.row;\n        }\n        else if (row + rowLength <= screenRow || docRow > maxRow) {\n            return {\n                row: maxRow,\n                column: this.getLine(maxRow).length\n            };\n        }\n        else {\n            line = this.getLine(docRow);\n            foldLine = null;\n        }\n        var wrapIndent = 0, splitIndex = Math.floor(screenRow - row);\n        if (this.$useWrapMode) {\n            var splits = this.$wrapData[docRow];\n            if (splits) {\n                column = splits[splitIndex];\n                if (splitIndex > 0 && splits.length) {\n                    wrapIndent = splits.indent;\n                    docColumn = splits[splitIndex - 1] || splits[splits.length - 1];\n                    line = line.substring(docColumn);\n                }\n            }\n        }\n        if (offsetX !== undefined && this.$bidiHandler.isBidiRow(row + splitIndex, docRow, splitIndex))\n            screenColumn = this.$bidiHandler.offsetToCol(offsetX);\n        docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];\n        if (this.$useWrapMode && docColumn >= column)\n            docColumn = column - 1;\n        if (foldLine)\n            return foldLine.idxToPosition(docColumn);\n        return { row: docRow, column: docColumn };\n    };\n    EditSession.prototype.documentToScreenPosition = function (docRow, docColumn) {\n        if (typeof docColumn === \"undefined\")\n            var pos = this.$clipPositionToDocument(/**@type{Point}*/ (docRow).row, /**@type{Point}*/ (docRow).column);\n        else\n            pos = this.$clipPositionToDocument(/**@type{number}*/ (docRow), docColumn);\n        docRow = pos.row;\n        docColumn = pos.column;\n        var screenRow = 0;\n        var foldStartRow = null;\n        var fold = null;\n        fold = this.getFoldAt(docRow, docColumn, 1);\n        if (fold) {\n            docRow = fold.start.row;\n            docColumn = fold.start.column;\n        }\n        var rowEnd, row = 0;\n        var rowCache = this.$docRowCache;\n        var i = this.$getRowCacheIndex(rowCache, docRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var screenRow = this.$screenRowCache[i];\n            var doCache = docRow > rowCache[l - 1];\n        }\n        else {\n            var doCache = !l;\n        }\n        var foldLine = this.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (row < docRow) {\n            if (row >= foldStart) {\n                rowEnd = foldLine.end.row + 1;\n                if (rowEnd > docRow)\n                    break;\n                foldLine = this.getNextFoldLine(rowEnd, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            else {\n                rowEnd = row + 1;\n            }\n            screenRow += this.getRowLength(row);\n            row = rowEnd;\n            if (doCache) {\n                this.$docRowCache.push(row);\n                this.$screenRowCache.push(screenRow);\n            }\n        }\n        var textLine = \"\";\n        if (foldLine && row >= foldStart) {\n            textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);\n            foldStartRow = foldLine.start.row;\n        }\n        else {\n            textLine = this.getLine(docRow).substring(0, docColumn);\n            foldStartRow = docRow;\n        }\n        var wrapIndent = 0;\n        if (this.$useWrapMode) {\n            var wrapRow = this.$wrapData[foldStartRow];\n            if (wrapRow) {\n                var screenRowOffset = 0;\n                while (textLine.length >= wrapRow[screenRowOffset]) {\n                    screenRow++;\n                    screenRowOffset++;\n                }\n                textLine = textLine.substring(wrapRow[screenRowOffset - 1] || 0, textLine.length);\n                wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;\n            }\n        }\n        if (this.lineWidgets && this.lineWidgets[row] && this.lineWidgets[row].rowsAbove)\n            screenRow += this.lineWidgets[row].rowsAbove;\n        return {\n            row: screenRow,\n            column: wrapIndent + this.$getStringScreenWidth(textLine)[0]\n        };\n    };\n    EditSession.prototype.documentToScreenColumn = function (row, docColumn) {\n        return this.documentToScreenPosition(row, docColumn).column;\n    };\n    EditSession.prototype.documentToScreenRow = function (docRow, docColumn) {\n        return this.documentToScreenPosition(docRow, docColumn).row;\n    };\n    EditSession.prototype.getScreenLength = function () {\n        var screenRows = 0;\n        var fold = null;\n        if (!this.$useWrapMode) {\n            screenRows = this.getLength();\n            var foldData = this.$foldData;\n            for (var i = 0; i < foldData.length; i++) {\n                fold = foldData[i];\n                screenRows -= fold.end.row - fold.start.row;\n            }\n        }\n        else {\n            var lastRow = this.$wrapData.length;\n            var row = 0, i = 0;\n            var fold = this.$foldData[i++];\n            var foldStart = fold ? fold.start.row : Infinity;\n            while (row < lastRow) {\n                var splits = this.$wrapData[row];\n                screenRows += splits ? splits.length + 1 : 1;\n                row++;\n                if (row > foldStart) {\n                    row = fold.end.row + 1;\n                    fold = this.$foldData[i++];\n                    foldStart = fold ? fold.start.row : Infinity;\n                }\n            }\n        }\n        if (this.lineWidgets)\n            screenRows += this.$getWidgetScreenLength();\n        return screenRows;\n    };\n    EditSession.prototype.$setFontMetrics = function (fm) {\n        if (!this.$enableVarChar)\n            return;\n        this.$getStringScreenWidth = function (str, maxScreenColumn, screenColumn) {\n            if (maxScreenColumn === 0)\n                return [0, 0];\n            if (!maxScreenColumn)\n                maxScreenColumn = Infinity;\n            screenColumn = screenColumn || 0;\n            var c, column;\n            for (column = 0; column < str.length; column++) {\n                c = str.charAt(column);\n                if (c === \"\\t\") {\n                    screenColumn += this.getScreenTabSize(screenColumn);\n                }\n                else {\n                    screenColumn += fm.getCharacterWidth(c);\n                }\n                if (screenColumn > maxScreenColumn) {\n                    break;\n                }\n            }\n            return [screenColumn, column];\n        };\n    };\n    EditSession.prototype.getPrecedingCharacter = function () {\n        var pos = this.selection.getCursor();\n        if (pos.column === 0) {\n            return pos.row === 0 ? \"\" : this.doc.getNewLineCharacter();\n        }\n        var currentLine = this.getLine(pos.row);\n        return currentLine[pos.column - 1];\n    };\n    EditSession.prototype.destroy = function () {\n        if (!this.destroyed) {\n            this.bgTokenizer.setDocument(null);\n            this.bgTokenizer.cleanup();\n            this.destroyed = true;\n        }\n        this.$stopWorker();\n        this.removeAllListeners();\n        if (this.doc) {\n            this.doc.off(\"change\", this.$onChange);\n        }\n        this.selection.detach();\n    };\n    return EditSession;\n}());\nEditSession.$uid = 0;\nEditSession.prototype.$modes = config.$modes;\nEditSession.prototype.getValue = EditSession.prototype.toString;\nEditSession.prototype.$defaultUndoManager = {\n    undo: function () { },\n    redo: function () { },\n    hasUndo: function () { },\n    hasRedo: function () { },\n    reset: function () { },\n    add: function () { },\n    addSelection: function () { },\n    startNewGroup: function () { },\n    addSession: function () { }\n};\nEditSession.prototype.$overwrite = false;\nEditSession.prototype.$mode = null;\nEditSession.prototype.$modeId = null;\nEditSession.prototype.$scrollTop = 0;\nEditSession.prototype.$scrollLeft = 0;\nEditSession.prototype.$wrapLimit = 80;\nEditSession.prototype.$useWrapMode = false;\nEditSession.prototype.$wrapLimitRange = {\n    min: null,\n    max: null\n};\nEditSession.prototype.lineWidgets = null;\nEditSession.prototype.isFullWidth = isFullWidth;\noop.implement(EditSession.prototype, EventEmitter);\nvar CHAR = 1, CHAR_EXT = 2, PLACEHOLDER_START = 3, PLACEHOLDER_BODY = 4, PUNCTUATION = 9, SPACE = 10, TAB = 11, TAB_SPACE = 12;\nfunction isFullWidth(c) {\n    if (c < 0x1100)\n        return false;\n    return c >= 0x1100 && c <= 0x115F ||\n        c >= 0x11A3 && c <= 0x11A7 ||\n        c >= 0x11FA && c <= 0x11FF ||\n        c >= 0x2329 && c <= 0x232A ||\n        c >= 0x2E80 && c <= 0x2E99 ||\n        c >= 0x2E9B && c <= 0x2EF3 ||\n        c >= 0x2F00 && c <= 0x2FD5 ||\n        c >= 0x2FF0 && c <= 0x2FFB ||\n        c >= 0x3000 && c <= 0x303E ||\n        c >= 0x3041 && c <= 0x3096 ||\n        c >= 0x3099 && c <= 0x30FF ||\n        c >= 0x3105 && c <= 0x312D ||\n        c >= 0x3131 && c <= 0x318E ||\n        c >= 0x3190 && c <= 0x31BA ||\n        c >= 0x31C0 && c <= 0x31E3 ||\n        c >= 0x31F0 && c <= 0x321E ||\n        c >= 0x3220 && c <= 0x3247 ||\n        c >= 0x3250 && c <= 0x32FE ||\n        c >= 0x3300 && c <= 0x4DBF ||\n        c >= 0x4E00 && c <= 0xA48C ||\n        c >= 0xA490 && c <= 0xA4C6 ||\n        c >= 0xA960 && c <= 0xA97C ||\n        c >= 0xAC00 && c <= 0xD7A3 ||\n        c >= 0xD7B0 && c <= 0xD7C6 ||\n        c >= 0xD7CB && c <= 0xD7FB ||\n        c >= 0xF900 && c <= 0xFAFF ||\n        c >= 0xFE10 && c <= 0xFE19 ||\n        c >= 0xFE30 && c <= 0xFE52 ||\n        c >= 0xFE54 && c <= 0xFE66 ||\n        c >= 0xFE68 && c <= 0xFE6B ||\n        c >= 0xFF01 && c <= 0xFF60 ||\n        c >= 0xFFE0 && c <= 0xFFE6;\n}\nrequire(\"./edit_session/folding\").Folding.call(EditSession.prototype);\nrequire(\"./edit_session/bracket_match\").BracketMatch.call(EditSession.prototype);\nconfig.defineOptions(EditSession.prototype, \"session\", {\n    wrap: {\n        set: function (value) {\n            if (!value || value == \"off\")\n                value = false;\n            else if (value == \"free\")\n                value = true;\n            else if (value == \"printMargin\")\n                value = -1;\n            else if (typeof value == \"string\")\n                value = parseInt(value, 10) || false;\n            if (this.$wrap == value)\n                return;\n            this.$wrap = value;\n            if (!value) {\n                this.setUseWrapMode(false);\n            }\n            else {\n                var col = typeof value == \"number\" ? value : null;\n                this.setWrapLimitRange(col, col);\n                this.setUseWrapMode(true);\n            }\n        },\n        get: function () {\n            if (this.getUseWrapMode()) {\n                if (this.$wrap == -1)\n                    return \"printMargin\";\n                if (!this.getWrapLimitRange().min)\n                    return \"free\";\n                return this.$wrap;\n            }\n            return \"off\";\n        },\n        handlesSet: true\n    },\n    wrapMethod: {\n        set: function (val) {\n            val = val == \"auto\"\n                ? this.$mode.type != \"text\"\n                : val != \"text\";\n            if (val != this.$wrapAsCode) {\n                this.$wrapAsCode = val;\n                if (this.$useWrapMode) {\n                    this.$useWrapMode = false;\n                    this.setUseWrapMode(true);\n                }\n            }\n        },\n        initialValue: \"auto\"\n    },\n    indentedSoftWrap: {\n        set: function () {\n            if (this.$useWrapMode) {\n                this.$useWrapMode = false;\n                this.setUseWrapMode(true);\n            }\n        },\n        initialValue: true\n    },\n    firstLineNumber: {\n        set: function () { this._signal(\"changeBreakpoint\"); },\n        initialValue: 1\n    },\n    useWorker: {\n        set: function (useWorker) {\n            this.$useWorker = useWorker;\n            this.$stopWorker();\n            if (useWorker)\n                this.$startWorker();\n        },\n        initialValue: true\n    },\n    useSoftTabs: { initialValue: true },\n    tabSize: {\n        set: function (tabSize) {\n            tabSize = parseInt(tabSize);\n            if (tabSize > 0 && this.$tabSize !== tabSize) {\n                this.$modified = true;\n                this.$rowLengthCache = [];\n                this.$tabSize = tabSize;\n                this._signal(\"changeTabSize\");\n            }\n        },\n        initialValue: 4,\n        handlesSet: true\n    },\n    navigateWithinSoftTabs: { initialValue: false },\n    foldStyle: {\n        set: function (val) { this.setFoldStyle(val); },\n        handlesSet: true\n    },\n    overwrite: {\n        set: function (val) { this._signal(\"changeOverwrite\"); },\n        initialValue: false\n    },\n    newLineMode: {\n        set: function (val) { this.doc.setNewLineMode(val); },\n        get: function () { return this.doc.getNewLineMode(); },\n        handlesSet: true\n    },\n    mode: {\n        set: function (val) { this.setMode(val); },\n        get: function () { return this.$modeId; },\n        handlesSet: true\n    }\n});\nexports.EditSession = EditSession;\n\n});\n\nace.define(\"ace/search\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\nvar Search = /** @class */ (function () {\n    function Search() {\n        this.$options = {};\n    }\n    Search.prototype.set = function (options) {\n        oop.mixin(this.$options, options);\n        return this;\n    };\n    Search.prototype.getOptions = function () {\n        return lang.copyObject(this.$options);\n    };\n    Search.prototype.setOptions = function (options) {\n        this.$options = options;\n    };\n    Search.prototype.find = function (session) {\n        var options = this.$options;\n        var iterator = this.$matchIterator(session, options);\n        if (!iterator)\n            return false;\n        var firstRange = null;\n        iterator.forEach(function (sr, sc, er, ec) {\n            firstRange = new Range(sr, sc, er, ec);\n            if (sc == ec && options.start && /**@type{Range}*/ (options.start).start\n                && options.skipCurrent != false && firstRange.isEqual(/**@type{Range}*/ (options.start))) {\n                firstRange = null;\n                return false;\n            }\n            return true;\n        });\n        return firstRange;\n    };\n    Search.prototype.findAll = function (session) {\n        var options = this.$options;\n        if (!options.needle)\n            return [];\n        this.$assembleRegExp(options);\n        var range = options.range;\n        var lines = range\n            ? session.getLines(range.start.row, range.end.row)\n            : session.doc.getAllLines();\n        var ranges = [];\n        var re = options.re;\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var maxRow = lines.length - len;\n            var prevRange;\n            outer: for (var row = re.offset || 0; row <= maxRow; row++) {\n                for (var j = 0; j < len; j++)\n                    if (lines[row + j].search(re[j]) == -1)\n                        continue outer;\n                var startLine = lines[row];\n                var line = lines[row + len - 1];\n                var startIndex = startLine.length - startLine.match(re[0])[0].length;\n                var endIndex = line.match(re[len - 1])[0].length;\n                if (prevRange && prevRange.end.row === row &&\n                    prevRange.end.column > startIndex) {\n                    continue;\n                }\n                ranges.push(prevRange = new Range(row, startIndex, row + len - 1, endIndex));\n                if (len > 2)\n                    row = row + len - 2;\n            }\n        }\n        else {\n            for (var i = 0; i < lines.length; i++) {\n                var matches = lang.getMatchOffsets(lines[i], re);\n                for (var j = 0; j < matches.length; j++) {\n                    var match = matches[j];\n                    ranges.push(new Range(i, match.offset, i, match.offset + match.length));\n                }\n            }\n        }\n        if (range) {\n            var startColumn = range.start.column;\n            var endColumn = range.end.column;\n            var i = 0, j = ranges.length - 1;\n            while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == 0)\n                i++;\n            var endRow = range.end.row - range.start.row;\n            while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == endRow)\n                j--;\n            ranges = ranges.slice(i, j + 1);\n            for (i = 0, j = ranges.length; i < j; i++) {\n                ranges[i].start.row += range.start.row;\n                ranges[i].end.row += range.start.row;\n            }\n        }\n        return ranges;\n    };\n    Search.prototype.replace = function (input, replacement) {\n        var options = this.$options;\n        var re = this.$assembleRegExp(options);\n        if (options.$isMultiLine)\n            return replacement;\n        if (!re)\n            return;\n        var match = re.exec(input);\n        if (!match || match[0].length != input.length)\n            return null;\n        if (!options.regExp) {\n            replacement = replacement.replace(/\\$/g, \"$$$$\");\n        }\n        replacement = input.replace(re, replacement);\n        if (options.preserveCase) {\n            replacement = replacement.split(\"\");\n            for (var i = Math.min(input.length, input.length); i--;) {\n                var ch = input[i];\n                if (ch && ch.toLowerCase() != ch)\n                    replacement[i] = replacement[i].toUpperCase();\n                else\n                    replacement[i] = replacement[i].toLowerCase();\n            }\n            replacement = replacement.join(\"\");\n        }\n        return replacement;\n    };\n    Search.prototype.$assembleRegExp = function (options, $disableFakeMultiline) {\n        if (options.needle instanceof RegExp)\n            return options.re = options.needle;\n        var needle = options.needle;\n        if (!options.needle)\n            return options.re = false;\n        if (!options.regExp)\n            needle = lang.escapeRegExp(needle);\n        var modifier = options.caseSensitive ? \"gm\" : \"gmi\";\n        try {\n            new RegExp(needle, \"u\");\n            options.$supportsUnicodeFlag = true;\n            modifier += \"u\";\n        }\n        catch (e) {\n            options.$supportsUnicodeFlag = false; //left for backward compatibility with previous versions for cases like /ab\\{2}/gu\n        }\n        if (options.wholeWord)\n            needle = addWordBoundary(needle, options);\n        options.$isMultiLine = !$disableFakeMultiline && /[\\n\\r]/.test(needle);\n        if (options.$isMultiLine)\n            return options.re = this.$assembleMultilineRegExp(needle, modifier);\n        try {\n            var re = new RegExp(needle, modifier);\n        }\n        catch (e) {\n            re = false;\n        }\n        return options.re = re;\n    };\n    Search.prototype.$assembleMultilineRegExp = function (needle, modifier) {\n        var parts = needle.replace(/\\r\\n|\\r|\\n/g, \"$\\n^\").split(\"\\n\");\n        var re = [];\n        for (var i = 0; i < parts.length; i++)\n            try {\n                re.push(new RegExp(parts[i], modifier));\n            }\n            catch (e) {\n                return false;\n            }\n        return re;\n    };\n    Search.prototype.$matchIterator = function (session, options) {\n        var re = this.$assembleRegExp(options);\n        if (!re)\n            return false;\n        var backwards = options.backwards == true;\n        var skipCurrent = options.skipCurrent != false;\n        var supportsUnicodeFlag = re.unicode;\n        var range = options.range;\n        var start = options.start;\n        if (!start)\n            start = range ? range[backwards ? \"end\" : \"start\"] : session.selection.getRange();\n        if (start.start)\n            start = start[skipCurrent != backwards ? \"end\" : \"start\"];\n        var firstRow = range ? range.start.row : 0;\n        var lastRow = range ? range.end.row : session.getLength() - 1;\n        if (backwards) {\n            var forEach = function (callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row--; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = lastRow, firstRow = start.row; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n            };\n        }\n        else {\n            var forEach = function (callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row = row + 1; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = firstRow, lastRow = start.row; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n            };\n        }\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var forEachInLine = function (row, offset, callback) {\n                var startRow = backwards ? row - len + 1 : row;\n                if (startRow < 0 || startRow + len > session.getLength())\n                    return;\n                var line = session.getLine(startRow);\n                var startIndex = line.search(re[0]);\n                if (!backwards && startIndex < offset || startIndex === -1)\n                    return;\n                for (var i = 1; i < len; i++) {\n                    line = session.getLine(startRow + i);\n                    if (line.search(re[i]) == -1)\n                        return;\n                }\n                var endIndex = line.match(re[len - 1])[0].length;\n                if (backwards && endIndex > offset)\n                    return;\n                if (callback(startRow, startIndex, startRow + len - 1, endIndex))\n                    return true;\n            };\n        }\n        else if (backwards) {\n            var forEachInLine = function (row, endIndex, callback) {\n                var line = session.getLine(row);\n                var matches = [];\n                var m, last = 0;\n                re.lastIndex = 0;\n                while ((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (!length) {\n                        if (last >= line.length)\n                            break;\n                        re.lastIndex = last += lang.skipEmptyMatch(line, last, supportsUnicodeFlag);\n                    }\n                    if (m.index + length > endIndex)\n                        break;\n                    matches.push(m.index, length);\n                }\n                for (var i = matches.length - 1; i >= 0; i -= 2) {\n                    var column = matches[i - 1];\n                    var length = matches[i];\n                    if (callback(row, column, row, column + length))\n                        return true;\n                }\n            };\n        }\n        else {\n            var forEachInLine = function (row, startIndex, callback) {\n                var line = session.getLine(row);\n                var last;\n                var m;\n                re.lastIndex = startIndex;\n                while ((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (callback(row, last, row, last + length))\n                        return true;\n                    if (!length) {\n                        re.lastIndex = last += lang.skipEmptyMatch(line, last, supportsUnicodeFlag);\n                        if (last >= line.length)\n                            return false;\n                    }\n                }\n            };\n        }\n        return { forEach: forEach };\n    };\n    return Search;\n}());\nfunction addWordBoundary(needle, options) {\n    var supportsLookbehind = lang.supportsLookbehind();\n    function wordBoundary(c, firstChar) {\n        if (firstChar === void 0) { firstChar = true; }\n        var wordRegExp = supportsLookbehind && options.$supportsUnicodeFlag ? new RegExp(\"[\\\\p{L}\\\\p{N}_]\", \"u\") : new RegExp(\"\\\\w\");\n        if (wordRegExp.test(c) || options.regExp) {\n            if (supportsLookbehind && options.$supportsUnicodeFlag) {\n                if (firstChar)\n                    return \"(?<=^|[^\\\\p{L}\\\\p{N}_])\";\n                return \"(?=[^\\\\p{L}\\\\p{N}_]|$)\";\n            }\n            return \"\\\\b\";\n        }\n        return \"\";\n    }\n    var needleArray = Array.from(needle);\n    var firstChar = needleArray[0];\n    var lastChar = needleArray[needleArray.length - 1];\n    return wordBoundary(firstChar) + needle + wordBoundary(lastChar, false);\n}\nexports.Search = Search;\n\n});\n\nace.define(\"ace/keyboard/hash_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})(); var keyUtil = require(\"../lib/keys\");\nvar useragent = require(\"../lib/useragent\");\nvar KEY_MODS = keyUtil.KEY_MODS;\nvar MultiHashHandler = /** @class */ (function () {\n    function MultiHashHandler(config, platform) {\n        this.$init(config, platform, false);\n    }\n    MultiHashHandler.prototype.$init = function (config, platform, $singleCommand) {\n        this.platform = platform || (useragent.isMac ? \"mac\" : \"win\");\n        this.commands = {};\n        this.commandKeyBinding = {};\n        this.addCommands(config);\n        this.$singleCommand = $singleCommand;\n    };\n    MultiHashHandler.prototype.addCommand = function (command) {\n        if (this.commands[command.name])\n            this.removeCommand(command);\n        this.commands[command.name] = command;\n        if (command.bindKey)\n            this._buildKeyHash(command);\n    };\n    MultiHashHandler.prototype.removeCommand = function (command, keepCommand) {\n        var name = command && (typeof command === 'string' ? command : command.name);\n        command = this.commands[name];\n        if (!keepCommand)\n            delete this.commands[name];\n        var ckb = this.commandKeyBinding;\n        for (var keyId in ckb) {\n            var cmdGroup = ckb[keyId];\n            if (cmdGroup == command) {\n                delete ckb[keyId];\n            }\n            else if (Array.isArray(cmdGroup)) {\n                var i = cmdGroup.indexOf(command);\n                if (i != -1) {\n                    cmdGroup.splice(i, 1);\n                    if (cmdGroup.length == 1)\n                        ckb[keyId] = cmdGroup[0];\n                }\n            }\n        }\n    };\n    MultiHashHandler.prototype.bindKey = function (key, command, position) {\n        if (typeof key == \"object\" && key) {\n            if (position == undefined)\n                position = key.position;\n            key = key[this.platform];\n        }\n        if (!key)\n            return;\n        if (typeof command == \"function\")\n            return this.addCommand({ exec: command, bindKey: key, name: command.name || /**@type{string}*/ (key) }); (key).split(\"|\").forEach(function (keyPart) {\n            var chain = \"\";\n            if (keyPart.indexOf(\" \") != -1) {\n                var parts = keyPart.split(/\\s+/);\n                keyPart = parts.pop();\n                parts.forEach(function (keyPart) {\n                    var binding = this.parseKeys(keyPart);\n                    var id = KEY_MODS[binding.hashId] + binding.key;\n                    chain += (chain ? \" \" : \"\") + id;\n                    this._addCommandToBinding(chain, \"chainKeys\");\n                }, this);\n                chain += \" \";\n            }\n            var binding = this.parseKeys(keyPart);\n            var id = KEY_MODS[binding.hashId] + binding.key;\n            this._addCommandToBinding(chain + id, command, position);\n        }, this);\n    };\n    MultiHashHandler.prototype._addCommandToBinding = function (keyId, command, position) {\n        var ckb = this.commandKeyBinding, i;\n        if (!command) {\n            delete ckb[keyId];\n        }\n        else if (!ckb[keyId] || this.$singleCommand) {\n            ckb[keyId] = command;\n        }\n        else {\n            if (!Array.isArray(ckb[keyId])) {\n                ckb[keyId] = [ckb[keyId]];\n            }\n            else if ((i = ckb[keyId].indexOf(command)) != -1) {\n                ckb[keyId].splice(i, 1);\n            }\n            if (typeof position != \"number\") {\n                position = getPosition(command);\n            }\n            var commands = ckb[keyId];\n            for (i = 0; i < commands.length; i++) {\n                var other = commands[i];\n                var otherPos = getPosition(other);\n                if (otherPos > position)\n                    break;\n            }\n            commands.splice(i, 0, command);\n        }\n    };\n    MultiHashHandler.prototype.addCommands = function (commands) {\n        commands && Object.keys(commands).forEach(function (name) {\n            var command = commands[name];\n            if (!command)\n                return;\n            if (typeof command === \"string\")\n                return this.bindKey(command, name);\n            if (typeof command === \"function\")\n                command = { exec: command };\n            if (typeof command !== \"object\")\n                return;\n            if (!command.name)\n                command.name = name;\n            this.addCommand(command);\n        }, this);\n    };\n    MultiHashHandler.prototype.removeCommands = function (commands) {\n        Object.keys(commands).forEach(function (name) {\n            this.removeCommand(commands[name]);\n        }, this);\n    };\n    MultiHashHandler.prototype.bindKeys = function (keyList) {\n        Object.keys(keyList).forEach(function (key) {\n            this.bindKey(key, keyList[key]);\n        }, this);\n    };\n    MultiHashHandler.prototype._buildKeyHash = function (command) {\n        this.bindKey(command.bindKey, command);\n    };\n    MultiHashHandler.prototype.parseKeys = function (keys) {\n        var parts = keys.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter(function (x) { return x; });\n        var key = parts.pop();\n        var keyCode = keyUtil[key];\n        if (keyUtil.FUNCTION_KEYS[keyCode])\n            key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();\n        else if (!parts.length)\n            return { key: key, hashId: -1 };\n        else if (parts.length == 1 && parts[0] == \"shift\")\n            return { key: key.toUpperCase(), hashId: -1 };\n        var hashId = 0;\n        for (var i = parts.length; i--;) {\n            var modifier = keyUtil.KEY_MODS[parts[i]];\n            if (modifier == null) {\n                if (typeof console != \"undefined\")\n                    console.error(\"invalid modifier \" + parts[i] + \" in \" + keys);\n                return false;\n            }\n            hashId |= modifier;\n        }\n        return { key: key, hashId: hashId };\n    };\n    MultiHashHandler.prototype.findKeyCommand = function (hashId, keyString) {\n        var key = KEY_MODS[hashId] + keyString;\n        return this.commandKeyBinding[key];\n    };\n    MultiHashHandler.prototype.handleKeyboard = function (data, hashId, keyString, keyCode) {\n        if (keyCode < 0)\n            return;\n        var key = KEY_MODS[hashId] + keyString;\n        var command = this.commandKeyBinding[key];\n        if (data.$keyChain) {\n            data.$keyChain += \" \" + key;\n            command = this.commandKeyBinding[data.$keyChain] || command;\n        }\n        if (command) {\n            if (command == \"chainKeys\" || command[command.length - 1] == \"chainKeys\") {\n                data.$keyChain = data.$keyChain || key;\n                return { command: \"null\" };\n            }\n        }\n        if (data.$keyChain) {\n            if ((!hashId || hashId == 4) && keyString.length == 1)\n                data.$keyChain = data.$keyChain.slice(0, -key.length - 1); // wait for input\n            else if (hashId == -1 || keyCode > 0)\n                data.$keyChain = \"\"; // reset keyChain\n        }\n        return { command: command };\n    };\n    MultiHashHandler.prototype.getStatusText = function (editor, data) {\n        return data.$keyChain || \"\";\n    };\n    return MultiHashHandler;\n}());\nfunction getPosition(command) {\n    return typeof command == \"object\" && command.bindKey\n        && command.bindKey.position\n        || (command.isDefault ? -100 : 0);\n}\nvar HashHandler = /** @class */ (function (_super) {\n    __extends(HashHandler, _super);\n    function HashHandler(config, platform) {\n        var _this = _super.call(this, config, platform) || this;\n        _this.$singleCommand = true;\n        return _this;\n    }\n    return HashHandler;\n}(MultiHashHandler));\nHashHandler.call = function (thisArg, config, platform) {\n    MultiHashHandler.prototype.$init.call(thisArg, config, platform, true);\n};\nMultiHashHandler.call = function (thisArg, config, platform) {\n    MultiHashHandler.prototype.$init.call(thisArg, config, platform, false);\n};\nexports.HashHandler = HashHandler;\nexports.MultiHashHandler = MultiHashHandler;\n\n});\n\nace.define(\"ace/commands/command_manager\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/keyboard/hash_handler\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar oop = require(\"../lib/oop\");\nvar MultiHashHandler = require(\"../keyboard/hash_handler\").MultiHashHandler;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar CommandManager = /** @class */ (function (_super) {\n    __extends(CommandManager, _super);\n    function CommandManager(platform, commands) {\n        var _this = _super.call(this, commands, platform) || this;\n        _this.byName = _this.commands;\n        _this.setDefaultHandler(\"exec\", function (e) {\n            if (!e.args) {\n                return e.command.exec(e.editor, {}, e.event, true);\n            }\n            return e.command.exec(e.editor, e.args, e.event, false);\n        });\n        return _this;\n    }\n    CommandManager.prototype.exec = function (command, editor, args) {\n        if (Array.isArray(command)) {\n            for (var i = command.length; i--;) {\n                if (this.exec(command[i], editor, args))\n                    return true;\n            }\n            return false;\n        }\n        if (typeof command === \"string\")\n            command = this.commands[command];\n        if (!this.canExecute(command, editor)) {\n            return false;\n        }\n        var e = { editor: editor, command: command, args: args };\n        e.returnValue = this._emit(\"exec\", e);\n        this._signal(\"afterExec\", e);\n        return e.returnValue === false ? false : true;\n    };\n    CommandManager.prototype.canExecute = function (command, editor) {\n        if (typeof command === \"string\")\n            command = this.commands[command];\n        if (!command)\n            return false;\n        if (editor && editor.$readOnly && !command.readOnly)\n            return false;\n        if (this.$checkCommandState != false && command.isAvailable && !command.isAvailable(editor))\n            return false;\n        return true;\n    };\n    CommandManager.prototype.toggleRecording = function (editor) {\n        if (this.$inReplay)\n            return;\n        editor && editor._emit(\"changeStatus\");\n        if (this.recording) {\n            this.macro.pop();\n            this.off(\"exec\", this.$addCommandToMacro);\n            if (!this.macro.length)\n                this.macro = this.oldMacro;\n            return this.recording = false;\n        }\n        if (!this.$addCommandToMacro) {\n            this.$addCommandToMacro = function (e) {\n                this.macro.push([e.command, e.args]);\n            }.bind(this);\n        }\n        this.oldMacro = this.macro;\n        this.macro = [];\n        this.on(\"exec\", this.$addCommandToMacro);\n        return this.recording = true;\n    };\n    CommandManager.prototype.replay = function (editor) {\n        if (this.$inReplay || !this.macro)\n            return;\n        if (this.recording)\n            return this.toggleRecording(editor);\n        try {\n            this.$inReplay = true;\n            this.macro.forEach(function (x) {\n                if (typeof x == \"string\")\n                    this.exec(x, editor);\n                else\n                    this.exec(x[0], editor, x[1]);\n            }, this);\n        }\n        finally {\n            this.$inReplay = false;\n        }\n    };\n    CommandManager.prototype.trimMacro = function (m) {\n        return m.map(function (x) {\n            if (typeof x[0] != \"string\")\n                x[0] = x[0].name;\n            if (!x[1])\n                x = x[0];\n            return x;\n        });\n    };\n    return CommandManager;\n}(MultiHashHandler));\noop.implement(CommandManager.prototype, EventEmitter);\nexports.CommandManager = CommandManager;\n\n});\n\nace.define(\"ace/commands/default_commands\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/config\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar lang = require(\"../lib/lang\");\nvar config = require(\"../config\");\nvar Range = require(\"../range\").Range;\nfunction bindKey(win, mac) {\n    return { win: win, mac: mac };\n}\nexports.commands = [{\n        name: \"showSettingsMenu\",\n        description: \"Show settings menu\",\n        bindKey: bindKey(\"Ctrl-,\", \"Command-,\"),\n        exec: function (editor) {\n            config.loadModule(\"ace/ext/settings_menu\", function (module) {\n                module.init(editor);\n                editor.showSettingsMenu();\n            });\n        },\n        readOnly: true\n    }, {\n        name: \"goToNextError\",\n        description: \"Go to next error\",\n        bindKey: bindKey(\"Alt-E\", \"F4\"),\n        exec: function (editor) {\n            config.loadModule(\"ace/ext/error_marker\", function (module) {\n                module.showErrorMarker(editor, 1);\n            });\n        },\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"goToPreviousError\",\n        description: \"Go to previous error\",\n        bindKey: bindKey(\"Alt-Shift-E\", \"Shift-F4\"),\n        exec: function (editor) {\n            config.loadModule(\"ace/ext/error_marker\", function (module) {\n                module.showErrorMarker(editor, -1);\n            });\n        },\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"selectall\",\n        description: \"Select all\",\n        bindKey: bindKey(\"Ctrl-A\", \"Command-A\"),\n        exec: function (editor) { editor.selectAll(); },\n        readOnly: true\n    }, {\n        name: \"centerselection\",\n        description: \"Center selection\",\n        bindKey: bindKey(null, \"Ctrl-L\"),\n        exec: function (editor) { editor.centerSelection(); },\n        readOnly: true\n    }, {\n        name: \"gotoline\",\n        description: \"Go to line...\",\n        bindKey: bindKey(\"Ctrl-L\", \"Command-L\"),\n        exec: function (editor, line) {\n            if (typeof line === \"number\" && !isNaN(line))\n                editor.gotoLine(line);\n            editor.prompt({ $type: \"gotoLine\" });\n        },\n        readOnly: true\n    }, {\n        name: \"fold\",\n        bindKey: bindKey(\"Alt-L|Ctrl-F1\", \"Command-Alt-L|Command-F1\"),\n        exec: function (editor) { editor.session.toggleFold(false); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"unfold\",\n        bindKey: bindKey(\"Alt-Shift-L|Ctrl-Shift-F1\", \"Command-Alt-Shift-L|Command-Shift-F1\"),\n        exec: function (editor) { editor.session.toggleFold(true); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"toggleFoldWidget\",\n        description: \"Toggle fold widget\",\n        bindKey: bindKey(\"F2\", \"F2\"),\n        exec: function (editor) { editor.session.toggleFoldWidget(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"toggleParentFoldWidget\",\n        description: \"Toggle parent fold widget\",\n        bindKey: bindKey(\"Alt-F2\", \"Alt-F2\"),\n        exec: function (editor) { editor.session.toggleFoldWidget(true); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"foldall\",\n        description: \"Fold all\",\n        bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n        exec: function (editor) { editor.session.foldAll(); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"foldAllComments\",\n        description: \"Fold all comments\",\n        bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n        exec: function (editor) { editor.session.foldAllComments(); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"foldOther\",\n        description: \"Fold other\",\n        bindKey: bindKey(\"Alt-0\", \"Command-Option-0\"),\n        exec: function (editor) {\n            editor.session.foldAll();\n            editor.session.unfold(editor.selection.getAllRanges());\n        },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"unfoldall\",\n        description: \"Unfold all\",\n        bindKey: bindKey(\"Alt-Shift-0\", \"Command-Option-Shift-0\"),\n        exec: function (editor) { editor.session.unfold(); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"findnext\",\n        description: \"Find next\",\n        bindKey: bindKey(\"Ctrl-K\", \"Command-G\"),\n        exec: function (editor) { editor.findNext(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"findprevious\",\n        description: \"Find previous\",\n        bindKey: bindKey(\"Ctrl-Shift-K\", \"Command-Shift-G\"),\n        exec: function (editor) { editor.findPrevious(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"selectOrFindNext\",\n        description: \"Select or find next\",\n        bindKey: bindKey(\"Alt-K\", \"Ctrl-G\"),\n        exec: function (editor) {\n            if (editor.selection.isEmpty())\n                editor.selection.selectWord();\n            else\n                editor.findNext();\n        },\n        readOnly: true\n    }, {\n        name: \"selectOrFindPrevious\",\n        description: \"Select or find previous\",\n        bindKey: bindKey(\"Alt-Shift-K\", \"Ctrl-Shift-G\"),\n        exec: function (editor) {\n            if (editor.selection.isEmpty())\n                editor.selection.selectWord();\n            else\n                editor.findPrevious();\n        },\n        readOnly: true\n    }, {\n        name: \"find\",\n        description: \"Find\",\n        bindKey: bindKey(\"Ctrl-F\", \"Command-F\"),\n        exec: function (editor) {\n            config.loadModule(\"ace/ext/searchbox\", function (e) { e.Search(editor); });\n        },\n        readOnly: true\n    }, {\n        name: \"overwrite\",\n        description: \"Overwrite\",\n        bindKey: \"Insert\",\n        exec: function (editor) { editor.toggleOverwrite(); },\n        readOnly: true\n    }, {\n        name: \"selecttostart\",\n        description: \"Select to start\",\n        bindKey: bindKey(\"Ctrl-Shift-Home\", \"Command-Shift-Home|Command-Shift-Up\"),\n        exec: function (editor) { editor.getSelection().selectFileStart(); },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"gotostart\",\n        description: \"Go to start\",\n        bindKey: bindKey(\"Ctrl-Home\", \"Command-Home|Command-Up\"),\n        exec: function (editor) { editor.navigateFileStart(); },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"selectup\",\n        description: \"Select up\",\n        bindKey: bindKey(\"Shift-Up\", \"Shift-Up|Ctrl-Shift-P\"),\n        exec: function (editor) { editor.getSelection().selectUp(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"golineup\",\n        description: \"Go line up\",\n        bindKey: bindKey(\"Up\", \"Up|Ctrl-P\"),\n        exec: function (editor, args) { editor.navigateUp(args.times); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selecttoend\",\n        description: \"Select to end\",\n        bindKey: bindKey(\"Ctrl-Shift-End\", \"Command-Shift-End|Command-Shift-Down\"),\n        exec: function (editor) { editor.getSelection().selectFileEnd(); },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"gotoend\",\n        description: \"Go to end\",\n        bindKey: bindKey(\"Ctrl-End\", \"Command-End|Command-Down\"),\n        exec: function (editor) { editor.navigateFileEnd(); },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"selectdown\",\n        description: \"Select down\",\n        bindKey: bindKey(\"Shift-Down\", \"Shift-Down|Ctrl-Shift-N\"),\n        exec: function (editor) { editor.getSelection().selectDown(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"golinedown\",\n        description: \"Go line down\",\n        bindKey: bindKey(\"Down\", \"Down|Ctrl-N\"),\n        exec: function (editor, args) { editor.navigateDown(args.times); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectwordleft\",\n        description: \"Select word left\",\n        bindKey: bindKey(\"Ctrl-Shift-Left\", \"Option-Shift-Left\"),\n        exec: function (editor) { editor.getSelection().selectWordLeft(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotowordleft\",\n        description: \"Go to word left\",\n        bindKey: bindKey(\"Ctrl-Left\", \"Option-Left\"),\n        exec: function (editor) { editor.navigateWordLeft(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selecttolinestart\",\n        description: \"Select to line start\",\n        bindKey: bindKey(\"Alt-Shift-Left\", \"Command-Shift-Left|Ctrl-Shift-A\"),\n        exec: function (editor) { editor.getSelection().selectLineStart(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotolinestart\",\n        description: \"Go to line start\",\n        bindKey: bindKey(\"Alt-Left|Home\", \"Command-Left|Home|Ctrl-A\"),\n        exec: function (editor) { editor.navigateLineStart(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectleft\",\n        description: \"Select left\",\n        bindKey: bindKey(\"Shift-Left\", \"Shift-Left|Ctrl-Shift-B\"),\n        exec: function (editor) { editor.getSelection().selectLeft(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotoleft\",\n        description: \"Go to left\",\n        bindKey: bindKey(\"Left\", \"Left|Ctrl-B\"),\n        exec: function (editor, args) { editor.navigateLeft(args.times); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectwordright\",\n        description: \"Select word right\",\n        bindKey: bindKey(\"Ctrl-Shift-Right\", \"Option-Shift-Right\"),\n        exec: function (editor) { editor.getSelection().selectWordRight(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotowordright\",\n        description: \"Go to word right\",\n        bindKey: bindKey(\"Ctrl-Right\", \"Option-Right\"),\n        exec: function (editor) { editor.navigateWordRight(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selecttolineend\",\n        description: \"Select to line end\",\n        bindKey: bindKey(\"Alt-Shift-Right\", \"Command-Shift-Right|Shift-End|Ctrl-Shift-E\"),\n        exec: function (editor) { editor.getSelection().selectLineEnd(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotolineend\",\n        description: \"Go to line end\",\n        bindKey: bindKey(\"Alt-Right|End\", \"Command-Right|End|Ctrl-E\"),\n        exec: function (editor) { editor.navigateLineEnd(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectright\",\n        description: \"Select right\",\n        bindKey: bindKey(\"Shift-Right\", \"Shift-Right\"),\n        exec: function (editor) { editor.getSelection().selectRight(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotoright\",\n        description: \"Go to right\",\n        bindKey: bindKey(\"Right\", \"Right|Ctrl-F\"),\n        exec: function (editor, args) { editor.navigateRight(args.times); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectpagedown\",\n        description: \"Select page down\",\n        bindKey: \"Shift-PageDown\",\n        exec: function (editor) { editor.selectPageDown(); },\n        readOnly: true\n    }, {\n        name: \"pagedown\",\n        description: \"Page down\",\n        bindKey: bindKey(null, \"Option-PageDown\"),\n        exec: function (editor) { editor.scrollPageDown(); },\n        readOnly: true\n    }, {\n        name: \"gotopagedown\",\n        description: \"Go to page down\",\n        bindKey: bindKey(\"PageDown\", \"PageDown|Ctrl-V\"),\n        exec: function (editor) { editor.gotoPageDown(); },\n        readOnly: true\n    }, {\n        name: \"selectpageup\",\n        description: \"Select page up\",\n        bindKey: \"Shift-PageUp\",\n        exec: function (editor) { editor.selectPageUp(); },\n        readOnly: true\n    }, {\n        name: \"pageup\",\n        description: \"Page up\",\n        bindKey: bindKey(null, \"Option-PageUp\"),\n        exec: function (editor) { editor.scrollPageUp(); },\n        readOnly: true\n    }, {\n        name: \"gotopageup\",\n        description: \"Go to page up\",\n        bindKey: \"PageUp\",\n        exec: function (editor) { editor.gotoPageUp(); },\n        readOnly: true\n    }, {\n        name: \"scrollup\",\n        description: \"Scroll up\",\n        bindKey: bindKey(\"Ctrl-Up\", null),\n        exec: function (e) { e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight); },\n        readOnly: true\n    }, {\n        name: \"scrolldown\",\n        description: \"Scroll down\",\n        bindKey: bindKey(\"Ctrl-Down\", null),\n        exec: function (e) { e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight); },\n        readOnly: true\n    }, {\n        name: \"selectlinestart\",\n        description: \"Select line start\",\n        bindKey: \"Shift-Home\",\n        exec: function (editor) { editor.getSelection().selectLineStart(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectlineend\",\n        description: \"Select line end\",\n        bindKey: \"Shift-End\",\n        exec: function (editor) { editor.getSelection().selectLineEnd(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"togglerecording\",\n        description: \"Toggle recording\",\n        bindKey: bindKey(\"Ctrl-Alt-E\", \"Command-Option-E\"),\n        exec: function (editor) { editor.commands.toggleRecording(editor); },\n        readOnly: true\n    }, {\n        name: \"replaymacro\",\n        description: \"Replay macro\",\n        bindKey: bindKey(\"Ctrl-Shift-E\", \"Command-Shift-E\"),\n        exec: function (editor) { editor.commands.replay(editor); },\n        readOnly: true\n    }, {\n        name: \"jumptomatching\",\n        description: \"Jump to matching\",\n        bindKey: bindKey(\"Ctrl-\\\\|Ctrl-P\", \"Command-\\\\\"),\n        exec: function (editor) { editor.jumpToMatching(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"selecttomatching\",\n        description: \"Select to matching\",\n        bindKey: bindKey(\"Ctrl-Shift-\\\\|Ctrl-Shift-P\", \"Command-Shift-\\\\\"),\n        exec: function (editor) { editor.jumpToMatching(true); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"expandToMatching\",\n        description: \"Expand to matching\",\n        bindKey: bindKey(\"Ctrl-Shift-M\", \"Ctrl-Shift-M\"),\n        exec: function (editor) { editor.jumpToMatching(true, true); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"passKeysToBrowser\",\n        description: \"Pass keys to browser\",\n        bindKey: bindKey(null, null),\n        exec: function () { },\n        passEvent: true,\n        readOnly: true\n    }, {\n        name: \"copy\",\n        description: \"Copy\",\n        exec: function (editor) {\n        },\n        readOnly: true\n    },\n    {\n        name: \"cut\",\n        description: \"Cut\",\n        exec: function (editor) {\n            var cutLine = editor.$copyWithEmptySelection && editor.selection.isEmpty();\n            var range = cutLine ? editor.selection.getLineRange() : editor.selection.getRange();\n            editor._emit(\"cut\", range);\n            if (!range.isEmpty())\n                editor.session.remove(range);\n            editor.clearSelection();\n        },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"paste\",\n        description: \"Paste\",\n        exec: function (editor, args) {\n            editor.$handlePaste(args);\n        },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removeline\",\n        description: \"Remove line\",\n        bindKey: bindKey(\"Ctrl-D\", \"Command-D\"),\n        exec: function (editor) { editor.removeLines(); },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEachLine\"\n    }, {\n        name: \"duplicateSelection\",\n        description: \"Duplicate selection\",\n        bindKey: bindKey(\"Ctrl-Shift-D\", \"Command-Shift-D\"),\n        exec: function (editor) { editor.duplicateSelection(); },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"sortlines\",\n        description: \"Sort lines\",\n        bindKey: bindKey(\"Ctrl-Alt-S\", \"Command-Alt-S\"),\n        exec: function (editor) { editor.sortLines(); },\n        scrollIntoView: \"selection\",\n        multiSelectAction: \"forEachLine\"\n    }, {\n        name: \"togglecomment\",\n        description: \"Toggle comment\",\n        bindKey: bindKey(\"Ctrl-/\", \"Command-/\"),\n        exec: function (editor) { editor.toggleCommentLines(); },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"toggleBlockComment\",\n        description: \"Toggle block comment\",\n        bindKey: bindKey(\"Ctrl-Shift-/\", \"Command-Shift-/\"),\n        exec: function (editor) { editor.toggleBlockComment(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"modifyNumberUp\",\n        description: \"Modify number up\",\n        bindKey: bindKey(\"Ctrl-Shift-Up\", \"Alt-Shift-Up\"),\n        exec: function (editor) { editor.modifyNumber(1); },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"modifyNumberDown\",\n        description: \"Modify number down\",\n        bindKey: bindKey(\"Ctrl-Shift-Down\", \"Alt-Shift-Down\"),\n        exec: function (editor) { editor.modifyNumber(-1); },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"replace\",\n        description: \"Replace\",\n        bindKey: bindKey(\"Ctrl-H\", \"Command-Option-F\"),\n        exec: function (editor) {\n            config.loadModule(\"ace/ext/searchbox\", function (e) { e.Search(editor, true); });\n        }\n    }, {\n        name: \"undo\",\n        description: \"Undo\",\n        bindKey: bindKey(\"Ctrl-Z\", \"Command-Z\"),\n        exec: function (editor) { editor.undo(); }\n    }, {\n        name: \"redo\",\n        description: \"Redo\",\n        bindKey: bindKey(\"Ctrl-Shift-Z|Ctrl-Y\", \"Command-Shift-Z|Command-Y\"),\n        exec: function (editor) { editor.redo(); }\n    }, {\n        name: \"copylinesup\",\n        description: \"Copy lines up\",\n        bindKey: bindKey(\"Alt-Shift-Up\", \"Command-Option-Up\"),\n        exec: function (editor) { editor.copyLinesUp(); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"movelinesup\",\n        description: \"Move lines up\",\n        bindKey: bindKey(\"Alt-Up\", \"Option-Up\"),\n        exec: function (editor) { editor.moveLinesUp(); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"copylinesdown\",\n        description: \"Copy lines down\",\n        bindKey: bindKey(\"Alt-Shift-Down\", \"Command-Option-Down\"),\n        exec: function (editor) { editor.copyLinesDown(); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"movelinesdown\",\n        description: \"Move lines down\",\n        bindKey: bindKey(\"Alt-Down\", \"Option-Down\"),\n        exec: function (editor) { editor.moveLinesDown(); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"del\",\n        description: \"Delete\",\n        bindKey: bindKey(\"Delete\", \"Delete|Ctrl-D|Shift-Delete\"),\n        exec: function (editor) { editor.remove(\"right\"); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"backspace\",\n        description: \"Backspace\",\n        bindKey: bindKey(\"Shift-Backspace|Backspace\", \"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"),\n        exec: function (editor) { editor.remove(\"left\"); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"cut_or_delete\",\n        description: \"Cut or delete\",\n        bindKey: bindKey(\"Shift-Delete\", null),\n        exec: function (editor) {\n            if (editor.selection.isEmpty()) {\n                editor.remove(\"left\");\n            }\n            else {\n                return false;\n            }\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolinestart\",\n        description: \"Remove to line start\",\n        bindKey: bindKey(\"Alt-Backspace\", \"Command-Backspace\"),\n        exec: function (editor) { editor.removeToLineStart(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolineend\",\n        description: \"Remove to line end\",\n        bindKey: bindKey(\"Alt-Delete\", \"Ctrl-K|Command-Delete\"),\n        exec: function (editor) { editor.removeToLineEnd(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolinestarthard\",\n        description: \"Remove to line start hard\",\n        bindKey: bindKey(\"Ctrl-Shift-Backspace\", null),\n        exec: function (editor) {\n            var range = editor.selection.getRange();\n            range.start.column = 0;\n            editor.session.remove(range);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolineendhard\",\n        description: \"Remove to line end hard\",\n        bindKey: bindKey(\"Ctrl-Shift-Delete\", null),\n        exec: function (editor) {\n            var range = editor.selection.getRange();\n            range.end.column = Number.MAX_VALUE;\n            editor.session.remove(range);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removewordleft\",\n        description: \"Remove word left\",\n        bindKey: bindKey(\"Ctrl-Backspace\", \"Alt-Backspace|Ctrl-Alt-Backspace\"),\n        exec: function (editor) { editor.removeWordLeft(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removewordright\",\n        description: \"Remove word right\",\n        bindKey: bindKey(\"Ctrl-Delete\", \"Alt-Delete\"),\n        exec: function (editor) { editor.removeWordRight(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"outdent\",\n        description: \"Outdent\",\n        bindKey: bindKey(\"Shift-Tab\", \"Shift-Tab\"),\n        exec: function (editor) { editor.blockOutdent(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"indent\",\n        description: \"Indent\",\n        bindKey: bindKey(\"Tab\", \"Tab\"),\n        exec: function (editor) { editor.indent(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"blockoutdent\",\n        description: \"Block outdent\",\n        bindKey: bindKey(\"Ctrl-[\", \"Ctrl-[\"),\n        exec: function (editor) { editor.blockOutdent(); },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"blockindent\",\n        description: \"Block indent\",\n        bindKey: bindKey(\"Ctrl-]\", \"Ctrl-]\"),\n        exec: function (editor) { editor.blockIndent(); },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"insertstring\",\n        description: \"Insert string\",\n        exec: function (editor, str) { editor.insert(str); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"inserttext\",\n        description: \"Insert text\",\n        exec: function (editor, args) {\n            editor.insert(lang.stringRepeat(args.text || \"\", args.times || 1));\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"splitline\",\n        description: \"Split line\",\n        bindKey: bindKey(null, \"Ctrl-O\"),\n        exec: function (editor) { editor.splitLine(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"transposeletters\",\n        description: \"Transpose letters\",\n        bindKey: bindKey(\"Alt-Shift-X\", \"Ctrl-T\"),\n        exec: function (editor) { editor.transposeLetters(); },\n        multiSelectAction: function (editor) { editor.transposeSelections(1); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"touppercase\",\n        description: \"To uppercase\",\n        bindKey: bindKey(\"Ctrl-U\", \"Ctrl-U\"),\n        exec: function (editor) { editor.toUpperCase(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"tolowercase\",\n        description: \"To lowercase\",\n        bindKey: bindKey(\"Ctrl-Shift-U\", \"Ctrl-Shift-U\"),\n        exec: function (editor) { editor.toLowerCase(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"autoindent\",\n        description: \"Auto Indent\",\n        bindKey: bindKey(null, null),\n        exec: function (editor) { editor.autoIndent(); },\n        scrollIntoView: \"animate\"\n    }, {\n        name: \"expandtoline\",\n        description: \"Expand to line\",\n        bindKey: bindKey(\"Ctrl-Shift-L\", \"Command-Shift-L\"),\n        exec: function (editor) {\n            var range = editor.selection.getRange();\n            range.start.column = range.end.column = 0;\n            range.end.row++;\n            editor.selection.setRange(range, false);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"openlink\",\n        bindKey: bindKey(\"Ctrl+F3\", \"F3\"),\n        exec: function (editor) { editor.openLink(); }\n    }, {\n        name: \"joinlines\",\n        description: \"Join lines\",\n        bindKey: bindKey(null, null),\n        exec: function (editor) {\n            var isBackwards = editor.selection.isBackwards();\n            var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();\n            var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();\n            var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;\n            var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());\n            var selectedCount = selectedText.replace(/\\n\\s*/, \" \").length;\n            var insertLine = editor.session.doc.getLine(selectionStart.row);\n            for (var i = selectionStart.row + 1; i <= selectionEnd.row + 1; i++) {\n                var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));\n                if (curLine.length !== 0) {\n                    curLine = \" \" + curLine;\n                }\n                insertLine += curLine;\n            }\n            if (selectionEnd.row + 1 < (editor.session.doc.getLength() - 1)) {\n                insertLine += editor.session.doc.getNewLineCharacter();\n            }\n            editor.clearSelection();\n            editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);\n            if (selectedCount > 0) {\n                editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);\n                editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);\n            }\n            else {\n                firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? (firstLineEndCol + 1) : firstLineEndCol;\n                editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);\n            }\n        },\n        multiSelectAction: \"forEach\",\n        readOnly: true\n    }, {\n        name: \"invertSelection\",\n        description: \"Invert selection\",\n        bindKey: bindKey(null, null),\n        exec: function (editor) {\n            var endRow = editor.session.doc.getLength() - 1;\n            var endCol = editor.session.doc.getLine(endRow).length;\n            var ranges = editor.selection.rangeList.ranges;\n            var newRanges = [];\n            if (ranges.length < 1) {\n                ranges = [editor.selection.getRange()];\n            }\n            for (var i = 0; i < ranges.length; i++) {\n                if (i == (ranges.length - 1)) {\n                    if (!(ranges[i].end.row === endRow && ranges[i].end.column === endCol)) {\n                        newRanges.push(new Range(ranges[i].end.row, ranges[i].end.column, endRow, endCol));\n                    }\n                }\n                if (i === 0) {\n                    if (!(ranges[i].start.row === 0 && ranges[i].start.column === 0)) {\n                        newRanges.push(new Range(0, 0, ranges[i].start.row, ranges[i].start.column));\n                    }\n                }\n                else {\n                    newRanges.push(new Range(ranges[i - 1].end.row, ranges[i - 1].end.column, ranges[i].start.row, ranges[i].start.column));\n                }\n            }\n            editor.exitMultiSelectMode();\n            editor.clearSelection();\n            for (var i = 0; i < newRanges.length; i++) {\n                editor.selection.addRange(newRanges[i], false);\n            }\n        },\n        readOnly: true,\n        scrollIntoView: \"none\"\n    }, {\n        name: \"addLineAfter\",\n        description: \"Add new line after the current line\",\n        exec: function (editor) {\n            editor.selection.clearSelection();\n            editor.navigateLineEnd();\n            editor.insert(\"\\n\");\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"addLineBefore\",\n        description: \"Add new line before the current line\",\n        exec: function (editor) {\n            editor.selection.clearSelection();\n            var cursor = editor.getCursorPosition();\n            editor.selection.moveTo(cursor.row - 1, Number.MAX_VALUE);\n            editor.insert(\"\\n\");\n            if (cursor.row === 0)\n                editor.navigateUp();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"openCommandPallete\",\n        exec: function (editor) {\n            console.warn(\"This is an obsolete command. Please use `openCommandPalette` instead.\");\n            editor.prompt({ $type: \"commands\" });\n        },\n        readOnly: true\n    }, {\n        name: \"openCommandPalette\",\n        description: \"Open command palette\",\n        bindKey: bindKey(\"F1\", \"F1\"),\n        exec: function (editor) {\n            editor.prompt({ $type: \"commands\" });\n        },\n        readOnly: true\n    }, {\n        name: \"modeSelect\",\n        description: \"Change language mode...\",\n        bindKey: bindKey(null, null),\n        exec: function (editor) {\n            editor.prompt({ $type: \"modes\" });\n        },\n        readOnly: true\n    }];\nfor (var i = 1; i < 9; i++) {\n    exports.commands.push({\n        name: \"foldToLevel\" + i,\n        description: \"Fold To Level \" + i,\n        level: i,\n        exec: function (editor) { editor.session.foldToLevel(this.level); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    });\n}\n\n});\n\nace.define(\"ace/line_widgets\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"./lib/dom\");\nvar LineWidgets = /** @class */ (function () {\n    function LineWidgets(session) {\n        this.session = session;\n        this.session.widgetManager = this;\n        this.session.getRowLength = this.getRowLength;\n        this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;\n        this.updateOnChange = this.updateOnChange.bind(this);\n        this.renderWidgets = this.renderWidgets.bind(this);\n        this.measureWidgets = this.measureWidgets.bind(this);\n        this.session._changedWidgets = [];\n        this.$onChangeEditor = this.$onChangeEditor.bind(this);\n        this.session.on(\"change\", this.updateOnChange);\n        this.session.on(\"changeFold\", this.updateOnFold);\n        this.session.on(\"changeEditor\", this.$onChangeEditor);\n    }\n    LineWidgets.prototype.getRowLength = function (row) {\n        var h;\n        if (this.lineWidgets)\n            h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        else\n            h = 0;\n        if (!this[\"$useWrapMode\"] || !this[\"$wrapData\"][row]) {\n            return 1 + h;\n        }\n        else {\n            return this[\"$wrapData\"][row].length + 1 + h;\n        }\n    };\n    LineWidgets.prototype.$getWidgetScreenLength = function () {\n        var screenRows = 0;\n        this.lineWidgets.forEach(function (w) {\n            if (w && w.rowCount && !w.hidden)\n                screenRows += w.rowCount;\n        });\n        return screenRows;\n    };\n    LineWidgets.prototype.$onChangeEditor = function (e) {\n        this.attach(e.editor);\n    };\n    LineWidgets.prototype.attach = function (editor) {\n        if (editor && editor.widgetManager && editor.widgetManager != this)\n            editor.widgetManager.detach();\n        if (this.editor == editor)\n            return;\n        this.detach();\n        this.editor = editor;\n        if (editor) {\n            editor.widgetManager = this;\n            editor.renderer.on(\"beforeRender\", this.measureWidgets);\n            editor.renderer.on(\"afterRender\", this.renderWidgets);\n        }\n    };\n    LineWidgets.prototype.detach = function (e) {\n        var editor = this.editor;\n        if (!editor)\n            return;\n        this.editor = null;\n        editor.widgetManager = null;\n        editor.renderer.off(\"beforeRender\", this.measureWidgets);\n        editor.renderer.off(\"afterRender\", this.renderWidgets);\n        var lineWidgets = this.session.lineWidgets;\n        lineWidgets && lineWidgets.forEach(function (w) {\n            if (w && w.el && w.el.parentNode) {\n                w._inDocument = false;\n                w.el.parentNode.removeChild(w.el);\n            }\n        });\n    };\n    LineWidgets.prototype.updateOnFold = function (e, session) {\n        var lineWidgets = session.lineWidgets;\n        if (!lineWidgets || !e.action)\n            return;\n        var fold = e.data;\n        var start = fold.start.row;\n        var end = fold.end.row;\n        var hide = e.action == \"add\";\n        for (var i = start + 1; i < end; i++) {\n            if (lineWidgets[i])\n                lineWidgets[i].hidden = hide;\n        }\n        if (lineWidgets[end]) {\n            if (hide) {\n                if (!lineWidgets[start])\n                    lineWidgets[start] = lineWidgets[end];\n                else\n                    lineWidgets[end].hidden = hide;\n            }\n            else {\n                if (lineWidgets[start] == lineWidgets[end])\n                    lineWidgets[start] = undefined;\n                lineWidgets[end].hidden = hide;\n            }\n        }\n    };\n    LineWidgets.prototype.updateOnChange = function (delta) {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n        if (len === 0) {\n        }\n        else if (delta.action == \"remove\") {\n            var removed = lineWidgets.splice(startRow + 1, len);\n            if (!lineWidgets[startRow] && removed[removed.length - 1]) {\n                lineWidgets[startRow] = removed.pop();\n            }\n            removed.forEach(function (w) {\n                w && this.removeLineWidget(w);\n            }, this);\n            this.$updateRows();\n        }\n        else {\n            var args = new Array(len);\n            if (lineWidgets[startRow] && lineWidgets[startRow].column != null) {\n                if (delta.start.column > lineWidgets[startRow].column)\n                    startRow++;\n            }\n            args.unshift(startRow, 0);\n            lineWidgets.splice.apply(lineWidgets, args);\n            this.$updateRows();\n        }\n    };\n    LineWidgets.prototype.$updateRows = function () {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var noWidgets = true;\n        lineWidgets.forEach(function (w, i) {\n            if (w) {\n                noWidgets = false;\n                w.row = i;\n                while (w.$oldWidget) {\n                    w.$oldWidget.row = i;\n                    w = w.$oldWidget;\n                }\n            }\n        });\n        if (noWidgets)\n            this.session.lineWidgets = null;\n    };\n    LineWidgets.prototype.$registerLineWidget = function (w) {\n        if (!this.session.lineWidgets)\n            this.session.lineWidgets = new Array(this.session.getLength());\n        var old = this.session.lineWidgets[w.row];\n        if (old) {\n            w.$oldWidget = old;\n            if (old.el && old.el.parentNode) {\n                old.el.parentNode.removeChild(old.el);\n                old._inDocument = false;\n            }\n        }\n        this.session.lineWidgets[w.row] = w;\n        return w;\n    };\n    LineWidgets.prototype.addLineWidget = function (w) {\n        this.$registerLineWidget(w);\n        w.session = this.session;\n        if (!this.editor)\n            return w;\n        var renderer = this.editor.renderer;\n        if (w.html && !w.el) {\n            w.el = dom.createElement(\"div\");\n            w.el.innerHTML = w.html;\n        }\n        if (w.text && !w.el) {\n            w.el = dom.createElement(\"div\");\n            w.el.textContent = w.text;\n        }\n        if (w.el) {\n            dom.addCssClass(w.el, \"ace_lineWidgetContainer\");\n            if (w.className) {\n                dom.addCssClass(w.el, w.className);\n            }\n            w.el.style.position = \"absolute\";\n            w.el.style.zIndex = \"5\";\n            renderer.container.appendChild(w.el);\n            w._inDocument = true;\n            if (!w.coverGutter) {\n                w.el.style.zIndex = \"3\";\n            }\n            if (w.pixelHeight == null) {\n                w.pixelHeight = w.el.offsetHeight;\n            }\n        }\n        if (w.rowCount == null) {\n            w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;\n        }\n        var fold = this.session.getFoldAt(w.row, 0);\n        w.$fold = fold;\n        if (fold) {\n            var lineWidgets = this.session.lineWidgets;\n            if (w.row == fold.end.row && !lineWidgets[fold.start.row])\n                lineWidgets[fold.start.row] = w;\n            else\n                w.hidden = true;\n        }\n        this.session._emit(\"changeFold\", { data: { start: { row: w.row } } });\n        this.$updateRows();\n        this.renderWidgets(null, renderer);\n        this.onWidgetChanged(w);\n        return w;\n    };\n    LineWidgets.prototype.removeLineWidget = function (w) {\n        w._inDocument = false;\n        w.session = null;\n        if (w.el && w.el.parentNode)\n            w.el.parentNode.removeChild(w.el);\n        if (w.editor && w.editor.destroy)\n            try {\n                w.editor.destroy();\n            }\n            catch (e) { }\n        if (this.session.lineWidgets) {\n            var w1 = this.session.lineWidgets[w.row];\n            if (w1 == w) {\n                this.session.lineWidgets[w.row] = w.$oldWidget;\n                if (w.$oldWidget)\n                    this.onWidgetChanged(w.$oldWidget);\n            }\n            else {\n                while (w1) {\n                    if (w1.$oldWidget == w) {\n                        w1.$oldWidget = w.$oldWidget;\n                        break;\n                    }\n                    w1 = w1.$oldWidget;\n                }\n            }\n        }\n        this.session._emit(\"changeFold\", { data: { start: { row: w.row } } });\n        this.$updateRows();\n    };\n    LineWidgets.prototype.getWidgetsAtRow = function (row) {\n        var lineWidgets = this.session.lineWidgets;\n        var w = lineWidgets && lineWidgets[row];\n        var list = [];\n        while (w) {\n            list.push(w);\n            w = w.$oldWidget;\n        }\n        return list;\n    };\n    LineWidgets.prototype.onWidgetChanged = function (w) {\n        this.session._changedWidgets.push(w);\n        this.editor && this.editor.renderer.updateFull();\n    };\n    LineWidgets.prototype.measureWidgets = function (e, renderer) {\n        var changedWidgets = this.session._changedWidgets;\n        var config = renderer.layerConfig;\n        if (!changedWidgets || !changedWidgets.length)\n            return;\n        var min = Infinity;\n        for (var i = 0; i < changedWidgets.length; i++) {\n            var w = changedWidgets[i];\n            if (!w || !w.el)\n                continue;\n            if (w.session != this.session)\n                continue;\n            if (!w._inDocument) {\n                if (this.session.lineWidgets[w.row] != w)\n                    continue;\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            w.h = w.el.offsetHeight;\n            if (!w.fixedWidth) {\n                w.w = w.el.offsetWidth;\n                w.screenWidth = Math.ceil(w.w / config.characterWidth);\n            }\n            var rowCount = w.h / config.lineHeight;\n            if (w.coverLine) {\n                rowCount -= this.session.getRowLineCount(w.row);\n                if (rowCount < 0)\n                    rowCount = 0;\n            }\n            if (w.rowCount != rowCount) {\n                w.rowCount = rowCount;\n                if (w.row < min)\n                    min = w.row;\n            }\n        }\n        if (min != Infinity) {\n            this.session._emit(\"changeFold\", { data: { start: { row: min } } });\n            this.session.lineWidgetWidth = null;\n        }\n        this.session._changedWidgets = [];\n    };\n    LineWidgets.prototype.renderWidgets = function (e, renderer) {\n        var config = renderer.layerConfig;\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var first = Math.min(this.firstRow, config.firstRow);\n        var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);\n        while (first > 0 && !lineWidgets[first])\n            first--;\n        this.firstRow = config.firstRow;\n        this.lastRow = config.lastRow;\n        renderer.$cursorLayer.config = config;\n        for (var i = first; i <= last; i++) {\n            var w = lineWidgets[i];\n            if (!w || !w.el)\n                continue;\n            if (w.hidden) {\n                w.el.style.top = -100 - (w.pixelHeight || 0) + \"px\";\n                continue;\n            }\n            if (!w._inDocument) {\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            var top = renderer.$cursorLayer.getPixelPosition({ row: i, column: 0 }, true).top;\n            if (!w.coverLine)\n                top += config.lineHeight * this.session.getRowLineCount(w.row);\n            w.el.style.top = top - config.offset + \"px\";\n            var left = w.coverGutter ? 0 : renderer.gutterWidth;\n            if (!w.fixedWidth)\n                left -= renderer.scrollLeft;\n            w.el.style.left = left + \"px\";\n            if (w.fullWidth && w.screenWidth) {\n                w.el.style.minWidth = config.width + 2 * config.padding + \"px\";\n            }\n            if (w.fixedWidth) {\n                w.el.style.right = renderer.scrollBar.getWidth() + \"px\";\n            }\n            else {\n                w.el.style.right = \"\";\n            }\n        }\n    };\n    return LineWidgets;\n}());\nexports.LineWidgets = LineWidgets;\n\n});\n\nace.define(\"ace/keyboard/gutter_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/mouse/default_gutter_handler\"], function(require, exports, module){\"use strict\";\nvar keys = require('../lib/keys');\nvar GutterTooltip = require(\"../mouse/default_gutter_handler\").GutterTooltip;\nvar GutterKeyboardHandler = /** @class */ (function () {\n    function GutterKeyboardHandler(editor) {\n        this.editor = editor;\n        this.gutterLayer = editor.renderer.$gutterLayer;\n        this.element = editor.renderer.$gutter;\n        this.lines = editor.renderer.$gutterLayer.$lines;\n        this.activeRowIndex = null;\n        this.activeLane = null;\n        this.annotationTooltip = new GutterTooltip(this.editor);\n    }\n    GutterKeyboardHandler.prototype.addListener = function () {\n        this.element.addEventListener(\"keydown\", this.$onGutterKeyDown.bind(this));\n        this.element.addEventListener(\"focusout\", this.$blurGutter.bind(this));\n        this.editor.on(\"mousewheel\", this.$blurGutter.bind(this));\n    };\n    GutterKeyboardHandler.prototype.removeListener = function () {\n        this.element.removeEventListener(\"keydown\", this.$onGutterKeyDown.bind(this));\n        this.element.removeEventListener(\"focusout\", this.$blurGutter.bind(this));\n        this.editor.off(\"mousewheel\", this.$blurGutter.bind(this));\n    };\n    GutterKeyboardHandler.prototype.$onGutterKeyDown = function (e) {\n        if (this.annotationTooltip.isOpen) {\n            e.preventDefault();\n            if (e.keyCode === keys[\"escape\"])\n                this.annotationTooltip.hideTooltip();\n            return;\n        }\n        if (e.target === this.element) {\n            if (e.keyCode != keys[\"enter\"]) {\n                return;\n            }\n            e.preventDefault();\n            var row = this.editor.getCursorPosition().row;\n            if (!this.editor.isRowVisible(row))\n                this.editor.scrollToLine(row, true, true);\n            setTimeout(\n            function () {\n                var index = this.$rowToRowIndex(this.gutterLayer.$cursorCell.row);\n                var nearestFoldIndex = this.$findNearestFoldWidget(index);\n                var nearestAnnotationIndex = this.$findNearestAnnotation(index);\n                if (nearestFoldIndex === null && nearestAnnotationIndex === null)\n                    return;\n                if (nearestFoldIndex === null && nearestAnnotationIndex !== null) {\n                    this.activeRowIndex = nearestAnnotationIndex;\n                    this.activeLane = \"annotation\";\n                    this.$focusAnnotation(this.activeRowIndex);\n                    return;\n                }\n                if (nearestFoldIndex !== null && nearestAnnotationIndex === null) {\n                    this.activeRowIndex = nearestFoldIndex;\n                    this.activeLane = \"fold\";\n                    this.$focusFoldWidget(this.activeRowIndex);\n                    return;\n                }\n                if (Math.abs(nearestAnnotationIndex - index) < Math.abs(nearestFoldIndex - index)) {\n                    this.activeRowIndex = nearestAnnotationIndex;\n                    this.activeLane = \"annotation\";\n                    this.$focusAnnotation(this.activeRowIndex);\n                    return;\n                }\n                else {\n                    this.activeRowIndex = nearestFoldIndex;\n                    this.activeLane = \"fold\";\n                    this.$focusFoldWidget(this.activeRowIndex);\n                    return;\n                }\n            }.bind(this), 10);\n            return;\n        }\n        this.$handleGutterKeyboardInteraction(e);\n        setTimeout(function () {\n            this.editor._signal(\"gutterkeydown\", new GutterKeyboardEvent(e, this));\n        }.bind(this), 10);\n    };\n    GutterKeyboardHandler.prototype.$handleGutterKeyboardInteraction = function (e) {\n        if (e.keyCode === keys[\"tab\"]) {\n            e.preventDefault();\n            return;\n        }\n        if (e.keyCode === keys[\"escape\"]) {\n            e.preventDefault();\n            this.$blurGutter();\n            this.element.focus();\n            this.lane = null;\n            return;\n        }\n        if (e.keyCode === keys[\"up\"]) {\n            e.preventDefault();\n            switch (this.activeLane) {\n                case \"fold\":\n                    this.$moveFoldWidgetUp();\n                    break;\n                case \"annotation\":\n                    this.$moveAnnotationUp();\n                    break;\n            }\n            return;\n        }\n        if (e.keyCode === keys[\"down\"]) {\n            e.preventDefault();\n            switch (this.activeLane) {\n                case \"fold\":\n                    this.$moveFoldWidgetDown();\n                    break;\n                case \"annotation\":\n                    this.$moveAnnotationDown();\n                    break;\n            }\n            return;\n        }\n        if (e.keyCode === keys[\"left\"]) {\n            e.preventDefault();\n            this.$switchLane(\"annotation\");\n            return;\n        }\n        if (e.keyCode === keys[\"right\"]) {\n            e.preventDefault();\n            this.$switchLane(\"fold\");\n            return;\n        }\n        if (e.keyCode === keys[\"enter\"] || e.keyCode === keys[\"space\"]) {\n            e.preventDefault();\n            switch (this.activeLane) {\n                case \"fold\":\n                    if (this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)] === 'start') {\n                        var rowFoldingWidget = this.$rowIndexToRow(this.activeRowIndex);\n                        this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex), e);\n                        setTimeout(\n                        function () {\n                            if (this.$rowIndexToRow(this.activeRowIndex) !== rowFoldingWidget) {\n                                this.$blurFoldWidget(this.activeRowIndex);\n                                this.activeRowIndex = this.$rowToRowIndex(rowFoldingWidget);\n                                this.$focusFoldWidget(this.activeRowIndex);\n                            }\n                        }.bind(this), 10);\n                        break;\n                    }\n                    else if (this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)] === 'end') {\n                        break;\n                    }\n                    return;\n                case \"annotation\":\n                    var gutterElement = this.lines.cells[this.activeRowIndex].element.childNodes[2];\n                    var rect = gutterElement.getBoundingClientRect();\n                    var style = this.annotationTooltip.getElement().style;\n                    style.left = rect.right + \"px\";\n                    style.top = rect.bottom + \"px\";\n                    this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));\n                    break;\n            }\n            return;\n        }\n    };\n    GutterKeyboardHandler.prototype.$blurGutter = function () {\n        if (this.activeRowIndex !== null) {\n            switch (this.activeLane) {\n                case \"fold\":\n                    this.$blurFoldWidget(this.activeRowIndex);\n                    break;\n                case \"annotation\":\n                    this.$blurAnnotation(this.activeRowIndex);\n                    break;\n            }\n        }\n        if (this.annotationTooltip.isOpen)\n            this.annotationTooltip.hideTooltip();\n        return;\n    };\n    GutterKeyboardHandler.prototype.$isFoldWidgetVisible = function (index) {\n        var isRowFullyVisible = this.editor.isRowFullyVisible(this.$rowIndexToRow(index));\n        var isIconVisible = this.$getFoldWidget(index).style.display !== \"none\";\n        return isRowFullyVisible && isIconVisible;\n    };\n    GutterKeyboardHandler.prototype.$isAnnotationVisible = function (index) {\n        var isRowFullyVisible = this.editor.isRowFullyVisible(this.$rowIndexToRow(index));\n        var isIconVisible = this.$getAnnotation(index).style.display !== \"none\";\n        return isRowFullyVisible && isIconVisible;\n    };\n    GutterKeyboardHandler.prototype.$getFoldWidget = function (index) {\n        var cell = this.lines.get(index);\n        var element = cell.element;\n        return element.childNodes[1];\n    };\n    GutterKeyboardHandler.prototype.$getAnnotation = function (index) {\n        var cell = this.lines.get(index);\n        var element = cell.element;\n        return element.childNodes[2];\n    };\n    GutterKeyboardHandler.prototype.$findNearestFoldWidget = function (index) {\n        if (this.$isFoldWidgetVisible(index))\n            return index;\n        var i = 0;\n        while (index - i > 0 || index + i < this.lines.getLength() - 1) {\n            i++;\n            if (index - i >= 0 && this.$isFoldWidgetVisible(index - i))\n                return index - i;\n            if (index + i <= this.lines.getLength() - 1 && this.$isFoldWidgetVisible(index + i))\n                return index + i;\n        }\n        return null;\n    };\n    GutterKeyboardHandler.prototype.$findNearestAnnotation = function (index) {\n        if (this.$isAnnotationVisible(index))\n            return index;\n        var i = 0;\n        while (index - i > 0 || index + i < this.lines.getLength() - 1) {\n            i++;\n            if (index - i >= 0 && this.$isAnnotationVisible(index - i))\n                return index - i;\n            if (index + i <= this.lines.getLength() - 1 && this.$isAnnotationVisible(index + i))\n                return index + i;\n        }\n        return null;\n    };\n    GutterKeyboardHandler.prototype.$focusFoldWidget = function (index) {\n        if (index == null)\n            return;\n        var foldWidget = this.$getFoldWidget(index);\n        foldWidget.classList.add(this.editor.renderer.keyboardFocusClassName);\n        foldWidget.focus();\n    };\n    GutterKeyboardHandler.prototype.$focusAnnotation = function (index) {\n        if (index == null)\n            return;\n        var annotation = this.$getAnnotation(index);\n        annotation.classList.add(this.editor.renderer.keyboardFocusClassName);\n        annotation.focus();\n    };\n    GutterKeyboardHandler.prototype.$blurFoldWidget = function (index) {\n        var foldWidget = this.$getFoldWidget(index);\n        foldWidget.classList.remove(this.editor.renderer.keyboardFocusClassName);\n        foldWidget.blur();\n    };\n    GutterKeyboardHandler.prototype.$blurAnnotation = function (index) {\n        var annotation = this.$getAnnotation(index);\n        annotation.classList.remove(this.editor.renderer.keyboardFocusClassName);\n        annotation.blur();\n    };\n    GutterKeyboardHandler.prototype.$moveFoldWidgetUp = function () {\n        var index = this.activeRowIndex;\n        while (index > 0) {\n            index--;\n            if (this.$isFoldWidgetVisible(index)) {\n                this.$blurFoldWidget(this.activeRowIndex);\n                this.activeRowIndex = index;\n                this.$focusFoldWidget(this.activeRowIndex);\n                return;\n            }\n        }\n        return;\n    };\n    GutterKeyboardHandler.prototype.$moveFoldWidgetDown = function () {\n        var index = this.activeRowIndex;\n        while (index < this.lines.getLength() - 1) {\n            index++;\n            if (this.$isFoldWidgetVisible(index)) {\n                this.$blurFoldWidget(this.activeRowIndex);\n                this.activeRowIndex = index;\n                this.$focusFoldWidget(this.activeRowIndex);\n                return;\n            }\n        }\n        return;\n    };\n    GutterKeyboardHandler.prototype.$moveAnnotationUp = function () {\n        var index = this.activeRowIndex;\n        while (index > 0) {\n            index--;\n            if (this.$isAnnotationVisible(index)) {\n                this.$blurAnnotation(this.activeRowIndex);\n                this.activeRowIndex = index;\n                this.$focusAnnotation(this.activeRowIndex);\n                return;\n            }\n        }\n        return;\n    };\n    GutterKeyboardHandler.prototype.$moveAnnotationDown = function () {\n        var index = this.activeRowIndex;\n        while (index < this.lines.getLength() - 1) {\n            index++;\n            if (this.$isAnnotationVisible(index)) {\n                this.$blurAnnotation(this.activeRowIndex);\n                this.activeRowIndex = index;\n                this.$focusAnnotation(this.activeRowIndex);\n                return;\n            }\n        }\n        return;\n    };\n    GutterKeyboardHandler.prototype.$switchLane = function (desinationLane) {\n        switch (desinationLane) {\n            case \"annotation\":\n                if (this.activeLane === \"annotation\") {\n                    break;\n                }\n                var annotationIndex = this.$findNearestAnnotation(this.activeRowIndex);\n                if (annotationIndex == null) {\n                    break;\n                }\n                this.activeLane = \"annotation\";\n                this.$blurFoldWidget(this.activeRowIndex);\n                this.activeRowIndex = annotationIndex;\n                this.$focusAnnotation(this.activeRowIndex);\n                break;\n            case \"fold\":\n                if (this.activeLane === \"fold\") {\n                    break;\n                }\n                var foldWidgetIndex = this.$findNearestFoldWidget(this.activeRowIndex);\n                if (foldWidgetIndex == null) {\n                    break;\n                }\n                this.activeLane = \"fold\";\n                this.$blurAnnotation(this.activeRowIndex);\n                this.activeRowIndex = foldWidgetIndex;\n                this.$focusFoldWidget(this.activeRowIndex);\n                break;\n        }\n        return;\n    };\n    GutterKeyboardHandler.prototype.$rowIndexToRow = function (index) {\n        var cell = this.lines.get(index);\n        if (cell)\n            return cell.row;\n        return null;\n    };\n    GutterKeyboardHandler.prototype.$rowToRowIndex = function (row) {\n        for (var i = 0; i < this.lines.getLength(); i++) {\n            var cell = this.lines.get(i);\n            if (cell.row == row)\n                return i;\n        }\n        return null;\n    };\n    return GutterKeyboardHandler;\n}());\nexports.GutterKeyboardHandler = GutterKeyboardHandler;\nvar GutterKeyboardEvent = /** @class */ (function () {\n    function GutterKeyboardEvent(domEvent, gutterKeyboardHandler) {\n        this.gutterKeyboardHandler = gutterKeyboardHandler;\n        this.domEvent = domEvent;\n    }\n    GutterKeyboardEvent.prototype.getKey = function () {\n        return keys.keyCodeToString(this.domEvent.keyCode);\n    };\n    GutterKeyboardEvent.prototype.getRow = function () {\n        return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex);\n    };\n    GutterKeyboardEvent.prototype.isInAnnotationLane = function () {\n        return this.gutterKeyboardHandler.activeLane === \"annotation\";\n    };\n    GutterKeyboardEvent.prototype.isInFoldLane = function () {\n        return this.gutterKeyboardHandler.activeLane === \"fold\";\n    };\n    return GutterKeyboardEvent;\n}());\nexports.GutterKeyboardEvent = GutterKeyboardEvent;\n\n});\n\nace.define(\"ace/editor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/keyboard/textinput\",\"ace/mouse/mouse_handler\",\"ace/mouse/fold_handler\",\"ace/keyboard/keybinding\",\"ace/edit_session\",\"ace/search\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/commands/command_manager\",\"ace/commands/default_commands\",\"ace/config\",\"ace/token_iterator\",\"ace/line_widgets\",\"ace/keyboard/gutter_handler\",\"ace/config\",\"ace/clipboard\",\"ace/lib/keys\"], function(require, exports, module){\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar lang = require(\"./lib/lang\");\nvar useragent = require(\"./lib/useragent\");\nvar TextInput = require(\"./keyboard/textinput\").TextInput;\nvar MouseHandler = require(\"./mouse/mouse_handler\").MouseHandler;\nvar FoldHandler = require(\"./mouse/fold_handler\").FoldHandler;\nvar KeyBinding = require(\"./keyboard/keybinding\").KeyBinding;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar Search = require(\"./search\").Search;\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar CommandManager = require(\"./commands/command_manager\").CommandManager;\nvar defaultCommands = require(\"./commands/default_commands\").commands;\nvar config = require(\"./config\");\nvar TokenIterator = require(\"./token_iterator\").TokenIterator;\nvar LineWidgets = require(\"./line_widgets\").LineWidgets;\nvar GutterKeyboardHandler = require(\"./keyboard/gutter_handler\").GutterKeyboardHandler;\nvar nls = require(\"./config\").nls;\nvar clipboard = require(\"./clipboard\");\nvar keys = require('./lib/keys');\nvar Editor = /** @class */ (function () {\n    function Editor(renderer, session, options) { this.session;\n        this.$toDestroy = [];\n        var container = renderer.getContainerElement();\n        this.container = container;\n        this.renderer = renderer;\n        this.id = \"editor\" + (++Editor.$uid);\n        this.commands = new CommandManager(useragent.isMac ? \"mac\" : \"win\", defaultCommands);\n        if (typeof document == \"object\") {\n            this.textInput = new TextInput(renderer.getTextAreaContainer(), this);\n            this.renderer.textarea = this.textInput.getElement();\n            this.$mouseHandler = new MouseHandler(this);\n            new FoldHandler(this);\n        }\n        this.keyBinding = new KeyBinding(this);\n        this.$search = new Search().set({\n            wrap: true\n        });\n        this.$historyTracker = this.$historyTracker.bind(this);\n        this.commands.on(\"exec\", this.$historyTracker);\n        this.$initOperationListeners();\n        this._$emitInputEvent = lang.delayedCall(function () {\n            this._signal(\"input\", {});\n            if (this.session && !this.session.destroyed)\n                this.session.bgTokenizer.scheduleStart();\n        }.bind(this));\n        this.on(\"change\", function (_, _self) {\n            _self._$emitInputEvent.schedule(31);\n        });\n        this.setSession(session || options && options.session || new EditSession(\"\"));\n        config.resetOptions(this);\n        if (options)\n            this.setOptions(options);\n        config._signal(\"editor\", this);\n    }\n    Editor.prototype.$initOperationListeners = function () {\n        this.commands.on(\"exec\", this.startOperation.bind(this), true);\n        this.commands.on(\"afterExec\", this.endOperation.bind(this), true);\n        this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this, true));\n        this.on(\"change\", function () {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.docChanged = true;\n        }.bind(this), true);\n        this.on(\"changeSelection\", function () {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.selectionChanged = true;\n        }.bind(this), true);\n    };\n    Editor.prototype.startOperation = function (commandEvent) {\n        if (this.curOp) {\n            if (!commandEvent || this.curOp.command)\n                return;\n            this.prevOp = this.curOp;\n        }\n        if (!commandEvent) {\n            this.previousCommand = null;\n            commandEvent = {};\n        }\n        this.$opResetTimer.schedule();\n        this.curOp = this.session.curOp = {\n            command: commandEvent.command || {},\n            args: commandEvent.args,\n            scrollTop: this.renderer.scrollTop\n        };\n        this.curOp.selectionBefore = this.selection.toJSON();\n    };\n    Editor.prototype.endOperation = function (e) {\n        if (this.curOp && this.session) {\n            if (e && e.returnValue === false || !this.session)\n                return (this.curOp = null);\n            if (e == true && this.curOp.command && this.curOp.command.name == \"mouse\")\n                return;\n            this._signal(\"beforeEndOperation\");\n            if (!this.curOp)\n                return;\n            var command = this.curOp.command;\n            var scrollIntoView = command && command.scrollIntoView;\n            if (scrollIntoView) {\n                switch (scrollIntoView) {\n                    case \"center-animate\":\n                        scrollIntoView = \"animate\";\n                    case \"center\":\n                        this.renderer.scrollCursorIntoView(null, 0.5);\n                        break;\n                    case \"animate\":\n                    case \"cursor\":\n                        this.renderer.scrollCursorIntoView();\n                        break;\n                    case \"selectionPart\":\n                        var range = this.selection.getRange();\n                        var config = this.renderer.layerConfig;\n                        if (range.start.row >= config.lastRow || range.end.row <= config.firstRow) {\n                            this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);\n                        }\n                        break;\n                    default:\n                        break;\n                }\n                if (scrollIntoView == \"animate\")\n                    this.renderer.animateScrolling(this.curOp.scrollTop);\n            }\n            var sel = this.selection.toJSON();\n            this.curOp.selectionAfter = sel;\n            this.$lastSel = this.selection.toJSON();\n            this.session.getUndoManager().addSelection(sel);\n            this.prevOp = this.curOp;\n            this.curOp = null;\n        }\n    };\n    Editor.prototype.$historyTracker = function (e) {\n        if (!this.$mergeUndoDeltas)\n            return;\n        var prev = this.prevOp;\n        var mergeableCommands = this.$mergeableCommands;\n        var shouldMerge = prev.command && (e.command.name == prev.command.name);\n        if (e.command.name == \"insertstring\") {\n            var text = e.args;\n            if (this.mergeNextCommand === undefined)\n                this.mergeNextCommand = true;\n            shouldMerge = shouldMerge\n                && this.mergeNextCommand // previous command allows to coalesce with\n                && (!/\\s/.test(text) || /\\s/.test(prev.args)); // previous insertion was of same type\n            this.mergeNextCommand = true;\n        }\n        else {\n            shouldMerge = shouldMerge\n                && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable\n        }\n        if (this.$mergeUndoDeltas != \"always\"\n            && Date.now() - this.sequenceStartTime > 2000) {\n            shouldMerge = false; // the sequence is too long\n        }\n        if (shouldMerge)\n            this.session.mergeUndoDeltas = true;\n        else if (mergeableCommands.indexOf(e.command.name) !== -1)\n            this.sequenceStartTime = Date.now();\n    };\n    Editor.prototype.setKeyboardHandler = function (keyboardHandler, cb) {\n        if (keyboardHandler && typeof keyboardHandler === \"string\" && keyboardHandler != \"ace\") {\n            this.$keybindingId = keyboardHandler;\n            var _self = this;\n            config.loadModule([\"keybinding\", keyboardHandler], function (module) {\n                if (_self.$keybindingId == keyboardHandler)\n                    _self.keyBinding.setKeyboardHandler(module && module.handler);\n                cb && cb();\n            });\n        }\n        else {\n            this.$keybindingId = null;\n            this.keyBinding.setKeyboardHandler(keyboardHandler);\n            cb && cb();\n        }\n    };\n    Editor.prototype.getKeyboardHandler = function () {\n        return this.keyBinding.getKeyboardHandler();\n    };\n    Editor.prototype.setSession = function (session) {\n        if (this.session == session)\n            return;\n        if (this.curOp)\n            this.endOperation();\n        this.curOp = {};\n        var oldSession = this.session;\n        if (oldSession) {\n            this.session.off(\"change\", this.$onDocumentChange);\n            this.session.off(\"changeMode\", this.$onChangeMode);\n            this.session.off(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n            this.session.off(\"changeTabSize\", this.$onChangeTabSize);\n            this.session.off(\"changeWrapLimit\", this.$onChangeWrapLimit);\n            this.session.off(\"changeWrapMode\", this.$onChangeWrapMode);\n            this.session.off(\"changeFold\", this.$onChangeFold);\n            this.session.off(\"changeFrontMarker\", this.$onChangeFrontMarker);\n            this.session.off(\"changeBackMarker\", this.$onChangeBackMarker);\n            this.session.off(\"changeBreakpoint\", this.$onChangeBreakpoint);\n            this.session.off(\"changeAnnotation\", this.$onChangeAnnotation);\n            this.session.off(\"changeOverwrite\", this.$onCursorChange);\n            this.session.off(\"changeScrollTop\", this.$onScrollTopChange);\n            this.session.off(\"changeScrollLeft\", this.$onScrollLeftChange);\n            var selection = this.session.getSelection();\n            selection.off(\"changeCursor\", this.$onCursorChange);\n            selection.off(\"changeSelection\", this.$onSelectionChange);\n        }\n        this.session = session;\n        if (session) {\n            this.$onDocumentChange = this.onDocumentChange.bind(this);\n            session.on(\"change\", this.$onDocumentChange);\n            this.renderer.setSession(session);\n            this.$onChangeMode = this.onChangeMode.bind(this);\n            session.on(\"changeMode\", this.$onChangeMode);\n            this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);\n            session.on(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n            this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);\n            session.on(\"changeTabSize\", this.$onChangeTabSize);\n            this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);\n            session.on(\"changeWrapLimit\", this.$onChangeWrapLimit);\n            this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);\n            session.on(\"changeWrapMode\", this.$onChangeWrapMode);\n            this.$onChangeFold = this.onChangeFold.bind(this);\n            session.on(\"changeFold\", this.$onChangeFold);\n            this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);\n            this.session.on(\"changeFrontMarker\", this.$onChangeFrontMarker);\n            this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);\n            this.session.on(\"changeBackMarker\", this.$onChangeBackMarker);\n            this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);\n            this.session.on(\"changeBreakpoint\", this.$onChangeBreakpoint);\n            this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);\n            this.session.on(\"changeAnnotation\", this.$onChangeAnnotation);\n            this.$onCursorChange = this.onCursorChange.bind(this);\n            this.session.on(\"changeOverwrite\", this.$onCursorChange);\n            this.$onScrollTopChange = this.onScrollTopChange.bind(this);\n            this.session.on(\"changeScrollTop\", this.$onScrollTopChange);\n            this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);\n            this.session.on(\"changeScrollLeft\", this.$onScrollLeftChange);\n            this.selection = session.getSelection();\n            this.selection.on(\"changeCursor\", this.$onCursorChange);\n            this.$onSelectionChange = this.onSelectionChange.bind(this);\n            this.selection.on(\"changeSelection\", this.$onSelectionChange);\n            this.onChangeMode();\n            this.onCursorChange();\n            this.onScrollTopChange();\n            this.onScrollLeftChange();\n            this.onSelectionChange();\n            this.onChangeFrontMarker();\n            this.onChangeBackMarker();\n            this.onChangeBreakpoint();\n            this.onChangeAnnotation();\n            this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();\n            this.renderer.updateFull();\n        }\n        else {\n            this.selection = null;\n            this.renderer.setSession(session);\n        }\n        this._signal(\"changeSession\", {\n            session: session,\n            oldSession: oldSession\n        });\n        this.curOp = null;\n        oldSession && oldSession._signal(\"changeEditor\", { oldEditor: this });\n        session && session._signal(\"changeEditor\", { editor: this });\n        if (session && !session.destroyed)\n            session.bgTokenizer.scheduleStart();\n    };\n    Editor.prototype.getSession = function () {\n        return this.session;\n    };\n    Editor.prototype.setValue = function (val, cursorPos) {\n        this.session.doc.setValue(val);\n        if (!cursorPos)\n            this.selectAll();\n        else if (cursorPos == 1)\n            this.navigateFileEnd();\n        else if (cursorPos == -1)\n            this.navigateFileStart();\n        return val;\n    };\n    Editor.prototype.getValue = function () {\n        return this.session.getValue();\n    };\n    Editor.prototype.getSelection = function () {\n        return this.selection;\n    };\n    Editor.prototype.resize = function (force) {\n        this.renderer.onResize(force);\n    };\n    Editor.prototype.setTheme = function (theme, cb) {\n        this.renderer.setTheme(theme, cb);\n    };\n    Editor.prototype.getTheme = function () {\n        return this.renderer.getTheme();\n    };\n    Editor.prototype.setStyle = function (style) {\n        this.renderer.setStyle(style);\n    };\n    Editor.prototype.unsetStyle = function (style) {\n        this.renderer.unsetStyle(style);\n    };\n    Editor.prototype.getFontSize = function () {\n        return this.getOption(\"fontSize\") ||\n            dom.computedStyle(this.container).fontSize;\n    };\n    Editor.prototype.setFontSize = function (size) {\n        this.setOption(\"fontSize\", size);\n    };\n    Editor.prototype.$highlightBrackets = function () {\n        if (this.$highlightPending) {\n            return;\n        }\n        var self = this;\n        this.$highlightPending = true;\n        setTimeout(function () {\n            self.$highlightPending = false;\n            var session = self.session;\n            if (!session || session.destroyed)\n                return;\n            if (session.$bracketHighlight) {\n                session.$bracketHighlight.markerIds.forEach(function (id) {\n                    session.removeMarker(id);\n                });\n                session.$bracketHighlight = null;\n            }\n            var pos = self.getCursorPosition();\n            var handler = self.getKeyboardHandler();\n            var isBackwards = handler && handler.$getDirectionForHighlight && handler.$getDirectionForHighlight(self);\n            var ranges = session.getMatchingBracketRanges(pos, isBackwards);\n            if (!ranges) {\n                var iterator = new TokenIterator(session, pos.row, pos.column);\n                var token = iterator.getCurrentToken();\n                if (token && /\\b(?:tag-open|tag-name)/.test(token.type)) {\n                    var tagNamesRanges = session.getMatchingTags(pos);\n                    if (tagNamesRanges) {\n                        ranges = [\n                            tagNamesRanges.openTagName.isEmpty() ? tagNamesRanges.openTag : tagNamesRanges.openTagName,\n                            tagNamesRanges.closeTagName.isEmpty() ? tagNamesRanges.closeTag : tagNamesRanges.closeTagName\n                        ];\n                    }\n                }\n            }\n            if (!ranges && session.$mode.getMatching)\n                ranges = session.$mode.getMatching(self.session);\n            if (!ranges) {\n                if (self.getHighlightIndentGuides())\n                    self.renderer.$textLayer.$highlightIndentGuide();\n                return;\n            }\n            var markerType = \"ace_bracket\";\n            if (!Array.isArray(ranges)) {\n                ranges = [ranges];\n            }\n            else if (ranges.length == 1) {\n                markerType = \"ace_error_bracket\";\n            }\n            if (ranges.length == 2) {\n                if (Range.comparePoints(ranges[0].end, ranges[1].start) == 0)\n                    ranges = [Range.fromPoints(ranges[0].start, ranges[1].end)];\n                else if (Range.comparePoints(ranges[0].start, ranges[1].end) == 0)\n                    ranges = [Range.fromPoints(ranges[1].start, ranges[0].end)];\n            }\n            session.$bracketHighlight = {\n                ranges: ranges,\n                markerIds: ranges.map(function (range) {\n                    return session.addMarker(range, markerType, \"text\");\n                })\n            };\n            if (self.getHighlightIndentGuides())\n                self.renderer.$textLayer.$highlightIndentGuide();\n        }, 50);\n    };\n    Editor.prototype.focus = function () {\n        this.textInput.focus();\n    };\n    Editor.prototype.isFocused = function () {\n        return this.textInput.isFocused();\n    };\n    Editor.prototype.blur = function () {\n        this.textInput.blur();\n    };\n    Editor.prototype.onFocus = function (e) {\n        if (this.$isFocused)\n            return;\n        this.$isFocused = true;\n        this.renderer.showCursor();\n        this.renderer.visualizeFocus();\n        this._emit(\"focus\", e);\n    };\n    Editor.prototype.onBlur = function (e) {\n        if (!this.$isFocused)\n            return;\n        this.$isFocused = false;\n        this.renderer.hideCursor();\n        this.renderer.visualizeBlur();\n        this._emit(\"blur\", e);\n    };\n    Editor.prototype.$cursorChange = function () {\n        this.renderer.updateCursor();\n        this.$highlightBrackets();\n        this.$updateHighlightActiveLine();\n    };\n    Editor.prototype.onDocumentChange = function (delta) {\n        var wrap = this.session.$useWrapMode;\n        var lastRow = (delta.start.row == delta.end.row ? delta.end.row : Infinity);\n        this.renderer.updateLines(delta.start.row, lastRow, wrap);\n        this._signal(\"change\", delta);\n        this.$cursorChange();\n    };\n    Editor.prototype.onTokenizerUpdate = function (e) {\n        var rows = e.data;\n        this.renderer.updateLines(rows.first, rows.last);\n    };\n    Editor.prototype.onScrollTopChange = function () {\n        this.renderer.scrollToY(this.session.getScrollTop());\n    };\n    Editor.prototype.onScrollLeftChange = function () {\n        this.renderer.scrollToX(this.session.getScrollLeft());\n    };\n    Editor.prototype.onCursorChange = function () {\n        this.$cursorChange();\n        this._signal(\"changeSelection\");\n    };\n    Editor.prototype.$updateHighlightActiveLine = function () {\n        var session = this.getSession();\n        var highlight;\n        if (this.$highlightActiveLine) {\n            if (this.$selectionStyle != \"line\" || !this.selection.isMultiLine())\n                highlight = this.getCursorPosition();\n            if (this.renderer.theme && this.renderer.theme.$selectionColorConflict && !this.selection.isEmpty())\n                highlight = false;\n            if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1))\n                highlight = false;\n        }\n        if (session.$highlightLineMarker && !highlight) {\n            session.removeMarker(session.$highlightLineMarker.id);\n            session.$highlightLineMarker = null;\n        }\n        else if (!session.$highlightLineMarker && highlight) {\n            var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);\n            range.id = session.addMarker(range, \"ace_active-line\", \"screenLine\");\n            session.$highlightLineMarker = range;\n        }\n        else if (highlight) {\n            session.$highlightLineMarker.start.row = highlight.row;\n            session.$highlightLineMarker.end.row = highlight.row;\n            session.$highlightLineMarker.start.column = highlight.column;\n            session._signal(\"changeBackMarker\");\n        }\n    };\n    Editor.prototype.onSelectionChange = function (e) {\n        var session = this.session;\n        if (session.$selectionMarker) {\n            session.removeMarker(session.$selectionMarker);\n        }\n        session.$selectionMarker = null;\n        if (!this.selection.isEmpty()) {\n            var range = this.selection.getRange();\n            var style = this.getSelectionStyle();\n            session.$selectionMarker = session.addMarker(range, \"ace_selection\", style);\n        }\n        else {\n            this.$updateHighlightActiveLine();\n        }\n        var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();\n        this.session.highlight(re);\n        this._signal(\"changeSelection\");\n    };\n    Editor.prototype.$getSelectionHighLightRegexp = function () {\n        var session = this.session;\n        var selection = this.getSelectionRange();\n        if (selection.isEmpty() || selection.isMultiLine())\n            return;\n        var startColumn = selection.start.column;\n        var endColumn = selection.end.column;\n        var line = session.getLine(selection.start.row);\n        var needle = line.substring(startColumn, endColumn);\n        if (needle.length > 5000 || !/[\\w\\d]/.test(needle))\n            return;\n        var re = this.$search.$assembleRegExp({\n            wholeWord: true,\n            caseSensitive: true,\n            needle: needle\n        });\n        var wordWithBoundary = line.substring(startColumn - 1, endColumn + 1);\n        if (!re.test(wordWithBoundary))\n            return;\n        return re;\n    };\n    Editor.prototype.onChangeFrontMarker = function () {\n        this.renderer.updateFrontMarkers();\n    };\n    Editor.prototype.onChangeBackMarker = function () {\n        this.renderer.updateBackMarkers();\n    };\n    Editor.prototype.onChangeBreakpoint = function () {\n        this.renderer.updateBreakpoints();\n    };\n    Editor.prototype.onChangeAnnotation = function () {\n        this.renderer.setAnnotations(this.session.getAnnotations());\n    };\n    Editor.prototype.onChangeMode = function (e) {\n        this.renderer.updateText();\n        this._emit(\"changeMode\", e);\n    };\n    Editor.prototype.onChangeWrapLimit = function () {\n        this.renderer.updateFull();\n    };\n    Editor.prototype.onChangeWrapMode = function () {\n        this.renderer.onResize(true);\n    };\n    Editor.prototype.onChangeFold = function () {\n        this.$updateHighlightActiveLine();\n        this.renderer.updateFull();\n    };\n    Editor.prototype.getSelectedText = function () {\n        return this.session.getTextRange(this.getSelectionRange());\n    };\n    Editor.prototype.getCopyText = function () {\n        var text = this.getSelectedText();\n        var nl = this.session.doc.getNewLineCharacter();\n        var copyLine = false;\n        if (!text && this.$copyWithEmptySelection) {\n            copyLine = true;\n            var ranges = this.selection.getAllRanges();\n            for (var i = 0; i < ranges.length; i++) {\n                var range = ranges[i];\n                if (i && ranges[i - 1].start.row == range.start.row)\n                    continue;\n                text += this.session.getLine(range.start.row) + nl;\n            }\n        }\n        var e = { text: text };\n        this._signal(\"copy\", e);\n        clipboard.lineMode = copyLine ? e.text : false;\n        return e.text;\n    };\n    Editor.prototype.onCopy = function () {\n        this.commands.exec(\"copy\", this);\n    };\n    Editor.prototype.onCut = function () {\n        this.commands.exec(\"cut\", this);\n    };\n    Editor.prototype.onPaste = function (text, event) {\n        var e = { text: text, event: event };\n        this.commands.exec(\"paste\", this, e);\n    };\n    Editor.prototype.$handlePaste = function (e) {\n        if (typeof e == \"string\")\n            e = { text: e };\n        this._signal(\"paste\", e);\n        var text = e.text;\n        var lineMode = text === clipboard.lineMode;\n        var session = this.session;\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {\n            if (lineMode)\n                session.insert({ row: this.selection.lead.row, column: 0 }, text);\n            else\n                this.insert(text);\n        }\n        else if (lineMode) {\n            this.selection.rangeList.ranges.forEach(function (range) {\n                session.insert({ row: range.start.row, column: 0 }, text);\n            });\n        }\n        else {\n            var lines = text.split(/\\r\\n|\\r|\\n/);\n            var ranges = this.selection.rangeList.ranges;\n            var isFullLine = lines.length == 2 && (!lines[0] || !lines[1]);\n            if (lines.length != ranges.length || isFullLine)\n                return this.commands.exec(\"insertstring\", this, text);\n            for (var i = ranges.length; i--;) {\n                var range = ranges[i];\n                if (!range.isEmpty())\n                    session.remove(range);\n                session.insert(range.start, lines[i]);\n            }\n        }\n    };\n    Editor.prototype.execCommand = function (command, args) {\n        return this.commands.exec(command, this, args);\n    };\n    Editor.prototype.insert = function (text, pasted) {\n        var session = this.session;\n        var mode = session.getMode();\n        var cursor = this.getCursorPosition();\n        if (this.getBehavioursEnabled() && !pasted) {\n            var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);\n            if (transform) {\n                if (text !== transform.text) {\n                    if (!this.inVirtualSelectionMode) {\n                        this.session.mergeUndoDeltas = false;\n                        this.mergeNextCommand = false;\n                    }\n                }\n                text = transform.text;\n            }\n        }\n        if (text == \"\\t\")\n            text = this.session.getTabString();\n        if (!this.selection.isEmpty()) {\n            var range = this.getSelectionRange();\n            cursor = this.session.remove(range);\n            this.clearSelection();\n        }\n        else if (this.session.getOverwrite() && text.indexOf(\"\\n\") == -1) {\n            var range = Range.fromPoints(cursor, cursor);\n            range.end.column += text.length;\n            this.session.remove(range);\n        }\n        if (text == \"\\n\" || text == \"\\r\\n\") {\n            var line = session.getLine(cursor.row);\n            if (cursor.column > line.search(/\\S|$/)) {\n                var d = line.substr(cursor.column).search(/\\S|$/);\n                session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);\n            }\n        }\n        this.clearSelection();\n        var start = cursor.column;\n        var lineState = session.getState(cursor.row);\n        var line = session.getLine(cursor.row);\n        var shouldOutdent = mode.checkOutdent(lineState, line, text);\n        session.insert(cursor, text);\n        if (transform && transform.selection) {\n            if (transform.selection.length == 2) { // Transform relative to the current column\n                this.selection.setSelectionRange(new Range(cursor.row, start + transform.selection[0], cursor.row, start + transform.selection[1]));\n            }\n            else { // Transform relative to the current row.\n                this.selection.setSelectionRange(new Range(cursor.row + transform.selection[0], transform.selection[1], cursor.row + transform.selection[2], transform.selection[3]));\n            }\n        }\n        if (this.$enableAutoIndent) {\n            if (session.getDocument().isNewLine(text)) {\n                var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());\n                session.insert({ row: cursor.row + 1, column: 0 }, lineIndent);\n            }\n            if (shouldOutdent)\n                mode.autoOutdent(lineState, session, cursor.row);\n        }\n    };\n    Editor.prototype.autoIndent = function () {\n        var session = this.session;\n        var mode = session.getMode();\n        var ranges = this.selection.isEmpty()\n            ? [new Range(0, 0, session.doc.getLength() - 1, 0)]\n            : this.selection.getAllRanges();\n        var prevLineState = \"\";\n        var prevLine = \"\";\n        var lineIndent = \"\";\n        var tab = session.getTabString();\n        for (var i = 0; i < ranges.length; i++) {\n            var startRow = ranges[i].start.row;\n            var endRow = ranges[i].end.row;\n            for (var row = startRow; row <= endRow; row++) {\n                if (row > 0) {\n                    prevLineState = session.getState(row - 1);\n                    prevLine = session.getLine(row - 1);\n                    lineIndent = mode.getNextLineIndent(prevLineState, prevLine, tab);\n                }\n                var line = session.getLine(row);\n                var currIndent = mode.$getIndent(line);\n                if (lineIndent !== currIndent) {\n                    if (currIndent.length > 0) {\n                        var range = new Range(row, 0, row, currIndent.length);\n                        session.remove(range);\n                    }\n                    if (lineIndent.length > 0) {\n                        session.insert({ row: row, column: 0 }, lineIndent);\n                    }\n                }\n                mode.autoOutdent(prevLineState, session, row);\n            }\n        }\n    };\n    Editor.prototype.onTextInput = function (text, composition) {\n        if (!composition)\n            return this.keyBinding.onTextInput(text);\n        this.startOperation({ command: { name: \"insertstring\" } });\n        var applyComposition = this.applyComposition.bind(this, text, composition);\n        if (this.selection.rangeCount)\n            this.forEachSelection(applyComposition);\n        else\n            applyComposition();\n        this.endOperation();\n    };\n    Editor.prototype.applyComposition = function (text, composition) {\n        if (composition.extendLeft || composition.extendRight) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.extendLeft;\n            r.end.column += composition.extendRight;\n            if (r.start.column < 0) {\n                r.start.row--;\n                r.start.column += this.session.getLine(r.start.row).length + 1;\n            }\n            this.selection.setRange(r);\n            if (!text && !r.isEmpty())\n                this.remove();\n        }\n        if (text || !this.selection.isEmpty())\n            this.insert(text, true);\n        if (composition.restoreStart || composition.restoreEnd) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.restoreStart;\n            r.end.column -= composition.restoreEnd;\n            this.selection.setRange(r);\n        }\n    };\n    Editor.prototype.onCommandKey = function (e, hashId, keyCode) {\n        return this.keyBinding.onCommandKey(e, hashId, keyCode);\n    };\n    Editor.prototype.setOverwrite = function (overwrite) {\n        this.session.setOverwrite(overwrite);\n    };\n    Editor.prototype.getOverwrite = function () {\n        return this.session.getOverwrite();\n    };\n    Editor.prototype.toggleOverwrite = function () {\n        this.session.toggleOverwrite();\n    };\n    Editor.prototype.setScrollSpeed = function (speed) {\n        this.setOption(\"scrollSpeed\", speed);\n    };\n    Editor.prototype.getScrollSpeed = function () {\n        return this.getOption(\"scrollSpeed\");\n    };\n    Editor.prototype.setDragDelay = function (dragDelay) {\n        this.setOption(\"dragDelay\", dragDelay);\n    };\n    Editor.prototype.getDragDelay = function () {\n        return this.getOption(\"dragDelay\");\n    };\n    Editor.prototype.setSelectionStyle = function (val) {\n        this.setOption(\"selectionStyle\", val);\n    };\n    Editor.prototype.getSelectionStyle = function () {\n        return this.getOption(\"selectionStyle\");\n    };\n    Editor.prototype.setHighlightActiveLine = function (shouldHighlight) {\n        this.setOption(\"highlightActiveLine\", shouldHighlight);\n    };\n    Editor.prototype.getHighlightActiveLine = function () {\n        return this.getOption(\"highlightActiveLine\");\n    };\n    Editor.prototype.setHighlightGutterLine = function (shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n    Editor.prototype.getHighlightGutterLine = function () {\n        return this.getOption(\"highlightGutterLine\");\n    };\n    Editor.prototype.setHighlightSelectedWord = function (shouldHighlight) {\n        this.setOption(\"highlightSelectedWord\", shouldHighlight);\n    };\n    Editor.prototype.getHighlightSelectedWord = function () {\n        return this.$highlightSelectedWord;\n    };\n    Editor.prototype.setAnimatedScroll = function (shouldAnimate) {\n        this.renderer.setAnimatedScroll(shouldAnimate);\n    };\n    Editor.prototype.getAnimatedScroll = function () {\n        return this.renderer.getAnimatedScroll();\n    };\n    Editor.prototype.setShowInvisibles = function (showInvisibles) {\n        this.renderer.setShowInvisibles(showInvisibles);\n    };\n    Editor.prototype.getShowInvisibles = function () {\n        return this.renderer.getShowInvisibles();\n    };\n    Editor.prototype.setDisplayIndentGuides = function (display) {\n        this.renderer.setDisplayIndentGuides(display);\n    };\n    Editor.prototype.getDisplayIndentGuides = function () {\n        return this.renderer.getDisplayIndentGuides();\n    };\n    Editor.prototype.setHighlightIndentGuides = function (highlight) {\n        this.renderer.setHighlightIndentGuides(highlight);\n    };\n    Editor.prototype.getHighlightIndentGuides = function () {\n        return this.renderer.getHighlightIndentGuides();\n    };\n    Editor.prototype.setShowPrintMargin = function (showPrintMargin) {\n        this.renderer.setShowPrintMargin(showPrintMargin);\n    };\n    Editor.prototype.getShowPrintMargin = function () {\n        return this.renderer.getShowPrintMargin();\n    };\n    Editor.prototype.setPrintMarginColumn = function (showPrintMargin) {\n        this.renderer.setPrintMarginColumn(showPrintMargin);\n    };\n    Editor.prototype.getPrintMarginColumn = function () {\n        return this.renderer.getPrintMarginColumn();\n    };\n    Editor.prototype.setReadOnly = function (readOnly) {\n        this.setOption(\"readOnly\", readOnly);\n    };\n    Editor.prototype.getReadOnly = function () {\n        return this.getOption(\"readOnly\");\n    };\n    Editor.prototype.setBehavioursEnabled = function (enabled) {\n        this.setOption(\"behavioursEnabled\", enabled);\n    };\n    Editor.prototype.getBehavioursEnabled = function () {\n        return this.getOption(\"behavioursEnabled\");\n    };\n    Editor.prototype.setWrapBehavioursEnabled = function (enabled) {\n        this.setOption(\"wrapBehavioursEnabled\", enabled);\n    };\n    Editor.prototype.getWrapBehavioursEnabled = function () {\n        return this.getOption(\"wrapBehavioursEnabled\");\n    };\n    Editor.prototype.setShowFoldWidgets = function (show) {\n        this.setOption(\"showFoldWidgets\", show);\n    };\n    Editor.prototype.getShowFoldWidgets = function () {\n        return this.getOption(\"showFoldWidgets\");\n    };\n    Editor.prototype.setFadeFoldWidgets = function (fade) {\n        this.setOption(\"fadeFoldWidgets\", fade);\n    };\n    Editor.prototype.getFadeFoldWidgets = function () {\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n    Editor.prototype.remove = function (dir) {\n        if (this.selection.isEmpty()) {\n            if (dir == \"left\")\n                this.selection.selectLeft();\n            else\n                this.selection.selectRight();\n        }\n        var range = this.getSelectionRange();\n        if (this.getBehavioursEnabled()) {\n            var session = this.session;\n            var state = session.getState(range.start.row);\n            var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);\n            if (range.end.column === 0) {\n                var text = session.getTextRange(range);\n                if (text[text.length - 1] == \"\\n\") {\n                    var line = session.getLine(range.end.row);\n                    if (/^\\s+$/.test(line)) {\n                        range.end.column = line.length;\n                    }\n                }\n            }\n            if (new_range)\n                range = new_range;\n        }\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    Editor.prototype.removeWordRight = function () {\n        if (this.selection.isEmpty())\n            this.selection.selectWordRight();\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    Editor.prototype.removeWordLeft = function () {\n        if (this.selection.isEmpty())\n            this.selection.selectWordLeft();\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    Editor.prototype.removeToLineStart = function () {\n        if (this.selection.isEmpty())\n            this.selection.selectLineStart();\n        if (this.selection.isEmpty())\n            this.selection.selectLeft();\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    Editor.prototype.removeToLineEnd = function () {\n        if (this.selection.isEmpty())\n            this.selection.selectLineEnd();\n        var range = this.getSelectionRange();\n        if (range.start.column == range.end.column && range.start.row == range.end.row) {\n            range.end.column = 0;\n            range.end.row++;\n        }\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    Editor.prototype.splitLine = function () {\n        if (!this.selection.isEmpty()) {\n            this.session.remove(this.getSelectionRange());\n            this.clearSelection();\n        }\n        var cursor = this.getCursorPosition();\n        this.insert(\"\\n\");\n        this.moveCursorToPosition(cursor);\n    };\n    Editor.prototype.setGhostText = function (text, position) {\n        if (!this.session.widgetManager) {\n            this.session.widgetManager = new LineWidgets(this.session);\n            this.session.widgetManager.attach(this);\n        }\n        this.renderer.setGhostText(text, position);\n    };\n    Editor.prototype.removeGhostText = function () {\n        if (!this.session.widgetManager)\n            return;\n        this.renderer.removeGhostText();\n    };\n    Editor.prototype.transposeLetters = function () {\n        if (!this.selection.isEmpty()) {\n            return;\n        }\n        var cursor = this.getCursorPosition();\n        var column = cursor.column;\n        if (column === 0)\n            return;\n        var line = this.session.getLine(cursor.row);\n        var swap, range;\n        if (column < line.length) {\n            swap = line.charAt(column) + line.charAt(column - 1);\n            range = new Range(cursor.row, column - 1, cursor.row, column + 1);\n        }\n        else {\n            swap = line.charAt(column - 1) + line.charAt(column - 2);\n            range = new Range(cursor.row, column - 2, cursor.row, column);\n        }\n        this.session.replace(range, swap);\n        this.session.selection.moveToPosition(range.end);\n    };\n    Editor.prototype.toLowerCase = function () {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toLowerCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    Editor.prototype.toUpperCase = function () {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toUpperCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    Editor.prototype.indent = function () {\n        var session = this.session;\n        var range = this.getSelectionRange();\n        if (range.start.row < range.end.row) {\n            var rows = this.$getSelectedRows();\n            session.indentRows(rows.first, rows.last, \"\\t\");\n            return;\n        }\n        else if (range.start.column < range.end.column) {\n            var text = session.getTextRange(range);\n            if (!/^\\s+$/.test(text)) {\n                var rows = this.$getSelectedRows();\n                session.indentRows(rows.first, rows.last, \"\\t\");\n                return;\n            }\n        }\n        var line = session.getLine(range.start.row);\n        var position = range.start;\n        var size = session.getTabSize();\n        var column = session.documentToScreenColumn(position.row, position.column);\n        if (this.session.getUseSoftTabs()) {\n            var count = (size - column % size);\n            var indentString = lang.stringRepeat(\" \", count);\n        }\n        else {\n            var count = column % size;\n            while (line[range.start.column - 1] == \" \" && count) {\n                range.start.column--;\n                count--;\n            }\n            this.selection.setSelectionRange(range);\n            indentString = \"\\t\";\n        }\n        return this.insert(indentString);\n    };\n    Editor.prototype.blockIndent = function () {\n        var rows = this.$getSelectedRows();\n        this.session.indentRows(rows.first, rows.last, \"\\t\");\n    };\n    Editor.prototype.blockOutdent = function () {\n        var selection = this.session.getSelection();\n        this.session.outdentRows(selection.getRange());\n    };\n    Editor.prototype.sortLines = function () {\n        var rows = this.$getSelectedRows();\n        var session = this.session;\n        var lines = [];\n        for (var i = rows.first; i <= rows.last; i++)\n            lines.push(session.getLine(i));\n        lines.sort(function (a, b) {\n            if (a.toLowerCase() < b.toLowerCase())\n                return -1;\n            if (a.toLowerCase() > b.toLowerCase())\n                return 1;\n            return 0;\n        });\n        var deleteRange = new Range(0, 0, 0, 0);\n        for (var i = rows.first; i <= rows.last; i++) {\n            var line = session.getLine(i);\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            deleteRange.end.column = line.length;\n            session.replace(deleteRange, lines[i - rows.first]);\n        }\n    };\n    Editor.prototype.toggleCommentLines = function () {\n        var state = this.session.getState(this.getCursorPosition().row);\n        var rows = this.$getSelectedRows();\n        this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);\n    };\n    Editor.prototype.toggleBlockComment = function () {\n        var cursor = this.getCursorPosition();\n        var state = this.session.getState(cursor.row);\n        var range = this.getSelectionRange();\n        this.session.getMode().toggleBlockComment(state, this.session, range, cursor);\n    };\n    Editor.prototype.getNumberAt = function (row, column) {\n        var _numberRx = /[\\-]?[0-9]+(?:\\.[0-9]+)?/g;\n        _numberRx.lastIndex = 0;\n        var s = this.session.getLine(row);\n        while (_numberRx.lastIndex < column) {\n            var m = _numberRx.exec(s);\n            if (m.index <= column && m.index + m[0].length >= column) {\n                var number = {\n                    value: m[0],\n                    start: m.index,\n                    end: m.index + m[0].length\n                };\n                return number;\n            }\n        }\n        return null;\n    };\n    Editor.prototype.modifyNumber = function (amount) {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        var charRange = new Range(row, column - 1, row, column);\n        var c = this.session.getTextRange(charRange);\n        if (!isNaN(parseFloat(c)) && isFinite(c)) {\n            var nr = this.getNumberAt(row, column);\n            if (nr) {\n                var fp = nr.value.indexOf(\".\") >= 0 ? nr.start + nr.value.indexOf(\".\") + 1 : nr.end;\n                var decimals = nr.start + nr.value.length - fp;\n                var t = parseFloat(nr.value);\n                t *= Math.pow(10, decimals);\n                if (fp !== nr.end && column < fp) {\n                    amount *= Math.pow(10, nr.end - column - 1);\n                }\n                else {\n                    amount *= Math.pow(10, nr.end - column);\n                }\n                t += amount;\n                t /= Math.pow(10, decimals);\n                var nnr = t.toFixed(decimals);\n                var replaceRange = new Range(row, nr.start, row, nr.end);\n                this.session.replace(replaceRange, nnr);\n                this.moveCursorTo(row, Math.max(nr.start + 1, column + nnr.length - nr.value.length));\n            }\n        }\n        else {\n            this.toggleWord();\n        }\n    };\n    Editor.prototype.toggleWord = function () {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        this.selection.selectWord();\n        var currentState = this.getSelectedText();\n        var currWordStart = this.selection.getWordRange().start.column;\n        var wordParts = currentState.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g, '$1 ').split(/\\s/);\n        var delta = column - currWordStart - 1;\n        if (delta < 0)\n            delta = 0;\n        var curLength = 0, itLength = 0;\n        var that = this;\n        if (currentState.match(/[A-Za-z0-9_]+/)) {\n            wordParts.forEach(function (item, i) {\n                itLength = curLength + item.length;\n                if (delta >= curLength && delta <= itLength) {\n                    currentState = item;\n                    that.selection.clearSelection();\n                    that.moveCursorTo(row, curLength + currWordStart);\n                    that.selection.selectTo(row, itLength + currWordStart);\n                }\n                curLength = itLength;\n            });\n        }\n        var wordPairs = this.$toggleWordPairs;\n        var reg;\n        for (var i = 0; i < wordPairs.length; i++) {\n            var item = wordPairs[i];\n            for (var j = 0; j <= 1; j++) {\n                var negate = +!j;\n                var firstCondition = currentState.match(new RegExp('^\\\\s?_?(' + lang.escapeRegExp(item[j]) + ')\\\\s?$', 'i'));\n                if (firstCondition) {\n                    var secondCondition = currentState.match(new RegExp('([_]|^|\\\\s)(' + lang.escapeRegExp(firstCondition[1]) + ')($|\\\\s)', 'g'));\n                    if (secondCondition) {\n                        reg = currentState.replace(new RegExp(lang.escapeRegExp(item[j]), 'i'), function (result) {\n                            var res = item[negate];\n                            if (result.toUpperCase() == result) {\n                                res = res.toUpperCase();\n                            }\n                            else if (result.charAt(0).toUpperCase() == result.charAt(0)) {\n                                res = res.substr(0, 0) + item[negate].charAt(0).toUpperCase() + res.substr(1);\n                            }\n                            return res;\n                        });\n                        this.insert(reg);\n                        reg = \"\";\n                    }\n                }\n            }\n        }\n    };\n    Editor.prototype.findLinkAt = function (row, column) {\n        var e_1, _a;\n        var line = this.session.getLine(row);\n        var wordParts = line.split(/((?:https?|ftp):\\/\\/[\\S]+)/);\n        var columnPosition = column;\n        if (columnPosition < 0)\n            columnPosition = 0;\n        var previousPosition = 0, currentPosition = 0, match;\n        try {\n            for (var wordParts_1 = __values(wordParts), wordParts_1_1 = wordParts_1.next(); !wordParts_1_1.done; wordParts_1_1 = wordParts_1.next()) {\n                var item = wordParts_1_1.value;\n                currentPosition = previousPosition + item.length;\n                if (columnPosition >= previousPosition && columnPosition <= currentPosition) {\n                    if (item.match(/((?:https?|ftp):\\/\\/[\\S]+)/)) {\n                        match = item.replace(/[\\s:.,'\";}\\]]+$/, \"\");\n                        break;\n                    }\n                }\n                previousPosition = currentPosition;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (wordParts_1_1 && !wordParts_1_1.done && (_a = wordParts_1.return)) _a.call(wordParts_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return match;\n    };\n    Editor.prototype.openLink = function () {\n        var cursor = this.selection.getCursor();\n        var url = this.findLinkAt(cursor.row, cursor.column);\n        if (url)\n            window.open(url, '_blank');\n        return url != null;\n    };\n    Editor.prototype.removeLines = function () {\n        var rows = this.$getSelectedRows();\n        this.session.removeFullLines(rows.first, rows.last);\n        this.clearSelection();\n    };\n    Editor.prototype.duplicateSelection = function () {\n        var sel = this.selection;\n        var doc = this.session;\n        var range = sel.getRange();\n        var reverse = sel.isBackwards();\n        if (range.isEmpty()) {\n            var row = range.start.row;\n            doc.duplicateLines(row, row);\n        }\n        else {\n            var point = reverse ? range.start : range.end;\n            var endPoint = doc.insert(point, doc.getTextRange(range));\n            range.start = point;\n            range.end = endPoint;\n            sel.setSelectionRange(range, reverse);\n        }\n    };\n    Editor.prototype.moveLinesDown = function () {\n        this.$moveLines(1, false);\n    };\n    Editor.prototype.moveLinesUp = function () {\n        this.$moveLines(-1, false);\n    };\n    Editor.prototype.moveText = function (range, toPosition, copy) {\n        return this.session.moveText(range, toPosition, copy);\n    };\n    Editor.prototype.copyLinesUp = function () {\n        this.$moveLines(-1, true);\n    };\n    Editor.prototype.copyLinesDown = function () {\n        this.$moveLines(1, true);\n    };\n    Editor.prototype.$moveLines = function (dir, copy) {\n        var rows, moved;\n        var selection = this.selection;\n        if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {\n            var range = selection.toOrientedRange();\n            rows = this.$getSelectedRows(range);\n            moved = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);\n            if (copy && dir == -1)\n                moved = 0;\n            range.moveBy(moved, 0);\n            selection.fromOrientedRange(range);\n        }\n        else {\n            var ranges = selection.rangeList.ranges;\n            selection.rangeList.detach(this.session);\n            this.inVirtualSelectionMode = true;\n            var diff = 0;\n            var totalDiff = 0;\n            var l = ranges.length;\n            for (var i = 0; i < l; i++) {\n                var rangeIndex = i;\n                ranges[i].moveBy(diff, 0);\n                rows = this.$getSelectedRows(ranges[i]);\n                var first = rows.first;\n                var last = rows.last;\n                while (++i < l) {\n                    if (totalDiff)\n                        ranges[i].moveBy(totalDiff, 0);\n                    var subRows = this.$getSelectedRows(ranges[i]);\n                    if (copy && subRows.first != last)\n                        break;\n                    else if (!copy && subRows.first > last + 1)\n                        break;\n                    last = subRows.last;\n                }\n                i--;\n                diff = this.session.$moveLines(first, last, copy ? 0 : dir);\n                if (copy && dir == -1)\n                    rangeIndex = i + 1;\n                while (rangeIndex <= i) {\n                    ranges[rangeIndex].moveBy(diff, 0);\n                    rangeIndex++;\n                }\n                if (!copy)\n                    diff = 0;\n                totalDiff += diff;\n            }\n            selection.fromOrientedRange(selection.ranges[0]);\n            selection.rangeList.attach(this.session);\n            this.inVirtualSelectionMode = false;\n        }\n    };\n    Editor.prototype.$getSelectedRows = function (range) {\n        range = (range || this.getSelectionRange()).collapseRows();\n        return {\n            first: this.session.getRowFoldStart(range.start.row),\n            last: this.session.getRowFoldEnd(range.end.row)\n        };\n    };\n    Editor.prototype.onCompositionStart = function (compositionState) {\n        this.renderer.showComposition(compositionState);\n    };\n    Editor.prototype.onCompositionUpdate = function (text) {\n        this.renderer.setCompositionText(text);\n    };\n    Editor.prototype.onCompositionEnd = function () {\n        this.renderer.hideComposition();\n    };\n    Editor.prototype.getFirstVisibleRow = function () {\n        return this.renderer.getFirstVisibleRow();\n    };\n    Editor.prototype.getLastVisibleRow = function () {\n        return this.renderer.getLastVisibleRow();\n    };\n    Editor.prototype.isRowVisible = function (row) {\n        return (row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow());\n    };\n    Editor.prototype.isRowFullyVisible = function (row) {\n        return (row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow());\n    };\n    Editor.prototype.$getVisibleRowCount = function () {\n        return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;\n    };\n    Editor.prototype.$moveByPage = function (dir, select) {\n        var renderer = this.renderer;\n        var config = this.renderer.layerConfig;\n        var rows = dir * Math.floor(config.height / config.lineHeight);\n        if (select === true) {\n            this.selection.$moveSelection(function () {\n                this.moveCursorBy(rows, 0);\n            });\n        }\n        else if (select === false) {\n            this.selection.moveCursorBy(rows, 0);\n            this.selection.clearSelection();\n        }\n        var scrollTop = renderer.scrollTop;\n        renderer.scrollBy(0, rows * config.lineHeight);\n        if (select != null)\n            renderer.scrollCursorIntoView(null, 0.5);\n        renderer.animateScrolling(scrollTop);\n    };\n    Editor.prototype.selectPageDown = function () {\n        this.$moveByPage(1, true);\n    };\n    Editor.prototype.selectPageUp = function () {\n        this.$moveByPage(-1, true);\n    };\n    Editor.prototype.gotoPageDown = function () {\n        this.$moveByPage(1, false);\n    };\n    Editor.prototype.gotoPageUp = function () {\n        this.$moveByPage(-1, false);\n    };\n    Editor.prototype.scrollPageDown = function () {\n        this.$moveByPage(1);\n    };\n    Editor.prototype.scrollPageUp = function () {\n        this.$moveByPage(-1);\n    };\n    Editor.prototype.scrollToRow = function (row) {\n        this.renderer.scrollToRow(row);\n    };\n    Editor.prototype.scrollToLine = function (line, center, animate, callback) {\n        this.renderer.scrollToLine(line, center, animate, callback);\n    };\n    Editor.prototype.centerSelection = function () {\n        var range = this.getSelectionRange();\n        var pos = {\n            row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),\n            column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)\n        };\n        this.renderer.alignCursor(pos, 0.5);\n    };\n    Editor.prototype.getCursorPosition = function () {\n        return this.selection.getCursor();\n    };\n    Editor.prototype.getCursorPositionScreen = function () {\n        return this.session.documentToScreenPosition(this.getCursorPosition());\n    };\n    Editor.prototype.getSelectionRange = function () {\n        return this.selection.getRange();\n    };\n    Editor.prototype.selectAll = function () {\n        this.selection.selectAll();\n    };\n    Editor.prototype.clearSelection = function () {\n        this.selection.clearSelection();\n    };\n    Editor.prototype.moveCursorTo = function (row, column) {\n        this.selection.moveCursorTo(row, column);\n    };\n    Editor.prototype.moveCursorToPosition = function (pos) {\n        this.selection.moveCursorToPosition(pos);\n    };\n    Editor.prototype.jumpToMatching = function (select, expand) {\n        var cursor = this.getCursorPosition();\n        var iterator = new TokenIterator(this.session, cursor.row, cursor.column);\n        var prevToken = iterator.getCurrentToken();\n        var tokenCount = 0;\n        if (prevToken && prevToken.type.indexOf('tag-name') !== -1) {\n            prevToken = iterator.stepBackward();\n        }\n        var token = prevToken || iterator.stepForward();\n        if (!token)\n            return;\n        var matchType;\n        var found = false;\n        var depth = {};\n        var i = cursor.column - token.start;\n        var bracketType;\n        var brackets = {\n            \")\": \"(\",\n            \"(\": \"(\",\n            \"]\": \"[\",\n            \"[\": \"[\",\n            \"{\": \"{\",\n            \"}\": \"{\"\n        };\n        do {\n            if (token.value.match(/[{}()\\[\\]]/g)) {\n                for (; i < token.value.length && !found; i++) {\n                    if (!brackets[token.value[i]]) {\n                        continue;\n                    }\n                    bracketType = brackets[token.value[i]] + '.' + token.type.replace(\"rparen\", \"lparen\");\n                    if (isNaN(depth[bracketType])) {\n                        depth[bracketType] = 0;\n                    }\n                    switch (token.value[i]) {\n                        case '(':\n                        case '[':\n                        case '{':\n                            depth[bracketType]++;\n                            break;\n                        case ')':\n                        case ']':\n                        case '}':\n                            depth[bracketType]--;\n                            if (depth[bracketType] === -1) {\n                                matchType = 'bracket';\n                                found = true;\n                            }\n                            break;\n                    }\n                }\n            }\n            else if (token.type.indexOf('tag-name') !== -1) {\n                if (isNaN(depth[token.value])) {\n                    depth[token.value] = 0;\n                }\n                if (prevToken.value === '<' && tokenCount > 1) {\n                    depth[token.value]++;\n                }\n                else if (prevToken.value === '</') {\n                    depth[token.value]--;\n                }\n                if (depth[token.value] === -1) {\n                    matchType = 'tag';\n                    found = true;\n                }\n            }\n            if (!found) {\n                prevToken = token;\n                tokenCount++;\n                token = iterator.stepForward();\n                i = 0;\n            }\n        } while (token && !found);\n        if (!matchType)\n            return;\n        var range, pos;\n        if (matchType === 'bracket') {\n            range = this.session.getBracketRange(cursor);\n            if (!range) {\n                range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i - 1, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i - 1);\n                pos = range.start;\n                if (expand || pos.row === cursor.row && Math.abs(pos.column - cursor.column)\n                    < 2)\n                    range = this.session.getBracketRange(pos);\n            }\n        }\n        else if (matchType === 'tag') {\n            if (!token || token.type.indexOf('tag-name') === -1)\n                return;\n            range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2);\n            if (range.compare(cursor.row, cursor.column) === 0) {\n                var tagsRanges = this.session.getMatchingTags(cursor);\n                if (tagsRanges) {\n                    if (tagsRanges.openTag.contains(cursor.row, cursor.column)) {\n                        range = tagsRanges.closeTag;\n                        pos = range.start;\n                    }\n                    else {\n                        range = tagsRanges.openTag;\n                        if (tagsRanges.closeTag.start.row === cursor.row && tagsRanges.closeTag.start.column\n                            === cursor.column)\n                            pos = range.end;\n                        else\n                            pos = range.start;\n                    }\n                }\n            }\n            pos = pos || range.start;\n        }\n        pos = range && range.cursor || pos;\n        if (pos) {\n            if (select) {\n                if (range && expand) {\n                    this.selection.setRange(range);\n                }\n                else if (range && range.isEqual(this.getSelectionRange())) {\n                    this.clearSelection();\n                }\n                else {\n                    this.selection.selectTo(pos.row, pos.column);\n                }\n            }\n            else {\n                this.selection.moveTo(pos.row, pos.column);\n            }\n        }\n    };\n    Editor.prototype.gotoLine = function (lineNumber, column, animate) {\n        this.selection.clearSelection();\n        this.session.unfold({ row: lineNumber - 1, column: column || 0 });\n        this.exitMultiSelectMode && this.exitMultiSelectMode();\n        this.moveCursorTo(lineNumber - 1, column || 0);\n        if (!this.isRowFullyVisible(lineNumber - 1))\n            this.scrollToLine(lineNumber - 1, true, animate);\n    };\n    Editor.prototype.navigateTo = function (row, column) {\n        this.selection.moveTo(row, column);\n    };\n    Editor.prototype.navigateUp = function (times) {\n        if (this.selection.isMultiLine() && !this.selection.isBackwards()) {\n            var selectionStart = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionStart);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(-times || -1, 0);\n    };\n    Editor.prototype.navigateDown = function (times) {\n        if (this.selection.isMultiLine() && this.selection.isBackwards()) {\n            var selectionEnd = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionEnd);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(times || 1, 0);\n    };\n    Editor.prototype.navigateLeft = function (times) {\n        if (!this.selection.isEmpty()) {\n            var selectionStart = this.getSelectionRange().start;\n            this.moveCursorToPosition(selectionStart);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorLeft();\n            }\n        }\n        this.clearSelection();\n    };\n    Editor.prototype.navigateRight = function (times) {\n        if (!this.selection.isEmpty()) {\n            var selectionEnd = this.getSelectionRange().end;\n            this.moveCursorToPosition(selectionEnd);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorRight();\n            }\n        }\n        this.clearSelection();\n    };\n    Editor.prototype.navigateLineStart = function () {\n        this.selection.moveCursorLineStart();\n        this.clearSelection();\n    };\n    Editor.prototype.navigateLineEnd = function () {\n        this.selection.moveCursorLineEnd();\n        this.clearSelection();\n    };\n    Editor.prototype.navigateFileEnd = function () {\n        this.selection.moveCursorFileEnd();\n        this.clearSelection();\n    };\n    Editor.prototype.navigateFileStart = function () {\n        this.selection.moveCursorFileStart();\n        this.clearSelection();\n    };\n    Editor.prototype.navigateWordRight = function () {\n        this.selection.moveCursorWordRight();\n        this.clearSelection();\n    };\n    Editor.prototype.navigateWordLeft = function () {\n        this.selection.moveCursorWordLeft();\n        this.clearSelection();\n    };\n    Editor.prototype.replace = function (replacement, options) {\n        if (options)\n            this.$search.set(options);\n        var range = this.$search.find(this.session);\n        var replaced = 0;\n        if (!range)\n            return replaced;\n        if (this.$tryReplace(range, replacement)) {\n            replaced = 1;\n        }\n        this.selection.setSelectionRange(range);\n        this.renderer.scrollSelectionIntoView(range.start, range.end);\n        return replaced;\n    };\n    Editor.prototype.replaceAll = function (replacement, options) {\n        if (options) {\n            this.$search.set(options);\n        }\n        var ranges = this.$search.findAll(this.session);\n        var replaced = 0;\n        if (!ranges.length)\n            return replaced;\n        var selection = this.getSelectionRange();\n        this.selection.moveTo(0, 0);\n        for (var i = ranges.length - 1; i >= 0; --i) {\n            if (this.$tryReplace(ranges[i], replacement)) {\n                replaced++;\n            }\n        }\n        this.selection.setSelectionRange(selection);\n        return replaced;\n    };\n    Editor.prototype.$tryReplace = function (range, replacement) {\n        var input = this.session.getTextRange(range);\n        replacement = this.$search.replace(input, replacement);\n        if (replacement !== null) {\n            range.end = this.session.replace(range, replacement);\n            return range;\n        }\n        else {\n            return null;\n        }\n    };\n    Editor.prototype.getLastSearchOptions = function () {\n        return this.$search.getOptions();\n    };\n    Editor.prototype.find = function (needle, options, animate) {\n        if (!options)\n            options = {};\n        if (typeof needle == \"string\" || needle instanceof RegExp)\n            options.needle = needle;\n        else if (typeof needle == \"object\")\n            oop.mixin(options, needle);\n        var range = this.selection.getRange();\n        if (options.needle == null) {\n            needle = this.session.getTextRange(range)\n                || this.$search.$options.needle;\n            if (!needle) {\n                range = this.session.getWordRange(range.start.row, range.start.column);\n                needle = this.session.getTextRange(range);\n            }\n            this.$search.set({ needle: needle });\n        }\n        this.$search.set(options);\n        if (!options.start)\n            this.$search.set({ start: range });\n        var newRange = this.$search.find(this.session);\n        if (options.preventScroll)\n            return newRange;\n        if (newRange) {\n            this.revealRange(newRange, animate);\n            return newRange;\n        }\n        if (options.backwards)\n            range.start = range.end;\n        else\n            range.end = range.start;\n        this.selection.setRange(range);\n    };\n    Editor.prototype.findNext = function (options, animate) {\n        this.find({ skipCurrent: true, backwards: false }, options, animate);\n    };\n    Editor.prototype.findPrevious = function (options, animate) {\n        this.find(options, { skipCurrent: true, backwards: true }, animate);\n    };\n    Editor.prototype.revealRange = function (range, animate) {\n        this.session.unfold(range);\n        this.selection.setSelectionRange(range);\n        var scrollTop = this.renderer.scrollTop;\n        this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);\n        if (animate !== false)\n            this.renderer.animateScrolling(scrollTop);\n    };\n    Editor.prototype.undo = function () {\n        this.session.getUndoManager().undo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    Editor.prototype.redo = function () {\n        this.session.getUndoManager().redo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    Editor.prototype.destroy = function () {\n        if (this.$toDestroy) {\n            this.$toDestroy.forEach(function (el) {\n                el.destroy();\n            });\n            this.$toDestroy = null;\n        }\n        if (this.$mouseHandler)\n            this.$mouseHandler.destroy();\n        this.renderer.destroy();\n        this._signal(\"destroy\", this);\n        if (this.session)\n            this.session.destroy();\n        if (this._$emitInputEvent)\n            this._$emitInputEvent.cancel();\n        this.removeAllListeners();\n    };\n    Editor.prototype.setAutoScrollEditorIntoView = function (enable) {\n        if (!enable)\n            return;\n        var rect;\n        var self = this;\n        var shouldScroll = false;\n        if (!this.$scrollAnchor)\n            this.$scrollAnchor = document.createElement(\"div\");\n        var scrollAnchor = this.$scrollAnchor;\n        scrollAnchor.style.cssText = \"position:absolute\";\n        this.container.insertBefore(scrollAnchor, this.container.firstChild);\n        var onChangeSelection = this.on(\"changeSelection\", function () {\n            shouldScroll = true;\n        });\n        var onBeforeRender = this.renderer.on(\"beforeRender\", function () {\n            if (shouldScroll)\n                rect = self.renderer.container.getBoundingClientRect();\n        });\n        var onAfterRender = this.renderer.on(\"afterRender\", function () {\n            if (shouldScroll && rect && (self.isFocused()\n                || self.searchBox && self.searchBox.isFocused())) {\n                var renderer = self.renderer;\n                var pos = renderer.$cursorLayer.$pixelPos;\n                var config = renderer.layerConfig;\n                var top = pos.top - config.offset;\n                if (pos.top >= 0 && top + rect.top < 0) {\n                    shouldScroll = true;\n                }\n                else if (pos.top < config.height &&\n                    pos.top + rect.top + config.lineHeight > window.innerHeight) {\n                    shouldScroll = false;\n                }\n                else {\n                    shouldScroll = null;\n                }\n                if (shouldScroll != null) {\n                    scrollAnchor.style.top = top + \"px\";\n                    scrollAnchor.style.left = pos.left + \"px\";\n                    scrollAnchor.style.height = config.lineHeight + \"px\";\n                    scrollAnchor.scrollIntoView(shouldScroll);\n                }\n                shouldScroll = rect = null;\n            }\n        });\n        this.setAutoScrollEditorIntoView = function (enable) {\n            if (enable)\n                return;\n            delete this.setAutoScrollEditorIntoView;\n            this.off(\"changeSelection\", onChangeSelection);\n            this.renderer.off(\"afterRender\", onAfterRender);\n            this.renderer.off(\"beforeRender\", onBeforeRender);\n        };\n    };\n    Editor.prototype.$resetCursorStyle = function () {\n        var style = this.$cursorStyle || \"ace\";\n        var cursorLayer = this.renderer.$cursorLayer;\n        if (!cursorLayer)\n            return;\n        cursorLayer.setSmoothBlinking(/smooth/.test(style));\n        cursorLayer.isBlinking = !this.$readOnly && style != \"wide\";\n        dom.setCssClass(cursorLayer.element, \"ace_slim-cursors\", /slim/.test(style));\n    };\n    Editor.prototype.prompt = function (message, options, callback) {\n        var editor = this;\n        config.loadModule(\"ace/ext/prompt\", function (module) {\n            module.prompt(editor, message, options, callback);\n        });\n    };\n    return Editor;\n}());\nEditor.$uid = 0;\nEditor.prototype.curOp = null;\nEditor.prototype.prevOp = {};\nEditor.prototype.$mergeableCommands = [\"backspace\", \"del\", \"insertstring\"];\nEditor.prototype.$toggleWordPairs = [\n    [\"first\", \"last\"],\n    [\"true\", \"false\"],\n    [\"yes\", \"no\"],\n    [\"width\", \"height\"],\n    [\"top\", \"bottom\"],\n    [\"right\", \"left\"],\n    [\"on\", \"off\"],\n    [\"x\", \"y\"],\n    [\"get\", \"set\"],\n    [\"max\", \"min\"],\n    [\"horizontal\", \"vertical\"],\n    [\"show\", \"hide\"],\n    [\"add\", \"remove\"],\n    [\"up\", \"down\"],\n    [\"before\", \"after\"],\n    [\"even\", \"odd\"],\n    [\"in\", \"out\"],\n    [\"inside\", \"outside\"],\n    [\"next\", \"previous\"],\n    [\"increase\", \"decrease\"],\n    [\"attach\", \"detach\"],\n    [\"&&\", \"||\"],\n    [\"==\", \"!=\"]\n];\noop.implement(Editor.prototype, EventEmitter);\nconfig.defineOptions(Editor.prototype, \"editor\", {\n    selectionStyle: {\n        set: function (style) {\n            this.onSelectionChange();\n            this._signal(\"changeSelectionStyle\", { data: style });\n        },\n        initialValue: \"line\"\n    },\n    highlightActiveLine: {\n        set: function () { this.$updateHighlightActiveLine(); },\n        initialValue: true\n    },\n    highlightSelectedWord: {\n        set: function (shouldHighlight) { this.$onSelectionChange(); },\n        initialValue: true\n    },\n    readOnly: {\n        set: function (readOnly) {\n            this.textInput.setReadOnly(readOnly);\n            this.$resetCursorStyle();\n        },\n        initialValue: false\n    },\n    copyWithEmptySelection: {\n        set: function (value) {\n            this.textInput.setCopyWithEmptySelection(value);\n        },\n        initialValue: false\n    },\n    cursorStyle: {\n        set: function (val) { this.$resetCursorStyle(); },\n        values: [\"ace\", \"slim\", \"smooth\", \"wide\"],\n        initialValue: \"ace\"\n    },\n    mergeUndoDeltas: {\n        values: [false, true, \"always\"],\n        initialValue: true\n    },\n    behavioursEnabled: { initialValue: true },\n    wrapBehavioursEnabled: { initialValue: true },\n    enableAutoIndent: { initialValue: true },\n    autoScrollEditorIntoView: {\n        set: function (val) { this.setAutoScrollEditorIntoView(val); }\n    },\n    keyboardHandler: {\n        set: function (val) { this.setKeyboardHandler(val); },\n        get: function () { return this.$keybindingId; },\n        handlesSet: true\n    },\n    value: {\n        set: function (val) { this.session.setValue(val); },\n        get: function () { return this.getValue(); },\n        handlesSet: true,\n        hidden: true\n    },\n    session: {\n        set: function (val) { this.setSession(val); },\n        get: function () { return this.session; },\n        handlesSet: true,\n        hidden: true\n    },\n    showLineNumbers: {\n        set: function (show) {\n            this.renderer.$gutterLayer.setShowLineNumbers(show);\n            this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER);\n            if (show && this.$relativeLineNumbers)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        },\n        initialValue: true\n    },\n    relativeLineNumbers: {\n        set: function (value) {\n            if (this.$showLineNumbers && value)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        }\n    },\n    placeholder: {\n        set: function (message) {\n            if (!this.$updatePlaceholder) {\n                this.$updatePlaceholder = function () {\n                    var hasValue = this.session && (this.renderer.$composition ||\n                        this.session.getLength() > 1 || this.session.getLine(0).length > 0);\n                    if (hasValue && this.renderer.placeholderNode) {\n                        this.renderer.off(\"afterRender\", this.$updatePlaceholder);\n                        dom.removeCssClass(this.container, \"ace_hasPlaceholder\");\n                        this.renderer.placeholderNode.remove();\n                        this.renderer.placeholderNode = null;\n                    }\n                    else if (!hasValue && !this.renderer.placeholderNode) {\n                        this.renderer.on(\"afterRender\", this.$updatePlaceholder);\n                        dom.addCssClass(this.container, \"ace_hasPlaceholder\");\n                        var el = dom.createElement(\"div\");\n                        el.className = \"ace_placeholder\";\n                        el.textContent = this.$placeholder || \"\";\n                        this.renderer.placeholderNode = el;\n                        this.renderer.content.appendChild(this.renderer.placeholderNode);\n                    }\n                    else if (!hasValue && this.renderer.placeholderNode) {\n                        this.renderer.placeholderNode.textContent = this.$placeholder || \"\";\n                    }\n                }.bind(this);\n                this.on(\"input\", this.$updatePlaceholder);\n            }\n            this.$updatePlaceholder();\n        }\n    },\n    enableKeyboardAccessibility: {\n        set: function (value) {\n            var blurCommand = {\n                name: \"blurTextInput\",\n                description: \"Set focus to the editor content div to allow tabbing through the page\",\n                bindKey: \"Esc\",\n                exec: function (editor) {\n                    editor.blur();\n                    editor.renderer.scroller.focus();\n                },\n                readOnly: true\n            };\n            var focusOnEnterKeyup = function (e) {\n                if (e.target == this.renderer.scroller && e.keyCode === keys['enter']) {\n                    e.preventDefault();\n                    var row = this.getCursorPosition().row;\n                    if (!this.isRowVisible(row))\n                        this.scrollToLine(row, true, true);\n                    this.focus();\n                }\n            };\n            var gutterKeyboardHandler;\n            if (value) {\n                this.renderer.enableKeyboardAccessibility = true;\n                this.renderer.keyboardFocusClassName = \"ace_keyboard-focus\";\n                this.textInput.getElement().setAttribute(\"tabindex\", -1);\n                this.textInput.setNumberOfExtraLines(useragent.isWin ? 3 : 0);\n                this.renderer.scroller.setAttribute(\"tabindex\", 0);\n                this.renderer.scroller.setAttribute(\"role\", \"group\");\n                this.renderer.scroller.setAttribute(\"aria-roledescription\", nls(\"editor.scroller.aria-roledescription\", \"editor\"));\n                this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName);\n                this.renderer.scroller.setAttribute(\"aria-label\", nls(\"editor.scroller.aria-label\", \"Editor content, press Enter to start editing, press Escape to exit\"));\n                this.renderer.scroller.addEventListener(\"keyup\", focusOnEnterKeyup.bind(this));\n                this.commands.addCommand(blurCommand);\n                this.renderer.$gutter.setAttribute(\"tabindex\", 0);\n                this.renderer.$gutter.setAttribute(\"aria-hidden\", false);\n                this.renderer.$gutter.setAttribute(\"role\", \"group\");\n                this.renderer.$gutter.setAttribute(\"aria-roledescription\", nls(\"editor.gutter.aria-roledescription\", \"editor\"));\n                this.renderer.$gutter.setAttribute(\"aria-label\", nls(\"editor.gutter.aria-label\", \"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit\"));\n                this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName);\n                this.renderer.content.setAttribute(\"aria-hidden\", true);\n                if (!gutterKeyboardHandler)\n                    gutterKeyboardHandler = new GutterKeyboardHandler(this);\n                gutterKeyboardHandler.addListener();\n                this.textInput.setAriaOptions({\n                    setLabel: true\n                });\n            }\n            else {\n                this.renderer.enableKeyboardAccessibility = false;\n                this.textInput.getElement().setAttribute(\"tabindex\", 0);\n                this.textInput.setNumberOfExtraLines(0);\n                this.renderer.scroller.setAttribute(\"tabindex\", -1);\n                this.renderer.scroller.removeAttribute(\"role\");\n                this.renderer.scroller.removeAttribute(\"aria-roledescription\");\n                this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName);\n                this.renderer.scroller.removeAttribute(\"aria-label\");\n                this.renderer.scroller.removeEventListener(\"keyup\", focusOnEnterKeyup.bind(this));\n                this.commands.removeCommand(blurCommand);\n                this.renderer.content.removeAttribute(\"aria-hidden\");\n                this.renderer.$gutter.setAttribute(\"tabindex\", -1);\n                this.renderer.$gutter.setAttribute(\"aria-hidden\", true);\n                this.renderer.$gutter.removeAttribute(\"role\");\n                this.renderer.$gutter.removeAttribute(\"aria-roledescription\");\n                this.renderer.$gutter.removeAttribute(\"aria-label\");\n                this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName);\n                if (gutterKeyboardHandler)\n                    gutterKeyboardHandler.removeListener();\n            }\n        },\n        initialValue: false\n    },\n    textInputAriaLabel: {\n        set: function (val) { this.$textInputAriaLabel = val; },\n        initialValue: \"\"\n    },\n    enableMobileMenu: {\n        set: function (val) { this.$enableMobileMenu = val; },\n        initialValue: true\n    },\n    customScrollbar: \"renderer\",\n    hScrollBarAlwaysVisible: \"renderer\",\n    vScrollBarAlwaysVisible: \"renderer\",\n    highlightGutterLine: \"renderer\",\n    animatedScroll: \"renderer\",\n    showInvisibles: \"renderer\",\n    showPrintMargin: \"renderer\",\n    printMarginColumn: \"renderer\",\n    printMargin: \"renderer\",\n    fadeFoldWidgets: \"renderer\",\n    showFoldWidgets: \"renderer\",\n    displayIndentGuides: \"renderer\",\n    highlightIndentGuides: \"renderer\",\n    showGutter: \"renderer\",\n    fontSize: \"renderer\",\n    fontFamily: \"renderer\",\n    maxLines: \"renderer\",\n    minLines: \"renderer\",\n    scrollPastEnd: \"renderer\",\n    fixedWidthGutter: \"renderer\",\n    theme: \"renderer\",\n    hasCssTransforms: \"renderer\",\n    maxPixelHeight: \"renderer\",\n    useTextareaForIME: \"renderer\",\n    useResizeObserver: \"renderer\",\n    useSvgGutterIcons: \"renderer\",\n    showFoldedAnnotations: \"renderer\",\n    scrollSpeed: \"$mouseHandler\",\n    dragDelay: \"$mouseHandler\",\n    dragEnabled: \"$mouseHandler\",\n    focusTimeout: \"$mouseHandler\",\n    tooltipFollowsMouse: \"$mouseHandler\",\n    firstLineNumber: \"session\",\n    overwrite: \"session\",\n    newLineMode: \"session\",\n    useWorker: \"session\",\n    useSoftTabs: \"session\",\n    navigateWithinSoftTabs: \"session\",\n    tabSize: \"session\",\n    wrap: \"session\",\n    indentedSoftWrap: \"session\",\n    foldStyle: \"session\",\n    mode: \"session\"\n});\nvar relativeNumberRenderer = {\n    getText: function (/**@type{EditSession}*/ session, /**@type{number}*/ row) {\n        return (Math.abs(session.selection.lead.row - row) || (row + 1 + (row < 9 ? \"\\xb7\" : \"\"))) + \"\";\n    },\n    getWidth: function (session, /**@type{number}*/ lastLineNumber, config) {\n        return Math.max(lastLineNumber.toString().length, (config.lastRow + 1).toString().length, 2) * config.characterWidth;\n    },\n    update: function (e, /**@type{Editor}*/ editor) {\n        editor.renderer.$loop.schedule(editor.renderer.CHANGE_GUTTER);\n    },\n    attach: function (/**@type{Editor}*/ editor) {\n        editor.renderer.$gutterLayer.$renderer = this;\n        editor.on(\"changeSelection\", this.update);\n        this.update(null, editor);\n    },\n    detach: function (/**@type{Editor}*/ editor) {\n        if (editor.renderer.$gutterLayer.$renderer == this)\n            editor.renderer.$gutterLayer.$renderer = null;\n        editor.off(\"changeSelection\", this.update);\n        this.update(null, editor);\n    }\n};\nexports.Editor = Editor;\n\n});\n\nace.define(\"ace/layer/lines\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar Lines = /** @class */ (function () {\n    function Lines(element, canvasHeight) {\n        this.element = element;\n        this.canvasHeight = canvasHeight || 500000;\n        this.element.style.height = (this.canvasHeight * 2) + \"px\";\n        this.cells = [];\n        this.cellCache = [];\n        this.$offsetCoefficient = 0;\n    }\n    Lines.prototype.moveContainer = function (config) {\n        dom.translate(this.element, 0, -((config.firstRowScreen * config.lineHeight) % this.canvasHeight) - config.offset * this.$offsetCoefficient);\n    };\n    Lines.prototype.pageChanged = function (oldConfig, newConfig) {\n        return (Math.floor((oldConfig.firstRowScreen * oldConfig.lineHeight) / this.canvasHeight) !==\n            Math.floor((newConfig.firstRowScreen * newConfig.lineHeight) / this.canvasHeight));\n    };\n    Lines.prototype.computeLineTop = function (row, config, session) {\n        var screenTop = config.firstRowScreen * config.lineHeight;\n        var screenPage = Math.floor(screenTop / this.canvasHeight);\n        var lineTop = session.documentToScreenRow(row, 0) * config.lineHeight;\n        return lineTop - (screenPage * this.canvasHeight);\n    };\n    Lines.prototype.computeLineHeight = function (row, config, session) {\n        return config.lineHeight * session.getRowLineCount(row);\n    };\n    Lines.prototype.getLength = function () {\n        return this.cells.length;\n    };\n    Lines.prototype.get = function (index) {\n        return this.cells[index];\n    };\n    Lines.prototype.shift = function () {\n        this.$cacheCell(this.cells.shift());\n    };\n    Lines.prototype.pop = function () {\n        this.$cacheCell(this.cells.pop());\n    };\n    Lines.prototype.push = function (cell) {\n        if (Array.isArray(cell)) {\n            this.cells.push.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i = 0; i < cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            this.element.appendChild(fragment);\n        }\n        else {\n            this.cells.push(cell);\n            this.element.appendChild(cell.element);\n        }\n    };\n    Lines.prototype.unshift = function (cell) {\n        if (Array.isArray(cell)) {\n            this.cells.unshift.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i = 0; i < cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            if (this.element.firstChild)\n                this.element.insertBefore(fragment, this.element.firstChild);\n            else\n                this.element.appendChild(fragment);\n        }\n        else {\n            this.cells.unshift(cell);\n            this.element.insertAdjacentElement(\"afterbegin\", cell.element);\n        }\n    };\n    Lines.prototype.last = function () {\n        if (this.cells.length)\n            return this.cells[this.cells.length - 1];\n        else\n            return null;\n    };\n    Lines.prototype.$cacheCell = function (cell) {\n        if (!cell)\n            return;\n        cell.element.remove();\n        this.cellCache.push(cell);\n    };\n    Lines.prototype.createCell = function (row, config, session, initElement) {\n        var cell = this.cellCache.pop();\n        if (!cell) {\n            var element = dom.createElement(\"div\");\n            if (initElement)\n                initElement(element);\n            this.element.appendChild(element);\n            cell = {\n                element: element,\n                text: \"\",\n                row: row\n            };\n        }\n        cell.row = row;\n        return cell;\n    };\n    return Lines;\n}());\nexports.Lines = Lines;\n\n});\n\nace.define(\"ace/layer/gutter\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/layer/lines\",\"ace/config\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar Lines = require(\"./lines\").Lines;\nvar nls = require(\"../config\").nls;\nvar Gutter = /** @class */ (function () {\n    function Gutter(parentEl) {\n        this.element = dom.createElement(\"div\");\n        this.element.className = \"ace_layer ace_gutter-layer\";\n        parentEl.appendChild(this.element);\n        this.setShowFoldWidgets(this.$showFoldWidgets);\n        this.gutterWidth = 0;\n        this.$annotations = [];\n        this.$updateAnnotations = this.$updateAnnotations.bind(this);\n        this.$lines = new Lines(this.element);\n        this.$lines.$offsetCoefficient = 1;\n    }\n    Gutter.prototype.setSession = function (session) {\n        if (this.session)\n            this.session.off(\"change\", this.$updateAnnotations);\n        this.session = session;\n        if (session)\n            session.on(\"change\", this.$updateAnnotations);\n    };\n    Gutter.prototype.addGutterDecoration = function (row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.addGutterDecoration\");\n        this.session.addGutterDecoration(row, className);\n    };\n    Gutter.prototype.removeGutterDecoration = function (row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.removeGutterDecoration\");\n        this.session.removeGutterDecoration(row, className);\n    };\n    Gutter.prototype.setAnnotations = function (annotations) {\n        this.$annotations = [];\n        for (var i = 0; i < annotations.length; i++) {\n            var annotation = annotations[i];\n            var row = annotation.row;\n            var rowInfo = this.$annotations[row];\n            if (!rowInfo)\n                rowInfo = this.$annotations[row] = { text: [], type: [], displayText: [] };\n            var annoText = annotation.text;\n            var displayAnnoText = annotation.text;\n            var annoType = annotation.type;\n            annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || \"\";\n            displayAnnoText = displayAnnoText ? displayAnnoText : annotation.html || \"\";\n            if (rowInfo.text.indexOf(annoText) === -1) {\n                rowInfo.text.push(annoText);\n                rowInfo.type.push(annoType);\n                rowInfo.displayText.push(displayAnnoText);\n            }\n            var className = annotation.className;\n            if (className)\n                rowInfo.className = className;\n            else if (annoType == \"error\")\n                rowInfo.className = \" ace_error\";\n            else if (annoType == \"warning\" && rowInfo.className != \" ace_error\")\n                rowInfo.className = \" ace_warning\";\n            else if (annoType == \"info\" && (!rowInfo.className))\n                rowInfo.className = \" ace_info\";\n        }\n    };\n    Gutter.prototype.$updateAnnotations = function (delta) {\n        if (!this.$annotations.length)\n            return;\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n        if (len === 0) {\n        }\n        else if (delta.action == 'remove') {\n            this.$annotations.splice(firstRow, len + 1, null);\n        }\n        else {\n            var args = new Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.$annotations.splice.apply(this.$annotations, args);\n        }\n    };\n    Gutter.prototype.update = function (config) {\n        this.config = config;\n        var session = this.session;\n        var firstRow = config.firstRow;\n        var lastRow = Math.min(config.lastRow + config.gutterOffset, // needed to compensate for hor scollbar\n        session.getLength() - 1);\n        this.oldLastRow = lastRow;\n        this.config = config;\n        this.$lines.moveContainer(config);\n        this.$updateCursorRow();\n        var fold = session.getNextFoldLine(firstRow);\n        var foldStart = fold ? fold.start.row : Infinity;\n        var cell = null;\n        var index = -1;\n        var row = firstRow;\n        while (true) {\n            if (row > foldStart) {\n                row = fold.end.row + 1;\n                fold = session.getNextFoldLine(row, fold);\n                foldStart = fold ? fold.start.row : Infinity;\n            }\n            if (row > lastRow) {\n                while (this.$lines.getLength() > index + 1)\n                    this.$lines.pop();\n                break;\n            }\n            cell = this.$lines.get(++index);\n            if (cell) {\n                cell.row = row;\n            }\n            else {\n                cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n                this.$lines.push(cell);\n            }\n            this.$renderCell(cell, config, fold, row);\n            row++;\n        }\n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n    Gutter.prototype.$updateGutterWidth = function (config) {\n        var session = this.session;\n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        var firstLineNumber = session.$firstLineNumber;\n        var lastLineText = this.$lines.last() ? this.$lines.last().text : \"\";\n        if (this.$fixedWidth || session.$useWrapMode)\n            lastLineText = session.getLength() + firstLineNumber - 1;\n        var gutterWidth = gutterRenderer\n            ? gutterRenderer.getWidth(session, lastLineText, config)\n            : lastLineText.toString().length * config.characterWidth;\n        var padding = this.$padding || this.$computePadding();\n        gutterWidth += padding.left + padding.right;\n        if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {\n            this.gutterWidth = gutterWidth; (this.element.parentNode).style.width =\n                this.element.style.width = Math.ceil(this.gutterWidth) + \"px\";\n            this._signal(\"changeGutterWidth\", gutterWidth);\n        }\n    };\n    Gutter.prototype.$updateCursorRow = function () {\n        if (!this.$highlightGutterLine)\n            return;\n        var position = this.session.selection.getCursor();\n        if (this.$cursorRow === position.row)\n            return;\n        this.$cursorRow = position.row;\n    };\n    Gutter.prototype.updateLineHighlight = function () {\n        if (!this.$highlightGutterLine)\n            return;\n        var row = this.session.selection.cursor.row;\n        this.$cursorRow = row;\n        if (this.$cursorCell && this.$cursorCell.row == row)\n            return;\n        if (this.$cursorCell)\n            this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n        var cells = this.$lines.cells;\n        this.$cursorCell = null;\n        for (var i = 0; i < cells.length; i++) {\n            var cell = cells[i];\n            if (cell.row >= this.$cursorRow) {\n                if (cell.row > this.$cursorRow) {\n                    var fold = this.session.getFoldLine(this.$cursorRow);\n                    if (i > 0 && fold && fold.start.row == cells[i - 1].row)\n                        cell = cells[i - 1];\n                    else\n                        break;\n                }\n                cell.element.className = \"ace_gutter-active-line \" + cell.element.className;\n                this.$cursorCell = cell;\n                break;\n            }\n        }\n    };\n    Gutter.prototype.scrollLines = function (config) {\n        var oldConfig = this.config;\n        this.config = config;\n        this.$updateCursorRow();\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n        this.$lines.moveContainer(config);\n        var lastRow = Math.min(config.lastRow + config.gutterOffset, // needed to compensate for hor scollbar\n        this.session.getLength() - 1);\n        var oldLastRow = this.oldLastRow;\n        this.oldLastRow = lastRow;\n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row > 0; row--)\n                this.$lines.shift();\n        if (oldLastRow > lastRow)\n            for (var row = this.session.getFoldedRowCount(lastRow + 1, oldLastRow); row > 0; row--)\n                this.$lines.pop();\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLines(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n        if (lastRow > oldLastRow) {\n            this.$lines.push(this.$renderLines(config, oldLastRow + 1, lastRow));\n        }\n        this.updateLineHighlight();\n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n    Gutter.prototype.$renderLines = function (config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row + 1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n            var cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n            this.$renderCell(cell, config, foldLine, row);\n            fragment.push(cell);\n            row++;\n        }\n        return fragment;\n    };\n    Gutter.prototype.$renderCell = function (cell, config, fold, row) {\n        var element = cell.element;\n        var session = this.session;\n        var textNode = element.childNodes[0];\n        var foldWidget = element.childNodes[1];\n        var annotationNode = element.childNodes[2];\n        var annotationIconNode = annotationNode.firstChild;\n        var firstLineNumber = session.$firstLineNumber;\n        var breakpoints = session.$breakpoints;\n        var decorations = session.$decorations;\n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        var foldWidgets = this.$showFoldWidgets && session.foldWidgets;\n        var foldStart = fold ? fold.start.row : Number.MAX_VALUE;\n        var lineHeight = config.lineHeight + \"px\";\n        var className = this.$useSvgGutterIcons ? \"ace_gutter-cell_svg-icons \" : \"ace_gutter-cell \";\n        var iconClassName = this.$useSvgGutterIcons ? \"ace_icon_svg\" : \"ace_icon\";\n        var rowText = (gutterRenderer\n            ? gutterRenderer.getText(session, row)\n            : row + firstLineNumber).toString();\n        if (this.$highlightGutterLine) {\n            if (row == this.$cursorRow || (fold && row < this.$cursorRow && row >= foldStart && this.$cursorRow <= fold.end.row)) {\n                className += \"ace_gutter-active-line \";\n                if (this.$cursorCell != cell) {\n                    if (this.$cursorCell)\n                        this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n                    this.$cursorCell = cell;\n                }\n            }\n        }\n        if (breakpoints[row])\n            className += breakpoints[row];\n        if (decorations[row])\n            className += decorations[row];\n        if (this.$annotations[row] && row !== foldStart)\n            className += this.$annotations[row].className;\n        if (foldWidgets) {\n            var c = foldWidgets[row];\n            if (c == null)\n                c = foldWidgets[row] = session.getFoldWidget(row);\n        }\n        if (c) {\n            var foldClass = \"ace_fold-widget ace_\" + c;\n            var isClosedFold = c == \"start\" && row == foldStart && row < fold.end.row;\n            if (isClosedFold) {\n                foldClass += \" ace_closed\";\n                var foldAnnotationClass = '';\n                var annotationInFold = false;\n                for (var i = row + 1; i <= fold.end.row; i++) {\n                    if (!this.$annotations[i])\n                        continue;\n                    if (this.$annotations[i].className === \" ace_error\") {\n                        annotationInFold = true;\n                        foldAnnotationClass = \" ace_error_fold\";\n                        break;\n                    }\n                    if (this.$annotations[i].className === \" ace_warning\") {\n                        annotationInFold = true;\n                        foldAnnotationClass = \" ace_warning_fold\";\n                        continue;\n                    }\n                }\n                className += foldAnnotationClass;\n            }\n            else\n                foldClass += \" ace_open\";\n            if (foldWidget.className != foldClass)\n                foldWidget.className = foldClass;\n            dom.setStyle(foldWidget.style, \"height\", lineHeight);\n            dom.setStyle(foldWidget.style, \"display\", \"inline-block\");\n            foldWidget.setAttribute(\"role\", \"button\");\n            foldWidget.setAttribute(\"tabindex\", \"-1\");\n            var foldRange = session.getFoldWidgetRange(row);\n            if (foldRange)\n                foldWidget.setAttribute(\"aria-label\", nls(\"gutter.code-folding.range.aria-label\", \"Toggle code folding, rows $0 through $1\", [foldRange.start.row + 1, foldRange.end.row + 1]));\n            else {\n                if (fold)\n                    foldWidget.setAttribute(\"aria-label\", nls(\"gutter.code-folding.closed.aria-label\", \"Toggle code folding, rows $0 through $1\", [fold.start.row + 1, fold.end.row + 1]));\n                else\n                    foldWidget.setAttribute(\"aria-label\", nls(\"gutter.code-folding.open.aria-label\", \"Toggle code folding, row $0\", [row + 1]));\n            }\n            if (isClosedFold) {\n                foldWidget.setAttribute(\"aria-expanded\", \"false\");\n                foldWidget.setAttribute(\"title\", nls(\"gutter.code-folding.closed.title\", \"Unfold code\"));\n            }\n            else {\n                foldWidget.setAttribute(\"aria-expanded\", \"true\");\n                foldWidget.setAttribute(\"title\", nls(\"gutter.code-folding.open.title\", \"Fold code\"));\n            }\n        }\n        else {\n            if (foldWidget) {\n                dom.setStyle(foldWidget.style, \"display\", \"none\");\n                foldWidget.setAttribute(\"tabindex\", \"0\");\n                foldWidget.removeAttribute(\"role\");\n                foldWidget.removeAttribute(\"aria-label\");\n            }\n        }\n        if (annotationInFold && this.$showFoldedAnnotations) {\n            annotationNode.className = \"ace_gutter_annotation\";\n            annotationIconNode.className = iconClassName;\n            annotationIconNode.className += foldAnnotationClass;\n            dom.setStyle(annotationIconNode.style, \"height\", lineHeight);\n            dom.setStyle(annotationNode.style, \"display\", \"block\");\n            dom.setStyle(annotationNode.style, \"height\", lineHeight);\n            var ariaLabel;\n            switch (foldAnnotationClass) {\n                case \" ace_error_fold\":\n                    ariaLabel = nls(\"gutter.annotation.aria-label.error\", \"Read annotations row $0\", [rowText]);\n                    break;\n                case \" ace_warning_fold\":\n                    ariaLabel = nls(\"gutter.annotation.aria-label.warning\", \"Read annotations row $0\", [rowText]);\n                    break;\n            }\n            annotationNode.setAttribute(\"aria-label\", ariaLabel);\n            annotationNode.setAttribute(\"tabindex\", \"-1\");\n            annotationNode.setAttribute(\"role\", \"button\");\n        }\n        else if (this.$annotations[row]) {\n            annotationNode.className = \"ace_gutter_annotation\";\n            annotationIconNode.className = iconClassName;\n            if (this.$useSvgGutterIcons)\n                annotationIconNode.className += this.$annotations[row].className;\n            else\n                element.classList.add(this.$annotations[row].className.replace(\" \", \"\"));\n            dom.setStyle(annotationIconNode.style, \"height\", lineHeight);\n            dom.setStyle(annotationNode.style, \"display\", \"block\");\n            dom.setStyle(annotationNode.style, \"height\", lineHeight);\n            var ariaLabel;\n            switch (this.$annotations[row].className) {\n                case \" ace_error\":\n                    ariaLabel = nls(\"gutter.annotation.aria-label.error\", \"Read annotations row $0\", [rowText]);\n                    break;\n                case \" ace_warning\":\n                    ariaLabel = nls(\"gutter.annotation.aria-label.warning\", \"Read annotations row $0\", [rowText]);\n                    break;\n                case \" ace_info\":\n                    ariaLabel = nls(\"gutter.annotation.aria-label.info\", \"Read annotations row $0\", [rowText]);\n                    break;\n            }\n            annotationNode.setAttribute(\"aria-label\", ariaLabel);\n            annotationNode.setAttribute(\"tabindex\", \"-1\");\n            annotationNode.setAttribute(\"role\", \"button\");\n        }\n        else {\n            dom.setStyle(annotationNode.style, \"display\", \"none\");\n            annotationNode.removeAttribute(\"aria-label\");\n            annotationNode.removeAttribute(\"role\");\n            annotationNode.setAttribute(\"tabindex\", \"0\");\n        }\n        if (rowText !== textNode.data) {\n            textNode.data = rowText;\n        }\n        if (element.className != className)\n            element.className = className;\n        dom.setStyle(cell.element.style, \"height\", this.$lines.computeLineHeight(row, config, session) + \"px\");\n        dom.setStyle(cell.element.style, \"top\", this.$lines.computeLineTop(row, config, session) + \"px\");\n        cell.text = rowText;\n        if (annotationNode.style.display === \"none\" && foldWidget.style.display === \"none\")\n            cell.element.setAttribute(\"aria-hidden\", true);\n        else\n            cell.element.setAttribute(\"aria-hidden\", false);\n        return cell;\n    };\n    Gutter.prototype.setHighlightGutterLine = function (highlightGutterLine) {\n        this.$highlightGutterLine = highlightGutterLine;\n    };\n    Gutter.prototype.setShowLineNumbers = function (show) {\n        this.$renderer = !show && {\n            getWidth: function () { return 0; },\n            getText: function () { return \"\"; }\n        };\n    };\n    Gutter.prototype.getShowLineNumbers = function () {\n        return this.$showLineNumbers;\n    };\n    Gutter.prototype.setShowFoldWidgets = function (show) {\n        if (show)\n            dom.addCssClass(this.element, \"ace_folding-enabled\");\n        else\n            dom.removeCssClass(this.element, \"ace_folding-enabled\");\n        this.$showFoldWidgets = show;\n        this.$padding = null;\n    };\n    Gutter.prototype.getShowFoldWidgets = function () {\n        return this.$showFoldWidgets;\n    };\n    Gutter.prototype.$computePadding = function () {\n        if (!this.element.firstChild)\n            return { left: 0, right: 0 };\n        var style = dom.computedStyle(/**@type{Element}*/ (this.element.firstChild));\n        this.$padding = {};\n        this.$padding.left = (parseInt(style.borderLeftWidth) || 0)\n            + (parseInt(style.paddingLeft) || 0) + 1;\n        this.$padding.right = (parseInt(style.borderRightWidth) || 0)\n            + (parseInt(style.paddingRight) || 0);\n        return this.$padding;\n    };\n    Gutter.prototype.getRegion = function (point) {\n        var padding = this.$padding || this.$computePadding();\n        var rect = this.element.getBoundingClientRect();\n        if (point.x < padding.left + rect.left)\n            return \"markers\";\n        if (this.$showFoldWidgets && point.x > rect.right - padding.right)\n            return \"foldWidgets\";\n    };\n    return Gutter;\n}());\nGutter.prototype.$fixedWidth = false;\nGutter.prototype.$highlightGutterLine = true;\nGutter.prototype.$renderer = \"\";\nGutter.prototype.$showLineNumbers = true;\nGutter.prototype.$showFoldWidgets = true;\noop.implement(Gutter.prototype, EventEmitter);\nfunction onCreateCell(element) {\n    var textNode = document.createTextNode('');\n    element.appendChild(textNode);\n    var foldWidget = dom.createElement(\"span\");\n    element.appendChild(foldWidget);\n    var annotationNode = dom.createElement(\"span\");\n    element.appendChild(annotationNode);\n    var annotationIconNode = dom.createElement(\"span\");\n    annotationNode.appendChild(annotationIconNode);\n    return element;\n}\nexports.Gutter = Gutter;\n\n});\n\nace.define(\"ace/layer/marker\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"../range\").Range;\nvar dom = require(\"../lib/dom\");\nvar Marker = /** @class */ (function () {\n    function Marker(parentEl) {\n        this.element = dom.createElement(\"div\");\n        this.element.className = \"ace_layer ace_marker-layer\";\n        parentEl.appendChild(this.element);\n    }\n    Marker.prototype.setPadding = function (padding) {\n        this.$padding = padding;\n    };\n    Marker.prototype.setSession = function (session) {\n        this.session = session;\n    };\n    Marker.prototype.setMarkers = function (markers) {\n        this.markers = markers;\n    };\n    Marker.prototype.elt = function (className, css) {\n        var x = this.i != -1 && this.element.childNodes[this.i];\n        if (!x) {\n            x = document.createElement(\"div\");\n            this.element.appendChild(x);\n            this.i = -1;\n        }\n        else {\n            this.i++;\n        }\n        x.style.cssText = css;\n        x.className = className;\n    };\n    Marker.prototype.update = function (config) {\n        if (!config)\n            return;\n        this.config = config;\n        this.i = 0;\n        var html;\n        for (var key in this.markers) {\n            var marker = this.markers[key];\n            if (!marker.range) {\n                marker.update(html, this, this.session, config);\n                continue;\n            }\n            var range = marker.range.clipRows(config.firstRow, config.lastRow);\n            if (range.isEmpty())\n                continue;\n            range = range.toScreenRange(this.session);\n            if (marker.renderer) {\n                var top = this.$getTop(range.start.row, config);\n                var left = this.$padding + range.start.column * config.characterWidth;\n                marker.renderer(html, range, left, top, config);\n            }\n            else if (marker.type == \"fullLine\") {\n                this.drawFullLineMarker(html, range, marker.clazz, config);\n            }\n            else if (marker.type == \"screenLine\") {\n                this.drawScreenLineMarker(html, range, marker.clazz, config);\n            }\n            else if (range.isMultiLine()) {\n                if (marker.type == \"text\")\n                    this.drawTextMarker(html, range, marker.clazz, config);\n                else\n                    this.drawMultiLineMarker(html, range, marker.clazz, config);\n            }\n            else {\n                this.drawSingleLineMarker(html, range, marker.clazz + \" ace_start\" + \" ace_br15\", config);\n            }\n        }\n        if (this.i != -1) {\n            while (this.i < this.element.childElementCount)\n                this.element.removeChild(this.element.lastChild);\n        }\n    };\n    Marker.prototype.$getTop = function (row, layerConfig) {\n        return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;\n    };\n    Marker.prototype.drawTextMarker = function (stringBuilder, range, clazz, layerConfig, extraStyle) {\n        var session = this.session;\n        var start = range.start.row;\n        var end = range.end.row;\n        var row = start;\n        var prev = 0;\n        var curr = 0;\n        var next = session.getScreenLastRowColumn(row);\n        var lineRange = new Range(row, range.start.column, row, curr);\n        for (; row <= end; row++) {\n            lineRange.start.row = lineRange.end.row = row;\n            lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);\n            lineRange.end.column = next;\n            prev = curr;\n            curr = next;\n            next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;\n            this.drawSingleLineMarker(stringBuilder, lineRange, clazz + (row == start ? \" ace_start\" : \"\") + \" ace_br\"\n                + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end), layerConfig, row == end ? 0 : 1, extraStyle);\n        }\n    };\n    Marker.prototype.drawMultiLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n        var padding = this.$padding;\n        var height = config.lineHeight;\n        var top = this.$getTop(range.start.row, config);\n        var left = padding + range.start.column * config.characterWidth;\n        extraStyle = extraStyle || \"\";\n        if (this.session.$bidiHandler.isBidiRow(range.start.row)) {\n            var range1 = range.clone();\n            range1.end.row = range1.start.row;\n            range1.end.column = this.session.getLine(range1.start.row).length;\n            this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br1 ace_start\", config, null, extraStyle);\n        }\n        else {\n            this.elt(clazz + \" ace_br1 ace_start\", \"height:\" + height + \"px;\" + \"right:0;\" + \"top:\" + top + \"px;left:\" + left + \"px;\" + (extraStyle || \"\"));\n        }\n        if (this.session.$bidiHandler.isBidiRow(range.end.row)) {\n            var range1 = range.clone();\n            range1.start.row = range1.end.row;\n            range1.start.column = 0;\n            this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br12\", config, null, extraStyle);\n        }\n        else {\n            top = this.$getTop(range.end.row, config);\n            var width = range.end.column * config.characterWidth;\n            this.elt(clazz + \" ace_br12\", \"height:\" + height + \"px;\" +\n                \"width:\" + width + \"px;\" +\n                \"top:\" + top + \"px;\" +\n                \"left:\" + padding + \"px;\" + (extraStyle || \"\"));\n        }\n        height = (range.end.row - range.start.row - 1) * config.lineHeight;\n        if (height <= 0)\n            return;\n        top = this.$getTop(range.start.row + 1, config);\n        var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);\n        this.elt(clazz + (radiusClass ? \" ace_br\" + radiusClass : \"\"), \"height:\" + height + \"px;\" +\n            \"right:0;\" +\n            \"top:\" + top + \"px;\" +\n            \"left:\" + padding + \"px;\" + (extraStyle || \"\"));\n    };\n    Marker.prototype.drawSingleLineMarker = function (stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        if (this.session.$bidiHandler.isBidiRow(range.start.row))\n            return this.drawBidiSingleLineMarker(stringBuilder, range, clazz, config, extraLength, extraStyle);\n        var height = config.lineHeight;\n        var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;\n        var top = this.$getTop(range.start.row, config);\n        var left = this.$padding + range.start.column * config.characterWidth;\n        this.elt(clazz, \"height:\" + height + \"px;\" +\n            \"width:\" + width + \"px;\" +\n            \"top:\" + top + \"px;\" +\n            \"left:\" + left + \"px;\" + (extraStyle || \"\"));\n    };\n    Marker.prototype.drawBidiSingleLineMarker = function (stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        var height = config.lineHeight, top = this.$getTop(range.start.row, config), padding = this.$padding;\n        var selections = this.session.$bidiHandler.getSelections(range.start.column, range.end.column);\n        selections.forEach(function (selection) {\n            this.elt(clazz, \"height:\" + height + \"px;\" +\n                \"width:\" + (selection.width + (extraLength || 0)) + \"px;\" +\n                \"top:\" + top + \"px;\" +\n                \"left:\" + (padding + selection.left) + \"px;\" + (extraStyle || \"\"));\n        }, this);\n    };\n    Marker.prototype.drawFullLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n        if (range.start.row != range.end.row)\n            height += this.$getTop(range.end.row, config) - top;\n        this.elt(clazz, \"height:\" + height + \"px;\" +\n            \"top:\" + top + \"px;\" +\n            \"left:0;right:0;\" + (extraStyle || \"\"));\n    };\n    Marker.prototype.drawScreenLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n        this.elt(clazz, \"height:\" + height + \"px;\" +\n            \"top:\" + top + \"px;\" +\n            \"left:0;right:0;\" + (extraStyle || \"\"));\n    };\n    return Marker;\n}());\nMarker.prototype.$padding = 0;\nfunction getBorderClass(tl, tr, br, bl) {\n    return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);\n}\nexports.Marker = Marker;\n\n});\n\nace.define(\"ace/layer/text_util\",[\"require\",\"exports\",\"module\"], function(require, exports, module){// Tokens for which Ace just uses a simple TextNode and does not add any special className.\nvar textTokens = new Set([\"text\", \"rparen\", \"lparen\"]);\nexports.isTextToken = function (tokenType) {\n    return textTokens.has(tokenType);\n};\n\n});\n\nace.define(\"ace/layer/text\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/layer/lines\",\"ace/lib/event_emitter\",\"ace/config\",\"ace/layer/text_util\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar Lines = require(\"./lines\").Lines;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar nls = require(\"../config\").nls;\nvar isTextToken = require(\"./text_util\").isTextToken;\nvar Text = /** @class */ (function () {\n    function Text(parentEl) {\n        this.dom = dom;\n        this.element = this.dom.createElement(\"div\");\n        this.element.className = \"ace_layer ace_text-layer\";\n        parentEl.appendChild(this.element);\n        this.$updateEolChar = this.$updateEolChar.bind(this);\n        this.$lines = new Lines(this.element);\n    }\n    Text.prototype.$updateEolChar = function () {\n        var doc = this.session.doc;\n        var unixMode = doc.getNewLineCharacter() == \"\\n\" && doc.getNewLineMode() != \"windows\";\n        var EOL_CHAR = unixMode ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;\n        if (this.EOL_CHAR != EOL_CHAR) {\n            this.EOL_CHAR = EOL_CHAR;\n            return true;\n        }\n    };\n    Text.prototype.setPadding = function (padding) {\n        this.$padding = padding;\n        this.element.style.margin = \"0 \" + padding + \"px\";\n    };\n    Text.prototype.getLineHeight = function () {\n        return this.$fontMetrics.$characterSize.height || 0;\n    };\n    Text.prototype.getCharacterWidth = function () {\n        return this.$fontMetrics.$characterSize.width || 0;\n    };\n    Text.prototype.$setFontMetrics = function (measure) {\n        this.$fontMetrics = measure;\n        this.$fontMetrics.on(\"changeCharacterSize\", \n        function (e) {\n            this._signal(\"changeCharacterSize\", e);\n        }.bind(this));\n        this.$pollSizeChanges();\n    };\n    Text.prototype.checkForSizeChanges = function () {\n        this.$fontMetrics.checkForSizeChanges();\n    };\n    Text.prototype.$pollSizeChanges = function () {\n        return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();\n    };\n    Text.prototype.setSession = function (session) {\n        this.session = session;\n        if (session)\n            this.$computeTabString();\n    };\n    Text.prototype.setShowInvisibles = function (showInvisibles) {\n        if (this.showInvisibles == showInvisibles)\n            return false;\n        this.showInvisibles = showInvisibles;\n        if (typeof showInvisibles == \"string\") {\n            this.showSpaces = /tab/i.test(showInvisibles);\n            this.showTabs = /space/i.test(showInvisibles);\n            this.showEOL = /eol/i.test(showInvisibles);\n        }\n        else {\n            this.showSpaces = this.showTabs = this.showEOL = showInvisibles;\n        }\n        this.$computeTabString();\n        return true;\n    };\n    Text.prototype.setDisplayIndentGuides = function (display) {\n        if (this.displayIndentGuides == display)\n            return false;\n        this.displayIndentGuides = display;\n        this.$computeTabString();\n        return true;\n    };\n    Text.prototype.setHighlightIndentGuides = function (highlight) {\n        if (this.$highlightIndentGuides === highlight)\n            return false;\n        this.$highlightIndentGuides = highlight;\n        return highlight;\n    };\n    Text.prototype.$computeTabString = function () {\n        var tabSize = this.session.getTabSize();\n        this.tabSize = tabSize; var tabStr = this.$tabStrings = [0];\n        for (var i = 1; i < tabSize + 1; i++) {\n            if (this.showTabs) {\n                var span = this.dom.createElement(\"span\");\n                span.className = \"ace_invisible ace_invisible_tab\";\n                span.textContent = lang.stringRepeat(this.TAB_CHAR, i);\n                tabStr.push(span);\n            }\n            else {\n                tabStr.push(this.dom.createTextNode(lang.stringRepeat(\" \", i), this.element));\n            }\n        }\n        if (this.displayIndentGuides) {\n            this.$indentGuideRe = /\\s\\S| \\t|\\t |\\s$/;\n            var className = \"ace_indent-guide\";\n            var spaceClass = this.showSpaces ? \" ace_invisible ace_invisible_space\" : \"\";\n            var spaceContent = this.showSpaces\n                ? lang.stringRepeat(this.SPACE_CHAR, this.tabSize)\n                : lang.stringRepeat(\" \", this.tabSize);\n            var tabClass = this.showTabs ? \" ace_invisible ace_invisible_tab\" : \"\";\n            var tabContent = this.showTabs\n                ? lang.stringRepeat(this.TAB_CHAR, this.tabSize)\n                : spaceContent;\n            var span = this.dom.createElement(\"span\");\n            span.className = className + spaceClass;\n            span.textContent = spaceContent;\n            this.$tabStrings[\" \"] = span;\n            var span = this.dom.createElement(\"span\");\n            span.className = className + tabClass;\n            span.textContent = tabContent;\n            this.$tabStrings[\"\\t\"] = span;\n        }\n    };\n    Text.prototype.updateLines = function (config, firstRow, lastRow) {\n        if (this.config.lastRow != config.lastRow ||\n            this.config.firstRow != config.firstRow) {\n            return this.update(config);\n        }\n        this.config = config;\n        var first = Math.max(firstRow, config.firstRow);\n        var last = Math.min(lastRow, config.lastRow);\n        var lineElements = this.element.childNodes;\n        var lineElementsIdx = 0;\n        for (var row = config.firstRow; row < first; row++) {\n            var foldLine = this.session.getFoldLine(row);\n            if (foldLine) {\n                if (foldLine.containsRow(first)) {\n                    first = foldLine.start.row;\n                    break;\n                }\n                else {\n                    row = foldLine.end.row;\n                }\n            }\n            lineElementsIdx++;\n        }\n        var heightChanged = false;\n        var row = first;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row + 1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > last)\n                break; var lineElement = lineElements[lineElementsIdx++];\n            if (lineElement) {\n                this.dom.removeChildren(lineElement);\n                this.$renderLine(lineElement, row, row == foldStart ? foldLine : false);\n                if (heightChanged)\n                    lineElement.style.top = this.$lines.computeLineTop(row, config, this.session) + \"px\";\n                var height = (config.lineHeight * this.session.getRowLength(row)) + \"px\";\n                if (lineElement.style.height != height) {\n                    heightChanged = true;\n                    lineElement.style.height = height;\n                }\n            }\n            row++;\n        }\n        if (heightChanged) {\n            while (lineElementsIdx < this.$lines.cells.length) {\n                var cell = this.$lines.cells[lineElementsIdx++];\n                cell.element.style.top = this.$lines.computeLineTop(cell.row, config, this.session) + \"px\";\n            }\n        }\n    };\n    Text.prototype.scrollLines = function (config) {\n        var oldConfig = this.config;\n        this.config = config;\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n        this.$lines.moveContainer(config);\n        var lastRow = config.lastRow;\n        var oldLastRow = oldConfig ? oldConfig.lastRow : -1;\n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n        if (!oldConfig || oldConfig.lastRow < config.firstRow)\n            return this.update(config);\n        if (config.lastRow < oldConfig.firstRow)\n            return this.update(config);\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row > 0; row--)\n                this.$lines.shift();\n        if (oldConfig.lastRow > config.lastRow)\n            for (var row = this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row > 0; row--)\n                this.$lines.pop();\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n        if (config.lastRow > oldConfig.lastRow) {\n            this.$lines.push(this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow));\n        }\n        this.$highlightIndentGuide();\n    };\n    Text.prototype.$renderLinesFragment = function (config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row + 1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n            var line = this.$lines.createCell(row, config, this.session);\n            var lineEl = line.element;\n            this.dom.removeChildren(lineEl);\n            dom.setStyle(lineEl.style, \"height\", this.$lines.computeLineHeight(row, config, this.session) + \"px\");\n            dom.setStyle(lineEl.style, \"top\", this.$lines.computeLineTop(row, config, this.session) + \"px\");\n            this.$renderLine(lineEl, row, row == foldStart ? foldLine : false);\n            if (this.$useLineGroups()) {\n                lineEl.className = \"ace_line_group\";\n            }\n            else {\n                lineEl.className = \"ace_line\";\n            }\n            fragment.push(line);\n            row++;\n        }\n        return fragment;\n    };\n    Text.prototype.update = function (config) {\n        this.$lines.moveContainer(config);\n        this.config = config;\n        var firstRow = config.firstRow;\n        var lastRow = config.lastRow;\n        var lines = this.$lines;\n        while (lines.getLength())\n            lines.pop();\n        lines.push(this.$renderLinesFragment(config, firstRow, lastRow));\n    };\n    Text.prototype.$renderToken = function (parent, screenColumn, token, value) {\n        var self = this;\n        var re = /(\\t)|( +)|([\\x00-\\x1f\\x80-\\xa0\\xad\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\uFEFF\\uFFF9-\\uFFFC\\u2066\\u2067\\u2068\\u202A\\u202B\\u202D\\u202E\\u202C\\u2069]+)|(\\u3000)|([\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3001-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g;\n        var valueFragment = this.dom.createFragment(this.element);\n        var m;\n        var i = 0;\n        while (m = re.exec(value)) {\n            var tab = m[1];\n            var simpleSpace = m[2];\n            var controlCharacter = m[3];\n            var cjkSpace = m[4];\n            var cjk = m[5];\n            if (!self.showSpaces && simpleSpace)\n                continue;\n            var before = i != m.index ? value.slice(i, m.index) : \"\";\n            i = m.index + m[0].length;\n            if (before) {\n                valueFragment.appendChild(this.dom.createTextNode(before, this.element));\n            }\n            if (tab) {\n                var tabSize = self.session.getScreenTabSize(screenColumn + m.index);\n                valueFragment.appendChild(self.$tabStrings[tabSize].cloneNode(true));\n                screenColumn += tabSize - 1;\n            }\n            else if (simpleSpace) {\n                if (self.showSpaces) {\n                    var span = this.dom.createElement(\"span\");\n                    span.className = \"ace_invisible ace_invisible_space\";\n                    span.textContent = lang.stringRepeat(self.SPACE_CHAR, simpleSpace.length);\n                    valueFragment.appendChild(span);\n                }\n                else {\n                    valueFragment.appendChild(this.dom.createTextNode(simpleSpace, this.element));\n                }\n            }\n            else if (controlCharacter) {\n                var span = this.dom.createElement(\"span\");\n                span.className = \"ace_invisible ace_invisible_space ace_invalid\";\n                span.textContent = lang.stringRepeat(self.SPACE_CHAR, controlCharacter.length);\n                valueFragment.appendChild(span);\n            }\n            else if (cjkSpace) {\n                screenColumn += 1;\n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = self.showSpaces ? \"ace_cjk ace_invisible ace_invisible_space\" : \"ace_cjk\";\n                span.textContent = self.showSpaces ? self.SPACE_CHAR : cjkSpace;\n                valueFragment.appendChild(span);\n            }\n            else if (cjk) {\n                screenColumn += 1;\n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = \"ace_cjk\";\n                span.textContent = cjk;\n                valueFragment.appendChild(span);\n            }\n        }\n        valueFragment.appendChild(this.dom.createTextNode(i ? value.slice(i) : value, this.element));\n        if (!isTextToken(token.type)) {\n            var classes = \"ace_\" + token.type.replace(/\\./g, \" ace_\");\n            var span = this.dom.createElement(\"span\");\n            if (token.type == \"fold\") {\n                span.style.width = (token.value.length * this.config.characterWidth) + \"px\";\n                span.setAttribute(\"title\", nls(\"inline-fold.closed.title\", \"Unfold code\"));\n            }\n            span.className = classes;\n            span.appendChild(valueFragment);\n            parent.appendChild(span);\n        }\n        else {\n            parent.appendChild(valueFragment);\n        }\n        return screenColumn + value.length;\n    };\n    Text.prototype.renderIndentGuide = function (parent, value, max) {\n        var cols = value.search(this.$indentGuideRe);\n        if (cols <= 0 || cols >= max)\n            return value;\n        if (value[0] == \" \") {\n            cols -= cols % this.tabSize;\n            var count = cols / this.tabSize;\n            for (var i = 0; i < count; i++) {\n                parent.appendChild(this.$tabStrings[\" \"].cloneNode(true));\n            }\n            this.$highlightIndentGuide();\n            return value.substr(cols);\n        }\n        else if (value[0] == \"\\t\") {\n            for (var i = 0; i < cols; i++) {\n                parent.appendChild(this.$tabStrings[\"\\t\"].cloneNode(true));\n            }\n            this.$highlightIndentGuide();\n            return value.substr(cols);\n        }\n        this.$highlightIndentGuide();\n        return value;\n    };\n    Text.prototype.$highlightIndentGuide = function () {\n        if (!this.$highlightIndentGuides || !this.displayIndentGuides)\n            return;\n        this.$highlightIndentGuideMarker = {\n            indentLevel: undefined,\n            start: undefined,\n            end: undefined,\n            dir: undefined\n        };\n        var lines = this.session.doc.$lines;\n        if (!lines)\n            return;\n        var cursor = this.session.selection.getCursor();\n        var initialIndent = /^\\s*/.exec(this.session.doc.getLine(cursor.row))[0].length;\n        var elementIndentLevel = Math.floor(initialIndent / this.tabSize);\n        this.$highlightIndentGuideMarker = {\n            indentLevel: elementIndentLevel,\n            start: cursor.row\n        };\n        var bracketHighlight = this.session.$bracketHighlight;\n        if (bracketHighlight) {\n            var ranges = this.session.$bracketHighlight.ranges;\n            for (var i = 0; i < ranges.length; i++) {\n                if (cursor.row !== ranges[i].start.row) {\n                    this.$highlightIndentGuideMarker.end = ranges[i].start.row;\n                    if (cursor.row > ranges[i].start.row) {\n                        this.$highlightIndentGuideMarker.dir = -1;\n                    }\n                    else {\n                        this.$highlightIndentGuideMarker.dir = 1;\n                    }\n                    break;\n                }\n            }\n        }\n        if (!this.$highlightIndentGuideMarker.end) {\n            if (lines[cursor.row] !== '' && cursor.column === lines[cursor.row].length) {\n                this.$highlightIndentGuideMarker.dir = 1;\n                for (var i = cursor.row + 1; i < lines.length; i++) {\n                    var line = lines[i];\n                    var currentIndent = /^\\s*/.exec(line)[0].length;\n                    if (line !== '') {\n                        this.$highlightIndentGuideMarker.end = i;\n                        if (currentIndent <= initialIndent)\n                            break;\n                    }\n                }\n            }\n        }\n        this.$renderHighlightIndentGuide();\n    };\n    Text.prototype.$clearActiveIndentGuide = function () {\n        var cells = this.$lines.cells;\n        for (var i = 0; i < cells.length; i++) {\n            var cell = cells[i];\n            var childNodes = cell.element.childNodes;\n            if (childNodes.length > 0) {\n                for (var j = 0; j < childNodes.length; j++) {\n                    if (childNodes[j].classList && childNodes[j].classList.contains(\"ace_indent-guide-active\")) {\n                        childNodes[j].classList.remove(\"ace_indent-guide-active\");\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    Text.prototype.$setIndentGuideActive = function (cell, indentLevel) {\n        var line = this.session.doc.getLine(cell.row);\n        if (line !== \"\") {\n            var childNodes = cell.element.childNodes;\n            if (childNodes) {\n                var node = childNodes[indentLevel - 1];\n                if (node && node.classList && node.classList.contains(\"ace_indent-guide\"))\n                    node.classList.add(\"ace_indent-guide-active\");\n            }\n        }\n    };\n    Text.prototype.$renderHighlightIndentGuide = function () {\n        if (!this.$lines)\n            return;\n        var cells = this.$lines.cells;\n        this.$clearActiveIndentGuide();\n        var indentLevel = this.$highlightIndentGuideMarker.indentLevel;\n        if (indentLevel !== 0) {\n            if (this.$highlightIndentGuideMarker.dir === 1) {\n                for (var i = 0; i < cells.length; i++) {\n                    var cell = cells[i];\n                    if (this.$highlightIndentGuideMarker.end && cell.row >= this.$highlightIndentGuideMarker.start\n                        + 1) {\n                        if (cell.row >= this.$highlightIndentGuideMarker.end)\n                            break;\n                        this.$setIndentGuideActive(cell, indentLevel);\n                    }\n                }\n            }\n            else {\n                for (var i = cells.length - 1; i >= 0; i--) {\n                    var cell = cells[i];\n                    if (this.$highlightIndentGuideMarker.end && cell.row < this.$highlightIndentGuideMarker.start) {\n                        if (cell.row <= this.$highlightIndentGuideMarker.end)\n                            break;\n                        this.$setIndentGuideActive(cell, indentLevel);\n                    }\n                }\n            }\n        }\n    };\n    Text.prototype.$createLineElement = function (parent) {\n        var lineEl = this.dom.createElement(\"div\");\n        lineEl.className = \"ace_line\";\n        lineEl.style.height = this.config.lineHeight + \"px\";\n        return lineEl;\n    };\n    Text.prototype.$renderWrappedLine = function (parent, tokens, splits) {\n        var chars = 0;\n        var split = 0;\n        var splitChars = splits[0];\n        var screenColumn = 0;\n        var lineEl = this.$createLineElement();\n        parent.appendChild(lineEl);\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            var value = token.value;\n            if (i == 0 && this.displayIndentGuides) {\n                chars = value.length;\n                value = this.renderIndentGuide(lineEl, value, splitChars);\n                if (!value)\n                    continue;\n                chars -= value.length;\n            }\n            if (chars + value.length < splitChars) {\n                screenColumn = this.$renderToken(lineEl, screenColumn, token, value);\n                chars += value.length;\n            }\n            else {\n                while (chars + value.length >= splitChars) {\n                    screenColumn = this.$renderToken(lineEl, screenColumn, token, value.substring(0, splitChars - chars));\n                    value = value.substring(splitChars - chars);\n                    chars = splitChars;\n                    lineEl = this.$createLineElement();\n                    parent.appendChild(lineEl);\n                    lineEl.appendChild(this.dom.createTextNode(lang.stringRepeat(\"\\xa0\", splits.indent), this.element));\n                    split++;\n                    screenColumn = 0;\n                    splitChars = splits[split] || Number.MAX_VALUE;\n                }\n                if (value.length != 0) {\n                    chars += value.length;\n                    screenColumn = this.$renderToken(lineEl, screenColumn, token, value);\n                }\n            }\n        }\n        if (splits[splits.length - 1] > this.MAX_LINE_LENGTH)\n            this.$renderOverflowMessage(lineEl, screenColumn, null, \"\", true);\n    };\n    Text.prototype.$renderSimpleLine = function (parent, tokens) {\n        var screenColumn = 0;\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            var value = token.value;\n            if (i == 0 && this.displayIndentGuides) {\n                value = this.renderIndentGuide(parent, value);\n                if (!value)\n                    continue;\n            }\n            if (screenColumn + value.length > this.MAX_LINE_LENGTH)\n                return this.$renderOverflowMessage(parent, screenColumn, token, value);\n            screenColumn = this.$renderToken(parent, screenColumn, token, value);\n        }\n    };\n    Text.prototype.$renderOverflowMessage = function (parent, screenColumn, token, value, hide) {\n        token && this.$renderToken(parent, screenColumn, token, value.slice(0, this.MAX_LINE_LENGTH - screenColumn));\n        var overflowEl = this.dom.createElement(\"span\");\n        overflowEl.className = \"ace_inline_button ace_keyword ace_toggle_wrap\";\n        overflowEl.textContent = hide ? \"<hide>\" : \"<click to see more...>\";\n        parent.appendChild(overflowEl);\n    };\n    Text.prototype.$renderLine = function (parent, row, foldLine) {\n        if (!foldLine && foldLine != false)\n            foldLine = this.session.getFoldLine(row);\n        if (foldLine)\n            var tokens = this.$getFoldLineTokens(row, foldLine);\n        else\n            var tokens = this.session.getTokens(row);\n        var lastLineEl = parent;\n        if (tokens.length) {\n            var splits = this.session.getRowSplitData(row);\n            if (splits && splits.length) {\n                this.$renderWrappedLine(parent, tokens, splits);\n                var lastLineEl = parent.lastChild;\n            }\n            else {\n                var lastLineEl = parent;\n                if (this.$useLineGroups()) {\n                    lastLineEl = this.$createLineElement();\n                    parent.appendChild(lastLineEl);\n                }\n                this.$renderSimpleLine(lastLineEl, tokens);\n            }\n        }\n        else if (this.$useLineGroups()) {\n            lastLineEl = this.$createLineElement();\n            parent.appendChild(lastLineEl);\n        }\n        if (this.showEOL && lastLineEl) {\n            if (foldLine)\n                row = foldLine.end.row;\n            var invisibleEl = this.dom.createElement(\"span\");\n            invisibleEl.className = \"ace_invisible ace_invisible_eol\";\n            invisibleEl.textContent = row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR;\n            lastLineEl.appendChild(invisibleEl);\n        }\n    };\n    Text.prototype.$getFoldLineTokens = function (row, foldLine) {\n        var session = this.session;\n        var renderTokens = [];\n        function addTokens(tokens, from, to) {\n            var idx = 0, col = 0;\n            while ((col + tokens[idx].value.length) < from) {\n                col += tokens[idx].value.length;\n                idx++;\n                if (idx == tokens.length)\n                    return;\n            }\n            if (col != from) {\n                var value = tokens[idx].value.substring(from - col);\n                if (value.length > (to - from))\n                    value = value.substring(0, to - from);\n                renderTokens.push({\n                    type: tokens[idx].type,\n                    value: value\n                });\n                col = from + value.length;\n                idx += 1;\n            }\n            while (col < to && idx < tokens.length) {\n                var value = tokens[idx].value;\n                if (value.length + col > to) {\n                    renderTokens.push({\n                        type: tokens[idx].type,\n                        value: value.substring(0, to - col)\n                    });\n                }\n                else\n                    renderTokens.push(tokens[idx]);\n                col += value.length;\n                idx += 1;\n            }\n        }\n        var tokens = session.getTokens(row);\n        foldLine.walk(function (placeholder, row, column, lastColumn, isNewRow) {\n            if (placeholder != null) {\n                renderTokens.push({\n                    type: \"fold\",\n                    value: placeholder\n                });\n            }\n            else {\n                if (isNewRow)\n                    tokens = session.getTokens(row);\n                if (tokens.length)\n                    addTokens(tokens, lastColumn, column);\n            }\n        }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);\n        return renderTokens;\n    };\n    Text.prototype.$useLineGroups = function () {\n        return this.session.getUseWrapMode();\n    };\n    return Text;\n}());\nText.prototype.EOF_CHAR = \"\\xB6\";\nText.prototype.EOL_CHAR_LF = \"\\xAC\";\nText.prototype.EOL_CHAR_CRLF = \"\\xa4\";\nText.prototype.EOL_CHAR = Text.prototype.EOL_CHAR_LF;\nText.prototype.TAB_CHAR = \"\\u2014\"; //\"\\u21E5\";\nText.prototype.SPACE_CHAR = \"\\xB7\";\nText.prototype.$padding = 0;\nText.prototype.MAX_LINE_LENGTH = 10000;\nText.prototype.showInvisibles = false;\nText.prototype.showSpaces = false;\nText.prototype.showTabs = false;\nText.prototype.showEOL = false;\nText.prototype.displayIndentGuides = true;\nText.prototype.$highlightIndentGuides = true;\nText.prototype.$tabStrings = [];\nText.prototype.destroy = {};\nText.prototype.onChangeTabSize = Text.prototype.$computeTabString;\noop.implement(Text.prototype, EventEmitter);\nexports.Text = Text;\n\n});\n\nace.define(\"ace/layer/cursor\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar Cursor = /** @class */ (function () {\n    function Cursor(parentEl) {\n        this.element = dom.createElement(\"div\");\n        this.element.className = \"ace_layer ace_cursor-layer\";\n        parentEl.appendChild(this.element);\n        this.isVisible = false;\n        this.isBlinking = true;\n        this.blinkInterval = 1000;\n        this.smoothBlinking = false;\n        this.cursors = [];\n        this.cursor = this.addCursor();\n        dom.addCssClass(this.element, \"ace_hidden-cursors\");\n        this.$updateCursors = this.$updateOpacity.bind(this);\n    }\n    Cursor.prototype.$updateOpacity = function (val) {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--;)\n            dom.setStyle(cursors[i].style, \"opacity\", val ? \"\" : \"0\");\n    };\n    Cursor.prototype.$startCssAnimation = function () {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--;)\n            cursors[i].style.animationDuration = this.blinkInterval + \"ms\";\n        this.$isAnimating = true;\n        setTimeout(function () {\n            if (this.$isAnimating) {\n                dom.addCssClass(this.element, \"ace_animate-blinking\");\n            }\n        }.bind(this));\n    };\n    Cursor.prototype.$stopCssAnimation = function () {\n        this.$isAnimating = false;\n        dom.removeCssClass(this.element, \"ace_animate-blinking\");\n    };\n    Cursor.prototype.setPadding = function (padding) {\n        this.$padding = padding;\n    };\n    Cursor.prototype.setSession = function (session) {\n        this.session = session;\n    };\n    Cursor.prototype.setBlinking = function (blinking) {\n        if (blinking != this.isBlinking) {\n            this.isBlinking = blinking;\n            this.restartTimer();\n        }\n    };\n    Cursor.prototype.setBlinkInterval = function (blinkInterval) {\n        if (blinkInterval != this.blinkInterval) {\n            this.blinkInterval = blinkInterval;\n            this.restartTimer();\n        }\n    };\n    Cursor.prototype.setSmoothBlinking = function (smoothBlinking) {\n        if (smoothBlinking != this.smoothBlinking) {\n            this.smoothBlinking = smoothBlinking;\n            dom.setCssClass(this.element, \"ace_smooth-blinking\", smoothBlinking);\n            this.$updateCursors(true);\n            this.restartTimer();\n        }\n    };\n    Cursor.prototype.addCursor = function () {\n        var el = dom.createElement(\"div\");\n        el.className = \"ace_cursor\";\n        this.element.appendChild(el);\n        this.cursors.push(el);\n        return el;\n    };\n    Cursor.prototype.removeCursor = function () {\n        if (this.cursors.length > 1) {\n            var el = this.cursors.pop();\n            el.parentNode.removeChild(el);\n            return el;\n        }\n    };\n    Cursor.prototype.hideCursor = function () {\n        this.isVisible = false;\n        dom.addCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n    Cursor.prototype.showCursor = function () {\n        this.isVisible = true;\n        dom.removeCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n    Cursor.prototype.restartTimer = function () {\n        var update = this.$updateCursors;\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n        this.$stopCssAnimation();\n        if (this.smoothBlinking) {\n            this.$isSmoothBlinking = false;\n            dom.removeCssClass(this.element, \"ace_smooth-blinking\");\n        }\n        update(true);\n        if (!this.isBlinking || !this.blinkInterval || !this.isVisible) {\n            this.$stopCssAnimation();\n            return;\n        }\n        if (this.smoothBlinking) {\n            this.$isSmoothBlinking = true;\n            setTimeout(function () {\n                if (this.$isSmoothBlinking) {\n                    dom.addCssClass(this.element, \"ace_smooth-blinking\");\n                }\n            }.bind(this));\n        }\n        if (dom.HAS_CSS_ANIMATION) {\n            this.$startCssAnimation();\n        }\n        else {\n            var blink = /**@this{Cursor}*/ function () {\n                this.timeoutId = setTimeout(function () {\n                    update(false);\n                }, 0.6 * this.blinkInterval);\n            }.bind(this);\n            this.intervalId = setInterval(function () {\n                update(true);\n                blink();\n            }, this.blinkInterval);\n            blink();\n        }\n    };\n    Cursor.prototype.getPixelPosition = function (position, onScreen) {\n        if (!this.config || !this.session)\n            return { left: 0, top: 0 };\n        if (!position)\n            position = this.session.selection.getCursor();\n        var pos = this.session.documentToScreenPosition(position);\n        var cursorLeft = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, position.row)\n            ? this.session.$bidiHandler.getPosLeft(pos.column)\n            : pos.column * this.config.characterWidth);\n        var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) *\n            this.config.lineHeight;\n        return { left: cursorLeft, top: cursorTop };\n    };\n    Cursor.prototype.isCursorInView = function (pixelPos, config) {\n        return pixelPos.top >= 0 && pixelPos.top < config.maxHeight;\n    };\n    Cursor.prototype.update = function (config) {\n        this.config = config;\n        var selections = this.session.$selectionMarkers;\n        var i = 0, cursorIndex = 0;\n        if (selections === undefined || selections.length === 0) {\n            selections = [{ cursor: null }];\n        }\n        for (var i = 0, n = selections.length; i < n; i++) {\n            var pixelPos = this.getPixelPosition(selections[i].cursor, true);\n            if ((pixelPos.top > config.height + config.offset ||\n                pixelPos.top < 0) && i > 1) {\n                continue;\n            }\n            var element = this.cursors[cursorIndex++] || this.addCursor();\n            var style = element.style;\n            if (!this.drawCursor) {\n                if (!this.isCursorInView(pixelPos, config)) {\n                    dom.setStyle(style, \"display\", \"none\");\n                }\n                else {\n                    dom.setStyle(style, \"display\", \"block\");\n                    dom.translate(element, pixelPos.left, pixelPos.top);\n                    dom.setStyle(style, \"width\", Math.round(config.characterWidth) + \"px\");\n                    dom.setStyle(style, \"height\", config.lineHeight + \"px\");\n                }\n            }\n            else {\n                this.drawCursor(element, pixelPos, config, selections[i], this.session);\n            }\n        }\n        while (this.cursors.length > cursorIndex)\n            this.removeCursor();\n        var overwrite = this.session.getOverwrite();\n        this.$setOverwrite(overwrite);\n        this.$pixelPos = pixelPos;\n        this.restartTimer();\n    };\n    Cursor.prototype.$setOverwrite = function (overwrite) {\n        if (overwrite != this.overwrite) {\n            this.overwrite = overwrite;\n            if (overwrite)\n                dom.addCssClass(this.element, \"ace_overwrite-cursors\");\n            else\n                dom.removeCssClass(this.element, \"ace_overwrite-cursors\");\n        }\n    };\n    Cursor.prototype.destroy = function () {\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n    };\n    return Cursor;\n}());\nCursor.prototype.$padding = 0;\nCursor.prototype.drawCursor = null;\nexports.Cursor = Cursor;\n\n});\n\nace.define(\"ace/scrollbar\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar MAX_SCROLL_H = 0x8000;\nvar Scrollbar = /** @class */ (function () {\n    function Scrollbar(parent, classSuffix) {\n        this.element = dom.createElement(\"div\");\n        this.element.className = \"ace_scrollbar ace_scrollbar\" + classSuffix;\n        this.inner = dom.createElement(\"div\");\n        this.inner.className = \"ace_scrollbar-inner\";\n        this.inner.textContent = \"\\xa0\";\n        this.element.appendChild(this.inner);\n        parent.appendChild(this.element);\n        this.setVisible(false);\n        this.skipEvent = false;\n        event.addListener(this.element, \"scroll\", this.onScroll.bind(this));\n        event.addListener(this.element, \"mousedown\", event.preventDefault);\n    }\n    Scrollbar.prototype.setVisible = function (isVisible) {\n        this.element.style.display = isVisible ? \"\" : \"none\";\n        this.isVisible = isVisible;\n        this.coeff = 1;\n    };\n    return Scrollbar;\n}());\noop.implement(Scrollbar.prototype, EventEmitter);\nvar VScrollBar = /** @class */ (function (_super) {\n    __extends(VScrollBar, _super);\n    function VScrollBar(parent, renderer) {\n        var _this = _super.call(this, parent, '-v') || this;\n        _this.scrollTop = 0;\n        _this.scrollHeight = 0;\n        renderer.$scrollbarWidth =\n            _this.width = dom.scrollbarWidth(parent.ownerDocument);\n        _this.inner.style.width =\n            _this.element.style.width = (_this.width || 15) + 5 + \"px\";\n        _this.$minWidth = 0;\n        return _this;\n    }\n    VScrollBar.prototype.onScroll = function () {\n        if (!this.skipEvent) {\n            this.scrollTop = this.element.scrollTop;\n            if (this.coeff != 1) {\n                var h = this.element.clientHeight / this.scrollHeight;\n                this.scrollTop = this.scrollTop * (1 - h) / (this.coeff - h);\n            }\n            this._emit(\"scroll\", { data: this.scrollTop });\n        }\n        this.skipEvent = false;\n    };\n    VScrollBar.prototype.getWidth = function () {\n        return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);\n    };\n    VScrollBar.prototype.setHeight = function (height) {\n        this.element.style.height = height + \"px\";\n    };\n    VScrollBar.prototype.setScrollHeight = function (height) {\n        this.scrollHeight = height;\n        if (height > MAX_SCROLL_H) {\n            this.coeff = MAX_SCROLL_H / height;\n            height = MAX_SCROLL_H;\n        }\n        else if (this.coeff != 1) {\n            this.coeff = 1;\n        }\n        this.inner.style.height = height + \"px\";\n    };\n    VScrollBar.prototype.setScrollTop = function (scrollTop) {\n        if (this.scrollTop != scrollTop) {\n            this.skipEvent = true;\n            this.scrollTop = scrollTop;\n            this.element.scrollTop = scrollTop * this.coeff;\n        }\n    };\n    return VScrollBar;\n}(Scrollbar));\nVScrollBar.prototype.setInnerHeight = VScrollBar.prototype.setScrollHeight;\nvar HScrollBar = /** @class */ (function (_super) {\n    __extends(HScrollBar, _super);\n    function HScrollBar(parent, renderer) {\n        var _this = _super.call(this, parent, '-h') || this;\n        _this.scrollLeft = 0;\n        _this.height = renderer.$scrollbarWidth;\n        _this.inner.style.height =\n            _this.element.style.height = (_this.height || 15) + 5 + \"px\";\n        return _this;\n    }\n    HScrollBar.prototype.onScroll = function () {\n        if (!this.skipEvent) {\n            this.scrollLeft = this.element.scrollLeft;\n            this._emit(\"scroll\", { data: this.scrollLeft });\n        }\n        this.skipEvent = false;\n    };\n    HScrollBar.prototype.getHeight = function () {\n        return this.isVisible ? this.height : 0;\n    };\n    HScrollBar.prototype.setWidth = function (width) {\n        this.element.style.width = width + \"px\";\n    };\n    HScrollBar.prototype.setInnerWidth = function (width) {\n        this.inner.style.width = width + \"px\";\n    };\n    HScrollBar.prototype.setScrollWidth = function (width) {\n        this.inner.style.width = width + \"px\";\n    };\n    HScrollBar.prototype.setScrollLeft = function (scrollLeft) {\n        if (this.scrollLeft != scrollLeft) {\n            this.skipEvent = true;\n            this.scrollLeft = this.element.scrollLeft = scrollLeft;\n        }\n    };\n    return HScrollBar;\n}(Scrollbar));\nexports.ScrollBar = VScrollBar; // backward compatibility\nexports.ScrollBarV = VScrollBar; // backward compatibility\nexports.ScrollBarH = HScrollBar; // backward compatibility\nexports.VScrollBar = VScrollBar;\nexports.HScrollBar = HScrollBar;\n\n});\n\nace.define(\"ace/scrollbar_custom\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\ndom.importCssString(\".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\\n  position: absolute;\\n  background: rgba(128, 128, 128, 0.6);\\n  -moz-box-sizing: border-box;\\n  box-sizing: border-box;\\n  border: 1px solid #bbb;\\n  border-radius: 2px;\\n  z-index: 8;\\n}\\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\\n  position: absolute;\\n  z-index: 6;\\n  background: none;\\n  overflow: hidden!important;\\n}\\n.ace_editor>.ace_sb-v {\\n  z-index: 6;\\n  right: 0;\\n  top: 0;\\n  width: 12px;\\n}\\n.ace_editor>.ace_sb-v div {\\n  z-index: 8;\\n  right: 0;\\n  width: 100%;\\n}\\n.ace_editor>.ace_sb-h {\\n  bottom: 0;\\n  left: 0;\\n  height: 12px;\\n}\\n.ace_editor>.ace_sb-h div {\\n  bottom: 0;\\n  height: 100%;\\n}\\n.ace_editor>.ace_sb_grabbed {\\n  z-index: 8;\\n  background: #000;\\n}\", \"ace_scrollbar.css\", false);\nvar ScrollBar = /** @class */ (function () {\n    function ScrollBar(parent, classSuffix) {\n        this.element = dom.createElement(\"div\");\n        this.element.className = \"ace_sb\" + classSuffix;\n        this.inner = dom.createElement(\"div\");\n        this.inner.className = \"\";\n        this.element.appendChild(this.inner);\n        this.VScrollWidth = 12;\n        this.HScrollHeight = 12;\n        parent.appendChild(this.element);\n        this.setVisible(false);\n        this.skipEvent = false;\n        event.addMultiMouseDownListener(this.element, [500, 300, 300], this, \"onMouseDown\");\n    }\n    ScrollBar.prototype.setVisible = function (isVisible) {\n        this.element.style.display = isVisible ? \"\" : \"none\";\n        this.isVisible = isVisible;\n        this.coeff = 1;\n    };\n    return ScrollBar;\n}());\noop.implement(ScrollBar.prototype, EventEmitter);\nvar VScrollBar = /** @class */ (function (_super) {\n    __extends(VScrollBar, _super);\n    function VScrollBar(parent, renderer) {\n        var _this = _super.call(this, parent, '-v') || this;\n        _this.scrollTop = 0;\n        _this.scrollHeight = 0;\n        _this.parent = parent;\n        _this.width = _this.VScrollWidth;\n        _this.renderer = renderer;\n        _this.inner.style.width = _this.element.style.width = (_this.width || 15) + \"px\";\n        _this.$minWidth = 0;\n        return _this;\n    }\n    VScrollBar.prototype.onMouseDown = function (eType, e) {\n        if (eType !== \"mousedown\")\n            return;\n        if (event.getButton(e) !== 0 || e.detail === 2) {\n            return;\n        }\n        if (e.target === this.inner) {\n            var self = this;\n            var mousePageY = e.clientY;\n            var onMouseMove = function (e) {\n                mousePageY = e.clientY;\n            };\n            var onMouseUp = function () {\n                clearInterval(timerId);\n            };\n            var startY = e.clientY;\n            var startTop = this.thumbTop;\n            var onScrollInterval = function () {\n                if (mousePageY === undefined)\n                    return;\n                var scrollTop = self.scrollTopFromThumbTop(startTop + mousePageY - startY);\n                if (scrollTop === self.scrollTop)\n                    return;\n                self._emit(\"scroll\", { data: scrollTop });\n            };\n            event.capture(this.inner, onMouseMove, onMouseUp);\n            var timerId = setInterval(onScrollInterval, 20);\n            return event.preventDefault(e);\n        }\n        var top = e.clientY - this.element.getBoundingClientRect().top - this.thumbHeight / 2;\n        this._emit(\"scroll\", { data: this.scrollTopFromThumbTop(top) });\n        return event.preventDefault(e);\n    };\n    VScrollBar.prototype.getHeight = function () {\n        return this.height;\n    };\n    VScrollBar.prototype.scrollTopFromThumbTop = function (thumbTop) {\n        var scrollTop = thumbTop * (this.pageHeight - this.viewHeight) / (this.slideHeight - this.thumbHeight);\n        scrollTop = scrollTop >> 0;\n        if (scrollTop < 0) {\n            scrollTop = 0;\n        }\n        else if (scrollTop > this.pageHeight - this.viewHeight) {\n            scrollTop = this.pageHeight - this.viewHeight;\n        }\n        return scrollTop;\n    };\n    VScrollBar.prototype.getWidth = function () {\n        return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);\n    };\n    VScrollBar.prototype.setHeight = function (height) {\n        this.height = Math.max(0, height);\n        this.slideHeight = this.height;\n        this.viewHeight = this.height;\n        this.setScrollHeight(this.pageHeight, true);\n    };\n    VScrollBar.prototype.setScrollHeight = function (height, force) {\n        if (this.pageHeight === height && !force)\n            return;\n        this.pageHeight = height;\n        this.thumbHeight = this.slideHeight * this.viewHeight / this.pageHeight;\n        if (this.thumbHeight > this.slideHeight)\n            this.thumbHeight = this.slideHeight;\n        if (this.thumbHeight < 15)\n            this.thumbHeight = 15;\n        this.inner.style.height = this.thumbHeight + \"px\";\n        if (this.scrollTop > (this.pageHeight - this.viewHeight)) {\n            this.scrollTop = (this.pageHeight - this.viewHeight);\n            if (this.scrollTop < 0)\n                this.scrollTop = 0;\n            this._emit(\"scroll\", { data: this.scrollTop });\n        }\n    };\n    VScrollBar.prototype.setScrollTop = function (scrollTop) {\n        this.scrollTop = scrollTop;\n        if (scrollTop < 0)\n            scrollTop = 0;\n        this.thumbTop = scrollTop * (this.slideHeight - this.thumbHeight) / (this.pageHeight - this.viewHeight);\n        this.inner.style.top = this.thumbTop + \"px\";\n    };\n    return VScrollBar;\n}(ScrollBar));\nVScrollBar.prototype.setInnerHeight = VScrollBar.prototype.setScrollHeight;\nvar HScrollBar = /** @class */ (function (_super) {\n    __extends(HScrollBar, _super);\n    function HScrollBar(parent, renderer) {\n        var _this = _super.call(this, parent, '-h') || this;\n        _this.scrollLeft = 0;\n        _this.scrollWidth = 0;\n        _this.height = _this.HScrollHeight;\n        _this.inner.style.height = _this.element.style.height = (_this.height || 12) + \"px\";\n        _this.renderer = renderer;\n        return _this;\n    }\n    HScrollBar.prototype.onMouseDown = function (eType, e) {\n        if (eType !== \"mousedown\")\n            return;\n        if (event.getButton(e) !== 0 || e.detail === 2) {\n            return;\n        }\n        if (e.target === this.inner) {\n            var self = this;\n            var mousePageX = e.clientX;\n            var onMouseMove = function (e) {\n                mousePageX = e.clientX;\n            };\n            var onMouseUp = function () {\n                clearInterval(timerId);\n            };\n            var startX = e.clientX;\n            var startLeft = this.thumbLeft;\n            var onScrollInterval = function () {\n                if (mousePageX === undefined)\n                    return;\n                var scrollLeft = self.scrollLeftFromThumbLeft(startLeft + mousePageX - startX);\n                if (scrollLeft === self.scrollLeft)\n                    return;\n                self._emit(\"scroll\", { data: scrollLeft });\n            };\n            event.capture(this.inner, onMouseMove, onMouseUp);\n            var timerId = setInterval(onScrollInterval, 20);\n            return event.preventDefault(e);\n        }\n        var left = e.clientX - this.element.getBoundingClientRect().left - this.thumbWidth / 2;\n        this._emit(\"scroll\", { data: this.scrollLeftFromThumbLeft(left) });\n        return event.preventDefault(e);\n    };\n    HScrollBar.prototype.getHeight = function () {\n        return this.isVisible ? this.height : 0;\n    };\n    HScrollBar.prototype.scrollLeftFromThumbLeft = function (thumbLeft) {\n        var scrollLeft = thumbLeft * (this.pageWidth - this.viewWidth) / (this.slideWidth - this.thumbWidth);\n        scrollLeft = scrollLeft >> 0;\n        if (scrollLeft < 0) {\n            scrollLeft = 0;\n        }\n        else if (scrollLeft > this.pageWidth - this.viewWidth) {\n            scrollLeft = this.pageWidth - this.viewWidth;\n        }\n        return scrollLeft;\n    };\n    HScrollBar.prototype.setWidth = function (width) {\n        this.width = Math.max(0, width);\n        this.element.style.width = this.width + \"px\";\n        this.slideWidth = this.width;\n        this.viewWidth = this.width;\n        this.setScrollWidth(this.pageWidth, true);\n    };\n    HScrollBar.prototype.setScrollWidth = function (width, force) {\n        if (this.pageWidth === width && !force)\n            return;\n        this.pageWidth = width;\n        this.thumbWidth = this.slideWidth * this.viewWidth / this.pageWidth;\n        if (this.thumbWidth > this.slideWidth)\n            this.thumbWidth = this.slideWidth;\n        if (this.thumbWidth < 15)\n            this.thumbWidth = 15;\n        this.inner.style.width = this.thumbWidth + \"px\";\n        if (this.scrollLeft > (this.pageWidth - this.viewWidth)) {\n            this.scrollLeft = (this.pageWidth - this.viewWidth);\n            if (this.scrollLeft < 0)\n                this.scrollLeft = 0;\n            this._emit(\"scroll\", { data: this.scrollLeft });\n        }\n    };\n    HScrollBar.prototype.setScrollLeft = function (scrollLeft) {\n        this.scrollLeft = scrollLeft;\n        if (scrollLeft < 0)\n            scrollLeft = 0;\n        this.thumbLeft = scrollLeft * (this.slideWidth - this.thumbWidth) / (this.pageWidth - this.viewWidth);\n        this.inner.style.left = (this.thumbLeft) + \"px\";\n    };\n    return HScrollBar;\n}(ScrollBar));\nHScrollBar.prototype.setInnerWidth = HScrollBar.prototype.setScrollWidth;\nexports.ScrollBar = VScrollBar; // backward compatibility\nexports.ScrollBarV = VScrollBar; // backward compatibility\nexports.ScrollBarH = HScrollBar; // backward compatibility\nexports.VScrollBar = VScrollBar;\nexports.HScrollBar = HScrollBar;\n\n});\n\nace.define(\"ace/renderloop\",[\"require\",\"exports\",\"module\",\"ace/lib/event\"], function(require, exports, module){\"use strict\";\nvar event = require(\"./lib/event\");\nvar RenderLoop = /** @class */ (function () {\n    function RenderLoop(onRender, win) {\n        this.onRender = onRender;\n        this.pending = false;\n        this.changes = 0;\n        this.$recursionLimit = 2;\n        this.window = win || window;\n        var _self = this;\n        this._flush = function (ts) {\n            _self.pending = false;\n            var changes = _self.changes;\n            if (changes) {\n                event.blockIdle(100);\n                _self.changes = 0;\n                _self.onRender(changes);\n            }\n            if (_self.changes) {\n                if (_self.$recursionLimit-- < 0)\n                    return;\n                _self.schedule();\n            }\n            else {\n                _self.$recursionLimit = 2;\n            }\n        };\n    }\n    RenderLoop.prototype.schedule = function (change) {\n        this.changes = this.changes | change;\n        if (this.changes && !this.pending) {\n            event.nextFrame(this._flush);\n            this.pending = true;\n        }\n    };\n    RenderLoop.prototype.clear = function (change) {\n        var changes = this.changes;\n        this.changes = 0;\n        return changes;\n    };\n    return RenderLoop;\n}());\nexports.RenderLoop = RenderLoop;\n\n});\n\nace.define(\"ace/layer/font_metrics\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/event_emitter\"], function(require, exports, module){var oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar CHAR_COUNT = 512;\nvar USE_OBSERVER = typeof ResizeObserver == \"function\";\nvar L = 200;\nvar FontMetrics = /** @class */ (function () {\n    function FontMetrics(parentEl) {\n        this.el = dom.createElement(\"div\");\n        this.$setMeasureNodeStyles(this.el.style, true);\n        this.$main = dom.createElement(\"div\");\n        this.$setMeasureNodeStyles(this.$main.style);\n        this.$measureNode = dom.createElement(\"div\");\n        this.$setMeasureNodeStyles(this.$measureNode.style);\n        this.el.appendChild(this.$main);\n        this.el.appendChild(this.$measureNode);\n        parentEl.appendChild(this.el);\n        this.$measureNode.textContent = lang.stringRepeat(\"X\", CHAR_COUNT);\n        this.$characterSize = { width: 0, height: 0 };\n        if (USE_OBSERVER)\n            this.$addObserver();\n        else\n            this.checkForSizeChanges();\n    }\n    FontMetrics.prototype.$setMeasureNodeStyles = function (style, isRoot) {\n        style.width = style.height = \"auto\";\n        style.left = style.top = \"0px\";\n        style.visibility = \"hidden\";\n        style.position = \"absolute\";\n        style.whiteSpace = \"pre\";\n        if (useragent.isIE < 8) {\n            style[\"font-family\"] = \"inherit\";\n        }\n        else {\n            style.font = \"inherit\";\n        }\n        style.overflow = isRoot ? \"hidden\" : \"visible\";\n    };\n    FontMetrics.prototype.checkForSizeChanges = function (size) {\n        if (size === undefined)\n            size = this.$measureSizes();\n        if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {\n            this.$measureNode.style.fontWeight = \"bold\";\n            var boldSize = this.$measureSizes();\n            this.$measureNode.style.fontWeight = \"\";\n            this.$characterSize = size;\n            this.charSizes = Object.create(null);\n            this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;\n            this._emit(\"changeCharacterSize\", { data: size });\n        }\n    };\n    FontMetrics.prototype.$addObserver = function () {\n        var self = this;\n        this.$observer = new window.ResizeObserver(function (e) {\n            self.checkForSizeChanges();\n        });\n        this.$observer.observe(this.$measureNode);\n    };\n    FontMetrics.prototype.$pollSizeChanges = function () {\n        if (this.$pollSizeChangesTimer || this.$observer)\n            return this.$pollSizeChangesTimer;\n        var self = this;\n        return this.$pollSizeChangesTimer = event.onIdle(function cb() {\n            self.checkForSizeChanges();\n            event.onIdle(cb, 500);\n        }, 500);\n    };\n    FontMetrics.prototype.setPolling = function (val) {\n        if (val) {\n            this.$pollSizeChanges();\n        }\n        else if (this.$pollSizeChangesTimer) {\n            clearInterval(this.$pollSizeChangesTimer);\n            this.$pollSizeChangesTimer = 0;\n        }\n    };\n    FontMetrics.prototype.$measureSizes = function (node) {\n        var size = {\n            height: (node || this.$measureNode).clientHeight,\n            width: (node || this.$measureNode).clientWidth / CHAR_COUNT\n        };\n        if (size.width === 0 || size.height === 0)\n            return null;\n        return size;\n    };\n    FontMetrics.prototype.$measureCharWidth = function (ch) {\n        this.$main.textContent = lang.stringRepeat(ch, CHAR_COUNT);\n        var rect = this.$main.getBoundingClientRect();\n        return rect.width / CHAR_COUNT;\n    };\n    FontMetrics.prototype.getCharacterWidth = function (ch) {\n        var w = this.charSizes[ch];\n        if (w === undefined) {\n            w = this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;\n        }\n        return w;\n    };\n    FontMetrics.prototype.destroy = function () {\n        clearInterval(this.$pollSizeChangesTimer);\n        if (this.$observer)\n            this.$observer.disconnect();\n        if (this.el && this.el.parentNode)\n            this.el.parentNode.removeChild(this.el);\n    };\n    FontMetrics.prototype.$getZoom = function (element) {\n        if (!element || !element.parentElement)\n            return 1;\n        return (Number(window.getComputedStyle(element)[\"zoom\"]) || 1) * this.$getZoom(element.parentElement);\n    };\n    FontMetrics.prototype.$initTransformMeasureNodes = function () {\n        var t = function (t, l) {\n            return [\"div\", {\n                    style: \"position: absolute;top:\" + t + \"px;left:\" + l + \"px;\"\n                }];\n        };\n        this.els = dom.buildDom([t(0, 0), t(L, 0), t(0, L), t(L, L)], this.el);\n    };\n    FontMetrics.prototype.transformCoordinates = function (clientPos, elPos) {\n        if (clientPos) {\n            var zoom = this.$getZoom(this.el);\n            clientPos = mul(1 / zoom, clientPos);\n        }\n        function solve(l1, l2, r) {\n            var det = l1[1] * l2[0] - l1[0] * l2[1];\n            return [\n                (-l2[1] * r[0] + l2[0] * r[1]) / det,\n                (+l1[1] * r[0] - l1[0] * r[1]) / det\n            ];\n        }\n        function sub(a, b) { return [a[0] - b[0], a[1] - b[1]]; }\n        function add(a, b) { return [a[0] + b[0], a[1] + b[1]]; }\n        function mul(a, b) { return [a * b[0], a * b[1]]; }\n        if (!this.els)\n            this.$initTransformMeasureNodes();\n        function p(el) {\n            var r = el.getBoundingClientRect();\n            return [r.left, r.top];\n        }\n        var a = p(this.els[0]);\n        var b = p(this.els[1]);\n        var c = p(this.els[2]);\n        var d = p(this.els[3]);\n        var h = solve(sub(d, b), sub(d, c), sub(add(b, c), add(d, a)));\n        var m1 = mul(1 + h[0], sub(b, a));\n        var m2 = mul(1 + h[1], sub(c, a));\n        if (elPos) {\n            var x = elPos;\n            var k = h[0] * x[0] / L + h[1] * x[1] / L + 1;\n            var ut = add(mul(x[0], m1), mul(x[1], m2));\n            return add(mul(1 / k / L, ut), a);\n        }\n        var u = sub(clientPos, a);\n        var f = solve(sub(m1, mul(h[0], u)), sub(m2, mul(h[1], u)), u);\n        return mul(L, f);\n    };\n    return FontMetrics;\n}());\nFontMetrics.prototype.$characterSize = { width: 0, height: 0 };\noop.implement(FontMetrics.prototype, EventEmitter);\nexports.FontMetrics = FontMetrics;\n\n});\n\nace.define(\"ace/css/editor-css\",[\"require\",\"exports\",\"module\"], function(require, exports, module){/*\nstyles = []\nfor (var i = 1; i < 16; i++) {\n    styles.push(\".ace_br\" + i + \"{\" + (\n        [\"top-left\", \"top-right\", \"bottom-right\", \"bottom-left\"]\n    ).map(function(x, j) {\n        return i & (1<<j) ? \"border-\" + x + \"-radius: 3px;\" : \"\"\n    }).filter(Boolean).join(\" \") + \"}\")\n}\nstyles.join(\"\\\\n\")\n*/\nmodule.exports = \"\\n.ace_br1 {border-top-left-radius    : 3px;}\\n.ace_br2 {border-top-right-radius   : 3px;}\\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\\n.ace_br4 {border-bottom-right-radius: 3px;}\\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\\n.ace_br8 {border-bottom-left-radius : 3px;}\\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\\n\\n\\n.ace_editor {\\n    position: relative;\\n    overflow: hidden;\\n    padding: 0;\\n    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;\\n    direction: ltr;\\n    text-align: left;\\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n\\n.ace_scroller {\\n    position: absolute;\\n    overflow: hidden;\\n    top: 0;\\n    bottom: 0;\\n    background-color: inherit;\\n    -ms-user-select: none;\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    user-select: none;\\n    cursor: text;\\n}\\n\\n.ace_content {\\n    position: absolute;\\n    box-sizing: border-box;\\n    min-width: 100%;\\n    contain: style size layout;\\n    font-variant-ligatures: no-common-ligatures;\\n}\\n\\n.ace_keyboard-focus:focus {\\n    box-shadow: inset 0 0 0 2px #5E9ED6;\\n    outline: none;\\n}\\n\\n.ace_dragging .ace_scroller:before{\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    content: '';\\n    background: rgba(250, 250, 250, 0.01);\\n    z-index: 1000;\\n}\\n.ace_dragging.ace_dark .ace_scroller:before{\\n    background: rgba(0, 0, 0, 0.01);\\n}\\n\\n.ace_gutter {\\n    position: absolute;\\n    overflow : hidden;\\n    width: auto;\\n    top: 0;\\n    bottom: 0;\\n    left: 0;\\n    cursor: default;\\n    z-index: 4;\\n    -ms-user-select: none;\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    user-select: none;\\n    contain: style size layout;\\n}\\n\\n.ace_gutter-active-line {\\n    position: absolute;\\n    left: 0;\\n    right: 0;\\n}\\n\\n.ace_scroller.ace_scroll-left:after {\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\\n    pointer-events: none;\\n}\\n\\n.ace_gutter-cell, .ace_gutter-cell_svg-icons {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    padding-left: 19px;\\n    padding-right: 6px;\\n    background-repeat: no-repeat;\\n}\\n\\n.ace_gutter-cell_svg-icons .ace_gutter_annotation {\\n    margin-left: -14px;\\n    float: left;\\n}\\n\\n.ace_gutter-cell .ace_gutter_annotation {\\n    margin-left: -19px;\\n    float: left;\\n}\\n\\n.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\\\");\\n    background-repeat: no-repeat;\\n    background-position: 2px center;\\n}\\n\\n.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\\\");\\n    background-repeat: no-repeat;\\n    background-position: 2px center;\\n}\\n\\n.ace_gutter-cell.ace_info, .ace_icon.ace_info {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\\\");\\n    background-repeat: no-repeat;\\n    background-position: 2px center;\\n}\\n.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\\\");\\n}\\n\\n.ace_icon_svg.ace_error {\\n    -webkit-mask-image: url(\\\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+\\\");\\n    background-color: crimson;\\n}\\n.ace_icon_svg.ace_warning {\\n    -webkit-mask-image: url(\\\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==\\\");\\n    background-color: darkorange;\\n}\\n.ace_icon_svg.ace_info {\\n    -webkit-mask-image: url(\\\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==\\\");\\n    background-color: royalblue;\\n}\\n\\n.ace_icon_svg.ace_error_fold {\\n    -webkit-mask-image: url(\\\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=\\\");\\n    background-color: crimson;\\n}\\n.ace_icon_svg.ace_warning_fold {\\n    -webkit-mask-image: url(\\\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=\\\");\\n    background-color: darkorange;\\n}\\n\\n.ace_scrollbar {\\n    contain: strict;\\n    position: absolute;\\n    right: 0;\\n    bottom: 0;\\n    z-index: 6;\\n}\\n\\n.ace_scrollbar-inner {\\n    position: absolute;\\n    cursor: text;\\n    left: 0;\\n    top: 0;\\n}\\n\\n.ace_scrollbar-v{\\n    overflow-x: hidden;\\n    overflow-y: scroll;\\n    top: 0;\\n}\\n\\n.ace_scrollbar-h {\\n    overflow-x: scroll;\\n    overflow-y: hidden;\\n    left: 0;\\n}\\n\\n.ace_print-margin {\\n    position: absolute;\\n    height: 100%;\\n}\\n\\n.ace_text-input {\\n    position: absolute;\\n    z-index: 0;\\n    width: 0.5em;\\n    height: 1em;\\n    opacity: 0;\\n    background: transparent;\\n    -moz-appearance: none;\\n    appearance: none;\\n    border: none;\\n    resize: none;\\n    outline: none;\\n    overflow: hidden;\\n    font: inherit;\\n    padding: 0 1px;\\n    margin: 0 -1px;\\n    contain: strict;\\n    -ms-user-select: text;\\n    -moz-user-select: text;\\n    -webkit-user-select: text;\\n    user-select: text;\\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\\n    white-space: pre!important;\\n}\\n.ace_text-input.ace_composition {\\n    background: transparent;\\n    color: inherit;\\n    z-index: 1000;\\n    opacity: 1;\\n}\\n.ace_composition_placeholder { color: transparent }\\n.ace_composition_marker { \\n    border-bottom: 1px solid;\\n    position: absolute;\\n    border-radius: 0;\\n    margin-top: 1px;\\n}\\n\\n[ace_nocontext=true] {\\n    transform: none!important;\\n    filter: none!important;\\n    clip-path: none!important;\\n    mask : none!important;\\n    contain: none!important;\\n    perspective: none!important;\\n    mix-blend-mode: initial!important;\\n    z-index: auto;\\n}\\n\\n.ace_layer {\\n    z-index: 1;\\n    position: absolute;\\n    overflow: hidden;\\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\\n    word-wrap: normal;\\n    white-space: pre;\\n    height: 100%;\\n    width: 100%;\\n    box-sizing: border-box;\\n    /* setting pointer-events: auto; on node under the mouse, which changes\\n        during scroll, will break mouse wheel scrolling in Safari */\\n    pointer-events: none;\\n}\\n\\n.ace_gutter-layer {\\n    position: relative;\\n    width: auto;\\n    text-align: right;\\n    pointer-events: auto;\\n    height: 1000000px;\\n    contain: style size layout;\\n}\\n\\n.ace_text-layer {\\n    font: inherit !important;\\n    position: absolute;\\n    height: 1000000px;\\n    width: 1000000px;\\n    contain: style size layout;\\n}\\n\\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\\n    contain: style size layout;\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n}\\n\\n.ace_hidpi .ace_text-layer,\\n.ace_hidpi .ace_gutter-layer,\\n.ace_hidpi .ace_content,\\n.ace_hidpi .ace_gutter {\\n    contain: strict;\\n}\\n.ace_hidpi .ace_text-layer > .ace_line, \\n.ace_hidpi .ace_text-layer > .ace_line_group {\\n    contain: strict;\\n}\\n\\n.ace_cjk {\\n    display: inline-block;\\n    text-align: center;\\n}\\n\\n.ace_cursor-layer {\\n    z-index: 4;\\n}\\n\\n.ace_cursor {\\n    z-index: 4;\\n    position: absolute;\\n    box-sizing: border-box;\\n    border-left: 2px solid;\\n    /* workaround for smooth cursor repaintng whole screen in chrome */\\n    transform: translatez(0);\\n}\\n\\n.ace_multiselect .ace_cursor {\\n    border-left-width: 1px;\\n}\\n\\n.ace_slim-cursors .ace_cursor {\\n    border-left-width: 1px;\\n}\\n\\n.ace_overwrite-cursors .ace_cursor {\\n    border-left-width: 0;\\n    border-bottom: 1px solid;\\n}\\n\\n.ace_hidden-cursors .ace_cursor {\\n    opacity: 0.2;\\n}\\n\\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\\n    opacity: 0;\\n}\\n\\n.ace_smooth-blinking .ace_cursor {\\n    transition: opacity 0.18s;\\n}\\n\\n.ace_animate-blinking .ace_cursor {\\n    animation-duration: 1000ms;\\n    animation-timing-function: step-end;\\n    animation-name: blink-ace-animate;\\n    animation-iteration-count: infinite;\\n}\\n\\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\\n    animation-duration: 1000ms;\\n    animation-timing-function: ease-in-out;\\n    animation-name: blink-ace-animate-smooth;\\n}\\n    \\n@keyframes blink-ace-animate {\\n    from, to { opacity: 1; }\\n    60% { opacity: 0; }\\n}\\n\\n@keyframes blink-ace-animate-smooth {\\n    from, to { opacity: 1; }\\n    45% { opacity: 1; }\\n    60% { opacity: 0; }\\n    85% { opacity: 0; }\\n}\\n\\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\\n    position: absolute;\\n    z-index: 3;\\n}\\n\\n.ace_marker-layer .ace_selection {\\n    position: absolute;\\n    z-index: 5;\\n}\\n\\n.ace_marker-layer .ace_bracket {\\n    position: absolute;\\n    z-index: 6;\\n}\\n\\n.ace_marker-layer .ace_error_bracket {\\n    position: absolute;\\n    border-bottom: 1px solid #DE5555;\\n    border-radius: 0;\\n}\\n\\n.ace_marker-layer .ace_active-line {\\n    position: absolute;\\n    z-index: 2;\\n}\\n\\n.ace_marker-layer .ace_selected-word {\\n    position: absolute;\\n    z-index: 4;\\n    box-sizing: border-box;\\n}\\n\\n.ace_line .ace_fold {\\n    box-sizing: border-box;\\n\\n    display: inline-block;\\n    height: 11px;\\n    margin-top: -2px;\\n    vertical-align: middle;\\n\\n    background-image:\\n        url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\n        url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\\\");\\n    background-repeat: no-repeat, repeat-x;\\n    background-position: center center, top left;\\n    color: transparent;\\n\\n    border: 1px solid black;\\n    border-radius: 2px;\\n\\n    cursor: pointer;\\n    pointer-events: auto;\\n}\\n\\n.ace_dark .ace_fold {\\n}\\n\\n.ace_fold:hover{\\n    background-image:\\n        url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\n        url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\\\");\\n}\\n\\n.ace_tooltip {\\n    background-color: #f5f5f5;\\n    border: 1px solid gray;\\n    border-radius: 1px;\\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\n    color: black;\\n    max-width: 100%;\\n    padding: 3px 4px;\\n    position: fixed;\\n    z-index: 999999;\\n    box-sizing: border-box;\\n    cursor: default;\\n    white-space: pre-wrap;\\n    word-wrap: break-word;\\n    line-height: normal;\\n    font-style: normal;\\n    font-weight: normal;\\n    letter-spacing: normal;\\n    pointer-events: none;\\n    overflow: auto;\\n    max-width: min(60em, 66vw);\\n    overscroll-behavior: contain;\\n}\\n.ace_tooltip pre {\\n    white-space: pre-wrap;\\n}\\n\\n.ace_tooltip.ace_dark {\\n    background-color: #636363;\\n    color: #fff;\\n}\\n\\n.ace_tooltip:focus {\\n    outline: 1px solid #5E9ED6;\\n}\\n\\n.ace_icon {\\n    display: inline-block;\\n    width: 18px;\\n    vertical-align: top;\\n}\\n\\n.ace_icon_svg {\\n    display: inline-block;\\n    width: 12px;\\n    vertical-align: top;\\n    -webkit-mask-repeat: no-repeat;\\n    -webkit-mask-size: 12px;\\n    -webkit-mask-position: center;\\n}\\n\\n.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {\\n    padding-right: 13px;\\n}\\n\\n.ace_fold-widget {\\n    box-sizing: border-box;\\n\\n    margin: 0 -12px 0 1px;\\n    display: none;\\n    width: 11px;\\n    vertical-align: top;\\n\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\\\");\\n    background-repeat: no-repeat;\\n    background-position: center;\\n\\n    border-radius: 3px;\\n    \\n    border: 1px solid transparent;\\n    cursor: pointer;\\n}\\n\\n.ace_folding-enabled .ace_fold-widget {\\n    display: inline-block;   \\n}\\n\\n.ace_fold-widget.ace_end {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\\\");\\n}\\n\\n.ace_fold-widget.ace_closed {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\\\");\\n}\\n\\n.ace_fold-widget:hover {\\n    border: 1px solid rgba(0, 0, 0, 0.3);\\n    background-color: rgba(255, 255, 255, 0.2);\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\n}\\n\\n.ace_fold-widget:active {\\n    border: 1px solid rgba(0, 0, 0, 0.4);\\n    background-color: rgba(0, 0, 0, 0.05);\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\n}\\n/**\\n * Dark version for fold widgets\\n */\\n.ace_dark .ace_fold-widget {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\\\");\\n}\\n.ace_dark .ace_fold-widget.ace_end {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\\\");\\n}\\n.ace_dark .ace_fold-widget.ace_closed {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\\\");\\n}\\n.ace_dark .ace_fold-widget:hover {\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\n    background-color: rgba(255, 255, 255, 0.1);\\n}\\n.ace_dark .ace_fold-widget:active {\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\n}\\n\\n.ace_inline_button {\\n    border: 1px solid lightgray;\\n    display: inline-block;\\n    margin: -1px 8px;\\n    padding: 0 5px;\\n    pointer-events: auto;\\n    cursor: pointer;\\n}\\n.ace_inline_button:hover {\\n    border-color: gray;\\n    background: rgba(200,200,200,0.2);\\n    display: inline-block;\\n    pointer-events: auto;\\n}\\n\\n.ace_fold-widget.ace_invalid {\\n    background-color: #FFB4B4;\\n    border-color: #DE5555;\\n}\\n\\n.ace_fade-fold-widgets .ace_fold-widget {\\n    transition: opacity 0.4s ease 0.05s;\\n    opacity: 0;\\n}\\n\\n.ace_fade-fold-widgets:hover .ace_fold-widget {\\n    transition: opacity 0.05s ease 0.05s;\\n    opacity:1;\\n}\\n\\n.ace_underline {\\n    text-decoration: underline;\\n}\\n\\n.ace_bold {\\n    font-weight: bold;\\n}\\n\\n.ace_nobold .ace_bold {\\n    font-weight: normal;\\n}\\n\\n.ace_italic {\\n    font-style: italic;\\n}\\n\\n\\n.ace_error-marker {\\n    background-color: rgba(255, 0, 0,0.2);\\n    position: absolute;\\n    z-index: 9;\\n}\\n\\n.ace_highlight-marker {\\n    background-color: rgba(255, 255, 0,0.2);\\n    position: absolute;\\n    z-index: 8;\\n}\\n\\n.ace_mobile-menu {\\n    position: absolute;\\n    line-height: 1.5;\\n    border-radius: 4px;\\n    -ms-user-select: none;\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    user-select: none;\\n    background: white;\\n    box-shadow: 1px 3px 2px grey;\\n    border: 1px solid #dcdcdc;\\n    color: black;\\n}\\n.ace_dark > .ace_mobile-menu {\\n    background: #333;\\n    color: #ccc;\\n    box-shadow: 1px 3px 2px grey;\\n    border: 1px solid #444;\\n\\n}\\n.ace_mobile-button {\\n    padding: 2px;\\n    cursor: pointer;\\n    overflow: hidden;\\n}\\n.ace_mobile-button:hover {\\n    background-color: #eee;\\n    opacity:1;\\n}\\n.ace_mobile-button:active {\\n    background-color: #ddd;\\n}\\n\\n.ace_placeholder {\\n    position: relative;\\n    font-family: arial;\\n    transform: scale(0.9);\\n    transform-origin: left;\\n    white-space: pre;\\n    opacity: 0.7;\\n    margin: 0 10px;\\n    z-index: 1;\\n}\\n\\n.ace_ghost_text {\\n    opacity: 0.5;\\n    font-style: italic;\\n}\\n\\n.ace_ghost_text_container > div {\\n    white-space: pre;\\n}\\n\\n.ghost_text_line_wrapped::after {\\n    content: \\\"\\u21A9\\\";\\n    position: absolute;\\n}\\n\\n.ace_lineWidgetContainer.ace_ghost_text {\\n    margin: 0px 4px\\n}\\n\\n.ace_screenreader-only {\\n    position:absolute;\\n    left:-10000px;\\n    top:auto;\\n    width:1px;\\n    height:1px;\\n    overflow:hidden;\\n}\\n\\n.ace_hidden_token {\\n    display: none;\\n}\";\n\n});\n\nace.define(\"ace/layer/decorators\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar Decorator = /** @class */ (function () {\n    function Decorator(parent, renderer) {\n        this.canvas = dom.createElement(\"canvas\");\n        this.renderer = renderer;\n        this.pixelRatio = 1;\n        this.maxHeight = renderer.layerConfig.maxHeight;\n        this.lineHeight = renderer.layerConfig.lineHeight;\n        this.canvasHeight = parent.parent.scrollHeight;\n        this.heightRatio = this.canvasHeight / this.maxHeight;\n        this.canvasWidth = parent.width;\n        this.minDecorationHeight = (2 * this.pixelRatio) | 0;\n        this.halfMinDecorationHeight = (this.minDecorationHeight / 2) | 0;\n        this.canvas.width = this.canvasWidth;\n        this.canvas.height = this.canvasHeight;\n        this.canvas.style.top = 0 + \"px\";\n        this.canvas.style.right = 0 + \"px\";\n        this.canvas.style.zIndex = 7 + \"px\";\n        this.canvas.style.position = \"absolute\";\n        this.colors = {};\n        this.colors.dark = {\n            \"error\": \"rgba(255, 18, 18, 1)\",\n            \"warning\": \"rgba(18, 136, 18, 1)\",\n            \"info\": \"rgba(18, 18, 136, 1)\"\n        };\n        this.colors.light = {\n            \"error\": \"rgb(255,51,51)\",\n            \"warning\": \"rgb(32,133,72)\",\n            \"info\": \"rgb(35,68,138)\"\n        };\n        parent.element.appendChild(this.canvas);\n    }\n    Decorator.prototype.$updateDecorators = function (config) {\n        var colors = (this.renderer.theme.isDark === true) ? this.colors.dark : this.colors.light;\n        if (config) {\n            this.maxHeight = config.maxHeight;\n            this.lineHeight = config.lineHeight;\n            this.canvasHeight = config.height;\n            var allLineHeight = (config.lastRow + 1) * this.lineHeight;\n            if (allLineHeight < this.canvasHeight) {\n                this.heightRatio = 1;\n            }\n            else {\n                this.heightRatio = this.canvasHeight / this.maxHeight;\n            }\n        }\n        var ctx = this.canvas.getContext(\"2d\");\n        function compare(a, b) {\n            if (a.priority < b.priority)\n                return -1;\n            if (a.priority > b.priority)\n                return 1;\n            return 0;\n        }\n        var annotations = this.renderer.session.$annotations;\n        ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        if (annotations) {\n            var priorities = {\n                \"info\": 1,\n                \"warning\": 2,\n                \"error\": 3\n            };\n            annotations.forEach(function (item) {\n                item.priority = priorities[item.type] || null;\n            });\n            annotations = annotations.sort(compare);\n            var foldData = this.renderer.session.$foldData;\n            for (var i = 0; i < annotations.length; i++) {\n                var row = annotations[i].row;\n                var compensateFold = this.compensateFoldRows(row, foldData);\n                var currentY = Math.round((row - compensateFold) * this.lineHeight * this.heightRatio);\n                var y1 = Math.round(((row - compensateFold) * this.lineHeight * this.heightRatio));\n                var y2 = Math.round((((row - compensateFold) * this.lineHeight + this.lineHeight) * this.heightRatio));\n                var height = y2 - y1;\n                if (height < this.minDecorationHeight) {\n                    var yCenter = ((y1 + y2) / 2) | 0;\n                    if (yCenter < this.halfMinDecorationHeight) {\n                        yCenter = this.halfMinDecorationHeight;\n                    }\n                    else if (yCenter + this.halfMinDecorationHeight > this.canvasHeight) {\n                        yCenter = this.canvasHeight - this.halfMinDecorationHeight;\n                    }\n                    y1 = Math.round(yCenter - this.halfMinDecorationHeight);\n                    y2 = Math.round(yCenter + this.halfMinDecorationHeight);\n                }\n                ctx.fillStyle = colors[annotations[i].type] || null;\n                ctx.fillRect(0, currentY, this.canvasWidth, y2 - y1);\n            }\n        }\n        var cursor = this.renderer.session.selection.getCursor();\n        if (cursor) {\n            var compensateFold = this.compensateFoldRows(cursor.row, foldData);\n            var currentY = Math.round((cursor.row - compensateFold) * this.lineHeight * this.heightRatio);\n            ctx.fillStyle = \"rgba(0, 0, 0, 0.5)\";\n            ctx.fillRect(0, currentY, this.canvasWidth, 2);\n        }\n    };\n    Decorator.prototype.compensateFoldRows = function (row, foldData) {\n        var compensateFold = 0;\n        if (foldData && foldData.length > 0) {\n            for (var j = 0; j < foldData.length; j++) {\n                if (row > foldData[j].start.row && row < foldData[j].end.row) {\n                    compensateFold += row - foldData[j].start.row;\n                }\n                else if (row >= foldData[j].end.row) {\n                    compensateFold += foldData[j].end.row - foldData[j].start.row;\n                }\n            }\n        }\n        return compensateFold;\n    };\n    return Decorator;\n}());\noop.implement(Decorator.prototype, EventEmitter);\nexports.Decorator = Decorator;\n\n});\n\nace.define(\"ace/virtual_renderer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/config\",\"ace/layer/gutter\",\"ace/layer/marker\",\"ace/layer/text\",\"ace/layer/cursor\",\"ace/scrollbar\",\"ace/scrollbar\",\"ace/scrollbar_custom\",\"ace/scrollbar_custom\",\"ace/renderloop\",\"ace/layer/font_metrics\",\"ace/lib/event_emitter\",\"ace/css/editor-css\",\"ace/layer/decorators\",\"ace/lib/useragent\",\"ace/layer/text_util\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar lang = require(\"./lib/lang\");\nvar config = require(\"./config\");\nvar GutterLayer = require(\"./layer/gutter\").Gutter;\nvar MarkerLayer = require(\"./layer/marker\").Marker;\nvar TextLayer = require(\"./layer/text\").Text;\nvar CursorLayer = require(\"./layer/cursor\").Cursor;\nvar HScrollBar = require(\"./scrollbar\").HScrollBar;\nvar VScrollBar = require(\"./scrollbar\").VScrollBar;\nvar HScrollBarCustom = require(\"./scrollbar_custom\").HScrollBar;\nvar VScrollBarCustom = require(\"./scrollbar_custom\").VScrollBar;\nvar RenderLoop = require(\"./renderloop\").RenderLoop;\nvar FontMetrics = require(\"./layer/font_metrics\").FontMetrics;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar editorCss = require(\"./css/editor-css\");\nvar Decorator = require(\"./layer/decorators\").Decorator;\nvar useragent = require(\"./lib/useragent\");\nvar isTextToken = require(\"./layer/text_util\").isTextToken;\ndom.importCssString(editorCss, \"ace_editor.css\", false);\nvar VirtualRenderer = /** @class */ (function () {\n    function VirtualRenderer(container, theme) {\n        var _self = this;\n        this.container = container || dom.createElement(\"div\");\n        dom.addCssClass(this.container, \"ace_editor\");\n        if (dom.HI_DPI)\n            dom.addCssClass(this.container, \"ace_hidpi\");\n        this.setTheme(theme);\n        if (config.get(\"useStrictCSP\") == null)\n            config.set(\"useStrictCSP\", false);\n        this.$gutter = dom.createElement(\"div\");\n        this.$gutter.className = \"ace_gutter\";\n        this.container.appendChild(this.$gutter);\n        this.$gutter.setAttribute(\"aria-hidden\", \"true\");\n        this.scroller = dom.createElement(\"div\");\n        this.scroller.className = \"ace_scroller\";\n        this.container.appendChild(this.scroller);\n        this.content = dom.createElement(\"div\");\n        this.content.className = \"ace_content\";\n        this.scroller.appendChild(this.content);\n        this.$gutterLayer = new GutterLayer(this.$gutter);\n        this.$gutterLayer.on(\"changeGutterWidth\", this.onGutterResize.bind(this));\n        this.$markerBack = new MarkerLayer(this.content);\n        var textLayer = this.$textLayer = new TextLayer(this.content);\n        this.canvas = textLayer.element;\n        this.$markerFront = new MarkerLayer(this.content);\n        this.$cursorLayer = new CursorLayer(this.content);\n        this.$horizScroll = false;\n        this.$vScroll = false;\n        this.scrollBar =\n            this.scrollBarV = new VScrollBar(this.container, this);\n        this.scrollBarH = new HScrollBar(this.container, this);\n        this.scrollBarV.on(\"scroll\", function (e) {\n            if (!_self.$scrollAnimation)\n                _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n        });\n        this.scrollBarH.on(\"scroll\", function (e) {\n            if (!_self.$scrollAnimation)\n                _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n        });\n        this.scrollTop = 0;\n        this.scrollLeft = 0;\n        this.cursorPos = {\n            row: 0,\n            column: 0\n        };\n        this.$fontMetrics = new FontMetrics(this.container);\n        this.$textLayer.$setFontMetrics(this.$fontMetrics);\n        this.$textLayer.on(\"changeCharacterSize\", function (e) {\n            _self.updateCharacterSize();\n            _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);\n            _self._signal(\"changeCharacterSize\", e);\n        });\n        this.$size = {\n            width: 0,\n            height: 0,\n            scrollerHeight: 0,\n            scrollerWidth: 0,\n            $dirty: true\n        };\n        this.layerConfig = {\n            width: 1,\n            padding: 0,\n            firstRow: 0,\n            firstRowScreen: 0,\n            lastRow: 0,\n            lineHeight: 0,\n            characterWidth: 0,\n            minHeight: 1,\n            maxHeight: 1,\n            offset: 0,\n            height: 1,\n            gutterOffset: 1\n        };\n        this.scrollMargin = {\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0,\n            v: 0,\n            h: 0\n        };\n        this.margin = {\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0,\n            v: 0,\n            h: 0\n        };\n        this.$keepTextAreaAtCursor = !useragent.isIOS;\n        this.$loop = new RenderLoop(this.$renderChanges.bind(this), this.container.ownerDocument.defaultView);\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.updateCharacterSize();\n        this.setPadding(4);\n        this.$addResizeObserver();\n        config.resetOptions(this);\n        config._signal(\"renderer\", this);\n    }\n    VirtualRenderer.prototype.updateCharacterSize = function () {\n        if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {\n            this.$allowBoldFonts = this.$textLayer.allowBoldFonts;\n            this.setStyle(\"ace_nobold\", !this.$allowBoldFonts);\n        }\n        this.layerConfig.characterWidth =\n            this.characterWidth = this.$textLayer.getCharacterWidth();\n        this.layerConfig.lineHeight =\n            this.lineHeight = this.$textLayer.getLineHeight();\n        this.$updatePrintMargin();\n        dom.setStyle(this.scroller.style, \"line-height\", this.lineHeight + \"px\");\n    };\n    VirtualRenderer.prototype.setSession = function (session) {\n        if (this.session)\n            this.session.doc.off(\"changeNewLineMode\", this.onChangeNewLineMode);\n        this.session = session;\n        if (session && this.scrollMargin.top && session.getScrollTop() <= 0)\n            session.setScrollTop(-this.scrollMargin.top);\n        this.$cursorLayer.setSession(session);\n        this.$markerBack.setSession(session);\n        this.$markerFront.setSession(session);\n        this.$gutterLayer.setSession(session);\n        this.$textLayer.setSession(session);\n        if (!session)\n            return;\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.session.$setFontMetrics(this.$fontMetrics);\n        this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n        this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);\n        this.onChangeNewLineMode();\n        this.session.doc.on(\"changeNewLineMode\", this.onChangeNewLineMode);\n    };\n    VirtualRenderer.prototype.updateLines = function (firstRow, lastRow, force) {\n        if (lastRow === undefined)\n            lastRow = Infinity;\n        if (!this.$changedLines) {\n            this.$changedLines = {\n                firstRow: firstRow,\n                lastRow: lastRow\n            };\n        }\n        else {\n            if (this.$changedLines.firstRow > firstRow)\n                this.$changedLines.firstRow = firstRow;\n            if (this.$changedLines.lastRow < lastRow)\n                this.$changedLines.lastRow = lastRow;\n        }\n        if (this.$changedLines.lastRow < this.layerConfig.firstRow) {\n            if (force)\n                this.$changedLines.lastRow = this.layerConfig.lastRow;\n            else\n                return;\n        }\n        if (this.$changedLines.firstRow > this.layerConfig.lastRow)\n            return;\n        this.$loop.schedule(this.CHANGE_LINES);\n    };\n    VirtualRenderer.prototype.onChangeNewLineMode = function () {\n        this.$loop.schedule(this.CHANGE_TEXT);\n        this.$textLayer.$updateEolChar();\n        this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);\n    };\n    VirtualRenderer.prototype.onChangeTabSize = function () {\n        this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);\n        this.$textLayer.onChangeTabSize();\n    };\n    VirtualRenderer.prototype.updateText = function () {\n        this.$loop.schedule(this.CHANGE_TEXT);\n    };\n    VirtualRenderer.prototype.updateFull = function (force) {\n        if (force)\n            this.$renderChanges(this.CHANGE_FULL, true);\n        else\n            this.$loop.schedule(this.CHANGE_FULL);\n    };\n    VirtualRenderer.prototype.updateFontSize = function () {\n        this.$textLayer.checkForSizeChanges();\n    };\n    VirtualRenderer.prototype.$updateSizeAsync = function () {\n        if (this.$loop.pending)\n            this.$size.$dirty = true;\n        else\n            this.onResize();\n    };\n    VirtualRenderer.prototype.onResize = function (force, gutterWidth, width, height) {\n        if (this.resizing > 2)\n            return;\n        else if (this.resizing > 0)\n            this.resizing++;\n        else\n            this.resizing = force ? 1 : 0;\n        var el = this.container;\n        if (!height)\n            height = el.clientHeight || el.scrollHeight;\n        if (!height && this.$maxLines && this.lineHeight > 1) {\n            if (!el.style.height || el.style.height == \"0px\") {\n                el.style.height = \"1px\";\n                height = el.clientHeight || el.scrollHeight;\n            }\n        }\n        if (!width)\n            width = el.clientWidth || el.scrollWidth;\n        var changes = this.$updateCachedSize(force, gutterWidth, width, height);\n        if (this.$resizeTimer)\n            this.$resizeTimer.cancel();\n        if (!this.$size.scrollerHeight || (!width && !height))\n            return this.resizing = 0;\n        if (force)\n            this.$gutterLayer.$padding = null;\n        if (force)\n            this.$renderChanges(changes | this.$changes, true);\n        else\n            this.$loop.schedule(changes | this.$changes);\n        if (this.resizing)\n            this.resizing = 0;\n        this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n        if (this.$customScrollbar) {\n            this.$updateCustomScrollbar(true);\n        }\n    };\n    VirtualRenderer.prototype.$updateCachedSize = function (force, gutterWidth, width, height) {\n        height -= (this.$extraHeight || 0);\n        var changes = 0;\n        var size = this.$size;\n        var oldSize = {\n            width: size.width,\n            height: size.height,\n            scrollerHeight: size.scrollerHeight,\n            scrollerWidth: size.scrollerWidth\n        };\n        if (height && (force || size.height != height)) {\n            size.height = height;\n            changes |= this.CHANGE_SIZE;\n            size.scrollerHeight = size.height;\n            if (this.$horizScroll)\n                size.scrollerHeight -= this.scrollBarH.getHeight();\n            this.scrollBarV.setHeight(size.scrollerHeight);\n            this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + \"px\";\n            changes = changes | this.CHANGE_SCROLL;\n        }\n        if (width && (force || size.width != width)) {\n            changes |= this.CHANGE_SIZE;\n            size.width = width;\n            if (gutterWidth == null)\n                gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n            this.gutterWidth = gutterWidth;\n            dom.setStyle(this.scrollBarH.element.style, \"left\", gutterWidth + \"px\");\n            dom.setStyle(this.scroller.style, \"left\", gutterWidth + this.margin.left + \"px\");\n            size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth() - this.margin.h);\n            dom.setStyle(this.$gutter.style, \"left\", this.margin.left + \"px\");\n            var right = this.scrollBarV.getWidth() + \"px\";\n            dom.setStyle(this.scrollBarH.element.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"bottom\", this.scrollBarH.getHeight());\n            this.scrollBarH.setWidth(size.scrollerWidth);\n            if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force) {\n                changes |= this.CHANGE_FULL;\n            }\n        }\n        size.$dirty = !width || !height;\n        if (changes)\n            this._signal(\"resize\", oldSize);\n        return changes;\n    };\n    VirtualRenderer.prototype.onGutterResize = function (width) {\n        var gutterWidth = this.$showGutter ? width : 0;\n        if (gutterWidth != this.gutterWidth)\n            this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);\n        if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        }\n        else if (this.$size.$dirty) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        }\n        else {\n            this.$computeLayerConfig();\n        }\n    };\n    VirtualRenderer.prototype.adjustWrapLimit = function () {\n        var availableWidth = this.$size.scrollerWidth - this.$padding * 2;\n        var limit = Math.floor(availableWidth / this.characterWidth);\n        return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);\n    };\n    VirtualRenderer.prototype.setAnimatedScroll = function (shouldAnimate) {\n        this.setOption(\"animatedScroll\", shouldAnimate);\n    };\n    VirtualRenderer.prototype.getAnimatedScroll = function () {\n        return this.$animatedScroll;\n    };\n    VirtualRenderer.prototype.setShowInvisibles = function (showInvisibles) {\n        this.setOption(\"showInvisibles\", showInvisibles);\n        this.session.$bidiHandler.setShowInvisibles(showInvisibles);\n    };\n    VirtualRenderer.prototype.getShowInvisibles = function () {\n        return this.getOption(\"showInvisibles\");\n    };\n    VirtualRenderer.prototype.getDisplayIndentGuides = function () {\n        return this.getOption(\"displayIndentGuides\");\n    };\n    VirtualRenderer.prototype.setDisplayIndentGuides = function (display) {\n        this.setOption(\"displayIndentGuides\", display);\n    };\n    VirtualRenderer.prototype.getHighlightIndentGuides = function () {\n        return this.getOption(\"highlightIndentGuides\");\n    };\n    VirtualRenderer.prototype.setHighlightIndentGuides = function (highlight) {\n        this.setOption(\"highlightIndentGuides\", highlight);\n    };\n    VirtualRenderer.prototype.setShowPrintMargin = function (showPrintMargin) {\n        this.setOption(\"showPrintMargin\", showPrintMargin);\n    };\n    VirtualRenderer.prototype.getShowPrintMargin = function () {\n        return this.getOption(\"showPrintMargin\");\n    };\n    VirtualRenderer.prototype.setPrintMarginColumn = function (printMarginColumn) {\n        this.setOption(\"printMarginColumn\", printMarginColumn);\n    };\n    VirtualRenderer.prototype.getPrintMarginColumn = function () {\n        return this.getOption(\"printMarginColumn\");\n    };\n    VirtualRenderer.prototype.getShowGutter = function () {\n        return this.getOption(\"showGutter\");\n    };\n    VirtualRenderer.prototype.setShowGutter = function (show) {\n        return this.setOption(\"showGutter\", show);\n    };\n    VirtualRenderer.prototype.getFadeFoldWidgets = function () {\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n    VirtualRenderer.prototype.setFadeFoldWidgets = function (show) {\n        this.setOption(\"fadeFoldWidgets\", show);\n    };\n    VirtualRenderer.prototype.setHighlightGutterLine = function (shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n    VirtualRenderer.prototype.getHighlightGutterLine = function () {\n        return this.getOption(\"highlightGutterLine\");\n    };\n    VirtualRenderer.prototype.$updatePrintMargin = function () {\n        if (!this.$showPrintMargin && !this.$printMarginEl)\n            return;\n        if (!this.$printMarginEl) {\n            var containerEl = dom.createElement(\"div\");\n            containerEl.className = \"ace_layer ace_print-margin-layer\";\n            this.$printMarginEl = dom.createElement(\"div\");\n            this.$printMarginEl.className = \"ace_print-margin\";\n            containerEl.appendChild(this.$printMarginEl);\n            this.content.insertBefore(containerEl, this.content.firstChild);\n        }\n        var style = this.$printMarginEl.style;\n        style.left = Math.round(this.characterWidth * this.$printMarginColumn + this.$padding) + \"px\";\n        style.visibility = this.$showPrintMargin ? \"visible\" : \"hidden\";\n        if (this.session && this.session.$wrap == -1)\n            this.adjustWrapLimit();\n    };\n    VirtualRenderer.prototype.getContainerElement = function () {\n        return this.container;\n    };\n    VirtualRenderer.prototype.getMouseEventTarget = function () {\n        return this.scroller;\n    };\n    VirtualRenderer.prototype.getTextAreaContainer = function () {\n        return this.container;\n    };\n    VirtualRenderer.prototype.$moveTextAreaToCursor = function () {\n        if (this.$isMousePressed)\n            return;\n        var style = this.textarea.style;\n        var composition = this.$composition;\n        if (!this.$keepTextAreaAtCursor && !composition) {\n            dom.translate(this.textarea, -100, 0);\n            return;\n        }\n        var pixelPos = this.$cursorLayer.$pixelPos;\n        if (!pixelPos)\n            return;\n        if (composition && composition.markerRange)\n            pixelPos = this.$cursorLayer.getPixelPosition(composition.markerRange.start, true);\n        var config = this.layerConfig;\n        var posTop = pixelPos.top;\n        var posLeft = pixelPos.left;\n        posTop -= config.offset;\n        var h = composition && composition.useTextareaForIME || useragent.isMobile ? this.lineHeight : 1;\n        if (posTop < 0 || posTop > config.height - h) {\n            dom.translate(this.textarea, 0, 0);\n            return;\n        }\n        var w = 1;\n        var maxTop = this.$size.height - h;\n        if (!composition) {\n            posTop += this.lineHeight;\n        }\n        else {\n            if (composition.useTextareaForIME) {\n                var val = this.textarea.value;\n                w = this.characterWidth * (this.session.$getStringScreenWidth(val)[0]);\n            }\n            else {\n                posTop += this.lineHeight + 2;\n            }\n        }\n        posLeft -= this.scrollLeft;\n        if (posLeft > this.$size.scrollerWidth - w)\n            posLeft = this.$size.scrollerWidth - w;\n        posLeft += this.gutterWidth + this.margin.left;\n        dom.setStyle(style, \"height\", h + \"px\");\n        dom.setStyle(style, \"width\", w + \"px\");\n        dom.translate(this.textarea, Math.min(posLeft, this.$size.scrollerWidth - w), Math.min(posTop, maxTop));\n    };\n    VirtualRenderer.prototype.getFirstVisibleRow = function () {\n        return this.layerConfig.firstRow;\n    };\n    VirtualRenderer.prototype.getFirstFullyVisibleRow = function () {\n        return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);\n    };\n    VirtualRenderer.prototype.getLastFullyVisibleRow = function () {\n        var config = this.layerConfig;\n        var lastRow = config.lastRow;\n        var top = this.session.documentToScreenRow(lastRow, 0) * config.lineHeight;\n        if (top - this.session.getScrollTop() > config.height - config.lineHeight)\n            return lastRow - 1;\n        return lastRow;\n    };\n    VirtualRenderer.prototype.getLastVisibleRow = function () {\n        return this.layerConfig.lastRow;\n    };\n    VirtualRenderer.prototype.setPadding = function (padding) {\n        this.$padding = padding;\n        this.$textLayer.setPadding(padding);\n        this.$cursorLayer.setPadding(padding);\n        this.$markerFront.setPadding(padding);\n        this.$markerBack.setPadding(padding);\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.$updatePrintMargin();\n    };\n    VirtualRenderer.prototype.setScrollMargin = function (top, bottom, left, right) {\n        var sm = this.scrollMargin;\n        sm.top = top | 0;\n        sm.bottom = bottom | 0;\n        sm.right = right | 0;\n        sm.left = left | 0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        if (sm.top && this.scrollTop <= 0 && this.session)\n            this.session.setScrollTop(-sm.top);\n        this.updateFull();\n    };\n    VirtualRenderer.prototype.setMargin = function (top, bottom, left, right) {\n        var sm = this.margin;\n        sm.top = top | 0;\n        sm.bottom = bottom | 0;\n        sm.right = right | 0;\n        sm.left = left | 0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        this.$updateCachedSize(true, this.gutterWidth, this.$size.width, this.$size.height);\n        this.updateFull();\n    };\n    VirtualRenderer.prototype.getHScrollBarAlwaysVisible = function () {\n        return this.$hScrollBarAlwaysVisible;\n    };\n    VirtualRenderer.prototype.setHScrollBarAlwaysVisible = function (alwaysVisible) {\n        this.setOption(\"hScrollBarAlwaysVisible\", alwaysVisible);\n    };\n    VirtualRenderer.prototype.getVScrollBarAlwaysVisible = function () {\n        return this.$vScrollBarAlwaysVisible;\n    };\n    VirtualRenderer.prototype.setVScrollBarAlwaysVisible = function (alwaysVisible) {\n        this.setOption(\"vScrollBarAlwaysVisible\", alwaysVisible);\n    };\n    VirtualRenderer.prototype.$updateScrollBarV = function () {\n        var scrollHeight = this.layerConfig.maxHeight;\n        var scrollerHeight = this.$size.scrollerHeight;\n        if (!this.$maxLines && this.$scrollPastEnd) {\n            scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;\n            if (this.scrollTop > scrollHeight - scrollerHeight) {\n                scrollHeight = this.scrollTop + scrollerHeight;\n                this.scrollBarV.scrollTop = null;\n            }\n        }\n        this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);\n        this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);\n    };\n    VirtualRenderer.prototype.$updateScrollBarH = function () {\n        this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);\n        this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);\n    };\n    VirtualRenderer.prototype.freeze = function () {\n        this.$frozen = true;\n    };\n    VirtualRenderer.prototype.unfreeze = function () {\n        this.$frozen = false;\n    };\n    VirtualRenderer.prototype.$renderChanges = function (changes, force) {\n        if (this.$changes) {\n            changes |= this.$changes;\n            this.$changes = 0;\n        }\n        if ((!this.session || !this.container.offsetWidth || this.$frozen) || (!changes && !force)) {\n            this.$changes |= changes;\n            return;\n        }\n        if (this.$size.$dirty) {\n            this.$changes |= changes;\n            return this.onResize(true);\n        }\n        if (!this.lineHeight) {\n            this.$textLayer.checkForSizeChanges();\n        }\n        this._signal(\"beforeRender\", changes);\n        if (this.session && this.session.$bidiHandler)\n            this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);\n        var config = this.layerConfig;\n        if (changes & this.CHANGE_FULL ||\n            changes & this.CHANGE_SIZE ||\n            changes & this.CHANGE_TEXT ||\n            changes & this.CHANGE_LINES ||\n            changes & this.CHANGE_SCROLL ||\n            changes & this.CHANGE_H_SCROLL) {\n            changes |= this.$computeLayerConfig() | this.$loop.clear();\n            if (config.firstRow != this.layerConfig.firstRow && config.firstRowScreen == this.layerConfig.firstRowScreen) {\n                var st = this.scrollTop + (config.firstRow - Math.max(this.layerConfig.firstRow, 0)) * this.lineHeight;\n                if (st > 0) {\n                    this.scrollTop = st;\n                    changes = changes | this.CHANGE_SCROLL;\n                    changes |= this.$computeLayerConfig() | this.$loop.clear();\n                }\n            }\n            config = this.layerConfig;\n            this.$updateScrollBarV();\n            if (changes & this.CHANGE_H_SCROLL)\n                this.$updateScrollBarH();\n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            var width = config.width + 2 * this.$padding + \"px\";\n            var height = config.minHeight + \"px\";\n            dom.setStyle(this.content.style, \"width\", width);\n            dom.setStyle(this.content.style, \"height\", height);\n        }\n        if (changes & this.CHANGE_H_SCROLL) {\n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            this.scroller.className = this.scrollLeft <= 0 ? \"ace_scroller \" : \"ace_scroller ace_scroll-left \";\n            if (this.enableKeyboardAccessibility)\n                this.scroller.className += this.keyboardFocusClassName;\n        }\n        if (changes & this.CHANGE_FULL) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n        if (changes & this.CHANGE_SCROLL) {\n            this.$changedLines = null;\n            if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)\n                this.$textLayer.update(config);\n            else\n                this.$textLayer.scrollLines(config);\n            if (this.$showGutter) {\n                if (changes & this.CHANGE_GUTTER || changes & this.CHANGE_LINES)\n                    this.$gutterLayer.update(config);\n                else\n                    this.$gutterLayer.scrollLines(config);\n            }\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n        if (changes & this.CHANGE_TEXT) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n        }\n        else if (changes & this.CHANGE_LINES) {\n            if (this.$updateLines() || (changes & this.CHANGE_GUTTER) && this.$showGutter)\n                this.$gutterLayer.update(config);\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n        }\n        else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n        }\n        else if (changes & this.CHANGE_CURSOR) {\n            if (this.$highlightGutterLine)\n                this.$gutterLayer.updateLineHighlight(config);\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n        }\n        if (changes & this.CHANGE_CURSOR) {\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n        }\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {\n            this.$markerFront.update(config);\n        }\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {\n            this.$markerBack.update(config);\n        }\n        this._signal(\"afterRender\", changes);\n    };\n    VirtualRenderer.prototype.$autosize = function () {\n        var height = this.session.getScreenLength() * this.lineHeight;\n        var maxHeight = this.$maxLines * this.lineHeight;\n        var desiredHeight = Math.min(maxHeight, Math.max((this.$minLines || 1) * this.lineHeight, height)) + this.scrollMargin.v + (this.$extraHeight || 0);\n        if (this.$horizScroll)\n            desiredHeight += this.scrollBarH.getHeight();\n        if (this.$maxPixelHeight && desiredHeight > this.$maxPixelHeight)\n            desiredHeight = this.$maxPixelHeight;\n        var hideScrollbars = desiredHeight <= 2 * this.lineHeight;\n        var vScroll = !hideScrollbars && height > maxHeight;\n        if (desiredHeight != this.desiredHeight ||\n            this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {\n            if (vScroll != this.$vScroll) {\n                this.$vScroll = vScroll;\n                this.scrollBarV.setVisible(vScroll);\n            }\n            var w = this.container.clientWidth;\n            this.container.style.height = desiredHeight + \"px\";\n            this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);\n            this.desiredHeight = desiredHeight;\n            this._signal(\"autosize\");\n        }\n    };\n    VirtualRenderer.prototype.$computeLayerConfig = function () {\n        var session = this.session;\n        var size = this.$size;\n        var hideScrollbars = size.height <= 2 * this.lineHeight;\n        var screenLines = this.session.getScreenLength();\n        var maxHeight = screenLines * this.lineHeight;\n        var longestLine = this.$getLongestLine();\n        var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible ||\n            size.scrollerWidth - longestLine - 2 * this.$padding < 0);\n        var hScrollChanged = this.$horizScroll !== horizScroll;\n        if (hScrollChanged) {\n            this.$horizScroll = horizScroll;\n            this.scrollBarH.setVisible(horizScroll);\n        }\n        var vScrollBefore = this.$vScroll; // autosize can change vscroll value in which case we need to update longestLine\n        if (this.$maxLines && this.lineHeight > 1)\n            this.$autosize();\n        var minHeight = size.scrollerHeight + this.lineHeight;\n        var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd\n            ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd\n            : 0;\n        maxHeight += scrollPastEnd;\n        var sm = this.scrollMargin;\n        this.session.setScrollTop(Math.max(-sm.top, Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)));\n        this.session.setScrollLeft(Math.max(-sm.left, Math.min(this.scrollLeft, longestLine + 2 * this.$padding - size.scrollerWidth + sm.right)));\n        var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible ||\n            size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);\n        var vScrollChanged = vScrollBefore !== vScroll;\n        if (vScrollChanged) {\n            this.$vScroll = vScroll;\n            this.scrollBarV.setVisible(vScroll);\n        }\n        var offset = this.scrollTop % this.lineHeight;\n        var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;\n        var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));\n        var lastRow = firstRow + lineCount;\n        var firstRowScreen, firstRowHeight;\n        var lineHeight = this.lineHeight;\n        firstRow = session.screenToDocumentRow(firstRow, 0);\n        var foldLine = session.getFoldLine(firstRow);\n        if (foldLine) {\n            firstRow = foldLine.start.row;\n        }\n        firstRowScreen = session.documentToScreenRow(firstRow, 0);\n        firstRowHeight = session.getRowLength(firstRow) * lineHeight;\n        lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);\n        minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight +\n            firstRowHeight;\n        offset = this.scrollTop - firstRowScreen * lineHeight;\n        var changes = 0;\n        if (this.layerConfig.width != longestLine || hScrollChanged)\n            changes = this.CHANGE_H_SCROLL;\n        if (hScrollChanged || vScrollChanged) {\n            changes |= this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);\n            this._signal(\"scrollbarVisibilityChanged\");\n            if (vScrollChanged)\n                longestLine = this.$getLongestLine();\n        }\n        this.layerConfig = {\n            width: longestLine,\n            padding: this.$padding,\n            firstRow: firstRow,\n            firstRowScreen: firstRowScreen,\n            lastRow: lastRow,\n            lineHeight: lineHeight,\n            characterWidth: this.characterWidth,\n            minHeight: minHeight,\n            maxHeight: maxHeight,\n            offset: offset,\n            gutterOffset: lineHeight ? Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)) : 0,\n            height: this.$size.scrollerHeight\n        };\n        if (this.session.$bidiHandler)\n            this.session.$bidiHandler.setContentWidth(longestLine - this.$padding);\n        return changes;\n    };\n    VirtualRenderer.prototype.$updateLines = function () {\n        if (!this.$changedLines)\n            return;\n        var firstRow = this.$changedLines.firstRow;\n        var lastRow = this.$changedLines.lastRow;\n        this.$changedLines = null;\n        var layerConfig = this.layerConfig;\n        if (firstRow > layerConfig.lastRow + 1) {\n            return;\n        }\n        if (lastRow < layerConfig.firstRow) {\n            return;\n        }\n        if (lastRow === Infinity) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(layerConfig);\n            this.$textLayer.update(layerConfig);\n            return;\n        }\n        this.$textLayer.updateLines(layerConfig, firstRow, lastRow);\n        return true;\n    };\n    VirtualRenderer.prototype.$getLongestLine = function () {\n        var charCount = this.session.getScreenWidth();\n        if (this.showInvisibles && !this.session.$useWrapMode)\n            charCount += 1;\n        if (this.$textLayer && charCount > this.$textLayer.MAX_LINE_LENGTH)\n            charCount = this.$textLayer.MAX_LINE_LENGTH + 30;\n        return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));\n    };\n    VirtualRenderer.prototype.updateFrontMarkers = function () {\n        this.$markerFront.setMarkers(this.session.getMarkers(true));\n        this.$loop.schedule(this.CHANGE_MARKER_FRONT);\n    };\n    VirtualRenderer.prototype.updateBackMarkers = function () {\n        this.$markerBack.setMarkers(this.session.getMarkers());\n        this.$loop.schedule(this.CHANGE_MARKER_BACK);\n    };\n    VirtualRenderer.prototype.addGutterDecoration = function (row, className) {\n        this.$gutterLayer.addGutterDecoration(row, className);\n    };\n    VirtualRenderer.prototype.removeGutterDecoration = function (row, className) {\n        this.$gutterLayer.removeGutterDecoration(row, className);\n    };\n    VirtualRenderer.prototype.updateBreakpoints = function (rows) {\n        this._rows = rows;\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    VirtualRenderer.prototype.setAnnotations = function (annotations) {\n        this.$gutterLayer.setAnnotations(annotations);\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    VirtualRenderer.prototype.updateCursor = function () {\n        this.$loop.schedule(this.CHANGE_CURSOR);\n    };\n    VirtualRenderer.prototype.hideCursor = function () {\n        this.$cursorLayer.hideCursor();\n    };\n    VirtualRenderer.prototype.showCursor = function () {\n        this.$cursorLayer.showCursor();\n    };\n    VirtualRenderer.prototype.scrollSelectionIntoView = function (anchor, lead, offset) {\n        this.scrollCursorIntoView(anchor, offset);\n        this.scrollCursorIntoView(lead, offset);\n    };\n    VirtualRenderer.prototype.scrollCursorIntoView = function (cursor, offset, $viewMargin) {\n        if (this.$size.scrollerHeight === 0)\n            return;\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n        var newLeft = pos.left;\n        var newTop = pos.top;\n        var topMargin = $viewMargin && $viewMargin.top || 0;\n        var bottomMargin = $viewMargin && $viewMargin.bottom || 0;\n        if (this.$scrollAnimation) {\n            this.$stopAnimation = true;\n        }\n        var currentTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;\n        if (currentTop + topMargin > newTop) {\n            if (offset && currentTop + topMargin > newTop + this.lineHeight)\n                newTop -= offset * this.$size.scrollerHeight;\n            if (newTop === 0)\n                newTop = -this.scrollMargin.top;\n            this.session.setScrollTop(newTop);\n        }\n        else if (currentTop + this.$size.scrollerHeight - bottomMargin < newTop + this.lineHeight) {\n            if (offset && currentTop + this.$size.scrollerHeight - bottomMargin < newTop - this.lineHeight)\n                newTop += offset * this.$size.scrollerHeight;\n            this.session.setScrollTop(newTop + this.lineHeight + bottomMargin - this.$size.scrollerHeight);\n        }\n        var currentLeft = this.scrollLeft;\n        var twoCharsWidth = 2 * this.layerConfig.characterWidth;\n        if (newLeft - twoCharsWidth < currentLeft) {\n            newLeft -= twoCharsWidth;\n            if (newLeft < this.$padding + twoCharsWidth) {\n                newLeft = -this.scrollMargin.left;\n            }\n            this.session.setScrollLeft(newLeft);\n        }\n        else {\n            newLeft += twoCharsWidth;\n            if (currentLeft + this.$size.scrollerWidth < newLeft + this.characterWidth) {\n                this.session.setScrollLeft(Math.round(newLeft + this.characterWidth - this.$size.scrollerWidth));\n            }\n            else if (currentLeft <= this.$padding && newLeft - currentLeft < this.characterWidth) {\n                this.session.setScrollLeft(0);\n            }\n        }\n    };\n    VirtualRenderer.prototype.getScrollTop = function () {\n        return this.session.getScrollTop();\n    };\n    VirtualRenderer.prototype.getScrollLeft = function () {\n        return this.session.getScrollLeft();\n    };\n    VirtualRenderer.prototype.getScrollTopRow = function () {\n        return this.scrollTop / this.lineHeight;\n    };\n    VirtualRenderer.prototype.getScrollBottomRow = function () {\n        return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);\n    };\n    VirtualRenderer.prototype.scrollToRow = function (row) {\n        this.session.setScrollTop(row * this.lineHeight);\n    };\n    VirtualRenderer.prototype.alignCursor = function (cursor, alignment) {\n        if (typeof cursor == \"number\")\n            cursor = { row: cursor, column: 0 };\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n        var h = this.$size.scrollerHeight - this.lineHeight;\n        var offset = pos.top - h * (alignment || 0);\n        this.session.setScrollTop(offset);\n        return offset;\n    };\n    VirtualRenderer.prototype.$calcSteps = function (fromValue, toValue) {\n        var i = 0;\n        var l = this.STEPS;\n        var steps = [];\n        var func = function (t, x_min, dx) {\n            return dx * (Math.pow(t - 1, 3) + 1) + x_min;\n        };\n        for (i = 0; i < l; ++i)\n            steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));\n        return steps;\n    };\n    VirtualRenderer.prototype.scrollToLine = function (line, center, animate, callback) {\n        var pos = this.$cursorLayer.getPixelPosition({ row: line, column: 0 });\n        var offset = pos.top;\n        if (center)\n            offset -= this.$size.scrollerHeight / 2;\n        var initialScroll = this.scrollTop;\n        this.session.setScrollTop(offset);\n        if (animate !== false)\n            this.animateScrolling(initialScroll, callback);\n    };\n    VirtualRenderer.prototype.animateScrolling = function (fromValue, callback) {\n        var toValue = this.scrollTop;\n        if (!this.$animatedScroll)\n            return;\n        var _self = this;\n        if (fromValue == toValue)\n            return;\n        if (this.$scrollAnimation) {\n            var oldSteps = this.$scrollAnimation.steps;\n            if (oldSteps.length) {\n                fromValue = oldSteps[0];\n                if (fromValue == toValue)\n                    return;\n            }\n        }\n        var steps = _self.$calcSteps(fromValue, toValue);\n        this.$scrollAnimation = { from: fromValue, to: toValue, steps: steps };\n        clearInterval(this.$timer);\n        _self.session.setScrollTop(steps.shift());\n        _self.session.$scrollTop = toValue;\n        function endAnimation() {\n            _self.$timer = clearInterval(_self.$timer);\n            _self.$scrollAnimation = null;\n            _self.$stopAnimation = false;\n            callback && callback();\n        }\n        this.$timer = setInterval(function () {\n            if (_self.$stopAnimation) {\n                endAnimation();\n                return;\n            }\n            if (!_self.session)\n                return clearInterval(_self.$timer);\n            if (steps.length) {\n                _self.session.setScrollTop(steps.shift());\n                _self.session.$scrollTop = toValue;\n            }\n            else if (toValue != null) {\n                _self.session.$scrollTop = -1;\n                _self.session.setScrollTop(toValue);\n                toValue = null;\n            }\n            else {\n                endAnimation();\n            }\n        }, 10);\n    };\n    VirtualRenderer.prototype.scrollToY = function (scrollTop) {\n        if (this.scrollTop !== scrollTop) {\n            this.$loop.schedule(this.CHANGE_SCROLL);\n            this.scrollTop = scrollTop;\n        }\n    };\n    VirtualRenderer.prototype.scrollToX = function (scrollLeft) {\n        if (this.scrollLeft !== scrollLeft)\n            this.scrollLeft = scrollLeft;\n        this.$loop.schedule(this.CHANGE_H_SCROLL);\n    };\n    VirtualRenderer.prototype.scrollTo = function (x, y) {\n        this.session.setScrollTop(y);\n        this.session.setScrollLeft(x);\n    };\n    VirtualRenderer.prototype.scrollBy = function (deltaX, deltaY) {\n        deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);\n        deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);\n    };\n    VirtualRenderer.prototype.isScrollableBy = function (deltaX, deltaY) {\n        if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top)\n            return true;\n        if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight\n            - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom)\n            return true;\n        if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left)\n            return true;\n        if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth\n            - this.layerConfig.width < -1 + this.scrollMargin.right)\n            return true;\n    };\n    VirtualRenderer.prototype.pixelToScreenCoordinates = function (x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = { top: 0, left: 0 };\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        }\n        else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n        return { row: row, column: col, side: offset - col > 0 ? 1 : -1, offsetX: offsetX };\n    };\n    VirtualRenderer.prototype.screenToTextCoordinates = function (x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = { top: 0, left: 0 };\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        }\n        else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n        return this.session.screenToDocumentPosition(row, Math.max(col, 0), offsetX);\n    };\n    VirtualRenderer.prototype.textToScreenCoordinates = function (row, column) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n        var pos = this.session.documentToScreenPosition(row, column);\n        var x = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, row)\n            ? this.session.$bidiHandler.getPosLeft(pos.column)\n            : Math.round(pos.column * this.characterWidth));\n        var y = pos.row * this.lineHeight;\n        return {\n            pageX: canvasPos.left + x - this.scrollLeft,\n            pageY: canvasPos.top + y - this.scrollTop\n        };\n    };\n    VirtualRenderer.prototype.visualizeFocus = function () {\n        dom.addCssClass(this.container, \"ace_focus\");\n    };\n    VirtualRenderer.prototype.visualizeBlur = function () {\n        dom.removeCssClass(this.container, \"ace_focus\");\n    };\n    VirtualRenderer.prototype.showComposition = function (composition) {\n        this.$composition = composition;\n        if (!composition.cssText) {\n            composition.cssText = this.textarea.style.cssText;\n        }\n        if (composition.useTextareaForIME == undefined)\n            composition.useTextareaForIME = this.$useTextareaForIME;\n        if (this.$useTextareaForIME) {\n            dom.addCssClass(this.textarea, \"ace_composition\");\n            this.textarea.style.cssText = \"\";\n            this.$moveTextAreaToCursor();\n            this.$cursorLayer.element.style.display = \"none\";\n        }\n        else {\n            composition.markerId = this.session.addMarker(composition.markerRange, \"ace_composition_marker\", \"text\");\n        }\n    };\n    VirtualRenderer.prototype.setCompositionText = function (text) {\n        var cursor = this.session.selection.cursor;\n        this.addToken(text, \"composition_placeholder\", cursor.row, cursor.column);\n        this.$moveTextAreaToCursor();\n    };\n    VirtualRenderer.prototype.hideComposition = function () {\n        if (!this.$composition)\n            return;\n        if (this.$composition.markerId)\n            this.session.removeMarker(this.$composition.markerId);\n        dom.removeCssClass(this.textarea, \"ace_composition\");\n        this.textarea.style.cssText = this.$composition.cssText;\n        var cursor = this.session.selection.cursor;\n        this.removeExtraToken(cursor.row, cursor.column);\n        this.$composition = null;\n        this.$cursorLayer.element.style.display = \"\";\n    };\n    VirtualRenderer.prototype.setGhostText = function (text, position) {\n        var cursor = this.session.selection.cursor;\n        var insertPosition = position || { row: cursor.row, column: cursor.column };\n        this.removeGhostText();\n        var textChunks = this.$calculateWrappedTextChunks(text, insertPosition);\n        this.addToken(textChunks[0].text, \"ghost_text\", insertPosition.row, insertPosition.column);\n        this.$ghostText = {\n            text: text,\n            position: {\n                row: insertPosition.row,\n                column: insertPosition.column\n            }\n        };\n        var widgetDiv = dom.createElement(\"div\");\n        if (textChunks.length > 1) {\n            var hiddenTokens = this.hideTokensAfterPosition(insertPosition.row, insertPosition.column);\n            var lastLineDiv;\n            textChunks.slice(1).forEach(function (el) {\n                var chunkDiv = dom.createElement(\"div\");\n                var chunkSpan = dom.createElement(\"span\");\n                chunkSpan.className = \"ace_ghost_text\";\n                if (el.wrapped)\n                    chunkDiv.className = \"ghost_text_line_wrapped\";\n                if (el.text.length === 0)\n                    el.text = \" \";\n                chunkSpan.appendChild(dom.createTextNode(el.text));\n                chunkDiv.appendChild(chunkSpan);\n                widgetDiv.appendChild(chunkDiv);\n                lastLineDiv = chunkDiv;\n            });\n            hiddenTokens.forEach(function (token) {\n                var element = dom.createElement(\"span\");\n                if (!isTextToken(token.type))\n                    element.className = \"ace_\" + token.type.replace(/\\./g, \" ace_\");\n                element.appendChild(dom.createTextNode(token.value));\n                lastLineDiv.appendChild(element);\n            });\n            this.$ghostTextWidget = {\n                el: widgetDiv,\n                row: insertPosition.row,\n                column: insertPosition.column,\n                className: \"ace_ghost_text_container\"\n            };\n            this.session.widgetManager.addLineWidget(this.$ghostTextWidget);\n            var pixelPosition = this.$cursorLayer.getPixelPosition(insertPosition, true);\n            var el = this.container;\n            var height = el.getBoundingClientRect().height;\n            var ghostTextHeight = textChunks.length * this.lineHeight;\n            var fitsY = ghostTextHeight < (height - pixelPosition.top);\n            if (fitsY)\n                return;\n            if (ghostTextHeight < height) {\n                this.scrollBy(0, (textChunks.length - 1) * this.lineHeight);\n            }\n            else {\n                this.scrollToRow(insertPosition.row);\n            }\n        }\n    };\n    VirtualRenderer.prototype.$calculateWrappedTextChunks = function (text, position) {\n        var availableWidth = this.$size.scrollerWidth - this.$padding * 2;\n        var limit = Math.floor(availableWidth / this.characterWidth) - 2;\n        limit = limit <= 0 ? 60 : limit; // this is a hack to prevent the editor from crashing when the window is too small\n        var textLines = text.split(/\\r?\\n/);\n        var textChunks = [];\n        for (var i = 0; i < textLines.length; i++) {\n            var displayTokens = this.session.$getDisplayTokens(textLines[i], position.column);\n            var wrapSplits = this.session.$computeWrapSplits(displayTokens, limit, this.session.$tabSize);\n            if (wrapSplits.length > 0) {\n                var start = 0;\n                wrapSplits.push(textLines[i].length);\n                for (var j = 0; j < wrapSplits.length; j++) {\n                    var textSlice = textLines[i].slice(start, wrapSplits[j]);\n                    textChunks.push({ text: textSlice, wrapped: true });\n                    start = wrapSplits[j];\n                }\n            }\n            else {\n                textChunks.push({ text: textLines[i], wrapped: false });\n            }\n        }\n        return textChunks;\n    };\n    VirtualRenderer.prototype.removeGhostText = function () {\n        if (!this.$ghostText)\n            return;\n        var position = this.$ghostText.position;\n        this.removeExtraToken(position.row, position.column);\n        if (this.$ghostTextWidget) {\n            this.session.widgetManager.removeLineWidget(this.$ghostTextWidget);\n            this.$ghostTextWidget = null;\n        }\n        this.$ghostText = null;\n    };\n    VirtualRenderer.prototype.addToken = function (text, type, row, column) {\n        var session = this.session;\n        session.bgTokenizer.lines[row] = null;\n        var newToken = { type: type, value: text };\n        var tokens = session.getTokens(row);\n        if (column == null || !tokens.length) {\n            tokens.push(newToken);\n        }\n        else {\n            var l = 0;\n            for (var i = 0; i < tokens.length; i++) {\n                var token = tokens[i];\n                l += token.value.length;\n                if (column <= l) {\n                    var diff = token.value.length - (l - column);\n                    var before = token.value.slice(0, diff);\n                    var after = token.value.slice(diff);\n                    tokens.splice(i, 1, { type: token.type, value: before }, newToken, { type: token.type, value: after });\n                    break;\n                }\n            }\n        }\n        this.updateLines(row, row);\n    };\n    VirtualRenderer.prototype.hideTokensAfterPosition = function (row, column) {\n        var tokens = this.session.getTokens(row);\n        var l = 0;\n        var hasPassedCursor = false;\n        var hiddenTokens = [];\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            l += token.value.length;\n            if (token.type === \"ghost_text\")\n                continue;\n            if (hasPassedCursor) {\n                hiddenTokens.push({ type: token.type, value: token.value });\n                token.type = \"hidden_token\";\n                continue;\n            }\n            if (l === column) {\n                hasPassedCursor = true;\n            }\n        }\n        this.updateLines(row, row);\n        return hiddenTokens;\n    };\n    VirtualRenderer.prototype.removeExtraToken = function (row, column) {\n        this.session.bgTokenizer.lines[row] = null;\n        this.updateLines(row, row);\n    };\n    VirtualRenderer.prototype.setTheme = function (theme, cb) {\n        var _self = this;\n        this.$themeId = theme;\n        _self._dispatchEvent('themeChange', { theme: theme });\n        if (!theme || typeof theme == \"string\") {\n            var moduleName = theme || this.$options.theme.initialValue;\n            config.loadModule([\"theme\", moduleName], afterLoad);\n        }\n        else {\n            afterLoad(theme);\n        }\n        function afterLoad(module) {\n            if (_self.$themeId != theme)\n                return cb && cb();\n            if (!module || !module.cssClass)\n                throw new Error(\"couldn't load module \" + theme + \" or it didn't call define\");\n            if (module.$id)\n                _self.$themeId = module.$id;\n            dom.importCssString(module.cssText, module.cssClass, _self.container);\n            if (_self.theme)\n                dom.removeCssClass(_self.container, _self.theme.cssClass);\n            var padding = \"padding\" in module ? module.padding\n                : \"padding\" in (_self.theme || {}) ? 4 : _self.$padding;\n            if (_self.$padding && padding != _self.$padding)\n                _self.setPadding(padding);\n            _self.$theme = module.cssClass;\n            _self.theme = module;\n            dom.addCssClass(_self.container, module.cssClass);\n            dom.setCssClass(_self.container, \"ace_dark\", module.isDark);\n            if (_self.$size) {\n                _self.$size.width = 0;\n                _self.$updateSizeAsync();\n            }\n            _self._dispatchEvent('themeLoaded', { theme: module });\n            cb && cb();\n            if (useragent.isSafari && _self.scroller) {\n                _self.scroller.style.background = \"red\";\n                _self.scroller.style.background = \"\";\n            }\n        }\n    };\n    VirtualRenderer.prototype.getTheme = function () {\n        return this.$themeId;\n    };\n    VirtualRenderer.prototype.setStyle = function (style, include) {\n        dom.setCssClass(this.container, style, include !== false);\n    };\n    VirtualRenderer.prototype.unsetStyle = function (style) {\n        dom.removeCssClass(this.container, style);\n    };\n    VirtualRenderer.prototype.setCursorStyle = function (style) {\n        dom.setStyle(this.scroller.style, \"cursor\", style);\n    };\n    VirtualRenderer.prototype.setMouseCursor = function (cursorStyle) {\n        dom.setStyle(this.scroller.style, \"cursor\", cursorStyle);\n    };\n    VirtualRenderer.prototype.attachToShadowRoot = function () {\n        dom.importCssString(editorCss, \"ace_editor.css\", this.container);\n    };\n    VirtualRenderer.prototype.destroy = function () {\n        this.freeze();\n        this.$fontMetrics.destroy();\n        this.$cursorLayer.destroy();\n        this.removeAllListeners();\n        this.container.textContent = \"\";\n        this.setOption(\"useResizeObserver\", false);\n    };\n    VirtualRenderer.prototype.$updateCustomScrollbar = function (val) {\n        var _self = this;\n        this.$horizScroll = this.$vScroll = null;\n        this.scrollBarV.element.remove();\n        this.scrollBarH.element.remove();\n        if (this.$scrollDecorator) {\n            delete this.$scrollDecorator;\n        }\n        if (val === true) {\n            this.scrollBarV = new VScrollBarCustom(this.container, this);\n            this.scrollBarH = new HScrollBarCustom(this.container, this);\n            this.scrollBarV.setHeight(this.$size.scrollerHeight);\n            this.scrollBarH.setWidth(this.$size.scrollerWidth);\n            this.scrollBarV.addEventListener(\"scroll\", function (e) {\n                if (!_self.$scrollAnimation)\n                    _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n            });\n            this.scrollBarH.addEventListener(\"scroll\", function (e) {\n                if (!_self.$scrollAnimation)\n                    _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n            });\n            this.$scrollDecorator = new Decorator(this.scrollBarV, this);\n            this.$scrollDecorator.$updateDecorators();\n        }\n        else {\n            this.scrollBarV = new VScrollBar(this.container, this);\n            this.scrollBarH = new HScrollBar(this.container, this);\n            this.scrollBarV.addEventListener(\"scroll\", function (e) {\n                if (!_self.$scrollAnimation)\n                    _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n            });\n            this.scrollBarH.addEventListener(\"scroll\", function (e) {\n                if (!_self.$scrollAnimation)\n                    _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n            });\n        }\n    };\n    VirtualRenderer.prototype.$addResizeObserver = function () {\n        if (!window.ResizeObserver || this.$resizeObserver)\n            return;\n        var self = this;\n        this.$resizeTimer = lang.delayedCall(function () {\n            if (!self.destroyed)\n                self.onResize();\n        }, 50);\n        this.$resizeObserver = new window.ResizeObserver(function (e) {\n            var w = e[0].contentRect.width;\n            var h = e[0].contentRect.height;\n            if (Math.abs(self.$size.width - w) > 1\n                || Math.abs(self.$size.height - h) > 1) {\n                self.$resizeTimer.delay();\n            }\n            else {\n                self.$resizeTimer.cancel();\n            }\n        });\n        this.$resizeObserver.observe(this.container);\n    };\n    return VirtualRenderer;\n}());\nVirtualRenderer.prototype.CHANGE_CURSOR = 1;\nVirtualRenderer.prototype.CHANGE_MARKER = 2;\nVirtualRenderer.prototype.CHANGE_GUTTER = 4;\nVirtualRenderer.prototype.CHANGE_SCROLL = 8;\nVirtualRenderer.prototype.CHANGE_LINES = 16;\nVirtualRenderer.prototype.CHANGE_TEXT = 32;\nVirtualRenderer.prototype.CHANGE_SIZE = 64;\nVirtualRenderer.prototype.CHANGE_MARKER_BACK = 128;\nVirtualRenderer.prototype.CHANGE_MARKER_FRONT = 256;\nVirtualRenderer.prototype.CHANGE_FULL = 512;\nVirtualRenderer.prototype.CHANGE_H_SCROLL = 1024;\nVirtualRenderer.prototype.$changes = 0;\nVirtualRenderer.prototype.$padding = null;\nVirtualRenderer.prototype.$frozen = false;\nVirtualRenderer.prototype.STEPS = 8;\noop.implement(VirtualRenderer.prototype, EventEmitter);\nconfig.defineOptions(VirtualRenderer.prototype, \"renderer\", {\n    useResizeObserver: {\n        set: function (value) {\n            if (!value && this.$resizeObserver) {\n                this.$resizeObserver.disconnect();\n                this.$resizeTimer.cancel();\n                this.$resizeTimer = this.$resizeObserver = null;\n            }\n            else if (value && !this.$resizeObserver) {\n                this.$addResizeObserver();\n            }\n        }\n    },\n    animatedScroll: { initialValue: false },\n    showInvisibles: {\n        set: function (value) {\n            if (this.$textLayer.setShowInvisibles(value))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: false\n    },\n    showPrintMargin: {\n        set: function () { this.$updatePrintMargin(); },\n        initialValue: true\n    },\n    printMarginColumn: {\n        set: function () { this.$updatePrintMargin(); },\n        initialValue: 80\n    },\n    printMargin: {\n        set: function (val) {\n            if (typeof val == \"number\")\n                this.$printMarginColumn = val;\n            this.$showPrintMargin = !!val;\n            this.$updatePrintMargin();\n        },\n        get: function () {\n            return this.$showPrintMargin && this.$printMarginColumn;\n        }\n    },\n    showGutter: {\n        set: function (show) {\n            this.$gutter.style.display = show ? \"block\" : \"none\";\n            this.$loop.schedule(this.CHANGE_FULL);\n            this.onGutterResize();\n        },\n        initialValue: true\n    },\n    useSvgGutterIcons: {\n        set: function (value) {\n            this.$gutterLayer.$useSvgGutterIcons = value;\n        },\n        initialValue: false\n    },\n    showFoldedAnnotations: {\n        set: function (value) {\n            this.$gutterLayer.$showFoldedAnnotations = value;\n        },\n        initialValue: false\n    },\n    fadeFoldWidgets: {\n        set: function (show) {\n            dom.setCssClass(this.$gutter, \"ace_fade-fold-widgets\", show);\n        },\n        initialValue: false\n    },\n    showFoldWidgets: {\n        set: function (show) {\n            this.$gutterLayer.setShowFoldWidgets(show);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    displayIndentGuides: {\n        set: function (show) {\n            if (this.$textLayer.setDisplayIndentGuides(show))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: true\n    },\n    highlightIndentGuides: {\n        set: function (show) {\n            if (this.$textLayer.setHighlightIndentGuides(show) == true) {\n                this.$textLayer.$highlightIndentGuide();\n            }\n            else {\n                this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells);\n            }\n        },\n        initialValue: true\n    },\n    highlightGutterLine: {\n        set: function (shouldHighlight) {\n            this.$gutterLayer.setHighlightGutterLine(shouldHighlight);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    hScrollBarAlwaysVisible: {\n        set: function (val) {\n            if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    vScrollBarAlwaysVisible: {\n        set: function (val) {\n            if (!this.$vScrollBarAlwaysVisible || !this.$vScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    fontSize: {\n        set: function (size) {\n            if (typeof size == \"number\")\n                size = size + \"px\";\n            this.container.style.fontSize = size;\n            this.updateFontSize();\n        },\n        initialValue: 12\n    },\n    fontFamily: {\n        set: function (name) {\n            this.container.style.fontFamily = name;\n            this.updateFontSize();\n        }\n    },\n    maxLines: {\n        set: function (val) {\n            this.updateFull();\n        }\n    },\n    minLines: {\n        set: function (val) {\n            if (!(this.$minLines < 0x1ffffffffffff))\n                this.$minLines = 0;\n            this.updateFull();\n        }\n    },\n    maxPixelHeight: {\n        set: function (val) {\n            this.updateFull();\n        },\n        initialValue: 0\n    },\n    scrollPastEnd: {\n        set: function (val) {\n            val = +val || 0;\n            if (this.$scrollPastEnd == val)\n                return;\n            this.$scrollPastEnd = val;\n            this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: 0,\n        handlesSet: true\n    },\n    fixedWidthGutter: {\n        set: function (val) {\n            this.$gutterLayer.$fixedWidth = !!val;\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        }\n    },\n    customScrollbar: {\n        set: function (val) {\n            this.$updateCustomScrollbar(val);\n        },\n        initialValue: false\n    },\n    theme: {\n        set: function (val) { this.setTheme(val); },\n        get: function () { return this.$themeId || this.theme; },\n        initialValue: \"./theme/textmate\",\n        handlesSet: true\n    },\n    hasCssTransforms: {},\n    useTextareaForIME: {\n        initialValue: !useragent.isMobile && !useragent.isIE\n    }\n});\nexports.VirtualRenderer = VirtualRenderer;\n\n});\n\nace.define(\"ace/worker/worker_client\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/event_emitter\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar net = require(\"../lib/net\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar config = require(\"../config\");\n\nfunction $workerBlob(workerUrl) {\n    var script = \"importScripts('\" + net.qualifyURL(workerUrl) + \"');\";\n    try {\n        return new Blob([script], {\"type\": \"application/javascript\"});\n    } catch (e) { // Backwards-compatibility\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n        var blobBuilder = new BlobBuilder();\n        blobBuilder.append(script);\n        return blobBuilder.getBlob(\"application/javascript\");\n    }\n}\n\nfunction createWorker(workerUrl) {\n    if (typeof Worker == \"undefined\")\n        return { postMessage: function() {}, terminate: function() {} };\n    if (config.get(\"loadWorkerFromBlob\")) {\n        var blob = $workerBlob(workerUrl);\n        var URL = window.URL || window.webkitURL;\n        var blobURL = URL.createObjectURL(blob);\n        return new Worker(blobURL);\n    }\n    return new Worker(workerUrl);\n}\n\nvar WorkerClient = function(worker) {\n    if (!worker.postMessage)\n        worker = this.$createWorkerFromOldConfig.apply(this, arguments);\n\n    this.$worker = worker;\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.onMessage = this.onMessage.bind(this);\n\n    this.callbackId = 1;\n    this.callbacks = {};\n\n    this.$worker.onmessage = this.onMessage;\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$createWorkerFromOldConfig = function(topLevelNamespaces, mod, classname, workerUrl, importScripts) {\n        if (require.nameToUrl && !require.toUrl)\n            require.toUrl = require.nameToUrl;\n\n        if (config.get(\"packaged\") || !require.toUrl) {\n            workerUrl = workerUrl || config.moduleUrl(mod, \"worker\");\n        } else {\n            var normalizePath = this.$normalizePath;\n            workerUrl = workerUrl || normalizePath(require.toUrl(\"ace/worker/worker.js\", null, \"_\"));\n\n            var tlns = {};\n            topLevelNamespaces.forEach(function(ns) {\n                tlns[ns] = normalizePath(require.toUrl(ns, null, \"_\").replace(/(\\.js)?(\\?.*)?$/, \"\"));\n            });\n        }\n\n        this.$worker = createWorker(workerUrl);\n        if (importScripts) {\n            this.send(\"importScripts\", importScripts);\n        }\n        this.$worker.postMessage({\n            init : true,\n            tlns : tlns,\n            module : mod,\n            classname : classname\n        });\n        return this.$worker;\n    };\n\n    this.onMessage = function(e) {\n        var msg = e.data;\n        switch (msg.type) {\n            case \"event\":\n                this._signal(msg.name, {data: msg.data});\n                break;\n            case \"call\":\n                var callback = this.callbacks[msg.id];\n                if (callback) {\n                    callback(msg.data);\n                    delete this.callbacks[msg.id];\n                }\n                break;\n            case \"error\":\n                this.reportError(msg.data);\n                break;\n            case \"log\":\n                window.console && console.log && console.log.apply(console, msg.data);\n                break;\n        }\n    };\n    \n    this.reportError = function(err) {\n        window.console && console.error && console.error(err);\n    };\n\n    this.$normalizePath = function(path) {\n        return net.qualifyURL(path);\n    };\n\n    this.terminate = function() {\n        this._signal(\"terminate\", {});\n        this.deltaQueue = null;\n        this.$worker.terminate();\n        this.$worker.onerror = function(e) {\n            e.preventDefault();\n        };\n        this.$worker = null;\n        if (this.$doc)\n            this.$doc.off(\"change\", this.changeListener);\n        this.$doc = null;\n    };\n\n    this.send = function(cmd, args) {\n        this.$worker.postMessage({command: cmd, args: args});\n    };\n\n    this.call = function(cmd, args, callback) {\n        if (callback) {\n            var id = this.callbackId++;\n            this.callbacks[id] = callback;\n            args.push(id);\n        }\n        this.send(cmd, args);\n    };\n\n    this.emit = function(event, data) {\n        try {\n            if (data.data && data.data.err)\n                data.data.err = {message: data.data.err.message, stack: data.data.err.stack, code: data.data.err.code};\n                this.$worker && this.$worker.postMessage({event: event, data: {data: data.data}});\n        }\n        catch(ex) {\n            console.error(ex.stack);\n        }\n    };\n\n    this.attachToDocument = function(doc) {\n        if (this.$doc)\n            this.terminate();\n\n        this.$doc = doc;\n        this.call(\"setValue\", [doc.getValue()]);\n        doc.on(\"change\", this.changeListener, true);\n    };\n\n    this.changeListener = function(delta) {\n        if (!this.deltaQueue) {\n            this.deltaQueue = [];\n            setTimeout(this.$sendDeltaQueue, 0);\n        }\n        if (delta.action == \"insert\")\n            this.deltaQueue.push(delta.start, delta.lines);\n        else\n            this.deltaQueue.push(delta.start, delta.end);\n    };\n\n    this.$sendDeltaQueue = function() {\n        var q = this.deltaQueue;\n        if (!q) return;\n        this.deltaQueue = null;\n        if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {\n            this.call(\"setValue\", [this.$doc.getValue()]);\n        } else\n            this.emit(\"change\", {data: q});\n    };\n\n}).call(WorkerClient.prototype);\n\n\nvar UIWorkerClient = function(topLevelNamespaces, mod, classname) {\n    var main = null;\n    var emitSync = false;\n    var sender = Object.create(EventEmitter);\n\n    var messageBuffer = [];\n    var workerClient = new WorkerClient({\n        messageBuffer: messageBuffer,\n        terminate: function() {},\n        postMessage: function(e) {\n            messageBuffer.push(e);\n            if (!main) return;\n            if (emitSync)\n                setTimeout(processNext);\n            else\n                processNext();\n        }\n    });\n\n    workerClient.setEmitSync = function(val) { emitSync = val; };\n\n    var processNext = function() {\n        var msg = messageBuffer.shift();\n        if (msg.command)\n            main[msg.command].apply(main, msg.args);\n        else if (msg.event)\n            sender._signal(msg.event, msg.data);\n    };\n\n    sender.postMessage = function(msg) {\n        workerClient.onMessage({data: msg});\n    };\n    sender.callback = function(data, callbackId) {\n        this.postMessage({type: \"call\", id: callbackId, data: data});\n    };\n    sender.emit = function(name, data) {\n        this.postMessage({type: \"event\", name: name, data: data});\n    };\n\n    config.loadModule([\"worker\", mod], function(Main) {\n        main = new Main[classname](sender);\n        while (messageBuffer.length)\n            processNext();\n    });\n\n    return workerClient;\n};\n\nexports.UIWorkerClient = UIWorkerClient;\nexports.WorkerClient = WorkerClient;\nexports.createWorker = createWorker;\n\n\n});\n\nace.define(\"ace/placeholder\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/lib/oop\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar oop = require(\"./lib/oop\");\nvar PlaceHolder = /** @class */ (function () {\n    function PlaceHolder(session, length, pos, others, mainClass, othersClass) {\n        var _self = this;\n        this.length = length;\n        this.session = session;\n        this.doc = session.getDocument();\n        this.mainClass = mainClass;\n        this.othersClass = othersClass;\n        this.$onUpdate = this.onUpdate.bind(this);\n        this.doc.on(\"change\", this.$onUpdate, true);\n        this.$others = others;\n        this.$onCursorChange = function () {\n            setTimeout(function () {\n                _self.onCursorChange();\n            });\n        };\n        this.$pos = pos;\n        var undoStack = session.getUndoManager().$undoStack || session.getUndoManager()[\"$undostack\"] || { length: -1 };\n        this.$undoStackDepth = undoStack.length;\n        this.setup();\n        session.selection.on(\"changeCursor\", this.$onCursorChange);\n    }\n    PlaceHolder.prototype.setup = function () {\n        var _self = this;\n        var doc = this.doc;\n        var session = this.session;\n        this.selectionBefore = session.selection.toJSON();\n        if (session.selection.inMultiSelectMode)\n            session.selection.toSingleRange();\n        this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);\n        var pos = this.pos;\n        pos.$insertRight = true;\n        pos.detach();\n        pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);\n        this.others = [];\n        this.$others.forEach(function (other) {\n            var anchor = doc.createAnchor(other.row, other.column);\n            anchor.$insertRight = true;\n            anchor.detach();\n            _self.others.push(anchor);\n        });\n        session.setUndoSelect(false);\n    };\n    PlaceHolder.prototype.showOtherMarkers = function () {\n        if (this.othersActive)\n            return;\n        var session = this.session;\n        var _self = this;\n        this.othersActive = true;\n        this.others.forEach(function (anchor) {\n            anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column + _self.length), _self.othersClass, null, false);\n        });\n    };\n    PlaceHolder.prototype.hideOtherMarkers = function () {\n        if (!this.othersActive)\n            return;\n        this.othersActive = false;\n        for (var i = 0; i < this.others.length; i++) {\n            this.session.removeMarker(this.others[i].markerId);\n        }\n    };\n    PlaceHolder.prototype.onUpdate = function (delta) {\n        if (this.$updating)\n            return this.updateAnchors(delta);\n        var range = delta;\n        if (range.start.row !== range.end.row)\n            return;\n        if (range.start.row !== this.pos.row)\n            return;\n        this.$updating = true;\n        var lengthDiff = delta.action === \"insert\" ? range.end.column - range.start.column : range.start.column - range.end.column;\n        var inMainRange = range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1;\n        var distanceFromStart = range.start.column - this.pos.column;\n        this.updateAnchors(delta);\n        if (inMainRange)\n            this.length += lengthDiff;\n        if (inMainRange && !this.session.$fromUndo) {\n            if (delta.action === 'insert') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = { row: otherPos.row, column: otherPos.column + distanceFromStart };\n                    this.doc.insertMergedLines(newPos, delta.lines);\n                }\n            }\n            else if (delta.action === 'remove') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = { row: otherPos.row, column: otherPos.column + distanceFromStart };\n                    this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));\n                }\n            }\n        }\n        this.$updating = false;\n        this.updateMarkers();\n    };\n    PlaceHolder.prototype.updateAnchors = function (delta) {\n        this.pos.onChange(delta);\n        for (var i = this.others.length; i--;)\n            this.others[i].onChange(delta);\n        this.updateMarkers();\n    };\n    PlaceHolder.prototype.updateMarkers = function () {\n        if (this.$updating)\n            return;\n        var _self = this;\n        var session = this.session;\n        var updateMarker = function (pos, className) {\n            session.removeMarker(pos.markerId);\n            pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + _self.length), className, null, false);\n        };\n        updateMarker(this.pos, this.mainClass);\n        for (var i = this.others.length; i--;)\n            updateMarker(this.others[i], this.othersClass);\n    };\n    PlaceHolder.prototype.onCursorChange = function (event) {\n        if (this.$updating || !this.session)\n            return;\n        var pos = this.session.selection.getCursor();\n        if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {\n            this.showOtherMarkers();\n            this._emit(\"cursorEnter\", event);\n        }\n        else {\n            this.hideOtherMarkers();\n            this._emit(\"cursorLeave\", event);\n        }\n    };\n    PlaceHolder.prototype.detach = function () {\n        this.session.removeMarker(this.pos && this.pos.markerId);\n        this.hideOtherMarkers();\n        this.doc.off(\"change\", this.$onUpdate);\n        this.session.selection.off(\"changeCursor\", this.$onCursorChange);\n        this.session.setUndoSelect(true);\n        this.session = null;\n    };\n    PlaceHolder.prototype.cancel = function () {\n        if (this.$undoStackDepth === -1)\n            return;\n        var undoManager = this.session.getUndoManager();\n        var undosRequired = (undoManager.$undoStack || undoManager[\"$undostack\"]).length - this.$undoStackDepth;\n        for (var i = 0; i < undosRequired; i++) {\n            undoManager.undo(this.session, true);\n        }\n        if (this.selectionBefore)\n            this.session.selection.fromJSON(this.selectionBefore);\n    };\n    return PlaceHolder;\n}());\noop.implement(PlaceHolder.prototype, EventEmitter);\nexports.PlaceHolder = PlaceHolder;\n\n});\n\nace.define(\"ace/mouse/multi_select_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module){var event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\nfunction onMouseDown(e) {\n    var ev = e.domEvent;\n    var alt = ev.altKey;\n    var shift = ev.shiftKey;\n    var ctrl = ev.ctrlKey;\n    var accel = e.getAccelKey();\n    var button = e.getButton();\n    if (ctrl && useragent.isMac)\n        button = ev.button;\n    if (e.editor.inMultiSelectMode && button == 2) {\n        e.editor.textInput.onContextMenu(e.domEvent);\n        return;\n    }\n    if (!ctrl && !alt && !accel) {\n        if (button === 0 && e.editor.inMultiSelectMode)\n            e.editor.exitMultiSelectMode();\n        return;\n    }\n    if (button !== 0)\n        return;\n    var editor = e.editor;\n    var selection = editor.selection;\n    var isMultiSelect = editor.inMultiSelectMode;\n    var pos = e.getDocumentPosition();\n    var cursor = selection.getCursor();\n    var inSelection = e.inSelection() || (selection.isEmpty() && isSamePoint(pos, cursor));\n    var mouseX = e.x, mouseY = e.y;\n    var onMouseSelection = function (e) {\n        mouseX = e.clientX;\n        mouseY = e.clientY;\n    };\n    var session = editor.session;\n    var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n    var screenCursor = screenAnchor;\n    var selectionMode;\n    if (editor.$mouseHandler.$enableJumpToDef) {\n        if (ctrl && alt || accel && alt)\n            selectionMode = shift ? \"block\" : \"add\";\n        else if (alt && editor.$blockSelectEnabled)\n            selectionMode = \"block\";\n    }\n    else {\n        if (accel && !alt) {\n            selectionMode = \"add\";\n            if (!isMultiSelect && shift)\n                return;\n        }\n        else if (alt && editor.$blockSelectEnabled) {\n            selectionMode = \"block\";\n        }\n    }\n    if (selectionMode && useragent.isMac && ev.ctrlKey) {\n        editor.$mouseHandler.cancelContextMenu();\n    }\n    if (selectionMode == \"add\") {\n        if (!isMultiSelect && inSelection)\n            return; // dragging\n        if (!isMultiSelect) {\n            var range = selection.toOrientedRange();\n            editor.addSelectionMarker(range);\n        }\n        var oldRange = selection.rangeList.rangeAtPoint(pos);\n        editor.inVirtualSelectionMode = true;\n        if (shift) {\n            oldRange = null;\n            range = selection.ranges[0] || range;\n            editor.removeSelectionMarker(range);\n        }\n        editor.once(\"mouseup\", function () {\n            var tmpSel = selection.toOrientedRange();\n            if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor))\n                selection.substractPoint(tmpSel.cursor);\n            else {\n                if (shift) {\n                    selection.substractPoint(range.cursor);\n                }\n                else if (range) {\n                    editor.removeSelectionMarker(range);\n                    selection.addRange(range);\n                }\n                selection.addRange(tmpSel);\n            }\n            editor.inVirtualSelectionMode = false;\n        });\n    }\n    else if (selectionMode == \"block\") {\n        e.stop();\n        editor.inVirtualSelectionMode = true;\n        var initialRange;\n        var rectSel = [];\n        var blockSelect = function () {\n            var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n            var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column, newCursor.offsetX);\n            if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor, selection.lead))\n                return;\n            screenCursor = newCursor;\n            editor.selection.moveToPosition(cursor);\n            editor.renderer.scrollCursorIntoView();\n            editor.removeSelectionMarkers(rectSel);\n            rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);\n            if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty())\n                rectSel[0] = editor.$mouseHandler.$clickSelection.clone();\n            rectSel.forEach(editor.addSelectionMarker, editor);\n            editor.updateSelectionMarkers();\n        };\n        if (isMultiSelect && !accel) {\n            selection.toSingleRange();\n        }\n        else if (!isMultiSelect && accel) {\n            initialRange = selection.toOrientedRange();\n            editor.addSelectionMarker(initialRange);\n        }\n        if (shift)\n            screenAnchor = session.documentToScreenPosition(selection.lead);\n        else\n            selection.moveToPosition(pos);\n        screenCursor = { row: -1, column: -1 };\n        var onMouseSelectionEnd = function (e) {\n            blockSelect();\n            clearInterval(timerId);\n            editor.removeSelectionMarkers(rectSel);\n            if (!rectSel.length)\n                rectSel = [selection.toOrientedRange()];\n            if (initialRange) {\n                editor.removeSelectionMarker(initialRange);\n                selection.toSingleRange(initialRange);\n            }\n            for (var i = 0; i < rectSel.length; i++)\n                selection.addRange(rectSel[i]);\n            editor.inVirtualSelectionMode = false;\n            editor.$mouseHandler.$clickSelection = null;\n        };\n        var onSelectionInterval = blockSelect;\n        event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);\n        var timerId = setInterval(function () { onSelectionInterval(); }, 20);\n        return e.preventDefault();\n    }\n}\nexports.onMouseDown = onMouseDown;\n\n});\n\nace.define(\"ace/commands/multi_select_commands\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\"], function(require, exports, module){/**\n * commands to enter multiselect mode\n * @type {import(\"../../ace-internal\").Ace.Command[]}\n */\nexports.defaultCommands = [{\n        name: \"addCursorAbove\",\n        description: \"Add cursor above\",\n        exec: function (editor) { editor.selectMoreLines(-1); },\n        bindKey: { win: \"Ctrl-Alt-Up\", mac: \"Ctrl-Alt-Up\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"addCursorBelow\",\n        description: \"Add cursor below\",\n        exec: function (editor) { editor.selectMoreLines(1); },\n        bindKey: { win: \"Ctrl-Alt-Down\", mac: \"Ctrl-Alt-Down\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"addCursorAboveSkipCurrent\",\n        description: \"Add cursor above (skip current)\",\n        exec: function (editor) { editor.selectMoreLines(-1, true); },\n        bindKey: { win: \"Ctrl-Alt-Shift-Up\", mac: \"Ctrl-Alt-Shift-Up\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"addCursorBelowSkipCurrent\",\n        description: \"Add cursor below (skip current)\",\n        exec: function (editor) { editor.selectMoreLines(1, true); },\n        bindKey: { win: \"Ctrl-Alt-Shift-Down\", mac: \"Ctrl-Alt-Shift-Down\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectMoreBefore\",\n        description: \"Select more before\",\n        exec: function (editor) { editor.selectMore(-1); },\n        bindKey: { win: \"Ctrl-Alt-Left\", mac: \"Ctrl-Alt-Left\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectMoreAfter\",\n        description: \"Select more after\",\n        exec: function (editor) { editor.selectMore(1); },\n        bindKey: { win: \"Ctrl-Alt-Right\", mac: \"Ctrl-Alt-Right\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectNextBefore\",\n        description: \"Select next before\",\n        exec: function (editor) { editor.selectMore(-1, true); },\n        bindKey: { win: \"Ctrl-Alt-Shift-Left\", mac: \"Ctrl-Alt-Shift-Left\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectNextAfter\",\n        description: \"Select next after\",\n        exec: function (editor) { editor.selectMore(1, true); },\n        bindKey: { win: \"Ctrl-Alt-Shift-Right\", mac: \"Ctrl-Alt-Shift-Right\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"toggleSplitSelectionIntoLines\",\n        description: \"Split selection into lines\",\n        exec: function (editor) {\n            if (editor.multiSelect.rangeCount > 1)\n                editor.multiSelect.joinSelections();\n            else\n                editor.multiSelect.splitIntoLines();\n        },\n        bindKey: { win: \"Ctrl-Alt-L\", mac: \"Ctrl-Alt-L\" },\n        readOnly: true\n    }, {\n        name: \"splitSelectionIntoLines\",\n        description: \"Split into lines\",\n        exec: function (editor) { editor.multiSelect.splitIntoLines(); },\n        readOnly: true\n    }, {\n        name: \"alignCursors\",\n        description: \"Align cursors\",\n        exec: function (editor) { editor.alignCursors(); },\n        bindKey: { win: \"Ctrl-Alt-A\", mac: \"Ctrl-Alt-A\" },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"findAll\",\n        description: \"Find all\",\n        exec: function (editor) { editor.findAll(); },\n        bindKey: { win: \"Ctrl-Alt-K\", mac: \"Ctrl-Alt-G\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }];\nexports.multiSelectCommands = [{\n        name: \"singleSelection\",\n        description: \"Single selection\",\n        bindKey: \"esc\",\n        exec: function (editor) { editor.exitMultiSelectMode(); },\n        scrollIntoView: \"cursor\",\n        readOnly: true,\n        isAvailable: function (editor) { return editor && editor.inMultiSelectMode; }\n    }];\nvar HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\nexports.keyboardHandler = new HashHandler(exports.multiSelectCommands);\n\n});\n\nace.define(\"ace/multi_select\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/range\",\"ace/selection\",\"ace/mouse/multi_select_handler\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/commands/multi_select_commands\",\"ace/search\",\"ace/edit_session\",\"ace/editor\",\"ace/config\"], function(require, exports, module){/**\n * @typedef {import(\"./anchor\").Anchor} Anchor\n * @typedef {import(\"../ace-internal\").Ace.Point} Point\n * @typedef {import(\"../ace-internal\").Ace.ScreenCoordinates} ScreenCoordinates\n */\nvar RangeList = require(\"./range_list\").RangeList;\nvar Range = require(\"./range\").Range;\nvar Selection = require(\"./selection\").Selection;\nvar onMouseDown = require(\"./mouse/multi_select_handler\").onMouseDown;\nvar event = require(\"./lib/event\");\nvar lang = require(\"./lib/lang\");\nvar commands = require(\"./commands/multi_select_commands\");\nexports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);\nvar Search = require(\"./search\").Search;\nvar search = new Search();\nfunction find(session, needle, dir) {\n    search.$options.wrap = true;\n    search.$options.needle = needle;\n    search.$options.backwards = dir == -1;\n    return search.find(session);\n}\nvar EditSession = require(\"./edit_session\").EditSession;\n(function () {\n    this.getSelectionMarkers = function () {\n        return this.$selectionMarkers;\n    };\n}).call(EditSession.prototype);\n(function () {\n    this.ranges = null;\n    this.rangeList = null;\n    this.addRange = function (range, $blockChangeEvents) {\n        if (!range)\n            return;\n        if (!this.inMultiSelectMode && this.rangeCount === 0) {\n            var oldRange = this.toOrientedRange();\n            this.rangeList.add(oldRange);\n            this.rangeList.add(range);\n            if (this.rangeList.ranges.length != 2) {\n                this.rangeList.removeAll();\n                return $blockChangeEvents || this.fromOrientedRange(range);\n            }\n            this.rangeList.removeAll();\n            this.rangeList.add(oldRange);\n            this.$onAddRange(oldRange);\n        }\n        if (!range.cursor)\n            range.cursor = range.end;\n        var removed = this.rangeList.add(range);\n        this.$onAddRange(range);\n        if (removed.length)\n            this.$onRemoveRange(removed);\n        if (this.rangeCount > 1 && !this.inMultiSelectMode) {\n            this._signal(\"multiSelect\");\n            this.inMultiSelectMode = true;\n            this.session.$undoSelect = false;\n            this.rangeList.attach(this.session);\n        }\n        return $blockChangeEvents || this.fromOrientedRange(range);\n    };\n    this.toSingleRange = function (range) {\n        range = range || this.ranges[0];\n        var removed = this.rangeList.removeAll();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n        range && this.fromOrientedRange(range);\n    };\n    this.substractPoint = function (pos) {\n        var removed = this.rangeList.substractPoint(pos);\n        if (removed) {\n            this.$onRemoveRange(removed);\n            return removed[0];\n        }\n    };\n    this.mergeOverlappingRanges = function () {\n        var removed = this.rangeList.merge();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n    };\n    this.$onAddRange = function (range) {\n        this.rangeCount = this.rangeList.ranges.length;\n        this.ranges.unshift(range);\n        this._signal(\"addRange\", { range: range });\n    };\n    this.$onRemoveRange = function (removed) {\n        this.rangeCount = this.rangeList.ranges.length;\n        if (this.rangeCount == 1 && this.inMultiSelectMode) {\n            var lastRange = this.rangeList.ranges.pop();\n            removed.push(lastRange);\n            this.rangeCount = 0;\n        }\n        for (var i = removed.length; i--;) {\n            var index = this.ranges.indexOf(removed[i]);\n            this.ranges.splice(index, 1);\n        }\n        this._signal(\"removeRange\", { ranges: removed });\n        if (this.rangeCount === 0 && this.inMultiSelectMode) {\n            this.inMultiSelectMode = false;\n            this._signal(\"singleSelect\");\n            this.session.$undoSelect = true;\n            this.rangeList.detach(this.session);\n        }\n        lastRange = lastRange || this.ranges[0];\n        if (lastRange && !lastRange.isEqual(this.getRange()))\n            this.fromOrientedRange(lastRange);\n    };\n    this.$initRangeList = function () {\n        if (this.rangeList)\n            return;\n        this.rangeList = new RangeList();\n        this.ranges = [];\n        this.rangeCount = 0;\n    };\n    this.getAllRanges = function () {\n        return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];\n    };\n    this.splitIntoLines = function () {\n        var ranges = this.ranges.length ? this.ranges : [this.getRange()];\n        var newRanges = [];\n        for (var i = 0; i < ranges.length; i++) {\n            var range = ranges[i];\n            var row = range.start.row;\n            var endRow = range.end.row;\n            if (row === endRow) {\n                newRanges.push(range.clone());\n            }\n            else {\n                newRanges.push(new Range(row, range.start.column, row, this.session.getLine(row).length));\n                while (++row < endRow)\n                    newRanges.push(this.getLineRange(row, true));\n                newRanges.push(new Range(endRow, 0, endRow, range.end.column));\n            }\n            if (i == 0 && !this.isBackwards())\n                newRanges = newRanges.reverse();\n        }\n        this.toSingleRange();\n        for (var i = newRanges.length; i--;)\n            this.addRange(newRanges[i]);\n    };\n    this.joinSelections = function () {\n        var ranges = this.rangeList.ranges;\n        var lastRange = ranges[ranges.length - 1];\n        var range = Range.fromPoints(ranges[0].start, lastRange.end);\n        this.toSingleRange();\n        this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n    };\n    this.toggleBlockSelection = function () {\n        if (this.rangeCount > 1) {\n            var ranges = this.rangeList.ranges;\n            var lastRange = ranges[ranges.length - 1];\n            var range = Range.fromPoints(ranges[0].start, lastRange.end);\n            this.toSingleRange();\n            this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n        }\n        else {\n            var cursor = this.session.documentToScreenPosition(this.cursor);\n            var anchor = this.session.documentToScreenPosition(this.anchor);\n            var rectSel = this.rectangularRangeBlock(cursor, anchor);\n            rectSel.forEach(this.addRange, this);\n        }\n    };\n    this.rectangularRangeBlock = function (screenCursor, screenAnchor, includeEmptyLines) {\n        var rectSel = [];\n        var xBackwards = screenCursor.column < screenAnchor.column;\n        if (xBackwards) {\n            var startColumn = screenCursor.column;\n            var endColumn = screenAnchor.column;\n            var startOffsetX = screenCursor.offsetX;\n            var endOffsetX = screenAnchor.offsetX;\n        }\n        else {\n            var startColumn = screenAnchor.column;\n            var endColumn = screenCursor.column;\n            var startOffsetX = screenAnchor.offsetX;\n            var endOffsetX = screenCursor.offsetX;\n        }\n        var yBackwards = screenCursor.row < screenAnchor.row;\n        if (yBackwards) {\n            var startRow = screenCursor.row;\n            var endRow = screenAnchor.row;\n        }\n        else {\n            var startRow = screenAnchor.row;\n            var endRow = screenCursor.row;\n        }\n        if (startColumn < 0)\n            startColumn = 0;\n        if (startRow < 0)\n            startRow = 0;\n        if (startRow == endRow)\n            includeEmptyLines = true;\n        var docEnd;\n        for (var row = startRow; row <= endRow; row++) {\n            var range = Range.fromPoints(this.session.screenToDocumentPosition(row, startColumn, startOffsetX), this.session.screenToDocumentPosition(row, endColumn, endOffsetX));\n            if (range.isEmpty()) {\n                if (docEnd && isSamePoint(range.end, docEnd))\n                    break;\n                docEnd = range.end;\n            }\n            range.cursor = xBackwards ? range.start : range.end;\n            rectSel.push(range);\n        }\n        if (yBackwards)\n            rectSel.reverse();\n        if (!includeEmptyLines) {\n            var end = rectSel.length - 1;\n            while (rectSel[end].isEmpty() && end > 0)\n                end--;\n            if (end > 0) {\n                var start = 0;\n                while (rectSel[start].isEmpty())\n                    start++;\n            }\n            for (var i = end; i >= start; i--) {\n                if (rectSel[i].isEmpty())\n                    rectSel.splice(i, 1);\n            }\n        }\n        return rectSel;\n    };\n}).call(Selection.prototype);\nvar Editor = require(\"./editor\").Editor;\n(function () {\n    this.updateSelectionMarkers = function () {\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.addSelectionMarker = function (orientedRange) {\n        if (!orientedRange.cursor)\n            orientedRange.cursor = orientedRange.end;\n        var style = this.getSelectionStyle();\n        orientedRange.marker = this.session.addMarker(orientedRange, \"ace_selection\", style);\n        this.session.$selectionMarkers.push(orientedRange);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n        return orientedRange;\n    };\n    this.removeSelectionMarker = function (range) {\n        if (!range.marker)\n            return;\n        this.session.removeMarker(range.marker);\n        var index = this.session.$selectionMarkers.indexOf(range);\n        if (index != -1)\n            this.session.$selectionMarkers.splice(index, 1);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n    };\n    this.removeSelectionMarkers = function (ranges) {\n        var markerList = this.session.$selectionMarkers;\n        for (var i = ranges.length; i--;) {\n            var range = ranges[i];\n            if (!range.marker)\n                continue;\n            this.session.removeMarker(range.marker);\n            var index = markerList.indexOf(range);\n            if (index != -1)\n                markerList.splice(index, 1);\n        }\n        this.session.selectionMarkerCount = markerList.length;\n    };\n    this.$onAddRange = function (e) {\n        this.addSelectionMarker(e.range);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.$onRemoveRange = function (e) {\n        this.removeSelectionMarkers(e.ranges);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.$onMultiSelect = function (e) {\n        if (this.inMultiSelectMode)\n            return;\n        this.inMultiSelectMode = true;\n        this.setStyle(\"ace_multiselect\");\n        this.keyBinding.addKeyboardHandler(commands.keyboardHandler);\n        this.commands.setDefaultHandler(\"exec\", this.$onMultiSelectExec);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.$onSingleSelect = function (e) {\n        if (this.session.multiSelect.inVirtualMode)\n            return;\n        this.inMultiSelectMode = false;\n        this.unsetStyle(\"ace_multiselect\");\n        this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);\n        this.commands.removeDefaultHandler(\"exec\", this.$onMultiSelectExec);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n        this._emit(\"changeSelection\");\n    };\n    this.$onMultiSelectExec = function (e) {\n        var command = e.command;\n        var editor = e.editor;\n        if (!editor.multiSelect)\n            return;\n        if (!command.multiSelectAction) {\n            var result = command.exec(editor, e.args || {});\n            editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());\n            editor.multiSelect.mergeOverlappingRanges();\n        }\n        else if (command.multiSelectAction == \"forEach\") {\n            result = editor.forEachSelection(command, e.args);\n        }\n        else if (command.multiSelectAction == \"forEachLine\") {\n            result = editor.forEachSelection(command, e.args, true);\n        }\n        else if (command.multiSelectAction == \"single\") {\n            editor.exitMultiSelectMode();\n            result = command.exec(editor, e.args || {});\n        }\n        else {\n            result = command.multiSelectAction(editor, e.args || {});\n        }\n        return result;\n    };\n    this.forEachSelection = function (cmd, args, options) {\n        if (this.inVirtualSelectionMode)\n            return;\n        var keepOrder = options && options.keepOrder;\n        var $byLines = options == true || options && options.$byLines;\n        var session = this.session;\n        var selection = this.selection;\n        var rangeList = selection.rangeList;\n        var ranges = (keepOrder ? selection : rangeList).ranges;\n        var result;\n        if (!ranges.length)\n            return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n        var reg = selection._eventRegistry;\n        selection._eventRegistry = {};\n        var tmpSel = new Selection(session);\n        this.inVirtualSelectionMode = true;\n        for (var i = ranges.length; i--;) {\n            if ($byLines) {\n                while (i > 0 && ranges[i].start.row == ranges[i - 1].end.row)\n                    i--;\n            }\n            tmpSel.fromOrientedRange(ranges[i]);\n            tmpSel.index = i;\n            this.selection = session.selection = tmpSel;\n            var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n            if (!result && cmdResult !== undefined)\n                result = cmdResult;\n            tmpSel.toOrientedRange(ranges[i]);\n        }\n        tmpSel.detach();\n        this.selection = session.selection = selection;\n        this.inVirtualSelectionMode = false;\n        selection._eventRegistry = reg;\n        selection.mergeOverlappingRanges();\n        if (selection.ranges[0])\n            selection.fromOrientedRange(selection.ranges[0]);\n        var anim = this.renderer.$scrollAnimation;\n        this.onCursorChange();\n        this.onSelectionChange();\n        if (anim && anim.from == anim.to)\n            this.renderer.animateScrolling(anim.from);\n        return result;\n    };\n    this.exitMultiSelectMode = function () {\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)\n            return;\n        this.multiSelect.toSingleRange();\n    };\n    this.getSelectedText = function () {\n        var text = \"\";\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var ranges = this.multiSelect.rangeList.ranges;\n            var buf = [];\n            for (var i = 0; i < ranges.length; i++) {\n                buf.push(this.session.getTextRange(ranges[i]));\n            }\n            var nl = this.session.getDocument().getNewLineCharacter();\n            text = buf.join(nl);\n            if (text.length == (buf.length - 1) * nl.length)\n                text = \"\";\n        }\n        else if (!this.selection.isEmpty()) {\n            text = this.session.getTextRange(this.getSelectionRange());\n        }\n        return text;\n    };\n    this.$checkMultiselectChange = function (e, anchor) {\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var range = this.multiSelect.ranges[0];\n            if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor)\n                return;\n            var pos = anchor == this.multiSelect.anchor\n                ? range.cursor == range.start ? range.end : range.start\n                : range.cursor;\n            if (pos.row != anchor.row\n                || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column)\n                this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());\n            else\n                this.multiSelect.mergeOverlappingRanges();\n        }\n    };\n    this.findAll = function (needle, options, additive) {\n        options = options || {};\n        options.needle = needle || options.needle;\n        if (options.needle == undefined) {\n            var range = this.selection.isEmpty()\n                ? this.selection.getWordRange()\n                : this.selection.getRange();\n            options.needle = this.session.getTextRange(range);\n        }\n        this.$search.set(options);\n        var ranges = this.$search.findAll(this.session);\n        if (!ranges.length)\n            return 0;\n        var selection = this.multiSelect;\n        if (!additive)\n            selection.toSingleRange(ranges[0]);\n        for (var i = ranges.length; i--;)\n            selection.addRange(ranges[i], true);\n        if (range && selection.rangeList.rangeAtPoint(range.start))\n            selection.addRange(range, true);\n        return ranges.length;\n    };\n    this.selectMoreLines = function (dir, skip) {\n        var range = this.selection.toOrientedRange();\n        var isBackwards = range.cursor == range.end;\n        var screenLead = this.session.documentToScreenPosition(range.cursor);\n        if (this.selection.$desiredColumn)\n            screenLead.column = this.selection.$desiredColumn;\n        var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);\n        if (!range.isEmpty()) {\n            var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);\n            var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);\n        }\n        else {\n            var anchor = lead;\n        }\n        if (isBackwards) {\n            var newRange = Range.fromPoints(lead, anchor);\n            newRange.cursor = newRange.start;\n        }\n        else {\n            var newRange = Range.fromPoints(anchor, lead);\n            newRange.cursor = newRange.end;\n        }\n        newRange.desiredColumn = screenLead.column;\n        if (!this.selection.inMultiSelectMode) {\n            this.selection.addRange(range);\n        }\n        else {\n            if (skip)\n                var toRemove = range.cursor;\n        }\n        this.selection.addRange(newRange);\n        if (toRemove)\n            this.selection.substractPoint(toRemove);\n    };\n    this.transposeSelections = function (dir) {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var all = sel.ranges;\n        for (var i = all.length; i--;) {\n            var range = all[i];\n            if (range.isEmpty()) {\n                var tmp_1 = session.getWordRange(range.start.row, range.start.column);\n                range.start.row = tmp_1.start.row;\n                range.start.column = tmp_1.start.column;\n                range.end.row = tmp_1.end.row;\n                range.end.column = tmp_1.end.column;\n            }\n        }\n        sel.mergeOverlappingRanges();\n        var words = [];\n        for (var i = all.length; i--;) {\n            var range = all[i];\n            words.unshift(session.getTextRange(range));\n        }\n        if (dir < 0)\n            words.unshift(words.pop());\n        else\n            words.push(words.shift());\n        for (var i = all.length; i--;) {\n            var range = all[i];\n            var tmp = range.clone();\n            session.replace(range, words[i]);\n            range.start.row = tmp.start.row;\n            range.start.column = tmp.start.column;\n        }\n        sel.fromOrientedRange(sel.ranges[0]);\n    };\n    this.selectMore = function (dir, skip, stopAtFirst) {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var range = sel.toOrientedRange();\n        if (range.isEmpty()) {\n            range = session.getWordRange(range.start.row, range.start.column);\n            range.cursor = dir == -1 ? range.start : range.end;\n            this.multiSelect.addRange(range);\n            if (stopAtFirst)\n                return;\n        }\n        var needle = session.getTextRange(range);\n        var newRange = find(session, needle, dir);\n        if (newRange) {\n            newRange.cursor = dir == -1 ? newRange.start : newRange.end;\n            this.session.unfold(newRange);\n            this.multiSelect.addRange(newRange);\n            this.renderer.scrollCursorIntoView(null, 0.5);\n        }\n        if (skip)\n            this.multiSelect.substractPoint(range.cursor);\n    };\n    this.alignCursors = function () {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var ranges = sel.ranges;\n        var row = -1;\n        var sameRowRanges = ranges.filter(function (r) {\n            if (r.cursor.row == row)\n                return true;\n            row = r.cursor.row;\n        });\n        if (!ranges.length || sameRowRanges.length == ranges.length - 1) {\n            var range = this.selection.getRange();\n            var fr = range.start.row, lr = range.end.row;\n            var guessRange = fr == lr;\n            if (guessRange) {\n                var max = this.session.getLength();\n                var line;\n                do {\n                    line = this.session.getLine(lr);\n                } while (/[=:]/.test(line) && ++lr < max);\n                do {\n                    line = this.session.getLine(fr);\n                } while (/[=:]/.test(line) && --fr > 0);\n                if (fr < 0)\n                    fr = 0;\n                if (lr >= max)\n                    lr = max - 1;\n            }\n            var lines = this.session.removeFullLines(fr, lr);\n            lines = this.$reAlignText(lines, guessRange);\n            this.session.insert({ row: fr, column: 0 }, lines.join(\"\\n\") + \"\\n\");\n            if (!guessRange) {\n                range.start.column = 0;\n                range.end.column = lines[lines.length - 1].length;\n            }\n            this.selection.setRange(range);\n        }\n        else {\n            sameRowRanges.forEach(function (r) {\n                sel.substractPoint(r.cursor);\n            });\n            var maxCol = 0;\n            var minSpace = Infinity;\n            var spaceOffsets = ranges.map(function (r) {\n                var p = r.cursor;\n                var line = session.getLine(p.row);\n                var spaceOffset = line.substr(p.column).search(/\\S/g);\n                if (spaceOffset == -1)\n                    spaceOffset = 0;\n                if (p.column > maxCol)\n                    maxCol = p.column;\n                if (spaceOffset < minSpace)\n                    minSpace = spaceOffset;\n                return spaceOffset;\n            });\n            ranges.forEach(function (r, i) {\n                var p = r.cursor;\n                var l = maxCol - p.column;\n                var d = spaceOffsets[i] - minSpace;\n                if (l > d)\n                    session.insert(p, lang.stringRepeat(\" \", l - d));\n                else\n                    session.remove(new Range(p.row, p.column, p.row, p.column - l + d));\n                r.start.column = r.end.column = maxCol;\n                r.start.row = r.end.row = p.row;\n                r.cursor = r.end;\n            });\n            sel.fromOrientedRange(ranges[0]);\n            this.renderer.updateCursor();\n            this.renderer.updateBackMarkers();\n        }\n    };\n    this.$reAlignText = function (lines, forceLeft) {\n        var isLeftAligned = true, isRightAligned = true;\n        var startW, textW, endW;\n        return lines.map(function (line) {\n            var m = line.match(/(\\s*)(.*?)(\\s*)([=:].*)/);\n            if (!m)\n                return [line];\n            if (startW == null) {\n                startW = m[1].length;\n                textW = m[2].length;\n                endW = m[3].length;\n                return m;\n            }\n            if (startW + textW + endW != m[1].length + m[2].length + m[3].length)\n                isRightAligned = false;\n            if (startW != m[1].length)\n                isLeftAligned = false;\n            if (startW > m[1].length)\n                startW = m[1].length;\n            if (textW < m[2].length)\n                textW = m[2].length;\n            if (endW > m[3].length)\n                endW = m[3].length;\n            return m;\n        }).map(forceLeft ? alignLeft :\n            isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);\n        function spaces(n) {\n            return lang.stringRepeat(\" \", n);\n        }\n        function alignLeft(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(textW - m[2].length + endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function alignRight(m) {\n            return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function unAlign(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n    };\n}).call(Editor.prototype);\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\nexports.onSessionChange = function (e) {\n    var session = e.session;\n    if (session && !session.multiSelect) {\n        session.$selectionMarkers = [];\n        session.selection.$initRangeList();\n        session.multiSelect = session.selection;\n    }\n    this.multiSelect = session && session.multiSelect;\n    var oldSession = e.oldSession;\n    if (oldSession) {\n        oldSession.multiSelect.off(\"addRange\", this.$onAddRange);\n        oldSession.multiSelect.off(\"removeRange\", this.$onRemoveRange);\n        oldSession.multiSelect.off(\"multiSelect\", this.$onMultiSelect);\n        oldSession.multiSelect.off(\"singleSelect\", this.$onSingleSelect);\n        oldSession.multiSelect.lead.off(\"change\", this.$checkMultiselectChange);\n        oldSession.multiSelect.anchor.off(\"change\", this.$checkMultiselectChange);\n    }\n    if (session) {\n        session.multiSelect.on(\"addRange\", this.$onAddRange);\n        session.multiSelect.on(\"removeRange\", this.$onRemoveRange);\n        session.multiSelect.on(\"multiSelect\", this.$onMultiSelect);\n        session.multiSelect.on(\"singleSelect\", this.$onSingleSelect);\n        session.multiSelect.lead.on(\"change\", this.$checkMultiselectChange);\n        session.multiSelect.anchor.on(\"change\", this.$checkMultiselectChange);\n    }\n    if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {\n        if (session.selection.inMultiSelectMode)\n            this.$onMultiSelect();\n        else\n            this.$onSingleSelect();\n    }\n};\nfunction MultiSelect(editor) {\n    if (editor.$multiselectOnSessionChange)\n        return;\n    editor.$onAddRange = editor.$onAddRange.bind(editor);\n    editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);\n    editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);\n    editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);\n    editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);\n    editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);\n    editor.$multiselectOnSessionChange(editor);\n    editor.on(\"changeSession\", editor.$multiselectOnSessionChange);\n    editor.on(\"mousedown\", onMouseDown);\n    editor.commands.addCommands(commands.defaultCommands);\n    addAltCursorListeners(editor);\n}\nfunction addAltCursorListeners(editor) {\n    if (!editor.textInput)\n        return;\n    var el = editor.textInput.getElement();\n    var altCursor = false;\n    event.addListener(el, \"keydown\", function (e) {\n        var altDown = e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey);\n        if (editor.$blockSelectEnabled && altDown) {\n            if (!altCursor) {\n                editor.renderer.setMouseCursor(\"crosshair\");\n                altCursor = true;\n            }\n        }\n        else if (altCursor) {\n            reset();\n        }\n    }, editor);\n    event.addListener(el, \"keyup\", reset, editor);\n    event.addListener(el, \"blur\", reset, editor);\n    function reset(e) {\n        if (altCursor) {\n            editor.renderer.setMouseCursor(\"\");\n            altCursor = false;\n        }\n    }\n}\nexports.MultiSelect = MultiSelect;\nrequire(\"./config\").defineOptions(Editor.prototype, \"editor\", {\n    enableMultiselect: {\n        set: function (val) {\n            MultiSelect(this);\n            if (val) {\n                this.on(\"mousedown\", onMouseDown);\n            }\n            else {\n                this.off(\"mousedown\", onMouseDown);\n            }\n        },\n        value: true\n    },\n    enableBlockSelect: {\n        set: function (val) {\n            this.$blockSelectEnabled = val;\n        },\n        value: true\n    }\n});\n\n});\n\nace.define(\"ace/mode/folding/fold_mode\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"../../range\").Range;\nvar FoldMode = exports.FoldMode = function () { };\n(function () {\n    this.foldingStartMarker = null;\n    this.foldingStopMarker = null;\n    this.getFoldWidget = function (session, foldStyle, row) {\n        var line = session.getLine(row);\n        if (this.foldingStartMarker.test(line))\n            return \"start\";\n        if (foldStyle == \"markbeginend\"\n            && this.foldingStopMarker\n            && this.foldingStopMarker.test(line))\n            return \"end\";\n        return \"\";\n    };\n    this.getFoldWidgetRange = function (session, foldStyle, row) {\n        return null;\n    };\n    this.indentationBlock = function (session, row, column) {\n        var re = /\\S/;\n        var line = session.getLine(row);\n        var startLevel = line.search(re);\n        if (startLevel == -1)\n            return;\n        var startColumn = column || line.length;\n        var maxRow = session.getLength();\n        var startRow = row;\n        var endRow = row;\n        while (++row < maxRow) {\n            var level = session.getLine(row).search(re);\n            if (level == -1)\n                continue;\n            if (level <= startLevel) {\n                var token = session.getTokenAt(row, 0);\n                if (!token || token.type !== \"string\")\n                    break;\n            }\n            endRow = row;\n        }\n        if (endRow > startRow) {\n            var endColumn = session.getLine(endRow).length;\n            return new Range(startRow, startColumn, endRow, endColumn);\n        }\n    };\n    this.openingBracketBlock = function (session, bracket, row, column, typeRe) {\n        var start = { row: row, column: column + 1 };\n        var end = session.$findClosingBracket(bracket, start, typeRe);\n        if (!end)\n            return;\n        var fw = session.foldWidgets[end.row];\n        if (fw == null)\n            fw = session.getFoldWidget(end.row);\n        if (fw == \"start\" && end.row > start.row) {\n            end.row--;\n            end.column = session.getLine(end.row).length;\n        }\n        return Range.fromPoints(start, end);\n    };\n    this.closingBracketBlock = function (session, bracket, row, column, typeRe) {\n        var end = { row: row, column: column };\n        var start = session.$findOpeningBracket(bracket, end);\n        if (!start)\n            return;\n        start.column++;\n        end.column--;\n        return Range.fromPoints(start, end);\n    };\n}).call(FoldMode.prototype);\n\n});\n\nace.define(\"ace/ext/error_marker\",[\"require\",\"exports\",\"module\",\"ace/line_widgets\",\"ace/lib/dom\",\"ace/range\",\"ace/config\"], function(require, exports, module){\"use strict\";\nvar LineWidgets = require(\"../line_widgets\").LineWidgets;\nvar dom = require(\"../lib/dom\");\nvar Range = require(\"../range\").Range;\nvar nls = require(\"../config\").nls;\nfunction binarySearch(array, needle, comparator) {\n    var first = 0;\n    var last = array.length - 1;\n    while (first <= last) {\n        var mid = (first + last) >> 1;\n        var c = comparator(needle, array[mid]);\n        if (c > 0)\n            first = mid + 1;\n        else if (c < 0)\n            last = mid - 1;\n        else\n            return mid;\n    }\n    return -(first + 1);\n}\nfunction findAnnotations(session, row, dir) {\n    var annotations = session.getAnnotations().sort(Range.comparePoints);\n    if (!annotations.length)\n        return;\n    var i = binarySearch(annotations, { row: row, column: -1 }, Range.comparePoints);\n    if (i < 0)\n        i = -i - 1;\n    if (i >= annotations.length)\n        i = dir > 0 ? 0 : annotations.length - 1;\n    else if (i === 0 && dir < 0)\n        i = annotations.length - 1;\n    var annotation = annotations[i];\n    if (!annotation || !dir)\n        return;\n    if (annotation.row === row) {\n        do {\n            annotation = annotations[i += dir];\n        } while (annotation && annotation.row === row);\n        if (!annotation)\n            return annotations.slice();\n    }\n    var matched = [];\n    row = annotation.row;\n    do {\n        matched[dir < 0 ? \"unshift\" : \"push\"](annotation);\n        annotation = annotations[i += dir];\n    } while (annotation && annotation.row == row);\n    return matched.length && matched;\n}\nexports.showErrorMarker = function (editor, dir) {\n    var session = editor.session;\n    if (!session.widgetManager) {\n        session.widgetManager = new LineWidgets(session);\n        session.widgetManager.attach(editor);\n    }\n    var pos = editor.getCursorPosition();\n    var row = pos.row;\n    var oldWidget = session.widgetManager.getWidgetsAtRow(row).filter(function (w) {\n        return w.type == \"errorMarker\";\n    })[0];\n    if (oldWidget) {\n        oldWidget.destroy();\n    }\n    else {\n        row -= dir;\n    }\n    var annotations = findAnnotations(session, row, dir);\n    var gutterAnno;\n    if (annotations) {\n        var annotation = annotations[0];\n        pos.column = (annotation.pos && typeof annotation.column != \"number\"\n            ? annotation.pos.sc\n            : annotation.column) || 0;\n        pos.row = annotation.row;\n        gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];\n    }\n    else if (oldWidget) {\n        return;\n    }\n    else {\n        gutterAnno = {\n            displayText: [nls(\"error-marker.good-state\", \"Looks good!\")],\n            className: \"ace_ok\"\n        };\n    }\n    editor.session.unfold(pos.row);\n    editor.selection.moveToPosition(pos);\n    var w = {\n        row: pos.row,\n        fixedWidth: true,\n        coverGutter: true,\n        el: dom.createElement(\"div\"),\n        type: \"errorMarker\"\n    };\n    var el = w.el.appendChild(dom.createElement(\"div\"));\n    var arrow = w.el.appendChild(dom.createElement(\"div\"));\n    arrow.className = \"error_widget_arrow \" + gutterAnno.className;\n    var left = editor.renderer.$cursorLayer\n        .getPixelPosition(pos).left;\n    arrow.style.left = left + editor.renderer.gutterWidth - 5 + \"px\";\n    w.el.className = \"error_widget_wrapper\";\n    el.className = \"error_widget \" + gutterAnno.className;\n    gutterAnno.displayText.forEach(function (annoTextLine, i) {\n        el.appendChild(dom.createTextNode(annoTextLine));\n        if (i < gutterAnno.displayText.length - 1) {\n            el.appendChild(dom.createElement(\"br\"));\n        }\n    });\n    el.appendChild(dom.createElement(\"div\"));\n    var kb = function (_, hashId, keyString) {\n        if (hashId === 0 && (keyString === \"esc\" || keyString === \"return\")) {\n            w.destroy();\n            return { command: \"null\" };\n        }\n    };\n    w.destroy = function () {\n        if (editor.$mouseHandler.isMousePressed)\n            return;\n        editor.keyBinding.removeKeyboardHandler(kb);\n        session.widgetManager.removeLineWidget(w);\n        editor.off(\"changeSelection\", w.destroy);\n        editor.off(\"changeSession\", w.destroy);\n        editor.off(\"mouseup\", w.destroy);\n        editor.off(\"change\", w.destroy);\n    };\n    editor.keyBinding.addKeyboardHandler(kb);\n    editor.on(\"changeSelection\", w.destroy);\n    editor.on(\"changeSession\", w.destroy);\n    editor.on(\"mouseup\", w.destroy);\n    editor.on(\"change\", w.destroy);\n    editor.session.widgetManager.addLineWidget(w);\n    w.el.onmousedown = editor.focus.bind(editor);\n    editor.renderer.scrollCursorIntoView(null, 0.5, { bottom: w.el.offsetHeight });\n};\ndom.importCssString(\"\\n    .error_widget_wrapper {\\n        background: inherit;\\n        color: inherit;\\n        border:none\\n    }\\n    .error_widget {\\n        border-top: solid 2px;\\n        border-bottom: solid 2px;\\n        margin: 5px 0;\\n        padding: 10px 40px;\\n        white-space: pre-wrap;\\n    }\\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\\n        border-color: #ff5a5a\\n    }\\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\\n        border-color: #F1D817\\n    }\\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\\n        border-color: #5a5a5a\\n    }\\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\\n        border-color: #5aaa5a\\n    }\\n    .error_widget_arrow {\\n        position: absolute;\\n        border: solid 5px;\\n        border-top-color: transparent!important;\\n        border-right-color: transparent!important;\\n        border-left-color: transparent!important;\\n        top: -5px;\\n    }\\n\", \"error_marker.css\", false);\n\n});\n\nace.define(\"ace/ace\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/range\",\"ace/editor\",\"ace/edit_session\",\"ace/undomanager\",\"ace/virtual_renderer\",\"ace/worker/worker_client\",\"ace/keyboard/hash_handler\",\"ace/placeholder\",\"ace/multi_select\",\"ace/mode/folding/fold_mode\",\"ace/theme/textmate\",\"ace/ext/error_marker\",\"ace/config\",\"ace/loader_build\"], function(require, exports, module){/**\n * The main class required to set up an Ace instance in the browser.\n *\n * @namespace Ace\n **/\n\"use strict\";\nrequire(\"./loader_build\")(exports)\nvar dom = require(\"./lib/dom\");\nvar Range = require(\"./range\").Range;\nvar Editor = require(\"./editor\").Editor;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar UndoManager = require(\"./undomanager\").UndoManager;\nvar Renderer = require(\"./virtual_renderer\").VirtualRenderer;\nrequire(\"./worker/worker_client\");\nrequire(\"./keyboard/hash_handler\");\nrequire(\"./placeholder\");\nrequire(\"./multi_select\");\nrequire(\"./mode/folding/fold_mode\");\nrequire(\"./theme/textmate\");\nrequire(\"./ext/error_marker\");\nexports.config = require(\"./config\");\nexports.edit = function (el, options) {\n    if (typeof el == \"string\") {\n        var _id = el;\n        el = document.getElementById(_id);\n        if (!el)\n            throw new Error(\"ace.edit can't find div #\" + _id);\n    }\n    if (el && el.env && el.env.editor instanceof Editor)\n        return el.env.editor;\n    var value = \"\";\n    if (el && /input|textarea/i.test(el.tagName)) {\n        var oldNode = el;\n        value = oldNode.value;\n        el = dom.createElement(\"pre\");\n        oldNode.parentNode.replaceChild(el, oldNode);\n    }\n    else if (el) {\n        value = el.textContent;\n        el.innerHTML = \"\";\n    }\n    var doc = exports.createEditSession(value);\n    var editor = new Editor(new Renderer(el), doc, options);\n    var env = {\n        document: doc,\n        editor: editor,\n        onResize: editor.resize.bind(editor, null)\n    };\n    if (oldNode)\n        env.textarea = oldNode;\n    editor.on(\"destroy\", function () {\n        env.editor.container.env = null; // prevent memory leak on old ie\n    });\n    editor.container.env = editor.env = env;\n    return editor;\n};\nexports.createEditSession = function (text, mode) {\n    var doc = new EditSession(text, mode);\n    doc.setUndoManager(new UndoManager());\n    return doc;\n};\nexports.Range = Range;\nexports.Editor = Editor;\nexports.EditSession = EditSession;\nexports.UndoManager = UndoManager;\nexports.VirtualRenderer = Renderer;\nexports.version = exports.config.version;\n\n});            (function() {\n                ace.require([\"ace/ace\"], function(a) {\n                    if (a) {\n                        a.config.init(true);\n                        a.define = ace.define;\n                    }\n                    var global = (function () {\n                        return this;\n                    })();\n                    if (!global && typeof window != \"undefined\") global = window; // can happen in strict mode\n                    if (!global && typeof self != \"undefined\") global = self; // can happen in webworker\n                    \n                    if (!global.ace)\n                        global.ace = a;\n                    for (var key in a) if (a.hasOwnProperty(key))\n                        global.ace[key] = a[key];\n                    global.ace[\"default\"] = global.ace;\n                    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                        module.exports = global.ace;\n                    }\n                });\n            })();\n        ","ace.define(\"ace/split\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/editor\",\"ace/virtual_renderer\",\"ace/edit_session\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Editor = require(\"./editor\").Editor;\nvar Renderer = require(\"./virtual_renderer\").VirtualRenderer;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar Split;\nSplit = function (container, theme, splits) {\n    this.BELOW = 1;\n    this.BESIDE = 0;\n    this.$container = container;\n    this.$theme = theme;\n    this.$splits = 0;\n    this.$editorCSS = \"\";\n    this.$editors = [];\n    this.$orientation = this.BESIDE;\n    this.setSplits(splits || 1);\n    this.$cEditor = this.$editors[0];\n    this.on(\"focus\", function (editor) {\n        this.$cEditor = editor;\n    }.bind(this));\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.$createEditor = function () {\n        var el = document.createElement(\"div\");\n        el.className = this.$editorCSS;\n        el.style.cssText = \"position: absolute; top:0px; bottom:0px\";\n        this.$container.appendChild(el);\n        var editor = new Editor(new Renderer(el, this.$theme));\n        editor.on(\"focus\", function () {\n            this._emit(\"focus\", editor);\n        }.bind(this));\n        this.$editors.push(editor);\n        editor.setFontSize(this.$fontSize);\n        return editor;\n    };\n    this.setSplits = function (splits) {\n        var editor;\n        if (splits < 1) {\n            throw \"The number of splits have to be > 0!\";\n        }\n        if (splits == this.$splits) {\n            return;\n        }\n        else if (splits > this.$splits) {\n            while (this.$splits < this.$editors.length && this.$splits < splits) {\n                editor = this.$editors[this.$splits];\n                this.$container.appendChild(editor.container);\n                editor.setFontSize(this.$fontSize);\n                this.$splits++;\n            }\n            while (this.$splits < splits) {\n                this.$createEditor();\n                this.$splits++;\n            }\n        }\n        else {\n            while (this.$splits > splits) {\n                editor = this.$editors[this.$splits - 1];\n                this.$container.removeChild(editor.container);\n                this.$splits--;\n            }\n        }\n        this.resize();\n    };\n    this.getSplits = function () {\n        return this.$splits;\n    };\n    this.getEditor = function (idx) {\n        return this.$editors[idx];\n    };\n    this.getCurrentEditor = function () {\n        return this.$cEditor;\n    };\n    this.focus = function () {\n        this.$cEditor.focus();\n    };\n    this.blur = function () {\n        this.$cEditor.blur();\n    };\n    this.setTheme = function (theme) {\n        this.$editors.forEach(function (editor) {\n            editor.setTheme(theme);\n        });\n    };\n    this.setKeyboardHandler = function (keybinding) {\n        this.$editors.forEach(function (editor) {\n            editor.setKeyboardHandler(keybinding);\n        });\n    };\n    this.forEach = function (callback, scope) {\n        this.$editors.forEach(callback, scope);\n    };\n    this.$fontSize = \"\";\n    this.setFontSize = function (size) {\n        this.$fontSize = size;\n        this.forEach(function (editor) {\n            editor.setFontSize(size);\n        });\n    };\n    this.$cloneSession = function (session) {\n        var s = new EditSession(session.getDocument(), session.getMode());\n        var undoManager = session.getUndoManager();\n        s.setUndoManager(undoManager);\n        s.setTabSize(session.getTabSize());\n        s.setUseSoftTabs(session.getUseSoftTabs());\n        s.setOverwrite(session.getOverwrite());\n        s.setBreakpoints(session.getBreakpoints());\n        s.setUseWrapMode(session.getUseWrapMode());\n        s.setUseWorker(session.getUseWorker());\n        s.setWrapLimitRange(session.$wrapLimitRange.min, session.$wrapLimitRange.max);\n        s.$foldData = session.$cloneFoldData();\n        return s;\n    };\n    this.setSession = function (session, idx) {\n        var editor;\n        if (idx == null) {\n            editor = this.$cEditor;\n        }\n        else {\n            editor = this.$editors[idx];\n        }\n        var isUsed = this.$editors.some(function (editor) {\n            return editor.session === session;\n        });\n        if (isUsed) {\n            session = this.$cloneSession(session);\n        }\n        editor.setSession(session);\n        return session;\n    };\n    this.getOrientation = function () {\n        return this.$orientation;\n    };\n    this.setOrientation = function (orientation) {\n        if (this.$orientation == orientation) {\n            return;\n        }\n        this.$orientation = orientation;\n        this.resize();\n    };\n    this.resize = function () {\n        var width = this.$container.clientWidth;\n        var height = this.$container.clientHeight;\n        var editor;\n        if (this.$orientation == this.BESIDE) {\n            var editorWidth = width / this.$splits;\n            for (var i = 0; i < this.$splits; i++) {\n                editor = this.$editors[i];\n                editor.container.style.width = editorWidth + \"px\";\n                editor.container.style.top = \"0px\";\n                editor.container.style.left = i * editorWidth + \"px\";\n                editor.container.style.height = height + \"px\";\n                editor.resize();\n            }\n        }\n        else {\n            var editorHeight = height / this.$splits;\n            for (var i = 0; i < this.$splits; i++) {\n                editor = this.$editors[i];\n                editor.container.style.width = width + \"px\";\n                editor.container.style.top = i * editorHeight + \"px\";\n                editor.container.style.left = \"0px\";\n                editor.container.style.height = editorHeight + \"px\";\n                editor.resize();\n            }\n        }\n    };\n}).call(Split.prototype);\nexports.Split = Split;\n\n});\n\nace.define(\"ace/ext/split\",[\"require\",\"exports\",\"module\",\"ace/split\"], function(require, exports, module){\"use strict\";\nmodule.exports = require(\"../split\");\n\n});                (function() {\n                    ace.require([\"ace/ext/split\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            ","ace.define(\"ace/mode/json_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text_highlight_rules\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar oop = acequire(\"../lib/oop\");\nvar TextHighlightRules = acequire(\"./text_highlight_rules\").TextHighlightRules;\n\nvar JsonHighlightRules = function() {\n    this.$rules = {\n        \"start\" : [\n            {\n                token : \"variable\", // single line\n                regex : '[\"](?:(?:\\\\\\\\.)|(?:[^\"\\\\\\\\]))*?[\"]\\\\s*(?=:)'\n            }, {\n                token : \"string\", // single line\n                regex : '\"',\n                next  : \"string\"\n            }, {\n                token : \"constant.numeric\", // hex\n                regex : \"0[xX][0-9a-fA-F]+\\\\b\"\n            }, {\n                token : \"constant.numeric\", // float\n                regex : \"[+-]?\\\\d+(?:(?:\\\\.\\\\d*)?(?:[eE][+-]?\\\\d+)?)?\\\\b\"\n            }, {\n                token : \"constant.language.boolean\",\n                regex : \"(?:true|false)\\\\b\"\n            }, {\n                token : \"text\", // single quoted strings are not allowed\n                regex : \"['](?:(?:\\\\\\\\.)|(?:[^'\\\\\\\\]))*?[']\"\n            }, {\n                token : \"comment\", // comments are not allowed, but who cares?\n                regex : \"\\\\/\\\\/.*$\"\n            }, {\n                token : \"comment.start\", // comments are not allowed, but who cares?\n                regex : \"\\\\/\\\\*\",\n                next  : \"comment\"\n            }, {\n                token : \"paren.lparen\",\n                regex : \"[[({]\"\n            }, {\n                token : \"paren.rparen\",\n                regex : \"[\\\\])}]\"\n            }, {\n                token : \"text\",\n                regex : \"\\\\s+\"\n            }\n        ],\n        \"string\" : [\n            {\n                token : \"constant.language.escape\",\n                regex : /\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[\"\\\\\\/bfnrt])/\n            }, {\n                token : \"string\",\n                regex : '\"|$',\n                next  : \"start\"\n            }, {\n                defaultToken : \"string\"\n            }\n        ],\n        \"comment\" : [\n            {\n                token : \"comment.end\", // comments are not allowed, but who cares?\n                regex : \"\\\\*\\\\/\",\n                next  : \"start\"\n            }, {\n                defaultToken: \"comment\"\n            }\n        ]\n    };\n    \n};\n\noop.inherits(JsonHighlightRules, TextHighlightRules);\n\nexports.JsonHighlightRules = JsonHighlightRules;\n});\n\nace.define(\"ace/mode/matching_brace_outdent\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar Range = acequire(\"../range\").Range;\n\nvar MatchingBraceOutdent = function() {};\n\n(function() {\n\n    this.checkOutdent = function(line, input) {\n        if (! /^\\s+$/.test(line))\n            return false;\n\n        return /^\\s*\\}/.test(input);\n    };\n\n    this.autoOutdent = function(doc, row) {\n        var line = doc.getLine(row);\n        var match = line.match(/^(\\s*\\})/);\n\n        if (!match) return 0;\n\n        var column = match[1].length;\n        var openBracePos = doc.findMatchingBracket({row: row, column: column});\n\n        if (!openBracePos || openBracePos.row == row) return 0;\n\n        var indent = this.$getIndent(doc.getLine(openBracePos.row));\n        doc.replace(new Range(row, 0, row, column-1), indent);\n    };\n\n    this.$getIndent = function(line) {\n        return line.match(/^\\s*/)[0];\n    };\n\n}).call(MatchingBraceOutdent.prototype);\n\nexports.MatchingBraceOutdent = MatchingBraceOutdent;\n});\n\nace.define(\"ace/mode/folding/cstyle\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/range\",\"ace/mode/folding/fold_mode\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar oop = acequire(\"../../lib/oop\");\nvar Range = acequire(\"../../range\").Range;\nvar BaseFoldMode = acequire(\"./fold_mode\").FoldMode;\n\nvar FoldMode = exports.FoldMode = function(commentRegex) {\n    if (commentRegex) {\n        this.foldingStartMarker = new RegExp(\n            this.foldingStartMarker.source.replace(/\\|[^|]*?$/, \"|\" + commentRegex.start)\n        );\n        this.foldingStopMarker = new RegExp(\n            this.foldingStopMarker.source.replace(/\\|[^|]*?$/, \"|\" + commentRegex.end)\n        );\n    }\n};\noop.inherits(FoldMode, BaseFoldMode);\n\n(function() {\n    \n    this.foldingStartMarker = /([\\{\\[\\(])[^\\}\\]\\)]*$|^\\s*(\\/\\*)/;\n    this.foldingStopMarker = /^[^\\[\\{\\(]*([\\}\\]\\)])|^[\\s\\*]*(\\*\\/)/;\n    this.singleLineBlockCommentRe= /^\\s*(\\/\\*).*\\*\\/\\s*$/;\n    this.tripleStarBlockCommentRe = /^\\s*(\\/\\*\\*\\*).*\\*\\/\\s*$/;\n    this.startRegionRe = /^\\s*(\\/\\*|\\/\\/)#?region\\b/;\n    this._getFoldWidgetBase = this.getFoldWidget;\n    this.getFoldWidget = function(session, foldStyle, row) {\n        var line = session.getLine(row);\n    \n        if (this.singleLineBlockCommentRe.test(line)) {\n            if (!this.startRegionRe.test(line) && !this.tripleStarBlockCommentRe.test(line))\n                return \"\";\n        }\n    \n        var fw = this._getFoldWidgetBase(session, foldStyle, row);\n    \n        if (!fw && this.startRegionRe.test(line))\n            return \"start\"; // lineCommentRegionStart\n    \n        return fw;\n    };\n\n    this.getFoldWidgetRange = function(session, foldStyle, row, forceMultiline) {\n        var line = session.getLine(row);\n        \n        if (this.startRegionRe.test(line))\n            return this.getCommentRegionBlock(session, line, row);\n        \n        var match = line.match(this.foldingStartMarker);\n        if (match) {\n            var i = match.index;\n\n            if (match[1])\n                return this.openingBracketBlock(session, match[1], row, i);\n                \n            var range = session.getCommentFoldRange(row, i + match[0].length, 1);\n            \n            if (range && !range.isMultiLine()) {\n                if (forceMultiline) {\n                    range = this.getSectionRange(session, row);\n                } else if (foldStyle != \"all\")\n                    range = null;\n            }\n            \n            return range;\n        }\n\n        if (foldStyle === \"markbegin\")\n            return;\n\n        var match = line.match(this.foldingStopMarker);\n        if (match) {\n            var i = match.index + match[0].length;\n\n            if (match[1])\n                return this.closingBracketBlock(session, match[1], row, i);\n\n            return session.getCommentFoldRange(row, i, -1);\n        }\n    };\n    \n    this.getSectionRange = function(session, row) {\n        var line = session.getLine(row);\n        var startIndent = line.search(/\\S/);\n        var startRow = row;\n        var startColumn = line.length;\n        row = row + 1;\n        var endRow = row;\n        var maxRow = session.getLength();\n        while (++row < maxRow) {\n            line = session.getLine(row);\n            var indent = line.search(/\\S/);\n            if (indent === -1)\n                continue;\n            if  (startIndent > indent)\n                break;\n            var subRange = this.getFoldWidgetRange(session, \"all\", row);\n            \n            if (subRange) {\n                if (subRange.start.row <= startRow) {\n                    break;\n                } else if (subRange.isMultiLine()) {\n                    row = subRange.end.row;\n                } else if (startIndent == indent) {\n                    break;\n                }\n            }\n            endRow = row;\n        }\n        \n        return new Range(startRow, startColumn, endRow, session.getLine(endRow).length);\n    };\n    this.getCommentRegionBlock = function(session, line, row) {\n        var startColumn = line.search(/\\s*$/);\n        var maxRow = session.getLength();\n        var startRow = row;\n        \n        var re = /^\\s*(?:\\/\\*|\\/\\/|--)#?(end)?region\\b/;\n        var depth = 1;\n        while (++row < maxRow) {\n            line = session.getLine(row);\n            var m = re.exec(line);\n            if (!m) continue;\n            if (m[1]) depth--;\n            else depth++;\n\n            if (!depth) break;\n        }\n\n        var endRow = row;\n        if (endRow > startRow) {\n            return new Range(startRow, startColumn, endRow, line.length);\n        }\n    };\n\n}).call(FoldMode.prototype);\n\n});\n\nace.define(\"ace/mode/json\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text\",\"ace/mode/json_highlight_rules\",\"ace/mode/matching_brace_outdent\",\"ace/mode/behaviour/cstyle\",\"ace/mode/folding/cstyle\",\"ace/worker/worker_client\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar oop = acequire(\"../lib/oop\");\nvar TextMode = acequire(\"./text\").Mode;\nvar HighlightRules = acequire(\"./json_highlight_rules\").JsonHighlightRules;\nvar MatchingBraceOutdent = acequire(\"./matching_brace_outdent\").MatchingBraceOutdent;\nvar CstyleBehaviour = acequire(\"./behaviour/cstyle\").CstyleBehaviour;\nvar CStyleFoldMode = acequire(\"./folding/cstyle\").FoldMode;\nvar WorkerClient = acequire(\"../worker/worker_client\").WorkerClient;\n\nvar Mode = function() {\n    this.HighlightRules = HighlightRules;\n    this.$outdent = new MatchingBraceOutdent();\n    this.$behaviour = new CstyleBehaviour();\n    this.foldingRules = new CStyleFoldMode();\n};\noop.inherits(Mode, TextMode);\n\n(function() {\n\n    this.getNextLineIndent = function(state, line, tab) {\n        var indent = this.$getIndent(line);\n\n        if (state == \"start\") {\n            var match = line.match(/^.*[\\{\\(\\[]\\s*$/);\n            if (match) {\n                indent += tab;\n            }\n        }\n\n        return indent;\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return this.$outdent.checkOutdent(line, input);\n    };\n\n    this.autoOutdent = function(state, doc, row) {\n        this.$outdent.autoOutdent(doc, row);\n    };\n\n    this.createWorker = function(session) {\n        var worker = new WorkerClient([\"ace\"], require(\"../worker/json\"), \"JsonWorker\");\n        worker.attachToDocument(session.getDocument());\n\n        worker.on(\"annotate\", function(e) {\n            session.setAnnotations(e.data);\n        });\n\n        worker.on(\"terminate\", function() {\n            session.clearAnnotations();\n        });\n\n        return worker;\n    };\n\n\n    this.$id = \"ace/mode/json\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n","module.exports.id = 'ace/mode/json_worker';\nmodule.exports.src = \"\\\"no use strict\\\";!function(window){function resolveModuleId(id,paths){for(var testPath=id,tail=\\\"\\\";testPath;){var alias=paths[testPath];if(\\\"string\\\"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\\\/*$/,\\\"/\\\")+(tail||alias.main||alias.name);if(alias===!1)return\\\"\\\";var i=testPath.lastIndexOf(\\\"/\\\");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:\\\"log\\\",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:\\\"error\\\",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf(\\\"!\\\")){var chunks=moduleName.split(\\\"!\\\");return window.normalizeModule(parentId,chunks[0])+\\\"!\\\"+window.normalizeModule(parentId,chunks[1])}if(\\\".\\\"==moduleName.charAt(0)){var base=parentId.split(\\\"/\\\").slice(0,-1).join(\\\"/\\\");for(moduleName=(base?base+\\\"/\\\":\\\"\\\")+moduleName;-1!==moduleName.indexOf(\\\".\\\")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\\\.\\\\//,\\\"\\\").replace(/\\\\/\\\\.\\\\//,\\\"/\\\").replace(/[^\\\\/]+\\\\/\\\\.\\\\.\\\\//,\\\"\\\")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error(\\\"worker.js acequire() accepts only (parentId, id) as arguments\\\");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log(\\\"unable to load \\\"+id);var path=resolveModuleId(id,window.acequire.tlns);return\\\".js\\\"!=path.slice(-3)&&(path+=\\\".js\\\"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,\\\"string\\\"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),\\\"function\\\"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=[\\\"require\\\",\\\"exports\\\",\\\"module\\\"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case\\\"require\\\":return req;case\\\"exports\\\":return module.exports;case\\\"module\\\":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire(\\\"ace/lib/event_emitter\\\").EventEmitter,oop=window.acequire(\\\"ace/lib/oop\\\"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:\\\"call\\\",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:\\\"event\\\",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error(\\\"Unknown command:\\\"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire(\\\"ace/lib/es5-shim\\\"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}}(this),ace.define(\\\"ace/lib/oop\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\"],function(acequire,exports){\\\"use strict\\\";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define(\\\"ace/range\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\"],function(acequire,exports){\\\"use strict\\\";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return\\\"Range: [\\\"+this.start.row+\\\"/\\\"+this.start.column+\\\"] -> [\\\"+this.end.row+\\\"/\\\"+this.end.column+\\\"]\\\"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){\\\"object\\\"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){\\\"object\\\"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define(\\\"ace/apply_delta\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\"],function(acequire,exports){\\\"use strict\\\";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||\\\"\\\";switch(delta.action){case\\\"insert\\\":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case\\\"remove\\\":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define(\\\"ace/lib/event_emitter\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\"],function(acequire,exports){\\\"use strict\\\";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){\\\"object\\\"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?\\\"unshift\\\":\\\"push\\\"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define(\\\"ace/anchor\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\",\\\"ace/lib/oop\\\",\\\"ace/lib/event_emitter\\\"],function(acequire,exports){\\\"use strict\\\";var oop=acequire(\\\"./lib/oop\\\"),EventEmitter=acequire(\\\"./lib/event_emitter\\\").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert=\\\"insert\\\"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal(\\\"change\\\",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener(\\\"change\\\",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on(\\\"change\\\",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define(\\\"ace/document\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\",\\\"ace/lib/oop\\\",\\\"ace/apply_delta\\\",\\\"ace/lib/event_emitter\\\",\\\"ace/range\\\",\\\"ace/anchor\\\"],function(acequire,exports){\\\"use strict\\\";var oop=acequire(\\\"./lib/oop\\\"),applyDelta=acequire(\\\"./apply_delta\\\").applyDelta,EventEmitter=acequire(\\\"./lib/event_emitter\\\").EventEmitter,Range=acequire(\\\"./range\\\").Range,Anchor=acequire(\\\"./anchor\\\").Anchor,Document=function(textOrLines){this.$lines=[\\\"\\\"],0===textOrLines.length?this.$lines=[\\\"\\\"]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0===\\\"aaa\\\".split(/a/).length?function(text){return text.replace(/\\\\r\\\\n|\\\\r/g,\\\"\\\\n\\\").split(\\\"\\\\n\\\")}:function(text){return text.split(/\\\\r\\\\n|\\\\r|\\\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\\\r\\\\n|\\\\r|\\\\n)/m);this.$autoNewLine=match?match[1]:\\\"\\\\n\\\",this._signal(\\\"changeNewLineMode\\\")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case\\\"windows\\\":return\\\"\\\\r\\\\n\\\";case\\\"unix\\\":return\\\"\\\\n\\\";default:return this.$autoNewLine||\\\"\\\\n\\\"}},this.$autoNewLine=\\\"\\\",this.$newLineMode=\\\"auto\\\",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal(\\\"changeNewLineMode\\\"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return\\\"\\\\r\\\\n\\\"==text||\\\"\\\\r\\\"==text||\\\"\\\\n\\\"==text},this.getLine=function(row){return this.$lines[row]||\\\"\\\"},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||\\\"\\\").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn(\\\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\\\"),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn(\\\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\\\"),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn(\\\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\\\"),this.insertMergedLines(position,[\\\"\\\",\\\"\\\"])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:\\\"insert\\\",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([\\\"\\\"]),column=0):(lines=[\\\"\\\"].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:\\\"insert\\\",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:\\\"remove\\\",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:\\\"remove\\\",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:\\\"remove\\\",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:\\\"remove\\\",lines:[\\\"\\\",\\\"\\\"]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert=\\\"insert\\\"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal(\\\"change\\\",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(\\\"\\\"),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:\\\"insert\\\"==delta.action?\\\"remove\\\":\\\"insert\\\",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define(\\\"ace/lib/lang\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\"],function(acequire,exports){\\\"use strict\\\";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split(\\\"\\\").reverse().join(\\\"\\\")},exports.stringRepeat=function(string,count){for(var result=\\\"\\\";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\\\s\\\\s*/,trimEndRegexp=/\\\\s\\\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,\\\"\\\")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,\\\"\\\")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&\\\"object\\\"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if(\\\"object\\\"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if(\\\"[object Object]\\\"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\\\]\\\\/\\\\\\\\])/g,\\\"\\\\\\\\$1\\\")},exports.escapeHTML=function(str){return str.replace(/&/g,\\\"&#38;\\\").replace(/\\\"/g,\\\"&#34;\\\").replace(/'/g,\\\"&#39;\\\").replace(/</g,\\\"&#60;\\\")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define(\\\"ace/worker/mirror\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\",\\\"ace/range\\\",\\\"ace/document\\\",\\\"ace/lib/lang\\\"],function(acequire,exports){\\\"use strict\\\";acequire(\\\"../range\\\").Range;var Document=acequire(\\\"../document\\\").Document,lang=acequire(\\\"../lib/lang\\\"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(\\\"\\\"),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on(\\\"change\\\",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:\\\"insert\\\",start:data[i],lines:data[i+1]};else var d={action:\\\"remove\\\",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define(\\\"ace/mode/json/json_parse\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\"],function(){\\\"use strict\\\";var at,ch,text,value,escapee={'\\\"':'\\\"',\\\"\\\\\\\\\\\":\\\"\\\\\\\\\\\",\\\"/\\\":\\\"/\\\",b:\\\"\\\\b\\\",f:\\\"\\\\f\\\",n:\\\"\\\\n\\\",r:\\\"\\\\r\\\",t:\\\"\\t\\\"},error=function(m){throw{name:\\\"SyntaxError\\\",message:m,at:at,text:text}},next=function(c){return c&&c!==ch&&error(\\\"Expected '\\\"+c+\\\"' instead of '\\\"+ch+\\\"'\\\"),ch=text.charAt(at),at+=1,ch},number=function(){var number,string=\\\"\\\";for(\\\"-\\\"===ch&&(string=\\\"-\\\",next(\\\"-\\\"));ch>=\\\"0\\\"&&\\\"9\\\">=ch;)string+=ch,next();if(\\\".\\\"===ch)for(string+=\\\".\\\";next()&&ch>=\\\"0\\\"&&\\\"9\\\">=ch;)string+=ch;if(\\\"e\\\"===ch||\\\"E\\\"===ch)for(string+=ch,next(),(\\\"-\\\"===ch||\\\"+\\\"===ch)&&(string+=ch,next());ch>=\\\"0\\\"&&\\\"9\\\">=ch;)string+=ch,next();return number=+string,isNaN(number)?(error(\\\"Bad number\\\"),void 0):number},string=function(){var hex,i,uffff,string=\\\"\\\";if('\\\"'===ch)for(;next();){if('\\\"'===ch)return next(),string;if(\\\"\\\\\\\\\\\"===ch)if(next(),\\\"u\\\"===ch){for(uffff=0,i=0;4>i&&(hex=parseInt(next(),16),isFinite(hex));i+=1)uffff=16*uffff+hex;string+=String.fromCharCode(uffff)}else{if(\\\"string\\\"!=typeof escapee[ch])break;string+=escapee[ch]}else string+=ch}error(\\\"Bad string\\\")},white=function(){for(;ch&&\\\" \\\">=ch;)next()},word=function(){switch(ch){case\\\"t\\\":return next(\\\"t\\\"),next(\\\"r\\\"),next(\\\"u\\\"),next(\\\"e\\\"),!0;case\\\"f\\\":return next(\\\"f\\\"),next(\\\"a\\\"),next(\\\"l\\\"),next(\\\"s\\\"),next(\\\"e\\\"),!1;case\\\"n\\\":return next(\\\"n\\\"),next(\\\"u\\\"),next(\\\"l\\\"),next(\\\"l\\\"),null}error(\\\"Unexpected '\\\"+ch+\\\"'\\\")},array=function(){var array=[];if(\\\"[\\\"===ch){if(next(\\\"[\\\"),white(),\\\"]\\\"===ch)return next(\\\"]\\\"),array;for(;ch;){if(array.push(value()),white(),\\\"]\\\"===ch)return next(\\\"]\\\"),array;next(\\\",\\\"),white()}}error(\\\"Bad array\\\")},object=function(){var key,object={};if(\\\"{\\\"===ch){if(next(\\\"{\\\"),white(),\\\"}\\\"===ch)return next(\\\"}\\\"),object;for(;ch;){if(key=string(),white(),next(\\\":\\\"),Object.hasOwnProperty.call(object,key)&&error('Duplicate key \\\"'+key+'\\\"'),object[key]=value(),white(),\\\"}\\\"===ch)return next(\\\"}\\\"),object;next(\\\",\\\"),white()}}error(\\\"Bad object\\\")};return value=function(){switch(white(),ch){case\\\"{\\\":return object();case\\\"[\\\":return array();case'\\\"':return string();case\\\"-\\\":return number();default:return ch>=\\\"0\\\"&&\\\"9\\\">=ch?number():word()}},function(source,reviver){var result;return text=source,at=0,ch=\\\" \\\",result=value(),white(),ch&&error(\\\"Syntax error\\\"),\\\"function\\\"==typeof reviver?function walk(holder,key){var k,v,value=holder[key];if(value&&\\\"object\\\"==typeof value)for(k in value)Object.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}({\\\"\\\":result},\\\"\\\"):result}}),ace.define(\\\"ace/mode/json_worker\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\",\\\"ace/lib/oop\\\",\\\"ace/worker/mirror\\\",\\\"ace/mode/json/json_parse\\\"],function(acequire,exports){\\\"use strict\\\";var oop=acequire(\\\"../lib/oop\\\"),Mirror=acequire(\\\"../worker/mirror\\\").Mirror,parse=acequire(\\\"./json/json_parse\\\"),JsonWorker=exports.JsonWorker=function(sender){Mirror.call(this,sender),this.setTimeout(200)};oop.inherits(JsonWorker,Mirror),function(){this.onUpdate=function(){var value=this.doc.getValue(),errors=[];try{value&&parse(value)}catch(e){var pos=this.doc.indexToPosition(e.at-1);errors.push({row:pos.row,column:pos.column,text:e.message,type:\\\"error\\\"})}this.sender.emit(\\\"annotate\\\",errors)}}.call(JsonWorker.prototype)}),ace.define(\\\"ace/lib/es5-shim\\\",[\\\"require\\\",\\\"exports\\\",\\\"module\\\"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,\\\"sentinel\\\",{}),\\\"sentinel\\\"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if(\\\"function\\\"!=typeof target)throw new TypeError(\\\"Function.prototype.bind called on incompatible \\\"+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,\\\"__defineGetter__\\\"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,\\\"XXX\\\"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0\\n}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return\\\"[object Array]\\\"==_toString(obj)});var boxedString=Object(\\\"a\\\"),splitString=\\\"a\\\"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&\\\"[object String]\\\"==_toString(this)?this.split(\\\"\\\"):object,thisp=arguments[1],i=-1,length=self.length>>>0;if(\\\"[object Function]\\\"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&\\\"[object String]\\\"==_toString(this)?this.split(\\\"\\\"):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if(\\\"[object Function]\\\"!=_toString(fun))throw new TypeError(fun+\\\" is not a function\\\");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&\\\"[object String]\\\"==_toString(this)?this.split(\\\"\\\"):object,length=self.length>>>0,result=[],thisp=arguments[1];if(\\\"[object Function]\\\"!=_toString(fun))throw new TypeError(fun+\\\" is not a function\\\");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&\\\"[object String]\\\"==_toString(this)?this.split(\\\"\\\"):object,length=self.length>>>0,thisp=arguments[1];if(\\\"[object Function]\\\"!=_toString(fun))throw new TypeError(fun+\\\" is not a function\\\");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&\\\"[object String]\\\"==_toString(this)?this.split(\\\"\\\"):object,length=self.length>>>0,thisp=arguments[1];if(\\\"[object Function]\\\"!=_toString(fun))throw new TypeError(fun+\\\" is not a function\\\");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&\\\"[object String]\\\"==_toString(this)?this.split(\\\"\\\"):object,length=self.length>>>0;if(\\\"[object Function]\\\"!=_toString(fun))throw new TypeError(fun+\\\" is not a function\\\");if(!length&&1==arguments.length)throw new TypeError(\\\"reduce of empty array with no initial value\\\");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError(\\\"reduce of empty array with no initial value\\\")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&\\\"[object String]\\\"==_toString(this)?this.split(\\\"\\\"):object,length=self.length>>>0;if(\\\"[object Function]\\\"!=_toString(fun))throw new TypeError(fun+\\\" is not a function\\\");if(!length&&1==arguments.length)throw new TypeError(\\\"reduceRight of empty array with no initial value\\\");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError(\\\"reduceRight of empty array with no initial value\\\")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&\\\"[object String]\\\"==_toString(this)?this.split(\\\"\\\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&\\\"[object String]\\\"==_toString(this)?this.split(\\\"\\\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT=\\\"Object.getOwnPropertyDescriptor called on a non-object: \\\";Object.getOwnPropertyDescriptor=function(object,property){if(\\\"object\\\"!=typeof object&&\\\"function\\\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if(\\\"object\\\"!=typeof prototype)throw new TypeError(\\\"typeof prototype[\\\"+typeof prototype+\\\"] != 'object'\\\");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom=\\\"undefined\\\"==typeof document||doesDefinePropertyWork(document.createElement(\\\"div\\\"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR=\\\"Property description must be an object: \\\",ERR_NON_OBJECT_TARGET=\\\"Object.defineProperty called on non-object: \\\",ERR_ACCESSORS_NOT_SUPPORTED=\\\"getters & setters can not be defined on this javascript engine\\\";Object.defineProperty=function(object,property,descriptor){if(\\\"object\\\"!=typeof object&&\\\"function\\\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if(\\\"object\\\"!=typeof descriptor&&\\\"function\\\"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,\\\"value\\\"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,\\\"get\\\")&&defineGetter(object,property,descriptor.get),owns(descriptor,\\\"set\\\")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return\\\"function\\\"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name=\\\"\\\";owns(object,name);)name+=\\\"?\\\";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=[\\\"toString\\\",\\\"toLocaleString\\\",\\\"valueOf\\\",\\\"hasOwnProperty\\\",\\\"isPrototypeOf\\\",\\\"propertyIsEnumerable\\\",\\\"constructor\\\"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if(\\\"object\\\"!=typeof object&&\\\"function\\\"!=typeof object||null===object)throw new TypeError(\\\"Object.keys called on a non-object\\\");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws=\\\"\\t\\\\n\\u000b\\\\f\\\\r \\\\u2028\\\\u2029\\\";if(!String.prototype.trim||ws.trim()){ws=\\\"[\\\"+ws+\\\"]\\\";var trimBeginRegexp=RegExp(\\\"^\\\"+ws+ws+\\\"*\\\"),trimEndRegexp=RegExp(ws+ws+\\\"*$\\\");String.prototype.trim=function(){return(this+\\\"\\\").replace(trimBeginRegexp,\\\"\\\").replace(trimEndRegexp,\\\"\\\")}}var toObject=function(o){if(null==o)throw new TypeError(\\\"can't convert \\\"+o+\\\" to object\\\");return Object(o)}});\";","/**\n * Diff Match and Patch\n * Copyright 2018 The diff-match-patch Authors.\n * https://github.com/google/diff-match-patch\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Computes the difference between two texts to create a patch.\n * Applies the patch onto another text, allowing for errors.\n * @author fraser@google.com (Neil Fraser)\n */\n\n/**\n * Class containing the diff, match and patch methods.\n * @constructor\n */\nvar diff_match_patch = function() {\n\n  // Defaults.\n  // Redefine these in your program to override the defaults.\n\n  // Number of seconds to map a diff before giving up (0 for infinity).\n  this.Diff_Timeout = 1.0;\n  // Cost of an empty edit operation in terms of edit characters.\n  this.Diff_EditCost = 4;\n  // At what point is no match declared (0.0 = perfection, 1.0 = very loose).\n  this.Match_Threshold = 0.5;\n  // How far to search for a match (0 = exact location, 1000+ = broad match).\n  // A match this many characters away from the expected location will add\n  // 1.0 to the score (0.0 is a perfect match).\n  this.Match_Distance = 1000;\n  // When deleting a large block of text (over ~64 characters), how close do\n  // the contents have to be to match the expected contents. (0.0 = perfection,\n  // 1.0 = very loose).  Note that Match_Threshold controls how closely the\n  // end points of a delete need to match.\n  this.Patch_DeleteThreshold = 0.5;\n  // Chunk size for context length.\n  this.Patch_Margin = 4;\n\n  // The number of bits in an int.\n  this.Match_MaxBits = 32;\n};\n\n\n//  DIFF FUNCTIONS\n\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n/**\n * Class representing one diff tuple.\n * ~Attempts to look like a two-element array (which is what this used to be).~\n * Constructor returns an actual two-element array, to allow destructing @JackuB\n * See https://github.com/JackuB/diff-match-patch/issues/14 for details\n * @param {number} op Operation, one of: DIFF_DELETE, DIFF_INSERT, DIFF_EQUAL.\n * @param {string} text Text to be deleted, inserted, or retained.\n * @constructor\n */\ndiff_match_patch.Diff = function(op, text) {\n  return [op, text];\n};\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean=} opt_checklines Optional speedup flag. If present and false,\n *     then don't run a line-level diff first to identify the changed areas.\n *     Defaults to true, which does a faster, slightly less optimal diff.\n * @param {number=} opt_deadline Optional time when the diff should be complete\n *     by.  Used internally for recursive calls.  Users should set DiffTimeout\n *     instead.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_main = function(text1, text2, opt_checklines,\n    opt_deadline) {\n  // Set a deadline by which time the diff must be complete.\n  if (typeof opt_deadline == 'undefined') {\n    if (this.Diff_Timeout <= 0) {\n      opt_deadline = Number.MAX_VALUE;\n    } else {\n      opt_deadline = (new Date).getTime() + this.Diff_Timeout * 1000;\n    }\n  }\n  var deadline = opt_deadline;\n\n  // Check for null inputs.\n  if (text1 == null || text2 == null) {\n    throw new Error('Null input. (diff_main)');\n  }\n\n  // Check for equality (speedup).\n  if (text1 == text2) {\n    if (text1) {\n      return [new diff_match_patch.Diff(DIFF_EQUAL, text1)];\n    }\n    return [];\n  }\n\n  if (typeof opt_checklines == 'undefined') {\n    opt_checklines = true;\n  }\n  var checklines = opt_checklines;\n\n  // Trim off common prefix (speedup).\n  var commonlength = this.diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = this.diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = this.diff_compute_(text1, text2, checklines, deadline);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, commonprefix));\n  }\n  if (commonsuffix) {\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, commonsuffix));\n  }\n  this.diff_cleanupMerge(diffs);\n  return diffs;\n};\n\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean} checklines Speedup flag.  If false, then don't run a\n *     line-level diff first to identify the changed areas.\n *     If true, then run a faster, slightly less optimal diff.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_compute_ = function(text1, text2, checklines,\n    deadline) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1)];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(0, i)),\n             new diff_match_patch.Diff(DIFF_EQUAL, shorttext),\n             new diff_match_patch.Diff(DIFF_INSERT,\n                 longtext.substring(i + shorttext.length))];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1),\n            new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = this.diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = this.diff_main(text1_a, text2_a, checklines, deadline);\n    var diffs_b = this.diff_main(text1_b, text2_b, checklines, deadline);\n    // Merge the results.\n    return diffs_a.concat([new diff_match_patch.Diff(DIFF_EQUAL, mid_common)],\n                          diffs_b);\n  }\n\n  if (checklines && text1.length > 100 && text2.length > 100) {\n    return this.diff_lineMode_(text1, text2, deadline);\n  }\n\n  return this.diff_bisect_(text1, text2, deadline);\n};\n\n\n/**\n * Do a quick line-level diff on both strings, then rediff the parts for\n * greater accuracy.\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_lineMode_ = function(text1, text2, deadline) {\n  // Scan the text on a line-by-line basis first.\n  var a = this.diff_linesToChars_(text1, text2);\n  text1 = a.chars1;\n  text2 = a.chars2;\n  var linearray = a.lineArray;\n\n  var diffs = this.diff_main(text1, text2, false, deadline);\n\n  // Convert the diff back to original text.\n  this.diff_charsToLines_(diffs, linearray);\n  // Eliminate freak matches (e.g. blank lines)\n  this.diff_cleanupSemantic(diffs);\n\n  // Rediff any replacement blocks, this time character-by-character.\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete >= 1 && count_insert >= 1) {\n          // Delete the offending records and add the merged ones.\n          diffs.splice(pointer - count_delete - count_insert,\n                       count_delete + count_insert);\n          pointer = pointer - count_delete - count_insert;\n          var subDiff =\n              this.diff_main(text_delete, text_insert, false, deadline);\n          for (var j = subDiff.length - 1; j >= 0; j--) {\n            diffs.splice(pointer, 0, subDiff[j]);\n          }\n          pointer = pointer + subDiff.length;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n    pointer++;\n  }\n  diffs.pop();  // Remove the dummy entry at the end.\n\n  return diffs;\n};\n\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisect_ = function(text1, text2, deadline) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = (delta % 2 != 0);\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Bail out if deadline is reached.\n    if ((new Date()).getTime() > deadline) {\n      break;\n    }\n\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (x1 < text1_length && y1 < text2_length &&\n             text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (x2 < text1_length && y2 < text2_length &&\n             text1.charAt(text1_length - x2 - 1) ==\n             text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [new diff_match_patch.Diff(DIFF_DELETE, text1),\n          new diff_match_patch.Diff(DIFF_INSERT, text2)];\n};\n\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisectSplit_ = function(text1, text2, x, y,\n    deadline) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = this.diff_main(text1a, text2a, false, deadline);\n  var diffsb = this.diff_main(text1b, text2b, false, deadline);\n\n  return diffs.concat(diffsb);\n};\n\n\n/**\n * Split two texts into an array of strings.  Reduce the texts to a string of\n * hashes where each Unicode character represents one line.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {{chars1: string, chars2: string, lineArray: !Array.<string>}}\n *     An object containing the encoded text1, the encoded text2 and\n *     the array of unique strings.\n *     The zeroth element of the array of unique strings is intentionally blank.\n * @private\n */\ndiff_match_patch.prototype.diff_linesToChars_ = function(text1, text2) {\n  var lineArray = [];  // e.g. lineArray[4] == 'Hello\\n'\n  var lineHash = {};   // e.g. lineHash['Hello\\n'] == 4\n\n  // '\\x00' is a valid character, but various debuggers don't like it.\n  // So we'll insert a junk entry to avoid generating a null character.\n  lineArray[0] = '';\n\n  /**\n   * Split a text into an array of strings.  Reduce the texts to a string of\n   * hashes where each Unicode character represents one line.\n   * Modifies linearray and linehash through being a closure.\n   * @param {string} text String to encode.\n   * @return {string} Encoded string.\n   * @private\n   */\n  function diff_linesToCharsMunge_(text) {\n    var chars = '';\n    // Walk the text, pulling out a substring for each line.\n    // text.split('\\n') would would temporarily double our memory footprint.\n    // Modifying text would create many large strings to garbage collect.\n    var lineStart = 0;\n    var lineEnd = -1;\n    // Keeping our own length variable is faster than looking it up.\n    var lineArrayLength = lineArray.length;\n    while (lineEnd < text.length - 1) {\n      lineEnd = text.indexOf('\\n', lineStart);\n      if (lineEnd == -1) {\n        lineEnd = text.length - 1;\n      }\n      var line = text.substring(lineStart, lineEnd + 1);\n\n      if (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) :\n          (lineHash[line] !== undefined)) {\n        chars += String.fromCharCode(lineHash[line]);\n      } else {\n        if (lineArrayLength == maxLines) {\n          // Bail out at 65535 because\n          // String.fromCharCode(65536) == String.fromCharCode(0)\n          line = text.substring(lineStart);\n          lineEnd = text.length;\n        }\n        chars += String.fromCharCode(lineArrayLength);\n        lineHash[line] = lineArrayLength;\n        lineArray[lineArrayLength++] = line;\n      }\n      lineStart = lineEnd + 1;\n    }\n    return chars;\n  }\n  // Allocate 2/3rds of the space for text1, the rest for text2.\n  var maxLines = 40000;\n  var chars1 = diff_linesToCharsMunge_(text1);\n  maxLines = 65535;\n  var chars2 = diff_linesToCharsMunge_(text2);\n  return {chars1: chars1, chars2: chars2, lineArray: lineArray};\n};\n\n\n/**\n * Rehydrate the text in a diff from a string of line hashes to real lines of\n * text.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {!Array.<string>} lineArray Array of unique strings.\n * @private\n */\ndiff_match_patch.prototype.diff_charsToLines_ = function(diffs, lineArray) {\n  for (var i = 0; i < diffs.length; i++) {\n    var chars = diffs[i][1];\n    var text = [];\n    for (var j = 0; j < chars.length; j++) {\n      text[j] = lineArray[chars.charCodeAt(j)];\n    }\n    diffs[i][1] = text.join('');\n  }\n};\n\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\ndiff_match_patch.prototype.diff_commonPrefix = function(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) ==\n        text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\ndiff_match_patch.prototype.diff_commonSuffix = function(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 ||\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine if the suffix of one string is the prefix of another.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of the first\n *     string and the start of the second string.\n * @private\n */\ndiff_match_patch.prototype.diff_commonOverlap_ = function(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  // Eliminate the null case.\n  if (text1_length == 0 || text2_length == 0) {\n    return 0;\n  }\n  // Truncate the longer string.\n  if (text1_length > text2_length) {\n    text1 = text1.substring(text1_length - text2_length);\n  } else if (text1_length < text2_length) {\n    text2 = text2.substring(0, text1_length);\n  }\n  var text_length = Math.min(text1_length, text2_length);\n  // Quick check for the worst case.\n  if (text1 == text2) {\n    return text_length;\n  }\n\n  // Start by looking for a single character match\n  // and increase length until no match is found.\n  // Performance analysis: https://neil.fraser.name/news/2010/11/04/\n  var best = 0;\n  var length = 1;\n  while (true) {\n    var pattern = text1.substring(text_length - length);\n    var found = text2.indexOf(pattern);\n    if (found == -1) {\n      return best;\n    }\n    length += found;\n    if (found == 0 || text1.substring(text_length - length) ==\n        text2.substring(0, length)) {\n      best = length;\n      length++;\n    }\n  }\n};\n\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n * @private\n */\ndiff_match_patch.prototype.diff_halfMatch_ = function(text1, text2) {\n  if (this.Diff_Timeout <= 0) {\n    // Don't risk returning a non-optimal diff if we have unlimited time.\n    return null;\n  }\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null;  // Pointless.\n  }\n  var dmp = this;  // 'this' becomes 'window' in a closure.\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = dmp.diff_commonPrefix(longtext.substring(i),\n                                               shorttext.substring(j));\n      var suffixLength = dmp.diff_commonSuffix(longtext.substring(0, i),\n                                               shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) +\n            shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b,\n              best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n\n/**\n * Reduce the number of edits by eliminating semantically trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemantic = function(diffs) {\n  var changes = false;\n  var equalities = [];  // Stack of indices where equalities are found.\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0;  // Index of current position.\n  // Number of characters that changed prior to the equality.\n  var length_insertions1 = 0;\n  var length_deletions1 = 0;\n  // Number of characters that changed after the equality.\n  var length_insertions2 = 0;\n  var length_deletions2 = 0;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\n      equalities[equalitiesLength++] = pointer;\n      length_insertions1 = length_insertions2;\n      length_deletions1 = length_deletions2;\n      length_insertions2 = 0;\n      length_deletions2 = 0;\n      lastEquality = diffs[pointer][1];\n    } else {  // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_INSERT) {\n        length_insertions2 += diffs[pointer][1].length;\n      } else {\n        length_deletions2 += diffs[pointer][1].length;\n      }\n      // Eliminate an equality that is smaller or equal to the edits on both\n      // sides of it.\n      if (lastEquality && (lastEquality.length <=\n          Math.max(length_insertions1, length_deletions1)) &&\n          (lastEquality.length <= Math.max(length_insertions2,\n                                           length_deletions2))) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0,\n                     new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        // Throw away the equality we just deleted.\n        equalitiesLength--;\n        // Throw away the previous equality (it needs to be reevaluated).\n        equalitiesLength--;\n        pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n        length_insertions1 = 0;  // Reset the counters.\n        length_deletions1 = 0;\n        length_insertions2 = 0;\n        length_deletions2 = 0;\n        lastEquality = null;\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  // Normalize the diff.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n  this.diff_cleanupSemanticLossless(diffs);\n\n  // Find any overlaps between deletions and insertions.\n  // e.g: <del>abcxxx</del><ins>xxxdef</ins>\n  //   -> <del>abc</del>xxx<ins>def</ins>\n  // e.g: <del>xxxabc</del><ins>defxxx</ins>\n  //   -> <ins>def</ins>xxx<del>abc</del>\n  // Only extract an overlap if it is as big as the edit ahead or behind it.\n  pointer = 1;\n  while (pointer < diffs.length) {\n    if (diffs[pointer - 1][0] == DIFF_DELETE &&\n        diffs[pointer][0] == DIFF_INSERT) {\n      var deletion = diffs[pointer - 1][1];\n      var insertion = diffs[pointer][1];\n      var overlap_length1 = this.diff_commonOverlap_(deletion, insertion);\n      var overlap_length2 = this.diff_commonOverlap_(insertion, deletion);\n      if (overlap_length1 >= overlap_length2) {\n        if (overlap_length1 >= deletion.length / 2 ||\n            overlap_length1 >= insertion.length / 2) {\n          // Overlap found.  Insert an equality and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n              insertion.substring(0, overlap_length1)));\n          diffs[pointer - 1][1] =\n              deletion.substring(0, deletion.length - overlap_length1);\n          diffs[pointer + 1][1] = insertion.substring(overlap_length1);\n          pointer++;\n        }\n      } else {\n        if (overlap_length2 >= deletion.length / 2 ||\n            overlap_length2 >= insertion.length / 2) {\n          // Reverse overlap found.\n          // Insert an equality and swap and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n              deletion.substring(0, overlap_length2)));\n          diffs[pointer - 1][0] = DIFF_INSERT;\n          diffs[pointer - 1][1] =\n              insertion.substring(0, insertion.length - overlap_length2);\n          diffs[pointer + 1][0] = DIFF_DELETE;\n          diffs[pointer + 1][1] =\n              deletion.substring(overlap_length2);\n          pointer++;\n        }\n      }\n      pointer++;\n    }\n    pointer++;\n  }\n};\n\n\n/**\n * Look for single edits surrounded on both sides by equalities\n * which can be shifted sideways to align the edit to a word boundary.\n * e.g: The c<ins>at c</ins>ame. -> The <ins>cat </ins>came.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemanticLossless = function(diffs) {\n  /**\n   * Given two strings, compute a score representing whether the internal\n   * boundary falls on logical boundaries.\n   * Scores range from 6 (best) to 0 (worst).\n   * Closure, but does not reference any external variables.\n   * @param {string} one First string.\n   * @param {string} two Second string.\n   * @return {number} The score.\n   * @private\n   */\n  function diff_cleanupSemanticScore_(one, two) {\n    if (!one || !two) {\n      // Edges are the best.\n      return 6;\n    }\n\n    // Each port of this function behaves slightly differently due to\n    // subtle differences in each language's definition of things like\n    // 'whitespace'.  Since this function's purpose is largely cosmetic,\n    // the choice has been made to use each language's native features\n    // rather than force total conformity.\n    var char1 = one.charAt(one.length - 1);\n    var char2 = two.charAt(0);\n    var nonAlphaNumeric1 = char1.match(diff_match_patch.nonAlphaNumericRegex_);\n    var nonAlphaNumeric2 = char2.match(diff_match_patch.nonAlphaNumericRegex_);\n    var whitespace1 = nonAlphaNumeric1 &&\n        char1.match(diff_match_patch.whitespaceRegex_);\n    var whitespace2 = nonAlphaNumeric2 &&\n        char2.match(diff_match_patch.whitespaceRegex_);\n    var lineBreak1 = whitespace1 &&\n        char1.match(diff_match_patch.linebreakRegex_);\n    var lineBreak2 = whitespace2 &&\n        char2.match(diff_match_patch.linebreakRegex_);\n    var blankLine1 = lineBreak1 &&\n        one.match(diff_match_patch.blanklineEndRegex_);\n    var blankLine2 = lineBreak2 &&\n        two.match(diff_match_patch.blanklineStartRegex_);\n\n    if (blankLine1 || blankLine2) {\n      // Five points for blank lines.\n      return 5;\n    } else if (lineBreak1 || lineBreak2) {\n      // Four points for line breaks.\n      return 4;\n    } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {\n      // Three points for end of sentences.\n      return 3;\n    } else if (whitespace1 || whitespace2) {\n      // Two points for whitespace.\n      return 2;\n    } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {\n      // One point for non-alphanumeric.\n      return 1;\n    }\n    return 0;\n  }\n\n  var pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      var equality1 = diffs[pointer - 1][1];\n      var edit = diffs[pointer][1];\n      var equality2 = diffs[pointer + 1][1];\n\n      // First, shift the edit as far left as possible.\n      var commonOffset = this.diff_commonSuffix(equality1, edit);\n      if (commonOffset) {\n        var commonString = edit.substring(edit.length - commonOffset);\n        equality1 = equality1.substring(0, equality1.length - commonOffset);\n        edit = commonString + edit.substring(0, edit.length - commonOffset);\n        equality2 = commonString + equality2;\n      }\n\n      // Second, step character by character right, looking for the best fit.\n      var bestEquality1 = equality1;\n      var bestEdit = edit;\n      var bestEquality2 = equality2;\n      var bestScore = diff_cleanupSemanticScore_(equality1, edit) +\n          diff_cleanupSemanticScore_(edit, equality2);\n      while (edit.charAt(0) === equality2.charAt(0)) {\n        equality1 += edit.charAt(0);\n        edit = edit.substring(1) + equality2.charAt(0);\n        equality2 = equality2.substring(1);\n        var score = diff_cleanupSemanticScore_(equality1, edit) +\n            diff_cleanupSemanticScore_(edit, equality2);\n        // The >= encourages trailing rather than leading whitespace on edits.\n        if (score >= bestScore) {\n          bestScore = score;\n          bestEquality1 = equality1;\n          bestEdit = edit;\n          bestEquality2 = equality2;\n        }\n      }\n\n      if (diffs[pointer - 1][1] != bestEquality1) {\n        // We have an improvement, save it back to the diff.\n        if (bestEquality1) {\n          diffs[pointer - 1][1] = bestEquality1;\n        } else {\n          diffs.splice(pointer - 1, 1);\n          pointer--;\n        }\n        diffs[pointer][1] = bestEdit;\n        if (bestEquality2) {\n          diffs[pointer + 1][1] = bestEquality2;\n        } else {\n          diffs.splice(pointer + 1, 1);\n          pointer--;\n        }\n      }\n    }\n    pointer++;\n  }\n};\n\n// Define some regex patterns for matching boundaries.\ndiff_match_patch.nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/;\ndiff_match_patch.whitespaceRegex_ = /\\s/;\ndiff_match_patch.linebreakRegex_ = /[\\r\\n]/;\ndiff_match_patch.blanklineEndRegex_ = /\\n\\r?\\n$/;\ndiff_match_patch.blanklineStartRegex_ = /^\\r?\\n\\r?\\n/;\n\n/**\n * Reduce the number of edits by eliminating operationally trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupEfficiency = function(diffs) {\n  var changes = false;\n  var equalities = [];  // Stack of indices where equalities are found.\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0;  // Index of current position.\n  // Is there an insertion operation before the last equality.\n  var pre_ins = false;\n  // Is there a deletion operation before the last equality.\n  var pre_del = false;\n  // Is there an insertion operation after the last equality.\n  var post_ins = false;\n  // Is there a deletion operation after the last equality.\n  var post_del = false;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\n      if (diffs[pointer][1].length < this.Diff_EditCost &&\n          (post_ins || post_del)) {\n        // Candidate found.\n        equalities[equalitiesLength++] = pointer;\n        pre_ins = post_ins;\n        pre_del = post_del;\n        lastEquality = diffs[pointer][1];\n      } else {\n        // Not a candidate, and can never become one.\n        equalitiesLength = 0;\n        lastEquality = null;\n      }\n      post_ins = post_del = false;\n    } else {  // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_DELETE) {\n        post_del = true;\n      } else {\n        post_ins = true;\n      }\n      /*\n       * Five types to be split:\n       * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>\n       * <ins>A</ins>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<ins>C</ins>\n       * <ins>A</del>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<del>C</del>\n       */\n      if (lastEquality && ((pre_ins && pre_del && post_ins && post_del) ||\n                           ((lastEquality.length < this.Diff_EditCost / 2) &&\n                            (pre_ins + pre_del + post_ins + post_del) == 3))) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0,\n                     new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        equalitiesLength--;  // Throw away the equality we just deleted;\n        lastEquality = null;\n        if (pre_ins && pre_del) {\n          // No changes made which could affect previous entry, keep going.\n          post_ins = post_del = true;\n          equalitiesLength = 0;\n        } else {\n          equalitiesLength--;  // Throw away the previous equality.\n          pointer = equalitiesLength > 0 ?\n              equalities[equalitiesLength - 1] : -1;\n          post_ins = post_del = false;\n        }\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupMerge = function(diffs) {\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = this.diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if ((pointer - count_delete - count_insert) > 0 &&\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\n                  DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] +=\n                    text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n                    text_insert.substring(0, commonlength)));\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixies.\n            commonlength = this.diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\n                  commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length -\n                  commonlength);\n              text_delete = text_delete.substring(0, text_delete.length -\n                  commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          pointer -= count_delete + count_insert;\n          diffs.splice(pointer, count_delete + count_insert);\n          if (text_delete.length) {\n            diffs.splice(pointer, 0,\n                new diff_match_patch.Diff(DIFF_DELETE, text_delete));\n            pointer++;\n          }\n          if (text_insert.length) {\n            diffs.splice(pointer, 0,\n                new diff_match_patch.Diff(DIFF_INSERT, text_insert));\n            pointer++;\n          }\n          pointer++;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop();  // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] +\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\n                                        diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n          diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n            diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n\n/**\n * loc is a location in text1, compute and return the equivalent location in\n * text2.\n * e.g. 'The cat' vs 'The big cat', 1->1, 5->8\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {number} loc Location within text1.\n * @return {number} Location within text2.\n */\ndiff_match_patch.prototype.diff_xIndex = function(diffs, loc) {\n  var chars1 = 0;\n  var chars2 = 0;\n  var last_chars1 = 0;\n  var last_chars2 = 0;\n  var x;\n  for (x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {  // Equality or deletion.\n      chars1 += diffs[x][1].length;\n    }\n    if (diffs[x][0] !== DIFF_DELETE) {  // Equality or insertion.\n      chars2 += diffs[x][1].length;\n    }\n    if (chars1 > loc) {  // Overshot the location.\n      break;\n    }\n    last_chars1 = chars1;\n    last_chars2 = chars2;\n  }\n  // Was the location was deleted?\n  if (diffs.length != x && diffs[x][0] === DIFF_DELETE) {\n    return last_chars2;\n  }\n  // Add the remaining character length.\n  return last_chars2 + (loc - last_chars1);\n};\n\n\n/**\n * Convert a diff array into a pretty HTML report.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} HTML representation.\n */\ndiff_match_patch.prototype.diff_prettyHtml = function(diffs) {\n  var html = [];\n  var pattern_amp = /&/g;\n  var pattern_lt = /</g;\n  var pattern_gt = />/g;\n  var pattern_para = /\\n/g;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];    // Operation (insert, delete, equal)\n    var data = diffs[x][1];  // Text of change.\n    var text = data.replace(pattern_amp, '&amp;').replace(pattern_lt, '&lt;')\n        .replace(pattern_gt, '&gt;').replace(pattern_para, '&para;<br>');\n    switch (op) {\n      case DIFF_INSERT:\n        html[x] = '<ins style=\"background:#e6ffe6;\">' + text + '</ins>';\n        break;\n      case DIFF_DELETE:\n        html[x] = '<del style=\"background:#ffe6e6;\">' + text + '</del>';\n        break;\n      case DIFF_EQUAL:\n        html[x] = '<span>' + text + '</span>';\n        break;\n    }\n  }\n  return html.join('');\n};\n\n\n/**\n * Compute and return the source text (all equalities and deletions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Source text.\n */\ndiff_match_patch.prototype.diff_text1 = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n\n/**\n * Compute and return the destination text (all equalities and insertions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Destination text.\n */\ndiff_match_patch.prototype.diff_text2 = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_DELETE) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n\n/**\n * Compute the Levenshtein distance; the number of inserted, deleted or\n * substituted characters.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {number} Number of changes.\n */\ndiff_match_patch.prototype.diff_levenshtein = function(diffs) {\n  var levenshtein = 0;\n  var insertions = 0;\n  var deletions = 0;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];\n    var data = diffs[x][1];\n    switch (op) {\n      case DIFF_INSERT:\n        insertions += data.length;\n        break;\n      case DIFF_DELETE:\n        deletions += data.length;\n        break;\n      case DIFF_EQUAL:\n        // A deletion and an insertion is one substitution.\n        levenshtein += Math.max(insertions, deletions);\n        insertions = 0;\n        deletions = 0;\n        break;\n    }\n  }\n  levenshtein += Math.max(insertions, deletions);\n  return levenshtein;\n};\n\n\n/**\n * Crush the diff into an encoded string which describes the operations\n * required to transform text1 into text2.\n * E.g. =3\\t-2\\t+ing  -> Keep 3 chars, delete 2 chars, insert 'ing'.\n * Operations are tab-separated.  Inserted text is escaped using %xx notation.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Delta text.\n */\ndiff_match_patch.prototype.diff_toDelta = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    switch (diffs[x][0]) {\n      case DIFF_INSERT:\n        text[x] = '+' + encodeURI(diffs[x][1]);\n        break;\n      case DIFF_DELETE:\n        text[x] = '-' + diffs[x][1].length;\n        break;\n      case DIFF_EQUAL:\n        text[x] = '=' + diffs[x][1].length;\n        break;\n    }\n  }\n  return text.join('\\t').replace(/%20/g, ' ');\n};\n\n\n/**\n * Given the original text1, and an encoded string which describes the\n * operations required to transform text1 into text2, compute the full diff.\n * @param {string} text1 Source string for the diff.\n * @param {string} delta Delta text.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.diff_fromDelta = function(text1, delta) {\n  var diffs = [];\n  var diffsLength = 0;  // Keeping our own length var is faster in JS.\n  var pointer = 0;  // Cursor in text1\n  var tokens = delta.split(/\\t/g);\n  for (var x = 0; x < tokens.length; x++) {\n    // Each token begins with a one character parameter which specifies the\n    // operation of this token (delete, insert, equality).\n    var param = tokens[x].substring(1);\n    switch (tokens[x].charAt(0)) {\n      case '+':\n        try {\n          diffs[diffsLength++] =\n              new diff_match_patch.Diff(DIFF_INSERT, decodeURI(param));\n        } catch (ex) {\n          // Malformed URI sequence.\n          throw new Error('Illegal escape in diff_fromDelta: ' + param);\n        }\n        break;\n      case '-':\n        // Fall through.\n      case '=':\n        var n = parseInt(param, 10);\n        if (isNaN(n) || n < 0) {\n          throw new Error('Invalid number in diff_fromDelta: ' + param);\n        }\n        var text = text1.substring(pointer, pointer += n);\n        if (tokens[x].charAt(0) == '=') {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_EQUAL, text);\n        } else {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_DELETE, text);\n        }\n        break;\n      default:\n        // Blank tokens are ok (from a trailing \\t).\n        // Anything else is an error.\n        if (tokens[x]) {\n          throw new Error('Invalid diff operation in diff_fromDelta: ' +\n                          tokens[x]);\n        }\n    }\n  }\n  if (pointer != text1.length) {\n    throw new Error('Delta length (' + pointer +\n        ') does not equal source text length (' + text1.length + ').');\n  }\n  return diffs;\n};\n\n\n//  MATCH FUNCTIONS\n\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc'.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n */\ndiff_match_patch.prototype.match_main = function(text, pattern, loc) {\n  // Check for null inputs.\n  if (text == null || pattern == null || loc == null) {\n    throw new Error('Null input. (match_main)');\n  }\n\n  loc = Math.max(0, Math.min(loc, text.length));\n  if (text == pattern) {\n    // Shortcut (potentially not guaranteed by the algorithm)\n    return 0;\n  } else if (!text.length) {\n    // Nothing to match.\n    return -1;\n  } else if (text.substring(loc, loc + pattern.length) == pattern) {\n    // Perfect match at the perfect spot!  (Includes case of null pattern)\n    return loc;\n  } else {\n    // Do a fuzzy compare.\n    return this.match_bitap_(text, pattern, loc);\n  }\n};\n\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc' using the\n * Bitap algorithm.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n * @private\n */\ndiff_match_patch.prototype.match_bitap_ = function(text, pattern, loc) {\n  if (pattern.length > this.Match_MaxBits) {\n    throw new Error('Pattern too long for this browser.');\n  }\n\n  // Initialise the alphabet.\n  var s = this.match_alphabet_(pattern);\n\n  var dmp = this;  // 'this' becomes 'window' in a closure.\n\n  /**\n   * Compute and return the score for a match with e errors and x location.\n   * Accesses loc and pattern through being a closure.\n   * @param {number} e Number of errors in match.\n   * @param {number} x Location of match.\n   * @return {number} Overall score for match (0.0 = good, 1.0 = bad).\n   * @private\n   */\n  function match_bitapScore_(e, x) {\n    var accuracy = e / pattern.length;\n    var proximity = Math.abs(loc - x);\n    if (!dmp.Match_Distance) {\n      // Dodge divide by zero error.\n      return proximity ? 1.0 : accuracy;\n    }\n    return accuracy + (proximity / dmp.Match_Distance);\n  }\n\n  // Highest score beyond which we give up.\n  var score_threshold = this.Match_Threshold;\n  // Is there a nearby exact match? (speedup)\n  var best_loc = text.indexOf(pattern, loc);\n  if (best_loc != -1) {\n    score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    // What about in the other direction? (speedup)\n    best_loc = text.lastIndexOf(pattern, loc + pattern.length);\n    if (best_loc != -1) {\n      score_threshold =\n          Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    }\n  }\n\n  // Initialise the bit arrays.\n  var matchmask = 1 << (pattern.length - 1);\n  best_loc = -1;\n\n  var bin_min, bin_mid;\n  var bin_max = pattern.length + text.length;\n  var last_rd;\n  for (var d = 0; d < pattern.length; d++) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from 'loc' we can stray at this\n    // error level.\n    bin_min = 0;\n    bin_mid = bin_max;\n    while (bin_min < bin_mid) {\n      if (match_bitapScore_(d, loc + bin_mid) <= score_threshold) {\n        bin_min = bin_mid;\n      } else {\n        bin_max = bin_mid;\n      }\n      bin_mid = Math.floor((bin_max - bin_min) / 2 + bin_min);\n    }\n    // Use the result from this iteration as the maximum for the next.\n    bin_max = bin_mid;\n    var start = Math.max(1, loc - bin_mid + 1);\n    var finish = Math.min(loc + bin_mid, text.length) + pattern.length;\n\n    var rd = Array(finish + 2);\n    rd[finish + 1] = (1 << d) - 1;\n    for (var j = finish; j >= start; j--) {\n      // The alphabet (s) is a sparse hash, so the following line generates\n      // warnings.\n      var charMatch = s[text.charAt(j - 1)];\n      if (d === 0) {  // First pass: exact match.\n        rd[j] = ((rd[j + 1] << 1) | 1) & charMatch;\n      } else {  // Subsequent passes: fuzzy match.\n        rd[j] = (((rd[j + 1] << 1) | 1) & charMatch) |\n                (((last_rd[j + 1] | last_rd[j]) << 1) | 1) |\n                last_rd[j + 1];\n      }\n      if (rd[j] & matchmask) {\n        var score = match_bitapScore_(d, j - 1);\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (score <= score_threshold) {\n          // Told you so.\n          score_threshold = score;\n          best_loc = j - 1;\n          if (best_loc > loc) {\n            // When passing loc, don't exceed our current distance from loc.\n            start = Math.max(1, 2 * loc - best_loc);\n          } else {\n            // Already passed loc, downhill from here on in.\n            break;\n          }\n        }\n      }\n    }\n    // No hope for a (better) match at greater error levels.\n    if (match_bitapScore_(d + 1, loc) > score_threshold) {\n      break;\n    }\n    last_rd = rd;\n  }\n  return best_loc;\n};\n\n\n/**\n * Initialise the alphabet for the Bitap algorithm.\n * @param {string} pattern The text to encode.\n * @return {!Object} Hash of character locations.\n * @private\n */\ndiff_match_patch.prototype.match_alphabet_ = function(pattern) {\n  var s = {};\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] = 0;\n  }\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] |= 1 << (pattern.length - i - 1);\n  }\n  return s;\n};\n\n\n//  PATCH FUNCTIONS\n\n\n/**\n * Increase the context until it is unique,\n * but don't let the pattern expand beyond Match_MaxBits.\n * @param {!diff_match_patch.patch_obj} patch The patch to grow.\n * @param {string} text Source text.\n * @private\n */\ndiff_match_patch.prototype.patch_addContext_ = function(patch, text) {\n  if (text.length == 0) {\n    return;\n  }\n  if (patch.start2 === null) {\n    throw Error('patch not initialized');\n  }\n  var pattern = text.substring(patch.start2, patch.start2 + patch.length1);\n  var padding = 0;\n\n  // Look for the first and last matches of pattern in text.  If two different\n  // matches are found, increase the pattern length.\n  while (text.indexOf(pattern) != text.lastIndexOf(pattern) &&\n         pattern.length < this.Match_MaxBits - this.Patch_Margin -\n         this.Patch_Margin) {\n    padding += this.Patch_Margin;\n    pattern = text.substring(patch.start2 - padding,\n                             patch.start2 + patch.length1 + padding);\n  }\n  // Add one chunk for good luck.\n  padding += this.Patch_Margin;\n\n  // Add the prefix.\n  var prefix = text.substring(patch.start2 - padding, patch.start2);\n  if (prefix) {\n    patch.diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, prefix));\n  }\n  // Add the suffix.\n  var suffix = text.substring(patch.start2 + patch.length1,\n                              patch.start2 + patch.length1 + padding);\n  if (suffix) {\n    patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, suffix));\n  }\n\n  // Roll back the start points.\n  patch.start1 -= prefix.length;\n  patch.start2 -= prefix.length;\n  // Extend the lengths.\n  patch.length1 += prefix.length + suffix.length;\n  patch.length2 += prefix.length + suffix.length;\n};\n\n\n/**\n * Compute a list of patches to turn text1 into text2.\n * Use diffs if provided, otherwise compute it ourselves.\n * There are four ways to call this function, depending on what data is\n * available to the caller:\n * Method 1:\n * a = text1, b = text2\n * Method 2:\n * a = diffs\n * Method 3 (optimal):\n * a = text1, b = diffs\n * Method 4 (deprecated, use method 3):\n * a = text1, b = text2, c = diffs\n *\n * @param {string|!Array.<!diff_match_patch.Diff>} a text1 (methods 1,3,4) or\n * Array of diff tuples for text1 to text2 (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_b text2 (methods 1,4) or\n * Array of diff tuples for text1 to text2 (method 3) or undefined (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_c Array of diff tuples\n * for text1 to text2 (method 4) or undefined (methods 1,2,3).\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_make = function(a, opt_b, opt_c) {\n  var text1, diffs;\n  if (typeof a == 'string' && typeof opt_b == 'string' &&\n      typeof opt_c == 'undefined') {\n    // Method 1: text1, text2\n    // Compute diffs from text1 and text2.\n    text1 = /** @type {string} */(a);\n    diffs = this.diff_main(text1, /** @type {string} */(opt_b), true);\n    if (diffs.length > 2) {\n      this.diff_cleanupSemantic(diffs);\n      this.diff_cleanupEfficiency(diffs);\n    }\n  } else if (a && typeof a == 'object' && typeof opt_b == 'undefined' &&\n      typeof opt_c == 'undefined') {\n    // Method 2: diffs\n    // Compute text1 from diffs.\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(a);\n    text1 = this.diff_text1(diffs);\n  } else if (typeof a == 'string' && opt_b && typeof opt_b == 'object' &&\n      typeof opt_c == 'undefined') {\n    // Method 3: text1, diffs\n    text1 = /** @type {string} */(a);\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_b);\n  } else if (typeof a == 'string' && typeof opt_b == 'string' &&\n      opt_c && typeof opt_c == 'object') {\n    // Method 4: text1, text2, diffs\n    // text2 is not used.\n    text1 = /** @type {string} */(a);\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_c);\n  } else {\n    throw new Error('Unknown call format to patch_make.');\n  }\n\n  if (diffs.length === 0) {\n    return [];  // Get rid of the null case.\n  }\n  var patches = [];\n  var patch = new diff_match_patch.patch_obj();\n  var patchDiffLength = 0;  // Keeping our own length var is faster in JS.\n  var char_count1 = 0;  // Number of characters into the text1 string.\n  var char_count2 = 0;  // Number of characters into the text2 string.\n  // Start with text1 (prepatch_text) and apply the diffs until we arrive at\n  // text2 (postpatch_text).  We recreate the patches one by one to determine\n  // context info.\n  var prepatch_text = text1;\n  var postpatch_text = text1;\n  for (var x = 0; x < diffs.length; x++) {\n    var diff_type = diffs[x][0];\n    var diff_text = diffs[x][1];\n\n    if (!patchDiffLength && diff_type !== DIFF_EQUAL) {\n      // A new patch starts here.\n      patch.start1 = char_count1;\n      patch.start2 = char_count2;\n    }\n\n    switch (diff_type) {\n      case DIFF_INSERT:\n        patch.diffs[patchDiffLength++] = diffs[x];\n        patch.length2 += diff_text.length;\n        postpatch_text = postpatch_text.substring(0, char_count2) + diff_text +\n                         postpatch_text.substring(char_count2);\n        break;\n      case DIFF_DELETE:\n        patch.length1 += diff_text.length;\n        patch.diffs[patchDiffLength++] = diffs[x];\n        postpatch_text = postpatch_text.substring(0, char_count2) +\n                         postpatch_text.substring(char_count2 +\n                             diff_text.length);\n        break;\n      case DIFF_EQUAL:\n        if (diff_text.length <= 2 * this.Patch_Margin &&\n            patchDiffLength && diffs.length != x + 1) {\n          // Small equality inside a patch.\n          patch.diffs[patchDiffLength++] = diffs[x];\n          patch.length1 += diff_text.length;\n          patch.length2 += diff_text.length;\n        } else if (diff_text.length >= 2 * this.Patch_Margin) {\n          // Time for a new patch.\n          if (patchDiffLength) {\n            this.patch_addContext_(patch, prepatch_text);\n            patches.push(patch);\n            patch = new diff_match_patch.patch_obj();\n            patchDiffLength = 0;\n            // Unlike Unidiff, our patch lists have a rolling context.\n            // https://github.com/google/diff-match-patch/wiki/Unidiff\n            // Update prepatch text & pos to reflect the application of the\n            // just completed patch.\n            prepatch_text = postpatch_text;\n            char_count1 = char_count2;\n          }\n        }\n        break;\n    }\n\n    // Update the current character count.\n    if (diff_type !== DIFF_INSERT) {\n      char_count1 += diff_text.length;\n    }\n    if (diff_type !== DIFF_DELETE) {\n      char_count2 += diff_text.length;\n    }\n  }\n  // Pick up the leftover patch if not empty.\n  if (patchDiffLength) {\n    this.patch_addContext_(patch, prepatch_text);\n    patches.push(patch);\n  }\n\n  return patches;\n};\n\n\n/**\n * Given an array of patches, return another array that is identical.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_deepCopy = function(patches) {\n  // Making deep copies is hard in JavaScript.\n  var patchesCopy = [];\n  for (var x = 0; x < patches.length; x++) {\n    var patch = patches[x];\n    var patchCopy = new diff_match_patch.patch_obj();\n    patchCopy.diffs = [];\n    for (var y = 0; y < patch.diffs.length; y++) {\n      patchCopy.diffs[y] =\n          new diff_match_patch.Diff(patch.diffs[y][0], patch.diffs[y][1]);\n    }\n    patchCopy.start1 = patch.start1;\n    patchCopy.start2 = patch.start2;\n    patchCopy.length1 = patch.length1;\n    patchCopy.length2 = patch.length2;\n    patchesCopy[x] = patchCopy;\n  }\n  return patchesCopy;\n};\n\n\n/**\n * Merge a set of patches onto the text.  Return a patched text, as well\n * as a list of true/false values indicating which patches were applied.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @param {string} text Old text.\n * @return {!Array.<string|!Array.<boolean>>} Two element Array, containing the\n *      new text and an array of boolean values.\n */\ndiff_match_patch.prototype.patch_apply = function(patches, text) {\n  if (patches.length == 0) {\n    return [text, []];\n  }\n\n  // Deep copy the patches so that no changes are made to originals.\n  patches = this.patch_deepCopy(patches);\n\n  var nullPadding = this.patch_addPadding(patches);\n  text = nullPadding + text + nullPadding;\n\n  this.patch_splitMax(patches);\n  // delta keeps track of the offset between the expected and actual location\n  // of the previous patch.  If there are patches expected at positions 10 and\n  // 20, but the first patch was found at 12, delta is 2 and the second patch\n  // has an effective expected position of 22.\n  var delta = 0;\n  var results = [];\n  for (var x = 0; x < patches.length; x++) {\n    var expected_loc = patches[x].start2 + delta;\n    var text1 = this.diff_text1(patches[x].diffs);\n    var start_loc;\n    var end_loc = -1;\n    if (text1.length > this.Match_MaxBits) {\n      // patch_splitMax will only provide an oversized pattern in the case of\n      // a monster delete.\n      start_loc = this.match_main(text, text1.substring(0, this.Match_MaxBits),\n                                  expected_loc);\n      if (start_loc != -1) {\n        end_loc = this.match_main(text,\n            text1.substring(text1.length - this.Match_MaxBits),\n            expected_loc + text1.length - this.Match_MaxBits);\n        if (end_loc == -1 || start_loc >= end_loc) {\n          // Can't find valid trailing context.  Drop this patch.\n          start_loc = -1;\n        }\n      }\n    } else {\n      start_loc = this.match_main(text, text1, expected_loc);\n    }\n    if (start_loc == -1) {\n      // No match found.  :(\n      results[x] = false;\n      // Subtract the delta for this failed patch from subsequent patches.\n      delta -= patches[x].length2 - patches[x].length1;\n    } else {\n      // Found a match.  :)\n      results[x] = true;\n      delta = start_loc - expected_loc;\n      var text2;\n      if (end_loc == -1) {\n        text2 = text.substring(start_loc, start_loc + text1.length);\n      } else {\n        text2 = text.substring(start_loc, end_loc + this.Match_MaxBits);\n      }\n      if (text1 == text2) {\n        // Perfect match, just shove the replacement text in.\n        text = text.substring(0, start_loc) +\n               this.diff_text2(patches[x].diffs) +\n               text.substring(start_loc + text1.length);\n      } else {\n        // Imperfect match.  Run a diff to get a framework of equivalent\n        // indices.\n        var diffs = this.diff_main(text1, text2, false);\n        if (text1.length > this.Match_MaxBits &&\n            this.diff_levenshtein(diffs) / text1.length >\n            this.Patch_DeleteThreshold) {\n          // The end points match, but the content is unacceptably bad.\n          results[x] = false;\n        } else {\n          this.diff_cleanupSemanticLossless(diffs);\n          var index1 = 0;\n          var index2;\n          for (var y = 0; y < patches[x].diffs.length; y++) {\n            var mod = patches[x].diffs[y];\n            if (mod[0] !== DIFF_EQUAL) {\n              index2 = this.diff_xIndex(diffs, index1);\n            }\n            if (mod[0] === DIFF_INSERT) {  // Insertion\n              text = text.substring(0, start_loc + index2) + mod[1] +\n                     text.substring(start_loc + index2);\n            } else if (mod[0] === DIFF_DELETE) {  // Deletion\n              text = text.substring(0, start_loc + index2) +\n                     text.substring(start_loc + this.diff_xIndex(diffs,\n                         index1 + mod[1].length));\n            }\n            if (mod[0] !== DIFF_DELETE) {\n              index1 += mod[1].length;\n            }\n          }\n        }\n      }\n    }\n  }\n  // Strip the padding off.\n  text = text.substring(nullPadding.length, text.length - nullPadding.length);\n  return [text, results];\n};\n\n\n/**\n * Add some padding on text start and end so that edges can match something.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} The padding string added to each side.\n */\ndiff_match_patch.prototype.patch_addPadding = function(patches) {\n  var paddingLength = this.Patch_Margin;\n  var nullPadding = '';\n  for (var x = 1; x <= paddingLength; x++) {\n    nullPadding += String.fromCharCode(x);\n  }\n\n  // Bump all the patches forward.\n  for (var x = 0; x < patches.length; x++) {\n    patches[x].start1 += paddingLength;\n    patches[x].start2 += paddingLength;\n  }\n\n  // Add some padding on start of first diff.\n  var patch = patches[0];\n  var diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[0][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.start1 -= paddingLength;  // Should be 0.\n    patch.start2 -= paddingLength;  // Should be 0.\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[0][1].length) {\n    // Grow first equality.\n    var extraLength = paddingLength - diffs[0][1].length;\n    diffs[0][1] = nullPadding.substring(diffs[0][1].length) + diffs[0][1];\n    patch.start1 -= extraLength;\n    patch.start2 -= extraLength;\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  // Add some padding on end of last diff.\n  patch = patches[patches.length - 1];\n  diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[diffs.length - 1][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[diffs.length - 1][1].length) {\n    // Grow last equality.\n    var extraLength = paddingLength - diffs[diffs.length - 1][1].length;\n    diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength);\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  return nullPadding;\n};\n\n\n/**\n * Look through the patches and break up any which are longer than the maximum\n * limit of the match algorithm.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_splitMax = function(patches) {\n  var patch_size = this.Match_MaxBits;\n  for (var x = 0; x < patches.length; x++) {\n    if (patches[x].length1 <= patch_size) {\n      continue;\n    }\n    var bigpatch = patches[x];\n    // Remove the big old patch.\n    patches.splice(x--, 1);\n    var start1 = bigpatch.start1;\n    var start2 = bigpatch.start2;\n    var precontext = '';\n    while (bigpatch.diffs.length !== 0) {\n      // Create one of several smaller patches.\n      var patch = new diff_match_patch.patch_obj();\n      var empty = true;\n      patch.start1 = start1 - precontext.length;\n      patch.start2 = start2 - precontext.length;\n      if (precontext !== '') {\n        patch.length1 = patch.length2 = precontext.length;\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, precontext));\n      }\n      while (bigpatch.diffs.length !== 0 &&\n             patch.length1 < patch_size - this.Patch_Margin) {\n        var diff_type = bigpatch.diffs[0][0];\n        var diff_text = bigpatch.diffs[0][1];\n        if (diff_type === DIFF_INSERT) {\n          // Insertions are harmless.\n          patch.length2 += diff_text.length;\n          start2 += diff_text.length;\n          patch.diffs.push(bigpatch.diffs.shift());\n          empty = false;\n        } else if (diff_type === DIFF_DELETE && patch.diffs.length == 1 &&\n                   patch.diffs[0][0] == DIFF_EQUAL &&\n                   diff_text.length > 2 * patch_size) {\n          // This is a large deletion.  Let it pass in one chunk.\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          empty = false;\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          bigpatch.diffs.shift();\n        } else {\n          // Deletion or equality.  Only take as much as we can stomach.\n          diff_text = diff_text.substring(0,\n              patch_size - patch.length1 - this.Patch_Margin);\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          if (diff_type === DIFF_EQUAL) {\n            patch.length2 += diff_text.length;\n            start2 += diff_text.length;\n          } else {\n            empty = false;\n          }\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          if (diff_text == bigpatch.diffs[0][1]) {\n            bigpatch.diffs.shift();\n          } else {\n            bigpatch.diffs[0][1] =\n                bigpatch.diffs[0][1].substring(diff_text.length);\n          }\n        }\n      }\n      // Compute the head context for the next patch.\n      precontext = this.diff_text2(patch.diffs);\n      precontext =\n          precontext.substring(precontext.length - this.Patch_Margin);\n      // Append the end context for this patch.\n      var postcontext = this.diff_text1(bigpatch.diffs)\n                            .substring(0, this.Patch_Margin);\n      if (postcontext !== '') {\n        patch.length1 += postcontext.length;\n        patch.length2 += postcontext.length;\n        if (patch.diffs.length !== 0 &&\n            patch.diffs[patch.diffs.length - 1][0] === DIFF_EQUAL) {\n          patch.diffs[patch.diffs.length - 1][1] += postcontext;\n        } else {\n          patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, postcontext));\n        }\n      }\n      if (!empty) {\n        patches.splice(++x, 0, patch);\n      }\n    }\n  }\n};\n\n\n/**\n * Take a list of patches and return a textual representation.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} Text representation of patches.\n */\ndiff_match_patch.prototype.patch_toText = function(patches) {\n  var text = [];\n  for (var x = 0; x < patches.length; x++) {\n    text[x] = patches[x];\n  }\n  return text.join('');\n};\n\n\n/**\n * Parse a textual representation of patches and return a list of Patch objects.\n * @param {string} textline Text representation of patches.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.patch_fromText = function(textline) {\n  var patches = [];\n  if (!textline) {\n    return patches;\n  }\n  var text = textline.split('\\n');\n  var textPointer = 0;\n  var patchHeader = /^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;\n  while (textPointer < text.length) {\n    var m = text[textPointer].match(patchHeader);\n    if (!m) {\n      throw new Error('Invalid patch string: ' + text[textPointer]);\n    }\n    var patch = new diff_match_patch.patch_obj();\n    patches.push(patch);\n    patch.start1 = parseInt(m[1], 10);\n    if (m[2] === '') {\n      patch.start1--;\n      patch.length1 = 1;\n    } else if (m[2] == '0') {\n      patch.length1 = 0;\n    } else {\n      patch.start1--;\n      patch.length1 = parseInt(m[2], 10);\n    }\n\n    patch.start2 = parseInt(m[3], 10);\n    if (m[4] === '') {\n      patch.start2--;\n      patch.length2 = 1;\n    } else if (m[4] == '0') {\n      patch.length2 = 0;\n    } else {\n      patch.start2--;\n      patch.length2 = parseInt(m[4], 10);\n    }\n    textPointer++;\n\n    while (textPointer < text.length) {\n      var sign = text[textPointer].charAt(0);\n      try {\n        var line = decodeURI(text[textPointer].substring(1));\n      } catch (ex) {\n        // Malformed URI sequence.\n        throw new Error('Illegal escape in patch_fromText: ' + line);\n      }\n      if (sign == '-') {\n        // Deletion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_DELETE, line));\n      } else if (sign == '+') {\n        // Insertion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_INSERT, line));\n      } else if (sign == ' ') {\n        // Minor equality.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, line));\n      } else if (sign == '@') {\n        // Start of next patch.\n        break;\n      } else if (sign === '') {\n        // Blank line?  Whatever.\n      } else {\n        // WTF?\n        throw new Error('Invalid patch mode \"' + sign + '\" in: ' + line);\n      }\n      textPointer++;\n    }\n  }\n  return patches;\n};\n\n\n/**\n * Class representing one patch operation.\n * @constructor\n */\ndiff_match_patch.patch_obj = function() {\n  /** @type {!Array.<!diff_match_patch.Diff>} */\n  this.diffs = [];\n  /** @type {?number} */\n  this.start1 = null;\n  /** @type {?number} */\n  this.start2 = null;\n  /** @type {number} */\n  this.length1 = 0;\n  /** @type {number} */\n  this.length2 = 0;\n};\n\n\n/**\n * Emulate GNU diff's format.\n * Header: @@ -382,8 +481,9 @@\n * Indices are printed as 1-based, not 0-based.\n * @return {string} The GNU diff string.\n */\ndiff_match_patch.patch_obj.prototype.toString = function() {\n  var coords1, coords2;\n  if (this.length1 === 0) {\n    coords1 = this.start1 + ',0';\n  } else if (this.length1 == 1) {\n    coords1 = this.start1 + 1;\n  } else {\n    coords1 = (this.start1 + 1) + ',' + this.length1;\n  }\n  if (this.length2 === 0) {\n    coords2 = this.start2 + ',0';\n  } else if (this.length2 == 1) {\n    coords2 = this.start2 + 1;\n  } else {\n    coords2 = (this.start2 + 1) + ',' + this.length2;\n  }\n  var text = ['@@ -' + coords1 + ' +' + coords2 + ' @@\\n'];\n  var op;\n  // Escape the body of the patch with %xx notation.\n  for (var x = 0; x < this.diffs.length; x++) {\n    switch (this.diffs[x][0]) {\n      case DIFF_INSERT:\n        op = '+';\n        break;\n      case DIFF_DELETE:\n        op = '-';\n        break;\n      case DIFF_EQUAL:\n        op = ' ';\n        break;\n    }\n    text[x + 1] = op + encodeURI(this.diffs[x][1]) + '\\n';\n  }\n  return text.join('').replace(/%20/g, ' ');\n};\n\n\n// The following export code was added by @ForbesLindesay\nmodule.exports = diff_match_patch;\nmodule.exports['diff_match_patch'] = diff_match_patch;\nmodule.exports['DIFF_DELETE'] = DIFF_DELETE;\nmodule.exports['DIFF_INSERT'] = DIFF_INSERT;\nmodule.exports['DIFF_EQUAL'] = DIFF_EQUAL;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    splice = arrayProto.splice;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = isEqual;\n","import * as PropTypes from \"prop-types\";\nimport * as React from \"react\";\nconst isEqual = require(\"lodash.isequal\");\nimport {\n  debounce,\n  editorEvents,\n  editorOptions,\n  getAceInstance\n} from \"./editorOptions\";\nconst ace = getAceInstance();\nconst { Range } = ace.require(\"ace/range\");\n\nimport { AceEditorClass } from \"./AceEditorClass\";\nimport {\n  IAceOptions,\n  IAnnotation,\n  ICommand,\n  IEditorProps,\n  IMarker\n} from \"./types\";\n/**\n * See https://github.com/ajaxorg/ace/wiki/Configuring-Ace\n */\n\nexport interface IAceEditorProps {\n  name?: string;\n  style?: React.CSSProperties;\n  /** For available modes see https://github.com/thlorenz/brace/tree/master/mode */\n  mode?: string | object;\n  /** For available themes see https://github.com/thlorenz/brace/tree/master/theme */\n  theme?: string;\n  height?: string;\n  width?: string;\n  className?: string;\n  fontSize?: number | string;\n  showGutter?: boolean;\n  showPrintMargin?: boolean;\n  highlightActiveLine?: boolean;\n  focus?: boolean;\n  cursorStart?: number;\n  wrapEnabled?: boolean;\n  readOnly?: boolean;\n  minLines?: number;\n  maxLines?: number;\n  navigateToFileEnd?: boolean;\n  debounceChangePeriod?: number;\n  enableBasicAutocompletion?: boolean | string[];\n  enableLiveAutocompletion?: boolean | string[];\n  tabSize?: number;\n  value?: string;\n  placeholder?: string;\n  defaultValue?: string;\n  scrollMargin?: number[];\n  enableSnippets?: boolean;\n  onSelectionChange?: (value: any, event?: any) => void;\n  onCursorChange?: (value: any, event?: any) => void;\n  onInput?: (event?: any) => void;\n  onLoad?: (editor: IEditorProps) => void;\n  onValidate?: (annotations: IAnnotation[]) => void;\n  onBeforeLoad?: (ace: any) => void;\n  onChange?: (value: string, event?: any) => void;\n  onSelection?: (selectedText: string, event?: any) => void;\n  onCopy?: (value: string) => void;\n  onPaste?: (value: string) => void;\n  onFocus?: (event: any, editor?: AceEditorClass) => void;\n  onBlur?: (event: any, editor?: AceEditorClass) => void;\n  onScroll?: (editor: IEditorProps) => void;\n  editorProps?: IEditorProps;\n  setOptions?: IAceOptions;\n  keyboardHandler?: string;\n  commands?: ICommand[];\n  annotations?: IAnnotation[];\n  markers?: IMarker[];\n}\n\nexport default class ReactAce extends React.Component<IAceEditorProps> {\n  public static propTypes: PropTypes.ValidationMap<IAceEditorProps> = {\n    mode: PropTypes.string,\n    focus: PropTypes.bool,\n    theme: PropTypes.string,\n    name: PropTypes.string,\n    className: PropTypes.string,\n    height: PropTypes.string,\n    width: PropTypes.string,\n    fontSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    showGutter: PropTypes.bool,\n    onChange: PropTypes.func,\n    onCopy: PropTypes.func,\n    onPaste: PropTypes.func,\n    onFocus: PropTypes.func,\n    onInput: PropTypes.func,\n    onBlur: PropTypes.func,\n    onScroll: PropTypes.func,\n    value: PropTypes.string,\n    defaultValue: PropTypes.string,\n    onLoad: PropTypes.func,\n    onSelectionChange: PropTypes.func,\n    onCursorChange: PropTypes.func,\n    onBeforeLoad: PropTypes.func,\n    onValidate: PropTypes.func,\n    minLines: PropTypes.number,\n    maxLines: PropTypes.number,\n    readOnly: PropTypes.bool,\n    highlightActiveLine: PropTypes.bool,\n    tabSize: PropTypes.number,\n    showPrintMargin: PropTypes.bool,\n    cursorStart: PropTypes.number,\n    debounceChangePeriod: PropTypes.number,\n    editorProps: PropTypes.object,\n    setOptions: PropTypes.object,\n    style: PropTypes.object,\n    scrollMargin: PropTypes.array,\n    annotations: PropTypes.array,\n    markers: PropTypes.array,\n    keyboardHandler: PropTypes.string,\n    wrapEnabled: PropTypes.bool,\n    enableSnippets: PropTypes.bool,\n    enableBasicAutocompletion: PropTypes.oneOfType([\n      PropTypes.bool,\n      PropTypes.array\n    ]),\n    enableLiveAutocompletion: PropTypes.oneOfType([\n      PropTypes.bool,\n      PropTypes.array\n    ]),\n    navigateToFileEnd: PropTypes.bool,\n    commands: PropTypes.array,\n    placeholder: PropTypes.string\n  };\n  public static defaultProps: Partial<IAceEditorProps> = {\n    name: \"ace-editor\",\n    focus: false,\n    mode: \"\",\n    theme: \"\",\n    height: \"500px\",\n    width: \"500px\",\n    value: \"\",\n    fontSize: 12,\n    enableSnippets: false,\n    showGutter: true,\n    onChange: null,\n    onPaste: null,\n    onLoad: null,\n    onScroll: null,\n    minLines: null,\n    maxLines: null,\n    readOnly: false,\n    highlightActiveLine: true,\n    showPrintMargin: true,\n    tabSize: 4,\n    cursorStart: 1,\n    editorProps: {},\n    style: {},\n    scrollMargin: [0, 0, 0, 0],\n    setOptions: {},\n    wrapEnabled: false,\n    enableBasicAutocompletion: false,\n    enableLiveAutocompletion: false,\n    placeholder: null,\n    navigateToFileEnd: true\n  };\n  public editor: AceEditorClass;\n  public refEditor: HTMLElement;\n  public debounce: (fn: any, delay: number) => (...args: any) => void;\n  // [index: string]: any;\n  public silent: boolean;\n  constructor(props: IAceEditorProps) {\n    super(props);\n    editorEvents.forEach(method => {\n      this[method] = this[method].bind(this);\n    });\n    this.debounce = debounce;\n  }\n\n  public componentDidMount() {\n    const {\n      className,\n      onBeforeLoad,\n      onValidate,\n      mode,\n      focus,\n      theme,\n      fontSize,\n      value,\n      defaultValue,\n      cursorStart,\n      showGutter,\n      wrapEnabled,\n      showPrintMargin,\n      scrollMargin = [0, 0, 0, 0],\n      keyboardHandler,\n      onLoad,\n      commands,\n      annotations,\n      markers,\n      placeholder\n    } = this.props;\n\n    this.editor = ace.edit(this.refEditor);\n\n    if (onBeforeLoad) {\n      onBeforeLoad(ace);\n    }\n\n    const editorProps = Object.keys(this.props.editorProps);\n    for (let i = 0; i < editorProps.length; i++) {\n      this.editor[editorProps[i]] = this.props.editorProps[editorProps[i]];\n    }\n    if (this.props.debounceChangePeriod) {\n      this.onChange = this.debounce(\n        this.onChange,\n        this.props.debounceChangePeriod\n      );\n    }\n    this.editor.renderer.setScrollMargin(\n      scrollMargin[0],\n      scrollMargin[1],\n      scrollMargin[2],\n      scrollMargin[3]\n    );\n    this.editor.getSession().setMode(`ace/mode/${mode}`);\n    this.editor.setTheme(`ace/theme/${theme}`);\n    this.editor.setFontSize(fontSize);\n    this.editor\n      .getSession()\n      .setValue(!defaultValue ? value : defaultValue, cursorStart);\n    if (this.props.navigateToFileEnd) {\n      this.editor.navigateFileEnd();\n    }\n    this.editor.renderer.setShowGutter(showGutter);\n    this.editor.getSession().setUseWrapMode(wrapEnabled);\n    this.editor.setShowPrintMargin(showPrintMargin);\n    this.editor.on(\"focus\", this.onFocus);\n    this.editor.on(\"blur\", this.onBlur);\n    this.editor.on(\"copy\", this.onCopy);\n    this.editor.on(\"paste\", this.onPaste);\n    this.editor.on(\"change\", this.onChange);\n    this.editor.on(\"input\", this.onInput);\n    if (placeholder) {\n      this.updatePlaceholder();\n    }\n    this.editor\n      .getSession()\n      .selection.on(\"changeSelection\", this.onSelectionChange);\n    this.editor.getSession().selection.on(\"changeCursor\", this.onCursorChange);\n    if (onValidate) {\n      this.editor.getSession().on(\"changeAnnotation\", () => {\n        // tslint:disable-next-line:no-shadowed-variable\n        const annotations = this.editor.getSession().getAnnotations();\n        this.props.onValidate(annotations);\n      });\n    }\n    this.editor.session.on(\"changeScrollTop\", this.onScroll);\n    this.editor.getSession().setAnnotations(annotations || []);\n    if (markers && markers.length > 0) {\n      this.handleMarkers(markers);\n    }\n\n    // get a list of possible options to avoid 'misspelled option errors'\n    const availableOptions = this.editor.$options;\n    editorOptions.forEach(option => {\n      if (availableOptions.hasOwnProperty(option)) {\n        this.editor.setOption(option, this.props[option]);\n      } else if (this.props[option]) {\n        console.warn(\n          `ReactAce: editor option ${option} was activated but not found. Did you need to import a related tool or did you possibly mispell the option?`\n        );\n      }\n    });\n\n    this.handleOptions(this.props);\n\n    if (Array.isArray(commands)) {\n      commands.forEach(command => {\n        if (typeof command.exec === \"string\") {\n          this.editor.commands.bindKey(command.bindKey, command.exec);\n        } else {\n          this.editor.commands.addCommand(command);\n        }\n      });\n    }\n\n    if (keyboardHandler) {\n      this.editor.setKeyboardHandler(\"ace/keyboard/\" + keyboardHandler);\n    }\n\n    if (className) {\n      this.refEditor.className += \" \" + className;\n    }\n\n    if (onLoad) {\n      onLoad(this.editor);\n    }\n\n    this.editor.resize();\n\n    if (focus) {\n      this.editor.focus();\n    }\n  }\n\n  public componentDidUpdate(prevProps: IAceEditorProps) {\n    const oldProps = prevProps;\n    const nextProps = this.props;\n\n    for (let i = 0; i < editorOptions.length; i++) {\n      const option = editorOptions[i];\n      if (nextProps[option] !== oldProps[option]) {\n        this.editor.setOption(option, nextProps[option]);\n      }\n    }\n\n    if (nextProps.className !== oldProps.className) {\n      const appliedClasses = this.refEditor.className;\n      const appliedClassesArray = appliedClasses.trim().split(\" \");\n      const oldClassesArray = oldProps.className.trim().split(\" \");\n      oldClassesArray.forEach(oldClass => {\n        const index = appliedClassesArray.indexOf(oldClass);\n        appliedClassesArray.splice(index, 1);\n      });\n      this.refEditor.className =\n        \" \" + nextProps.className + \" \" + appliedClassesArray.join(\" \");\n    }\n\n    // First process editor value, as it may create a new session (see issue #300)\n    if (this.editor && this.editor.getValue() !== nextProps.value) {\n      // editor.setValue is a synchronous function call, change event is emitted before setValue return.\n      this.silent = true;\n      const pos = this.editor.session.selection.toJSON();\n      this.editor.setValue(nextProps.value, nextProps.cursorStart);\n      this.editor.session.selection.fromJSON(pos);\n      this.silent = false;\n    }\n\n    if (nextProps.placeholder !== oldProps.placeholder) {\n      this.updatePlaceholder();\n    }\n    if (nextProps.mode !== oldProps.mode) {\n      this.editor.getSession().setMode(\"ace/mode/\" + nextProps.mode);\n    }\n    if (nextProps.theme !== oldProps.theme) {\n      this.editor.setTheme(\"ace/theme/\" + nextProps.theme);\n    }\n    if (nextProps.keyboardHandler !== oldProps.keyboardHandler) {\n      if (nextProps.keyboardHandler) {\n        this.editor.setKeyboardHandler(\n          \"ace/keyboard/\" + nextProps.keyboardHandler\n        );\n      } else {\n        this.editor.setKeyboardHandler(null);\n      }\n    }\n    if (nextProps.fontSize !== oldProps.fontSize) {\n      this.editor.setFontSize(nextProps.fontSize);\n    }\n    if (nextProps.wrapEnabled !== oldProps.wrapEnabled) {\n      this.editor.getSession().setUseWrapMode(nextProps.wrapEnabled);\n    }\n    if (nextProps.showPrintMargin !== oldProps.showPrintMargin) {\n      this.editor.setShowPrintMargin(nextProps.showPrintMargin);\n    }\n    if (nextProps.showGutter !== oldProps.showGutter) {\n      this.editor.renderer.setShowGutter(nextProps.showGutter);\n    }\n    if (!isEqual(nextProps.setOptions, oldProps.setOptions)) {\n      this.handleOptions(nextProps);\n    }\n    if (!isEqual(nextProps.annotations, oldProps.annotations)) {\n      this.editor.getSession().setAnnotations(nextProps.annotations || []);\n    }\n    if (\n      !isEqual(nextProps.markers, oldProps.markers) &&\n      Array.isArray(nextProps.markers)\n    ) {\n      this.handleMarkers(nextProps.markers);\n    }\n\n    // this doesn't look like it works at all....\n    if (!isEqual(nextProps.scrollMargin, oldProps.scrollMargin)) {\n      this.handleScrollMargins(nextProps.scrollMargin);\n    }\n\n    if (\n      prevProps.height !== this.props.height ||\n      prevProps.width !== this.props.width\n    ) {\n      this.editor.resize();\n    }\n    if (this.props.focus && !prevProps.focus) {\n      this.editor.focus();\n    }\n  }\n\n  public handleScrollMargins(margins = [0, 0, 0, 0]) {\n    this.editor.renderer.setScrollMargins(\n      margins[0],\n      margins[1],\n      margins[2],\n      margins[3]\n    );\n  }\n\n  public componentWillUnmount() {\n    this.editor.destroy();\n    this.editor = null;\n  }\n\n  public onChange(event: any) {\n    if (this.props.onChange && !this.silent) {\n      const value = this.editor.getValue();\n      this.props.onChange(value, event);\n    }\n  }\n\n  public onSelectionChange(event: any) {\n    if (this.props.onSelectionChange) {\n      const value = this.editor.getSelection();\n      this.props.onSelectionChange(value, event);\n    }\n  }\n  public onCursorChange(event: any) {\n    if (this.props.onCursorChange) {\n      const value = this.editor.getSelection();\n      this.props.onCursorChange(value, event);\n    }\n  }\n  public onInput(event: any) {\n    if (this.props.onInput) {\n      this.props.onInput(event);\n    }\n    if (this.props.placeholder) {\n      this.updatePlaceholder();\n    }\n  }\n  public onFocus(event: any) {\n    if (this.props.onFocus) {\n      this.props.onFocus(event, this.editor);\n    }\n  }\n\n  public onBlur(event: any) {\n    if (this.props.onBlur) {\n      this.props.onBlur(event, this.editor);\n    }\n  }\n\n  public onCopy(text: string) {\n    if (this.props.onCopy) {\n      this.props.onCopy(text);\n    }\n  }\n\n  public onPaste(text: string) {\n    if (this.props.onPaste) {\n      this.props.onPaste(text);\n    }\n  }\n\n  public onScroll() {\n    if (this.props.onScroll) {\n      this.props.onScroll(this.editor);\n    }\n  }\n\n  public handleOptions(props: IAceEditorProps) {\n    const setOptions = Object.keys(props.setOptions);\n    for (let y = 0; y < setOptions.length; y++) {\n      this.editor.setOption(setOptions[y], props.setOptions[setOptions[y]]);\n    }\n  }\n\n  public handleMarkers(markers: IMarker[]) {\n    // remove foreground markers\n    let currentMarkers = this.editor.getSession().getMarkers(true);\n    for (const i in currentMarkers) {\n      if (currentMarkers.hasOwnProperty(i)) {\n        this.editor.getSession().removeMarker(currentMarkers[i].id);\n      }\n    }\n    // remove background markers except active line marker and selected word marker\n    currentMarkers = this.editor.getSession().getMarkers(false);\n    for (const i in currentMarkers) {\n      if (\n        currentMarkers.hasOwnProperty(i) &&\n        currentMarkers[i].clazz !== \"ace_active-line\" &&\n        currentMarkers[i].clazz !== \"ace_selected-word\"\n      ) {\n        this.editor.getSession().removeMarker(currentMarkers[i].id);\n      }\n    }\n    // add new markers\n    markers.forEach(\n      ({\n        startRow,\n        startCol,\n        endRow,\n        endCol,\n        className,\n        type,\n        inFront = false\n      }) => {\n        const range = new Range(startRow, startCol, endRow, endCol);\n        this.editor.getSession().addMarker(range, className, type, inFront);\n      }\n    );\n  }\n\n  public updatePlaceholder() {\n    // Adapted from https://stackoverflow.com/questions/26695708/how-can-i-add-placeholder-text-when-the-editor-is-empty\n\n    const editor = this.editor;\n    const { placeholder } = this.props;\n\n    const showPlaceholder = !editor.session.getValue().length;\n    let node = editor.renderer.placeholderNode;\n    if (!showPlaceholder && node) {\n      editor.renderer.scroller.removeChild(editor.renderer.placeholderNode);\n      editor.renderer.placeholderNode = null;\n    } else if (showPlaceholder && !node) {\n      node = editor.renderer.placeholderNode = document.createElement(\"div\");\n      node.textContent = placeholder || \"\";\n      node.className = \"ace_comment ace_placeholder\";\n      node.style.padding = \"0 9px\";\n      node.style.position = \"absolute\";\n      node.style.zIndex = \"3\";\n      editor.renderer.scroller.appendChild(node);\n    } else if (showPlaceholder && node) {\n      node.textContent = placeholder;\n    }\n  }\n\n  public updateRef(item: HTMLElement) {\n    this.refEditor = item;\n  }\n\n  public render() {\n    const { name, width, height, style } = this.props;\n    const divStyle = { width, height, ...style };\n    return <div ref={this.updateRef} id={name} style={divStyle} />;\n  }\n}\n","import * as PropTypes from \"prop-types\";\nimport * as React from \"react\";\nimport SplitEditor from \"./split\";\nconst DiffMatchPatch = require(\"diff-match-patch\");\nimport { IEditorProps } from \"./types\";\n\ninterface IDiffObject {\n  left: any[];\n  right: any[];\n}\n\nexport interface IDiffEditorProps {\n  cursorStart?: number;\n  editorProps?: object;\n  enableBasicAutocompletion?: boolean | string[];\n  enableLiveAutocompletion?: boolean | string[];\n  focus?: boolean;\n  fontSize?: number;\n  height?: string;\n  highlightActiveLine?: boolean;\n  maxLines?: number;\n  minLines?: number;\n  mode?: string;\n  name?: string;\n  className?: string;\n  onLoad?: (editor: IEditorProps) => void;\n  onChange?: (value: string[], event?: any) => void;\n  onPaste?: (value: string) => void;\n  onScroll?: (editor: IEditorProps) => void;\n  orientation?: string;\n  readOnly?: boolean;\n  scrollMargin?: number[];\n  setOptions?: object;\n  showGutter?: boolean;\n  showPrintMargin?: boolean;\n  splits?: number;\n  style?: object;\n  tabSize?: number;\n  theme?: string;\n  value?: string[];\n  width?: string;\n  wrapEnabled?: boolean;\n}\n\nexport interface IDiffEditorState {\n  value: string[];\n}\n\nexport default class DiffComponent extends React.Component<\n  IDiffEditorProps,\n  IDiffEditorState\n> {\n  public static propTypes: PropTypes.ValidationMap<IDiffEditorProps> = {\n    cursorStart: PropTypes.number,\n    editorProps: PropTypes.object,\n    enableBasicAutocompletion: PropTypes.bool,\n    enableLiveAutocompletion: PropTypes.bool,\n    focus: PropTypes.bool,\n    fontSize: PropTypes.number,\n    height: PropTypes.string,\n    highlightActiveLine: PropTypes.bool,\n    maxLines: PropTypes.number,\n    minLines: PropTypes.number,\n    mode: PropTypes.string,\n    name: PropTypes.string,\n    className: PropTypes.string,\n    onLoad: PropTypes.func,\n    onPaste: PropTypes.func,\n    onScroll: PropTypes.func,\n    onChange: PropTypes.func,\n    orientation: PropTypes.string,\n    readOnly: PropTypes.bool,\n    scrollMargin: PropTypes.array,\n    setOptions: PropTypes.object,\n    showGutter: PropTypes.bool,\n    showPrintMargin: PropTypes.bool,\n    splits: PropTypes.number,\n    style: PropTypes.object,\n    tabSize: PropTypes.number,\n    theme: PropTypes.string,\n    value: PropTypes.array,\n    width: PropTypes.string,\n    wrapEnabled: PropTypes.bool\n  };\n\n  public static defaultProps: Partial<IDiffEditorProps> = {\n    cursorStart: 1,\n    editorProps: {},\n    enableBasicAutocompletion: false,\n    enableLiveAutocompletion: false,\n    focus: false,\n    fontSize: 12,\n    height: \"500px\",\n    highlightActiveLine: true,\n    maxLines: null,\n    minLines: null,\n    mode: \"\",\n    name: \"ace-editor\",\n    onLoad: null,\n    onScroll: null,\n    onPaste: null,\n    onChange: null,\n    orientation: \"beside\",\n    readOnly: false,\n    scrollMargin: [0, 0, 0, 0],\n    setOptions: {},\n    showGutter: true,\n    showPrintMargin: true,\n    splits: 2,\n    style: {},\n    tabSize: 4,\n    theme: \"github\",\n    value: [\"\", \"\"],\n    width: \"500px\",\n    wrapEnabled: true\n  };\n  constructor(props: IDiffEditorProps) {\n    super(props);\n    this.state = {\n      value: this.props.value\n    };\n    this.onChange = this.onChange.bind(this);\n    this.diff = this.diff.bind(this);\n  }\n\n  public componentDidUpdate() {\n    const { value } = this.props;\n\n    if (value !== this.state.value) {\n      this.setState({ value });\n    }\n  }\n\n  public onChange(value: any) {\n    this.setState({\n      value\n    });\n    if (this.props.onChange) {\n      this.props.onChange(value);\n    }\n  }\n\n  public diff() {\n    const dmp = new DiffMatchPatch();\n    const lhString = this.state.value[0];\n    const rhString = this.state.value[1];\n\n    if (lhString.length === 0 && rhString.length === 0) {\n      return [];\n    }\n\n    const diff = dmp.diff_main(lhString, rhString);\n    dmp.diff_cleanupSemantic(diff);\n\n    const diffedLines = this.generateDiffedLines(diff);\n    const codeEditorSettings = this.setCodeMarkers(diffedLines);\n    return codeEditorSettings;\n  }\n\n  public generateDiffedLines(diff: any) {\n    const C = {\n      DIFF_EQUAL: 0,\n      DIFF_DELETE: -1,\n      DIFF_INSERT: 1\n    };\n\n    const diffedLines = {\n      left: [] as any[],\n      right: [] as any[]\n    };\n\n    const cursor = {\n      left: 1,\n      right: 1\n    };\n\n    diff.forEach((chunk: any) => {\n      const chunkType = chunk[0];\n      const text = chunk[1];\n      let lines = text.split(\"\\n\").length - 1;\n\n      // diff-match-patch sometimes returns empty strings at random\n      if (text.length === 0) {\n        return;\n      }\n\n      const firstChar = text[0];\n      const lastChar = text[text.length - 1];\n      let linesToHighlight = 0;\n\n      switch (chunkType) {\n        case C.DIFF_EQUAL:\n          cursor.left += lines;\n          cursor.right += lines;\n\n          break;\n        case C.DIFF_DELETE:\n          // If the deletion starts with a newline, push the cursor down to that line\n          if (firstChar === \"\\n\") {\n            cursor.left++;\n            lines--;\n          }\n\n          linesToHighlight = lines;\n\n          // If the deletion does not include a newline, highlight the same line on the right\n          if (linesToHighlight === 0) {\n            diffedLines.right.push({\n              startLine: cursor.right,\n              endLine: cursor.right\n            });\n          }\n\n          // If the last character is a newline, we don't want to highlight that line\n          if (lastChar === \"\\n\") {\n            linesToHighlight -= 1;\n          }\n\n          diffedLines.left.push({\n            startLine: cursor.left,\n            endLine: cursor.left + linesToHighlight\n          });\n\n          cursor.left += lines;\n          break;\n        case C.DIFF_INSERT:\n          // If the insertion starts with a newline, push the cursor down to that line\n          if (firstChar === \"\\n\") {\n            cursor.right++;\n            lines--;\n          }\n\n          linesToHighlight = lines;\n\n          // If the insertion does not include a newline, highlight the same line on the left\n          if (linesToHighlight === 0) {\n            diffedLines.left.push({\n              startLine: cursor.left,\n              endLine: cursor.left\n            });\n          }\n\n          // If the last character is a newline, we don't want to highlight that line\n          if (lastChar === \"\\n\") {\n            linesToHighlight -= 1;\n          }\n\n          diffedLines.right.push({\n            startLine: cursor.right,\n            endLine: cursor.right + linesToHighlight\n          });\n\n          cursor.right += lines;\n          break;\n        default:\n          throw new Error(\"Diff type was not defined.\");\n      }\n    });\n    return diffedLines;\n  }\n\n  // Receives a collection of line numbers and iterates through them to highlight appropriately\n  // Returns an object that tells the render() method how to display the code editors\n  public setCodeMarkers(diffedLines: any = { left: [], right: [] }) {\n    const codeEditorSettings = [];\n\n    const newMarkerSet = {\n      left: [] as any[],\n      right: [] as any[]\n    };\n\n    for (let i = 0; i < diffedLines.left.length; i++) {\n      const markerObj = {\n        startRow: diffedLines.left[i].startLine - 1,\n        endRow: diffedLines.left[i].endLine,\n        type: \"text\",\n        className: \"codeMarker\"\n      };\n      newMarkerSet.left.push(markerObj);\n    }\n\n    for (let i = 0; i < diffedLines.right.length; i++) {\n      const markerObj = {\n        startRow: diffedLines.right[i].startLine - 1,\n        endRow: diffedLines.right[i].endLine,\n        type: \"text\",\n        className: \"codeMarker\"\n      };\n      newMarkerSet.right.push(markerObj);\n    }\n\n    codeEditorSettings[0] = newMarkerSet.left;\n    codeEditorSettings[1] = newMarkerSet.right;\n\n    return codeEditorSettings;\n  }\n\n  public render() {\n    const markers = this.diff();\n    return (\n      <SplitEditor\n        name={this.props.name}\n        className={this.props.className}\n        focus={this.props.focus}\n        orientation={this.props.orientation}\n        splits={this.props.splits}\n        mode={this.props.mode}\n        theme={this.props.theme}\n        height={this.props.height}\n        width={this.props.width}\n        fontSize={this.props.fontSize}\n        showGutter={this.props.showGutter}\n        onChange={this.onChange}\n        onPaste={this.props.onPaste}\n        onLoad={this.props.onLoad}\n        onScroll={this.props.onScroll}\n        minLines={this.props.minLines}\n        maxLines={this.props.maxLines}\n        readOnly={this.props.readOnly}\n        highlightActiveLine={this.props.highlightActiveLine}\n        showPrintMargin={this.props.showPrintMargin}\n        tabSize={this.props.tabSize}\n        cursorStart={this.props.cursorStart}\n        editorProps={this.props.editorProps}\n        style={this.props.style}\n        scrollMargin={this.props.scrollMargin}\n        setOptions={this.props.setOptions}\n        wrapEnabled={this.props.wrapEnabled}\n        enableBasicAutocompletion={this.props.enableBasicAutocompletion}\n        enableLiveAutocompletion={this.props.enableLiveAutocompletion}\n        value={this.state.value}\n        markers={markers}\n      />\n    );\n  }\n}\n","type EditorOption =\n  | \"minLines\"\n  | \"maxLines\"\n  | \"readOnly\"\n  | \"highlightActiveLine\"\n  | \"tabSize\"\n  | \"enableBasicAutocompletion\"\n  | \"enableLiveAutocompletion\"\n  | \"enableSnippets\";\n\nconst editorOptions: EditorOption[] = [\n  \"minLines\",\n  \"maxLines\",\n  \"readOnly\",\n  \"highlightActiveLine\",\n  \"tabSize\",\n  \"enableBasicAutocompletion\",\n  \"enableLiveAutocompletion\",\n  \"enableSnippets\"\n];\n\ntype EditorEvent =\n  | \"onChange\"\n  | \"onFocus\"\n  | \"onInput\"\n  | \"onBlur\"\n  | \"onCopy\"\n  | \"onPaste\"\n  | \"onSelectionChange\"\n  | \"onCursorChange\"\n  | \"onScroll\"\n  | \"handleOptions\"\n  | \"updateRef\";\n\nconst editorEvents: EditorEvent[] = [\n  \"onChange\",\n  \"onFocus\",\n  \"onInput\",\n  \"onBlur\",\n  \"onCopy\",\n  \"onPaste\",\n  \"onSelectionChange\",\n  \"onCursorChange\",\n  \"onScroll\",\n  \"handleOptions\",\n  \"updateRef\"\n];\nconst getAceInstance = () => {\n  let ace;\n  // Fallback for ace.require when vanilla ACE is hosted over a CDN\n  if ((window as any).ace) {\n    ace = (window as any).ace;\n    ace.acequire = (window as any).ace.require || (window as any).ace.acequire;\n  } else {\n    ace = require(\"ace-builds\");\n  }\n  return ace;\n};\n\nconst debounce = (fn: (...args: any[]) => void, delay: number) => {\n  let timer: any = null;\n  return function() {\n    const context = this;\n    const args = arguments;\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      fn.apply(context, args);\n    }, delay);\n  };\n};\nexport { editorOptions, editorEvents, debounce, getAceInstance };\n","import ace, { IAceEditorProps } from \"./ace\";\nimport diff, { IDiffEditorProps, IDiffEditorState } from \"./diff\";\nimport split, { ISplitEditorProps } from \"./split\";\nimport {\n  IAceOptions,\n  IAnnotation,\n  ICommand,\n  ICommandBindKey,\n  ICommandManager,\n  IEditorProps,\n  IMarker\n} from \"./types\";\nexport {\n  split,\n  diff,\n  IAceOptions,\n  IAceEditorProps,\n  IAnnotation,\n  ICommand,\n  ICommandBindKey,\n  ICommandManager,\n  IDiffEditorProps,\n  IDiffEditorState,\n  IEditorProps,\n  IMarker,\n  ISplitEditorProps\n};\nexport default ace;\n","import {\n  debounce,\n  editorEvents,\n  editorOptions,\n  getAceInstance\n} from \"./editorOptions\";\nconst ace = getAceInstance();\nimport { Ace, Range } from \"ace-builds\";\nimport Editor = Ace.Editor;\nimport { Split } from \"ace-builds/src-noconflict/ext-split\";\nimport * as PropTypes from \"prop-types\";\nimport * as React from \"react\";\nconst isEqual = require(\"lodash.isequal\");\nconst get = require(\"lodash.get\");\nimport {\n  IAceOptions,\n  IAnnotation,\n  ICommand,\n  IEditorProps,\n  IMarker\n} from \"./types\";\n\ninterface IAceEditorClass extends Editor {\n  [index: string]: any;\n  $options?: any;\n}\n\nexport interface ISplitEditorProps {\n  [index: string]: any;\n  name?: string;\n  style: any;\n  /** For available modes see https://github.com/thlorenz/brace/tree/master/mode */\n  mode?: string;\n  /** For available themes see https://github.com/thlorenz/brace/tree/master/theme */\n  theme?: string;\n  height?: string;\n  width?: string;\n  className?: string;\n  fontSize?: number | string;\n  showGutter?: boolean;\n  showPrintMargin?: boolean;\n  highlightActiveLine?: boolean;\n  focus?: boolean;\n  splits: number;\n  debounceChangePeriod?: number;\n  cursorStart?: number;\n  wrapEnabled?: boolean;\n  readOnly?: boolean;\n  minLines?: number;\n  maxLines?: number;\n  enableBasicAutocompletion?: boolean | string[];\n  enableLiveAutocompletion?: boolean | string[];\n  tabSize?: number;\n  value?: string[];\n  defaultValue?: string[];\n  scrollMargin?: number[];\n  orientation?: string;\n  onSelectionChange?: (value: any, event?: any) => void;\n  onCursorChange?: (value: any, event?: any) => void;\n  onInput?: (event?: any) => void;\n  onLoad?: (editor: IEditorProps) => void;\n  onBeforeLoad?: (ace: any) => void;\n  onChange?: (value: string[], event?: any) => void;\n  onSelection?: (selectedText: string, event?: any) => void;\n  onCopy?: (value: string) => void;\n  onPaste?: (value: string) => void;\n  onFocus?: (value: Event) => void;\n  onBlur?: (value: Event) => void;\n  onScroll?: (editor: IEditorProps) => void;\n  editorProps?: IEditorProps;\n  setOptions?: IAceOptions;\n  keyboardHandler?: string;\n  commands?: ICommand[];\n  annotations?: IAnnotation[][];\n  markers?: IMarker[][];\n}\n\nexport default class SplitComponent extends React.Component<\n  ISplitEditorProps,\n  undefined\n> {\n  [index: string]: any;\n\n  public static propTypes: PropTypes.ValidationMap<ISplitEditorProps> = {\n    className: PropTypes.string,\n    debounceChangePeriod: PropTypes.number,\n    defaultValue: PropTypes.arrayOf(PropTypes.string),\n    focus: PropTypes.bool,\n    fontSize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    height: PropTypes.string,\n    mode: PropTypes.string,\n    name: PropTypes.string,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onCopy: PropTypes.func,\n    onFocus: PropTypes.func,\n    onInput: PropTypes.func,\n    onLoad: PropTypes.func,\n    onPaste: PropTypes.func,\n    onScroll: PropTypes.func,\n    orientation: PropTypes.string,\n    showGutter: PropTypes.bool,\n    splits: PropTypes.number,\n    theme: PropTypes.string,\n    value: PropTypes.arrayOf(PropTypes.string),\n    width: PropTypes.string,\n    onSelectionChange: PropTypes.func,\n    onCursorChange: PropTypes.func,\n    onBeforeLoad: PropTypes.func,\n    minLines: PropTypes.number,\n    maxLines: PropTypes.number,\n    readOnly: PropTypes.bool,\n    highlightActiveLine: PropTypes.bool,\n    tabSize: PropTypes.number,\n    showPrintMargin: PropTypes.bool,\n    cursorStart: PropTypes.number,\n    editorProps: PropTypes.object,\n    setOptions: PropTypes.object,\n    style: PropTypes.object,\n    scrollMargin: PropTypes.array,\n    annotations: PropTypes.array,\n    markers: PropTypes.array,\n    keyboardHandler: PropTypes.string,\n    wrapEnabled: PropTypes.bool,\n    enableBasicAutocompletion: PropTypes.oneOfType([\n      PropTypes.bool,\n      PropTypes.array\n    ]),\n    enableLiveAutocompletion: PropTypes.oneOfType([\n      PropTypes.bool,\n      PropTypes.array\n    ]),\n    commands: PropTypes.array\n  };\n  public static defaultProps: Partial<ISplitEditorProps> = {\n    name: \"ace-editor\",\n    focus: false,\n    orientation: \"beside\",\n    splits: 2,\n    mode: \"\",\n    theme: \"\",\n    height: \"500px\",\n    width: \"500px\",\n    value: [],\n    fontSize: 12,\n    showGutter: true,\n    onChange: null,\n    onPaste: null,\n    onLoad: null,\n    onScroll: null,\n    minLines: null,\n    maxLines: null,\n    readOnly: false,\n    highlightActiveLine: true,\n    showPrintMargin: true,\n    tabSize: 4,\n    cursorStart: 1,\n    editorProps: {},\n    style: {},\n    scrollMargin: [0, 0, 0, 0],\n    setOptions: {},\n    wrapEnabled: false,\n    enableBasicAutocompletion: false,\n    enableLiveAutocompletion: false\n  };\n  public editor: IAceEditorClass;\n  public refEditor: HTMLElement;\n  public silent: boolean;\n  public split: IAceEditorClass;\n  public splitEditor: IAceEditorClass;\n  public debounce: (fn: any, delay: number) => (...args: any) => void;\n  constructor(props: ISplitEditorProps) {\n    super(props);\n    editorEvents.forEach(method => {\n      this[method] = this[method].bind(this);\n    });\n    this.debounce = debounce;\n  }\n\n  public componentDidMount() {\n    const {\n      className,\n      onBeforeLoad,\n      mode,\n      focus,\n      theme,\n      fontSize,\n      value,\n      defaultValue,\n      cursorStart,\n      showGutter,\n      wrapEnabled,\n      showPrintMargin,\n      scrollMargin = [0, 0, 0, 0],\n      keyboardHandler,\n      onLoad,\n      commands,\n      annotations,\n      markers,\n      splits\n    } = this.props;\n\n    this.editor = ace.edit(this.refEditor);\n    this.editor.setTheme(`ace/theme/${theme}`);\n\n    if (onBeforeLoad) {\n      onBeforeLoad(ace);\n    }\n\n    const editorProps = Object.keys(this.props.editorProps);\n\n    const split = new Split(\n      this.editor.container,\n      `ace/theme/${theme}`,\n      splits\n    );\n    this.editor.env.split = split;\n\n    this.splitEditor = split.getEditor(0);\n    this.split = split;\n    // in a split scenario we don't want a print margin for the entire application\n    this.editor.setShowPrintMargin(false);\n    this.editor.renderer.setShowGutter(false);\n    // get a list of possible options to avoid 'misspelled option errors'\n    const availableOptions = this.splitEditor.$options;\n    if (this.props.debounceChangePeriod) {\n      this.onChange = this.debounce(\n        this.onChange,\n        this.props.debounceChangePeriod\n      );\n    }\n    split.forEach((editor: IAceEditorClass, index: number) => {\n      for (let i = 0; i < editorProps.length; i++) {\n        editor[editorProps[i]] = this.props.editorProps[editorProps[i]];\n      }\n      const defaultValueForEditor = get(defaultValue, index);\n      const valueForEditor = get(value, index, \"\");\n      editor.session.setUndoManager(new ace.UndoManager());\n      editor.setTheme(`ace/theme/${theme}`);\n      editor.renderer.setScrollMargin(\n        scrollMargin[0],\n        scrollMargin[1],\n        scrollMargin[2],\n        scrollMargin[3]\n      );\n      editor.getSession().setMode(`ace/mode/${mode}`);\n      editor.setFontSize(fontSize as any);\n      editor.renderer.setShowGutter(showGutter);\n      editor.getSession().setUseWrapMode(wrapEnabled);\n      editor.setShowPrintMargin(showPrintMargin);\n      editor.on(\"focus\", this.onFocus);\n      editor.on(\"blur\", this.onBlur);\n      editor.on(\"input\" as any, this.onInput);\n      editor.on(\"copy\", this.onCopy as any);\n      editor.on(\"paste\", this.onPaste as any);\n      editor.on(\"change\", this.onChange);\n      editor\n        .getSession()\n        .selection.on(\"changeSelection\", this.onSelectionChange);\n      editor.getSession().selection.on(\"changeCursor\", this.onCursorChange);\n      editor.session.on(\"changeScrollTop\", this.onScroll);\n      editor.setValue(\n        defaultValueForEditor === undefined\n          ? valueForEditor\n          : defaultValueForEditor,\n        cursorStart\n      );\n      const newAnnotations = get(annotations, index, []);\n      const newMarkers = get(markers, index, []);\n      editor.getSession().setAnnotations(newAnnotations);\n      if (newMarkers && newMarkers.length > 0) {\n        this.handleMarkers(newMarkers, editor);\n      }\n\n      for (let i = 0; i < editorOptions.length; i++) {\n        const option = editorOptions[i];\n        if (availableOptions.hasOwnProperty(option)) {\n          editor.setOption(option as any, this.props[option]);\n        } else if (this.props[option]) {\n          console.warn(\n            `ReaceAce: editor option ${option} was activated but not found. Did you need to import a related tool or did you possibly mispell the option?`\n          );\n        }\n      }\n      this.handleOptions(this.props, editor);\n\n      if (Array.isArray(commands)) {\n        commands.forEach(command => {\n          if (typeof command.exec === \"string\") {\n            (editor.commands as any).bindKey(command.bindKey, command.exec);\n          } else {\n            editor.commands.addCommand(command);\n          }\n        });\n      }\n\n      if (keyboardHandler) {\n        editor.setKeyboardHandler(\"ace/keyboard/\" + keyboardHandler);\n      }\n    });\n\n    if (className) {\n      this.refEditor.className += \" \" + className;\n    }\n\n    if (focus) {\n      this.splitEditor.focus();\n    }\n\n    const sp = this.editor.env.split;\n    sp.setOrientation(\n      this.props.orientation === \"below\" ? sp.BELOW : sp.BESIDE\n    );\n    sp.resize(true);\n    if (onLoad) {\n      onLoad(sp);\n    }\n  }\n\n  public componentDidUpdate(prevProps: ISplitEditorProps) {\n    const oldProps = prevProps;\n    const nextProps = this.props;\n\n    const split = this.editor.env.split;\n\n    if (nextProps.splits !== oldProps.splits) {\n      split.setSplits(nextProps.splits);\n    }\n\n    if (nextProps.orientation !== oldProps.orientation) {\n      split.setOrientation(\n        nextProps.orientation === \"below\" ? split.BELOW : split.BESIDE\n      );\n    }\n\n    split.forEach((editor: IAceEditorClass, index: number) => {\n      if (nextProps.mode !== oldProps.mode) {\n        editor.getSession().setMode(\"ace/mode/\" + nextProps.mode);\n      }\n      if (nextProps.keyboardHandler !== oldProps.keyboardHandler) {\n        if (nextProps.keyboardHandler) {\n          editor.setKeyboardHandler(\n            \"ace/keyboard/\" + nextProps.keyboardHandler\n          );\n        } else {\n          editor.setKeyboardHandler(null);\n        }\n      }\n      if (nextProps.fontSize !== oldProps.fontSize) {\n        editor.setFontSize(nextProps.fontSize as any);\n      }\n      if (nextProps.wrapEnabled !== oldProps.wrapEnabled) {\n        editor.getSession().setUseWrapMode(nextProps.wrapEnabled);\n      }\n      if (nextProps.showPrintMargin !== oldProps.showPrintMargin) {\n        editor.setShowPrintMargin(nextProps.showPrintMargin);\n      }\n      if (nextProps.showGutter !== oldProps.showGutter) {\n        editor.renderer.setShowGutter(nextProps.showGutter);\n      }\n\n      for (let i = 0; i < editorOptions.length; i++) {\n        const option = editorOptions[i];\n        if (nextProps[option] !== oldProps[option]) {\n          editor.setOption(option as any, nextProps[option]);\n        }\n      }\n      if (!isEqual(nextProps.setOptions, oldProps.setOptions)) {\n        this.handleOptions(nextProps, editor);\n      }\n      const nextValue = get(nextProps.value, index, \"\");\n      if (editor.getValue() !== nextValue) {\n        // editor.setValue is a synchronous function call, change event is emitted before setValue return.\n        this.silent = true;\n        const pos = (editor.session.selection as any).toJSON();\n        editor.setValue(nextValue, nextProps.cursorStart);\n        (editor.session.selection as any).fromJSON(pos);\n        this.silent = false;\n      }\n      const newAnnotations = get(nextProps.annotations, index, []);\n      const oldAnnotations = get(oldProps.annotations, index, []);\n      if (!isEqual(newAnnotations, oldAnnotations)) {\n        editor.getSession().setAnnotations(newAnnotations);\n      }\n\n      const newMarkers = get(nextProps.markers, index, []);\n      const oldMarkers = get(oldProps.markers, index, []);\n      if (!isEqual(newMarkers, oldMarkers) && Array.isArray(newMarkers)) {\n        this.handleMarkers(newMarkers, editor);\n      }\n    });\n\n    if (nextProps.className !== oldProps.className) {\n      const appliedClasses = this.refEditor.className;\n      const appliedClassesArray = appliedClasses.trim().split(\" \");\n      const oldClassesArray = oldProps.className.trim().split(\" \");\n      oldClassesArray.forEach(oldClass => {\n        const index = appliedClassesArray.indexOf(oldClass);\n        appliedClassesArray.splice(index, 1);\n      });\n      this.refEditor.className =\n        \" \" + nextProps.className + \" \" + appliedClassesArray.join(\" \");\n    }\n\n    if (nextProps.theme !== oldProps.theme) {\n      split.setTheme(\"ace/theme/\" + nextProps.theme);\n    }\n\n    if (nextProps.focus && !oldProps.focus) {\n      this.splitEditor.focus();\n    }\n    if (\n      nextProps.height !== this.props.height ||\n      nextProps.width !== this.props.width\n    ) {\n      this.editor.resize();\n    }\n  }\n\n  public componentWillUnmount() {\n    this.editor.destroy();\n    this.editor = null;\n  }\n\n  public onChange(event: any) {\n    if (this.props.onChange && !this.silent) {\n      const value: any = [];\n      this.editor.env.split.forEach((editor: IAceEditorClass) => {\n        value.push(editor.getValue());\n      });\n      this.props.onChange(value, event);\n    }\n  }\n\n  public onSelectionChange(event: any) {\n    if (this.props.onSelectionChange) {\n      const value: any = [];\n      this.editor.env.split.forEach((editor: IAceEditorClass) => {\n        value.push(editor.getSelection());\n      });\n      this.props.onSelectionChange(value, event);\n    }\n  }\n  public onCursorChange(event: any) {\n    if (this.props.onCursorChange) {\n      const value: any = [];\n      this.editor.env.split.forEach((editor: IAceEditorClass) => {\n        value.push(editor.getSelection());\n      });\n      this.props.onCursorChange(value, event);\n    }\n  }\n  public onFocus(event: any) {\n    if (this.props.onFocus) {\n      this.props.onFocus(event);\n    }\n  }\n\n  public onInput(event: any) {\n    if (this.props.onInput) {\n      this.props.onInput(event);\n    }\n  }\n\n  public onBlur(event: any) {\n    if (this.props.onBlur) {\n      this.props.onBlur(event);\n    }\n  }\n\n  public onCopy(text: string) {\n    if (this.props.onCopy) {\n      this.props.onCopy(text);\n    }\n  }\n\n  public onPaste(text: string) {\n    if (this.props.onPaste) {\n      this.props.onPaste(text);\n    }\n  }\n\n  public onScroll() {\n    if (this.props.onScroll) {\n      this.props.onScroll(this.editor);\n    }\n  }\n\n  public handleOptions(props: ISplitEditorProps, editor: IAceEditorClass) {\n    const setOptions = Object.keys(props.setOptions);\n    for (let y = 0; y < setOptions.length; y++) {\n      editor.setOption(setOptions[y] as any, props.setOptions[setOptions[y]]);\n    }\n  }\n\n  public handleMarkers(markers: IMarker[], editor: IAceEditorClass) {\n    // remove foreground markers\n    let currentMarkers = editor.getSession().getMarkers(true);\n    for (const i in currentMarkers) {\n      if (currentMarkers.hasOwnProperty(i)) {\n        editor.getSession().removeMarker(currentMarkers[i].id);\n      }\n    }\n    // remove background markers\n    currentMarkers = editor.getSession().getMarkers(false);\n    for (const i in currentMarkers) {\n      if (currentMarkers.hasOwnProperty(i)) {\n        editor.getSession().removeMarker(currentMarkers[i].id);\n      }\n    }\n    // add new markers\n    markers.forEach(\n      ({\n        startRow,\n        startCol,\n        endRow,\n        endCol,\n        className,\n        type,\n        inFront = false\n      }) => {\n        const range = new Range(startRow, startCol, endRow, endCol);\n        editor\n          .getSession()\n          .addMarker(range as any, className, type as any, inFront);\n      }\n    );\n  }\n\n  public updateRef(item: HTMLElement) {\n    this.refEditor = item;\n  }\n\n  public render() {\n    const { name, width, height, style } = this.props;\n    const divStyle = { width, height, ...style };\n    return <div ref={this.updateRef} id={name} style={divStyle} />;\n  }\n}\n","export default (value: any): value is HTMLElement =>\n  value instanceof HTMLElement;\n","import { ValidationMode } from './types';\n\nexport const EVENTS = {\n  BLUR: 'blur',\n  CHANGE: 'change',\n  INPUT: 'input',\n};\n\nexport const VALIDATION_MODE: ValidationMode = {\n  onBlur: 'onBlur',\n  onChange: 'onChange',\n  onSubmit: 'onSubmit',\n  onTouched: 'onTouched',\n  all: 'all',\n};\n\nexport const SELECT = 'select';\n\nexport const UNDEFINED = 'undefined';\n\nexport const INPUT_VALIDATION_RULES = {\n  max: 'max',\n  min: 'min',\n  maxLength: 'maxLength',\n  minLength: 'minLength',\n  pattern: 'pattern',\n  required: 'required',\n  validate: 'validate',\n};\n","export default (value: unknown): value is null | undefined => value == null;\n","import isNullOrUndefined from './isNullOrUndefined';\n\nexport const isObjectType = (value: unknown) => typeof value === 'object';\n\nexport default <T extends object>(value: unknown): value is T =>\n  !isNullOrUndefined(value) &&\n  !Array.isArray(value) &&\n  isObjectType(value) &&\n  !(value instanceof Date);\n","export default (value: string) => /^\\w*$/.test(value);\n","export default (value: any[]) => value.filter(Boolean);\n","import compact from './compact';\n\nexport default (input: string): string[] =>\n  compact(\n    input\n      .replace(/[\"|']/g, '')\n      .replace(/\\[/g, '.')\n      .replace(/\\]/g, '')\n      .split('.'),\n  );\n","import isObject from './isObject';\nimport isKey from './isKey';\nimport stringToPath from './stringToPath';\nimport { FieldValues } from '../types';\n\nexport default function set(\n  object: FieldValues,\n  path: string,\n  value?: unknown,\n) {\n  let index = -1;\n  const tempPath = isKey(path) ? [path] : stringToPath(path);\n  const length = tempPath.length;\n  const lastIndex = length - 1;\n\n  while (++index < length) {\n    const key = tempPath[index];\n    let newValue = value;\n\n    if (index !== lastIndex) {\n      const objValue = object[key];\n      newValue =\n        isObject(objValue) || Array.isArray(objValue)\n          ? objValue\n          : !isNaN(+tempPath[index + 1])\n          ? []\n          : {};\n    }\n    object[key] = newValue;\n    object = object[key];\n  }\n  return object;\n}\n","import set from '../utils/set';\nimport isKey from '../utils/isKey';\nimport { FieldValues } from '../types';\n\nexport default (data: FieldValues, value: Record<string, any> = {}): any => {\n  for (const key in data) {\n    !isKey(key) ? set(value, key, data[key]) : (value[key] = data[key]);\n  }\n  return value;\n};\n","export default (val: unknown): val is undefined => val === undefined;\n","import isUndefined from './isUndefined';\nimport isNullOrUndefined from './isNullOrUndefined';\nimport compact from './compact';\n\nexport default (obj: any = {}, path: string, defaultValue?: unknown) => {\n  const result = compact(path.split(/[,[\\].]+?/)).reduce(\n    (result, key) => (isNullOrUndefined(result) ? result : result[key]),\n    obj,\n  );\n\n  return isUndefined(result) || result === obj\n    ? isUndefined(obj[path])\n      ? defaultValue\n      : obj[path]\n    : result;\n};\n","import get from '../utils/get';\nimport isUndefined from '../utils/isUndefined';\nimport { FieldErrors, FieldRefs } from '../types';\n\nexport default <TFieldValues>(\n  fields: FieldRefs<TFieldValues>,\n  fieldErrors: FieldErrors<TFieldValues>,\n) => {\n  for (const key in fields) {\n    if (get(fieldErrors, key)) {\n      const field = fields[key];\n\n      if (field) {\n        if (field.ref.focus && isUndefined(field.ref.focus())) {\n          break;\n        } else if (field.options) {\n          field.options[0].ref.focus();\n\n          break;\n        }\n      }\n    }\n  }\n};\n","import isHTMLElement from '../utils/isHTMLElement';\nimport { EVENTS } from '../constants';\nimport { Ref } from '../types';\n\nexport default (\n  ref: Ref,\n  validateWithStateUpdate: EventListenerOrEventListenerObject,\n): void => {\n  if (isHTMLElement(ref) && ref.removeEventListener) {\n    ref.removeEventListener(EVENTS.INPUT, validateWithStateUpdate);\n    ref.removeEventListener(EVENTS.CHANGE, validateWithStateUpdate);\n    ref.removeEventListener(EVENTS.BLUR, validateWithStateUpdate);\n  }\n};\n","import { RadioOrCheckboxOption } from '../types';\n\ntype RadioFieldResult = {\n  isValid: boolean;\n  value: number | string | null;\n};\n\nconst defaultReturn: RadioFieldResult = {\n  isValid: false,\n  value: null,\n};\n\nexport default (options?: RadioOrCheckboxOption[]): RadioFieldResult =>\n  Array.isArray(options)\n    ? options.reduce(\n        (previous, option): RadioFieldResult =>\n          option && option.ref.checked\n            ? {\n                isValid: true,\n                value: option.ref.value,\n              }\n            : previous,\n        defaultReturn,\n      )\n    : defaultReturn;\n","export default (\n  options: HTMLOptionElement[] | HTMLOptionsCollection,\n): string[] =>\n  [...options]\n    .filter(({ selected }): boolean => selected)\n    .map(({ value }): string => value);\n","import { FieldElement } from '../types';\n\nexport default (element: FieldElement): element is HTMLInputElement =>\n  element.type === 'radio';\n","import { FieldElement } from '../types';\n\nexport default (element: FieldElement): element is HTMLInputElement =>\n  element.type === 'file';\n","import { FieldElement } from '../types';\n\nexport default (element: FieldElement): element is HTMLInputElement =>\n  element.type === 'checkbox';\n","import { FieldElement } from '../types';\nimport { SELECT } from '../constants';\n\nexport default (element: FieldElement): element is HTMLSelectElement =>\n  element.type === `${SELECT}-multiple`;\n","import isUndefined from '../utils/isUndefined';\nimport { RadioOrCheckboxOption } from '../types';\n\ntype CheckboxFieldResult = {\n  isValid: boolean;\n  value: string | string[] | boolean;\n};\n\nconst defaultResult: CheckboxFieldResult = {\n  value: false,\n  isValid: false,\n};\n\nconst validResult = { value: true, isValid: true };\n\nexport default (options?: RadioOrCheckboxOption[]): CheckboxFieldResult => {\n  if (Array.isArray(options)) {\n    if (options.length > 1) {\n      const values = options\n        .filter((option) => option && option.ref.checked)\n        .map(({ ref: { value } }) => value);\n      return { value: values, isValid: !!values.length };\n    }\n\n    const { checked, value, attributes } = options[0].ref;\n\n    return checked\n      ? attributes && !isUndefined((attributes as any).value)\n        ? isUndefined(value) || value === ''\n          ? validResult\n          : { value: value, isValid: true }\n        : validResult\n      : defaultResult;\n  }\n\n  return defaultResult;\n};\n","import * as React from 'react';\nimport getRadioValue from './getRadioValue';\nimport getMultipleSelectValue from './getMultipleSelectValue';\nimport isRadioInput from '../utils/isRadioInput';\nimport get from '../utils/get';\nimport isFileInput from '../utils/isFileInput';\nimport isCheckBox from '../utils/isCheckBoxInput';\nimport isMultipleSelect from '../utils/isMultipleSelect';\nimport getCheckboxValue from './getCheckboxValue';\nimport { FieldRefs, FieldValues, InternalFieldName } from '../types';\n\nexport default function getFieldValue<TFieldValues extends FieldValues>(\n  fieldsRef: React.MutableRefObject<FieldRefs<TFieldValues>>,\n  name: InternalFieldName<TFieldValues>,\n  shallowFieldsStateRef?: React.MutableRefObject<Partial<FieldValues>>,\n  excludeDisabled?: boolean,\n  shouldKeepRawValue?: boolean,\n) {\n  const field = fieldsRef.current[name]!;\n\n  if (field) {\n    const {\n      ref: { value, disabled },\n      ref,\n      valueAsNumber,\n      valueAsDate,\n      setValueAs,\n    } = field;\n\n    if (disabled && excludeDisabled) {\n      return;\n    }\n\n    if (isFileInput(ref)) {\n      return ref.files;\n    }\n\n    if (isRadioInput(ref)) {\n      return getRadioValue(field.options).value;\n    }\n\n    if (isMultipleSelect(ref)) {\n      return getMultipleSelectValue(ref.options);\n    }\n\n    if (isCheckBox(ref)) {\n      return getCheckboxValue(field.options).value;\n    }\n\n    return shouldKeepRawValue\n      ? value\n      : valueAsNumber\n      ? value === ''\n        ? NaN\n        : +value\n      : valueAsDate\n      ? (ref as HTMLInputElement).valueAsDate\n      : setValueAs\n      ? setValueAs(value)\n      : value;\n  }\n\n  if (shallowFieldsStateRef) {\n    return get(shallowFieldsStateRef.current, name);\n  }\n}\n","import { Ref } from '../types';\n\nexport default function isDetached(element: Ref): boolean {\n  if (!element) {\n    return true;\n  }\n\n  if (\n    !(element instanceof HTMLElement) ||\n    element.nodeType === Node.DOCUMENT_NODE\n  ) {\n    return false;\n  }\n\n  return isDetached(element.parentNode as Ref);\n}\n","import isObject from './isObject';\nimport { EmptyObject } from '../types';\n\nexport default (value: unknown): value is EmptyObject =>\n  isObject(value) && !Object.keys(value).length;\n","export default (value: unknown): value is boolean => typeof value === 'boolean';\n","import isKey from './isKey';\nimport stringToPath from './stringToPath';\nimport isEmptyObject from './isEmptyObject';\nimport isObject from './isObject';\nimport isUndefined from './isUndefined';\nimport isBoolean from './isBoolean';\n\nfunction baseGet(object: any, updatePath: (string | number)[]) {\n  const length = updatePath.slice(0, -1).length;\n  let index = 0;\n\n  while (index < length) {\n    object = isUndefined(object) ? index++ : object[updatePath[index++]];\n  }\n\n  return object;\n}\n\nexport default function unset(object: any, path: string) {\n  const updatePath = isKey(path) ? [path] : stringToPath(path);\n  const childObject =\n    updatePath.length == 1 ? object : baseGet(object, updatePath);\n  const key = updatePath[updatePath.length - 1];\n  let previousObjRef;\n\n  if (childObject) {\n    delete childObject[key];\n  }\n\n  for (let k = 0; k < updatePath.slice(0, -1).length; k++) {\n    let index = -1;\n    let objectRef;\n    const currentPaths = updatePath.slice(0, -(k + 1));\n    const currentPathsLength = currentPaths.length - 1;\n\n    if (k > 0) {\n      previousObjRef = object;\n    }\n\n    while (++index < currentPaths.length) {\n      const item = currentPaths[index];\n      objectRef = objectRef ? objectRef[item] : object[item];\n\n      if (\n        currentPathsLength === index &&\n        ((isObject(objectRef) && isEmptyObject(objectRef)) ||\n          (Array.isArray(objectRef) &&\n            !objectRef.filter(\n              (data) =>\n                (isObject(data) && !isEmptyObject(data)) || isBoolean(data),\n            ).length))\n      ) {\n        previousObjRef ? delete previousObjRef[item] : delete object[item];\n      }\n\n      previousObjRef = objectRef;\n    }\n  }\n\n  return object;\n}\n","import * as React from 'react';\nimport removeAllEventListeners from './removeAllEventListeners';\nimport getFieldValue from './getFieldValue';\nimport isRadioInput from '../utils/isRadioInput';\nimport set from '../utils/set';\nimport isCheckBoxInput from '../utils/isCheckBoxInput';\nimport isDetached from '../utils/isDetached';\nimport unset from '../utils/unset';\nimport compact from '../utils/compact';\nimport isUndefined from '../utils/isUndefined';\nimport { Field, FieldRefs, FieldValues, Ref } from '../types';\n\nconst isSameRef = (fieldValue: Field, ref: Ref) =>\n  fieldValue && fieldValue.ref === ref;\n\nexport default function findRemovedFieldAndRemoveListener<\n  TFieldValues extends FieldValues\n>(\n  fieldsRef: React.MutableRefObject<FieldRefs<TFieldValues>>,\n  handleChange: ({ type, target }: Event) => Promise<void | boolean>,\n  field: Field,\n  shallowFieldsStateRef: React.MutableRefObject<FieldValues>,\n  shouldUnregister?: boolean,\n  forceDelete?: boolean,\n): void {\n  const {\n    ref,\n    ref: { name },\n  } = field;\n  const fieldRef = fieldsRef.current[name] as Field;\n\n  if (!shouldUnregister) {\n    const value = getFieldValue(fieldsRef, name, shallowFieldsStateRef);\n\n    !isUndefined(value) && set(shallowFieldsStateRef.current, name, value);\n  }\n\n  if (!ref.type || !fieldRef) {\n    delete fieldsRef.current[name];\n    return;\n  }\n\n  if (isRadioInput(ref) || isCheckBoxInput(ref)) {\n    if (Array.isArray(fieldRef.options) && fieldRef.options.length) {\n      compact(fieldRef.options).forEach((option = {}, index): void => {\n        if (\n          (isDetached(option.ref) && isSameRef(option, option.ref)) ||\n          forceDelete\n        ) {\n          removeAllEventListeners(option.ref, handleChange);\n          unset(fieldRef.options, `[${index}]`);\n        }\n      });\n\n      if (fieldRef.options && !compact(fieldRef.options).length) {\n        delete fieldsRef.current[name];\n      }\n    } else {\n      delete fieldsRef.current[name];\n    }\n  } else if ((isDetached(ref) && isSameRef(fieldRef, ref)) || forceDelete) {\n    removeAllEventListeners(ref, handleChange);\n\n    delete fieldsRef.current[name];\n  }\n}\n","import isNullOrUndefined from './isNullOrUndefined';\nimport { isObjectType } from './isObject';\nimport { Primitive } from '../types';\n\nexport default (value: unknown): value is Primitive =>\n  isNullOrUndefined(value) || !isObjectType(value);\n","import isObject from './isObject';\nimport isPrimitive from './isPrimitive';\n\nexport function deepMerge<\n  T extends Record<keyof T, any>,\n  U extends Record<keyof U, any>\n>(target: T, source: U): T & U {\n  if (isPrimitive(target) || isPrimitive(source)) {\n    return source;\n  }\n\n  for (const key in source) {\n    const targetValue = target[key];\n    const sourceValue = source[key];\n\n    try {\n      target[key] =\n        (isObject(targetValue) && isObject(sourceValue)) ||\n        (Array.isArray(targetValue) && Array.isArray(sourceValue))\n          ? deepMerge(targetValue, sourceValue)\n          : sourceValue;\n    } catch {}\n  }\n\n  return target;\n}\n","import * as React from 'react';\nimport isObject from '../utils/isObject';\nimport isPrimitive from './isPrimitive';\n\nexport default function deepEqual(\n  object1: any,\n  object2: any,\n  isErrorObject?: boolean,\n) {\n  if (\n    isPrimitive(object1) ||\n    isPrimitive(object2) ||\n    object1 instanceof Date ||\n    object2 instanceof Date\n  ) {\n    return object1 === object2;\n  }\n\n  if (!React.isValidElement(object1)) {\n    const keys1 = Object.keys(object1);\n    const keys2 = Object.keys(object2);\n\n    if (keys1.length !== keys2.length) {\n      return false;\n    }\n\n    for (const key of keys1) {\n      const val1 = object1[key];\n\n      if (!(isErrorObject && key === 'ref')) {\n        const val2 = object2[key];\n\n        if (\n          (isObject(val1) || Array.isArray(val1)) &&\n          (isObject(val2) || Array.isArray(val2))\n            ? !deepEqual(val1, val2, isErrorObject)\n            : val1 !== val2\n        ) {\n          return false;\n        }\n      }\n    }\n  }\n\n  return true;\n}\n","import { get } from '../utils';\nimport set from '../utils/set';\nimport { deepMerge } from '../utils/deepMerge';\nimport deepEqual from '../utils/deepEqual';\n\nfunction setDirtyFields<\n  T extends Record<string, unknown>[],\n  U extends Record<string, unknown>[],\n  K extends Record<string, boolean | []>\n>(\n  values: T,\n  defaultValues: U,\n  dirtyFields: Record<string, boolean | []>[],\n  parentNode?: K,\n  parentName?: keyof K,\n) {\n  let index = -1;\n\n  while (++index < values.length) {\n    for (const key in values[index]) {\n      if (Array.isArray(values[index][key])) {\n        !dirtyFields[index] && (dirtyFields[index] = {});\n        dirtyFields[index][key] = [];\n        setDirtyFields(\n          values[index][key] as T,\n          get(defaultValues[index] || {}, key, []),\n          dirtyFields[index][key] as [],\n          dirtyFields[index],\n          key,\n        );\n      } else {\n        deepEqual(get(defaultValues[index] || {}, key), values[index][key])\n          ? set(dirtyFields[index] || {}, key)\n          : (dirtyFields[index] = {\n              ...dirtyFields[index],\n              [key]: true,\n            });\n      }\n    }\n\n    parentNode &&\n      !dirtyFields.length &&\n      delete parentNode[parentName as keyof K];\n  }\n\n  return dirtyFields;\n}\n\nexport default <T extends U, U extends Record<string, unknown>[]>(\n  values: T,\n  defaultValues: U,\n  dirtyFields: Record<string, boolean | []>[],\n) =>\n  deepMerge(\n    setDirtyFields(values, defaultValues, dirtyFields.slice(0, values.length)),\n    setDirtyFields(defaultValues, values, dirtyFields.slice(0, values.length)),\n  );\n","export default (value: unknown): value is string => typeof value === 'string';\n","import * as React from 'react';\nimport getFieldValue from './getFieldValue';\nimport isString from '../utils/isString';\nimport { deepMerge } from '../utils/deepMerge';\nimport isUndefined from '../utils/isUndefined';\nimport { InternalFieldName, FieldValues, FieldRefs } from '../types';\nimport transformToNestObject from './transformToNestObject';\n\nexport default <TFieldValues extends FieldValues>(\n  fieldsRef: React.MutableRefObject<FieldRefs<TFieldValues>>,\n  shallowFieldsState: Record<string, any>,\n  shouldUnregister: boolean,\n  excludeDisabled?: boolean,\n  search?:\n    | InternalFieldName<TFieldValues>\n    | InternalFieldName<TFieldValues>[]\n    | { nest: boolean },\n) => {\n  const output = {} as TFieldValues;\n\n  for (const name in fieldsRef.current) {\n    if (\n      isUndefined(search) ||\n      (isString(search)\n        ? name.startsWith(search)\n        : Array.isArray(search) && search.find((data) => name.startsWith(data)))\n    ) {\n      output[name as InternalFieldName<TFieldValues>] = getFieldValue(\n        fieldsRef,\n        name,\n        undefined,\n        excludeDisabled,\n      );\n    }\n  }\n\n  return shouldUnregister\n    ? transformToNestObject(output)\n    : deepMerge(shallowFieldsState, transformToNestObject(output));\n};\n","import get from '../utils/get';\nimport isUndefined from '../utils/isUndefined';\nimport deepEqual from '../utils/deepEqual';\nimport {\n  FieldValues,\n  InternalFieldName,\n  FieldErrors,\n  FieldNamesMarkedBoolean,\n  FieldError,\n} from '../types';\n\nexport default <TFieldValues extends FieldValues>({\n  errors,\n  name,\n  error,\n  validFields,\n  fieldsWithValidation,\n}: {\n  errors: FieldErrors<TFieldValues>;\n  error: FieldError | undefined;\n  name: InternalFieldName<TFieldValues>;\n  validFields: FieldNamesMarkedBoolean<TFieldValues>;\n  fieldsWithValidation: FieldNamesMarkedBoolean<TFieldValues>;\n}): boolean => {\n  const isValid = isUndefined(error);\n  const previousError = get(errors, name);\n\n  return (\n    (isValid && !!previousError) ||\n    (!isValid && !deepEqual(previousError, error, true)) ||\n    (isValid && get(fieldsWithValidation, name) && !get(validFields, name))\n  );\n};\n","export default (value: unknown): value is RegExp => value instanceof RegExp;\n","import isObject from '../utils/isObject';\nimport isRegex from '../utils/isRegex';\nimport { ValidationRule } from '../types';\n\nexport default (validationData?: ValidationRule) =>\n  isObject(validationData) && !isRegex(validationData)\n    ? validationData\n    : {\n        value: validationData,\n        message: '',\n      };\n","export default (value: unknown): value is Function =>\n  typeof value === 'function';\n","import * as React from 'react';\nimport isString from '../utils/isString';\nimport { Message } from '../types';\n\nexport default (value: unknown): value is Message =>\n  isString(value) || React.isValidElement(value as JSX.Element);\n","import isBoolean from '../utils/isBoolean';\nimport isMessage from '../utils/isMessage';\nimport { FieldError, ValidateResult, Ref } from '../types';\n\nexport default function getValidateError(\n  result: ValidateResult,\n  ref: Ref,\n  type = 'validate',\n): FieldError | void {\n  if (isMessage(result) || (isBoolean(result) && !result)) {\n    return {\n      type,\n      message: isMessage(result) ? result : '',\n      ref,\n    };\n  }\n}\n","import {\n  InternalFieldName,\n  ValidateResult,\n  InternalFieldErrors,\n} from '../types';\n\nexport default <TFieldValues>(\n  name: InternalFieldName<TFieldValues>,\n  validateAllFieldCriteria: boolean,\n  errors: InternalFieldErrors<TFieldValues>,\n  type: string,\n  message: ValidateResult,\n) =>\n  validateAllFieldCriteria\n    ? {\n        ...errors[name],\n        types: {\n          ...(errors[name] && errors[name]!.types ? errors[name]!.types : {}),\n          [type]: message || true,\n        },\n      }\n    : {};\n","import * as React from 'react';\nimport getRadioValue from './getRadioValue';\nimport getCheckboxValue from './getCheckboxValue';\nimport isNullOrUndefined from '../utils/isNullOrUndefined';\nimport isRadioInput from '../utils/isRadioInput';\nimport getValueAndMessage from './getValueAndMessage';\nimport isCheckBoxInput from '../utils/isCheckBoxInput';\nimport isString from '../utils/isString';\nimport isEmptyObject from '../utils/isEmptyObject';\nimport isObject from '../utils/isObject';\nimport isFunction from '../utils/isFunction';\nimport getFieldsValue from './getFieldValue';\nimport isRegex from '../utils/isRegex';\nimport isBoolean from '../utils/isBoolean';\nimport isMessage from '../utils/isMessage';\nimport getValidateError from './getValidateError';\nimport appendErrors from './appendErrors';\nimport { INPUT_VALIDATION_RULES } from '../constants';\nimport {\n  Field,\n  FieldValues,\n  FieldRefs,\n  Message,\n  FieldError,\n  InternalFieldName,\n  InternalFieldErrors,\n} from '../types';\n\nexport default async <TFieldValues extends FieldValues>(\n  fieldsRef: React.MutableRefObject<FieldRefs<TFieldValues>>,\n  validateAllFieldCriteria: boolean,\n  {\n    ref,\n    ref: { value },\n    options,\n    required,\n    maxLength,\n    minLength,\n    min,\n    max,\n    pattern,\n    validate,\n  }: Field,\n  shallowFieldsStateRef: React.MutableRefObject<Record<string, any>>,\n): Promise<InternalFieldErrors<TFieldValues>> => {\n  const name: InternalFieldName<TFieldValues> = ref.name;\n  const error: InternalFieldErrors<TFieldValues> = {};\n  const isRadio = isRadioInput(ref);\n  const isCheckBox = isCheckBoxInput(ref);\n  const isRadioOrCheckbox = isRadio || isCheckBox;\n  const isEmpty = value === '';\n  const appendErrorsCurry = appendErrors.bind(\n    null,\n    name,\n    validateAllFieldCriteria,\n    error,\n  );\n  const getMinMaxMessage = (\n    exceedMax: boolean,\n    maxLengthMessage: Message,\n    minLengthMessage: Message,\n    maxType = INPUT_VALIDATION_RULES.maxLength,\n    minType = INPUT_VALIDATION_RULES.minLength,\n  ) => {\n    const message = exceedMax ? maxLengthMessage : minLengthMessage;\n    error[name] = {\n      type: exceedMax ? maxType : minType,\n      message,\n      ref,\n      ...(exceedMax\n        ? appendErrorsCurry(maxType, message)\n        : appendErrorsCurry(minType, message)),\n    };\n  };\n\n  if (\n    required &&\n    ((!isRadio && !isCheckBox && (isEmpty || isNullOrUndefined(value))) ||\n      (isBoolean(value) && !value) ||\n      (isCheckBox && !getCheckboxValue(options).isValid) ||\n      (isRadio && !getRadioValue(options).isValid))\n  ) {\n    const { value, message } = isMessage(required)\n      ? { value: !!required, message: required }\n      : getValueAndMessage(required);\n\n    if (value) {\n      error[name] = {\n        type: INPUT_VALIDATION_RULES.required,\n        message,\n        ref: isRadioOrCheckbox\n          ? (((fieldsRef.current[name] as Field).options || [])[0] || {}).ref\n          : ref,\n        ...appendErrorsCurry(INPUT_VALIDATION_RULES.required, message),\n      };\n      if (!validateAllFieldCriteria) {\n        return error;\n      }\n    }\n  }\n\n  if ((!isNullOrUndefined(min) || !isNullOrUndefined(max)) && value !== '') {\n    let exceedMax;\n    let exceedMin;\n    const maxOutput = getValueAndMessage(max);\n    const minOutput = getValueAndMessage(min);\n\n    if (!isNaN(value)) {\n      const valueNumber =\n        (ref as HTMLInputElement).valueAsNumber || parseFloat(value);\n      if (!isNullOrUndefined(maxOutput.value)) {\n        exceedMax = valueNumber > maxOutput.value;\n      }\n      if (!isNullOrUndefined(minOutput.value)) {\n        exceedMin = valueNumber < minOutput.value;\n      }\n    } else {\n      const valueDate =\n        (ref as HTMLInputElement).valueAsDate || new Date(value);\n      if (isString(maxOutput.value)) {\n        exceedMax = valueDate > new Date(maxOutput.value);\n      }\n      if (isString(minOutput.value)) {\n        exceedMin = valueDate < new Date(minOutput.value);\n      }\n    }\n\n    if (exceedMax || exceedMin) {\n      getMinMaxMessage(\n        !!exceedMax,\n        maxOutput.message,\n        minOutput.message,\n        INPUT_VALIDATION_RULES.max,\n        INPUT_VALIDATION_RULES.min,\n      );\n      if (!validateAllFieldCriteria) {\n        return error;\n      }\n    }\n  }\n\n  if (isString(value) && !isEmpty && (maxLength || minLength)) {\n    const maxLengthOutput = getValueAndMessage(maxLength);\n    const minLengthOutput = getValueAndMessage(minLength);\n    const exceedMax =\n      !isNullOrUndefined(maxLengthOutput.value) &&\n      value.length > maxLengthOutput.value;\n    const exceedMin =\n      !isNullOrUndefined(minLengthOutput.value) &&\n      value.length < minLengthOutput.value;\n\n    if (exceedMax || exceedMin) {\n      getMinMaxMessage(\n        exceedMax,\n        maxLengthOutput.message,\n        minLengthOutput.message,\n      );\n      if (!validateAllFieldCriteria) {\n        return error;\n      }\n    }\n  }\n\n  if (isString(value) && pattern && !isEmpty) {\n    const { value: patternValue, message } = getValueAndMessage(pattern);\n\n    if (isRegex(patternValue) && !patternValue.test(value)) {\n      error[name] = {\n        type: INPUT_VALIDATION_RULES.pattern,\n        message,\n        ref,\n        ...appendErrorsCurry(INPUT_VALIDATION_RULES.pattern, message),\n      };\n      if (!validateAllFieldCriteria) {\n        return error;\n      }\n    }\n  }\n\n  if (validate) {\n    const fieldValue = getFieldsValue(\n      fieldsRef,\n      name,\n      shallowFieldsStateRef,\n      false,\n      true,\n    );\n    const validateRef = isRadioOrCheckbox && options ? options[0].ref : ref;\n\n    if (isFunction(validate)) {\n      const result = await validate(fieldValue);\n      const validateError = getValidateError(result, validateRef);\n\n      if (validateError) {\n        error[name] = {\n          ...validateError,\n          ...appendErrorsCurry(\n            INPUT_VALIDATION_RULES.validate,\n            validateError.message,\n          ),\n        };\n        if (!validateAllFieldCriteria) {\n          return error;\n        }\n      }\n    } else if (isObject(validate)) {\n      let validationResult = {} as FieldError;\n      for (const [key, validateFunction] of Object.entries(validate)) {\n        if (!isEmptyObject(validationResult) && !validateAllFieldCriteria) {\n          break;\n        }\n\n        const validateResult = await validateFunction(fieldValue);\n        const validateError = getValidateError(\n          validateResult,\n          validateRef,\n          key,\n        );\n\n        if (validateError) {\n          validationResult = {\n            ...validateError,\n            ...appendErrorsCurry(key, validateError.message),\n          };\n\n          if (validateAllFieldCriteria) {\n            error[name] = validationResult;\n          }\n        }\n      }\n\n      if (!isEmptyObject(validationResult)) {\n        error[name] = {\n          ref: validateRef,\n          ...validationResult,\n        };\n        if (!validateAllFieldCriteria) {\n          return error;\n        }\n      }\n    }\n  }\n\n  return error;\n};\n","import isPrimitive from './isPrimitive';\nimport isObject from './isObject';\nimport { FieldName } from '../types';\n\nexport const getPath = <TFieldValues>(\n  rootPath: FieldName<TFieldValues>,\n  values: any,\n  paths: FieldName<TFieldValues>[] = [],\n): FieldName<TFieldValues>[] => {\n  for (const property in values) {\n    const rootName = (rootPath +\n      (isObject(values)\n        ? `.${property}`\n        : `[${property}]`)) as FieldName<TFieldValues>;\n\n    isPrimitive(values[property])\n      ? paths.push(rootName)\n      : getPath(rootName, values[property], paths);\n  }\n\n  return paths;\n};\n","import get from '../utils/get';\nimport { getPath } from '../utils/getPath';\nimport isEmptyObject from '../utils/isEmptyObject';\nimport isUndefined from '../utils/isUndefined';\nimport isObject from '../utils/isObject';\nimport {\n  DeepPartial,\n  FieldValue,\n  FieldValues,\n  InternalFieldName,\n  UnpackNestedValue,\n} from '../types';\n\nexport default <TFieldValues extends FieldValues>(\n  fieldValues: TFieldValues,\n  fieldName: InternalFieldName<TFieldValues>,\n  watchFields: Set<InternalFieldName<TFieldValues>>,\n  inputValue: UnpackNestedValue<DeepPartial<TFieldValues>>,\n  isSingleField?: boolean,\n):\n  | FieldValue<TFieldValues>\n  | UnpackNestedValue<DeepPartial<TFieldValues>>\n  | undefined => {\n  let value = undefined;\n\n  watchFields.add(fieldName);\n\n  if (!isEmptyObject(fieldValues)) {\n    value = get(fieldValues, fieldName);\n\n    if (isObject(value) || Array.isArray(value)) {\n      getPath(fieldName, value).forEach((name) => watchFields.add(name));\n    }\n  }\n\n  return isUndefined(value)\n    ? isSingleField\n      ? inputValue\n      : get(inputValue, fieldName)\n    : value;\n};\n","export default ({\n  isOnBlur,\n  isOnChange,\n  isOnTouch,\n  isTouched,\n  isReValidateOnBlur,\n  isReValidateOnChange,\n  isBlurEvent,\n  isSubmitted,\n  isOnAll,\n}: {\n  isOnAll?: boolean;\n  isOnBlur?: boolean;\n  isOnChange?: boolean;\n  isReValidateOnBlur?: boolean;\n  isReValidateOnChange?: boolean;\n  isBlurEvent?: boolean;\n  isSubmitted?: boolean;\n  isOnTouch?: boolean;\n  isTouched?: boolean;\n}) => {\n  if (isOnAll) {\n    return false;\n  } else if (!isSubmitted && isOnTouch) {\n    return !(isTouched || isBlurEvent);\n  } else if (isSubmitted ? isReValidateOnBlur : isOnBlur) {\n    return !isBlurEvent;\n  } else if (isSubmitted ? isReValidateOnChange : isOnChange) {\n    return isBlurEvent;\n  }\n  return true;\n};\n","export default (name: string) => name.substring(0, name.indexOf('['));\n","import { FieldValues, InternalFieldName } from '../types';\n\nexport const isMatchFieldArrayName = (name: string, searchName: string) =>\n  RegExp(\n    `^${searchName}([|.)\\\\d+`.replace(/\\[/g, '\\\\[').replace(/\\]/g, '\\\\]'),\n  ).test(name);\n\nexport default (\n  names: Set<InternalFieldName<FieldValues>>,\n  name: InternalFieldName<FieldValues>,\n) => [...names].some((current) => isMatchFieldArrayName(name, current));\n","import { FieldElement } from '../types';\nimport { SELECT } from '../constants';\n\nexport default (element: FieldElement): element is HTMLSelectElement =>\n  element.type === `${SELECT}-one`;\n","import { UNDEFINED } from '../constants';\n\nexport default typeof window !== UNDEFINED && typeof document !== UNDEFINED;\n","import isPrimitive from './isPrimitive';\nimport isHTMLElement from './isHTMLElement';\nimport isWeb from './isWeb';\n\nexport default function cloneObject<T extends unknown>(data: T): T {\n  let copy: any;\n\n  if (\n    isPrimitive(data) ||\n    (isWeb && (data instanceof File || isHTMLElement(data)))\n  ) {\n    return data;\n  }\n\n  if (\n    !['Set', 'Map', 'Object', 'Date', 'Array'].includes(\n      (data as Object).constructor?.name,\n    )\n  ) {\n    return data;\n  }\n\n  if (data instanceof Date) {\n    copy = new Date(data.getTime());\n    return copy;\n  }\n\n  if (data instanceof Set) {\n    copy = new Set();\n    for (const item of data) {\n      copy.add(item);\n    }\n    return copy;\n  }\n\n  if (data instanceof Map) {\n    copy = new Map();\n    for (const key of data.keys()) {\n      copy.set(key, cloneObject(data.get(key)));\n    }\n    return copy;\n  }\n\n  copy = Array.isArray(data) ? [] : {};\n\n  for (const key in data) {\n    copy[key] = cloneObject(data[key]);\n  }\n\n  return copy;\n}\n","import { VALIDATION_MODE } from '../constants';\nimport { Mode } from '../types';\n\nexport default (\n  mode?: Mode,\n): {\n  isOnSubmit: boolean;\n  isOnBlur: boolean;\n  isOnChange: boolean;\n  isOnAll: boolean;\n  isOnTouch: boolean;\n} => ({\n  isOnSubmit: !mode || mode === VALIDATION_MODE.onSubmit,\n  isOnBlur: mode === VALIDATION_MODE.onBlur,\n  isOnChange: mode === VALIDATION_MODE.onChange,\n  isOnAll: mode === VALIDATION_MODE.all,\n  isOnTouch: mode === VALIDATION_MODE.onTouched,\n});\n","import isRadioInput from './isRadioInput';\nimport isCheckBoxInput from './isCheckBoxInput';\nimport { FieldElement } from '../types';\n\nexport default (ref: FieldElement): ref is HTMLInputElement =>\n  isRadioInput(ref) || isCheckBoxInput(ref);\n","import * as React from 'react';\nimport attachEventListeners from './logic/attachEventListeners';\nimport transformToNestObject from './logic/transformToNestObject';\nimport focusOnErrorField from './logic/focusOnErrorField';\nimport findRemovedFieldAndRemoveListener from './logic/findRemovedFieldAndRemoveListener';\nimport setFieldArrayDirtyFields from './logic/setFieldArrayDirtyFields';\nimport getFieldsValues from './logic/getFieldsValues';\nimport getFieldValue from './logic/getFieldValue';\nimport isErrorStateChanged from './logic/isErrorStateChanged';\nimport validateField from './logic/validateField';\nimport assignWatchFields from './logic/assignWatchFields';\nimport skipValidation from './logic/skipValidation';\nimport getNodeParentName from './logic/getNodeParentName';\nimport deepEqual from './utils/deepEqual';\nimport isNameInFieldArray from './logic/isNameInFieldArray';\nimport isCheckBoxInput from './utils/isCheckBoxInput';\nimport isEmptyObject from './utils/isEmptyObject';\nimport isRadioInput from './utils/isRadioInput';\nimport isSelectInput from './utils/isSelectInput';\nimport isFileInput from './utils/isFileInput';\nimport onDomRemove from './utils/onDomRemove';\nimport isObject from './utils/isObject';\nimport { getPath } from './utils/getPath';\nimport isPrimitive from './utils/isPrimitive';\nimport isFunction from './utils/isFunction';\nimport isString from './utils/isString';\nimport isUndefined from './utils/isUndefined';\nimport get from './utils/get';\nimport set from './utils/set';\nimport unset from './utils/unset';\nimport isKey from './utils/isKey';\nimport cloneObject from './utils/cloneObject';\nimport modeChecker from './utils/validationModeChecker';\nimport isMultipleSelect from './utils/isMultipleSelect';\nimport compact from './utils/compact';\nimport isNullOrUndefined from './utils/isNullOrUndefined';\nimport isRadioOrCheckboxFunction from './utils/isRadioOrCheckbox';\nimport isWeb from './utils/isWeb';\nimport isHTMLElement from './utils/isHTMLElement';\nimport { EVENTS, UNDEFINED, VALIDATION_MODE } from './constants';\nimport {\n  UseFormMethods,\n  FieldValues,\n  UnpackNestedValue,\n  FieldName,\n  InternalFieldName,\n  FieldErrors,\n  Field,\n  FieldRefs,\n  UseFormOptions,\n  RegisterOptions,\n  SubmitHandler,\n  FieldElement,\n  FormStateProxy,\n  ReadFormState,\n  Ref,\n  HandleChange,\n  RadioOrCheckboxOption,\n  OmitResetState,\n  SetValueConfig,\n  ErrorOption,\n  FormState,\n  SubmitErrorHandler,\n  FieldNamesMarkedBoolean,\n  LiteralToPrimitive,\n  DeepPartial,\n  InternalNameSet,\n  DefaultValues,\n  FieldError,\n  SetFieldValue,\n  FieldArrayDefaultValues,\n  ResetFieldArrayFunctionRef,\n  UseWatchRenderFunctions,\n  RecordInternalNameSet,\n} from './types';\n\nconst isWindowUndefined = typeof window === UNDEFINED;\nconst isProxyEnabled = isWeb ? 'Proxy' in window : typeof Proxy !== UNDEFINED;\n\nexport function useForm<\n  TFieldValues extends FieldValues = FieldValues,\n  TContext extends object = object\n>({\n  mode = VALIDATION_MODE.onSubmit,\n  reValidateMode = VALIDATION_MODE.onChange,\n  resolver,\n  context,\n  defaultValues = {} as DefaultValues<TFieldValues>,\n  shouldFocusError = true,\n  shouldUnregister = true,\n  criteriaMode,\n}: UseFormOptions<TFieldValues, TContext> = {}): UseFormMethods<TFieldValues> {\n  const fieldsRef = React.useRef<FieldRefs<TFieldValues>>({});\n  const fieldArrayDefaultValuesRef = React.useRef<FieldArrayDefaultValues>({});\n  const fieldArrayValuesRef = React.useRef<FieldArrayDefaultValues>({});\n  const watchFieldsRef = React.useRef<InternalNameSet<TFieldValues>>(new Set());\n  const useWatchFieldsRef = React.useRef<RecordInternalNameSet<TFieldValues>>(\n    {},\n  );\n  const useWatchRenderFunctionsRef = React.useRef<UseWatchRenderFunctions>({});\n  const fieldsWithValidationRef = React.useRef<\n    FieldNamesMarkedBoolean<TFieldValues>\n  >({});\n  const validFieldsRef = React.useRef<FieldNamesMarkedBoolean<TFieldValues>>(\n    {},\n  );\n  const defaultValuesRef = React.useRef<DefaultValues<TFieldValues>>(\n    defaultValues,\n  );\n  const isUnMount = React.useRef(false);\n  const isWatchAllRef = React.useRef(false);\n  const handleChangeRef = React.useRef<HandleChange>();\n  const shallowFieldsStateRef = React.useRef({});\n  const resetFieldArrayFunctionRef = React.useRef<\n    ResetFieldArrayFunctionRef<TFieldValues>\n  >({});\n  const contextRef = React.useRef(context);\n  const resolverRef = React.useRef(resolver);\n  const fieldArrayNamesRef = React.useRef<InternalNameSet<TFieldValues>>(\n    new Set(),\n  );\n  const modeRef = React.useRef(modeChecker(mode));\n  const { isOnSubmit, isOnTouch } = modeRef.current;\n  const isValidateAllFieldCriteria = criteriaMode === VALIDATION_MODE.all;\n  const [formState, setFormState] = React.useState<FormState<TFieldValues>>({\n    isDirty: false,\n    isValidating: false,\n    dirtyFields: {},\n    isSubmitted: false,\n    submitCount: 0,\n    touched: {},\n    isSubmitting: false,\n    isSubmitSuccessful: false,\n    isValid: !isOnSubmit,\n    errors: {},\n  });\n  const readFormStateRef = React.useRef<ReadFormState>({\n    isDirty: !isProxyEnabled,\n    dirtyFields: !isProxyEnabled,\n    touched: !isProxyEnabled || isOnTouch,\n    isValidating: !isProxyEnabled,\n    isSubmitting: !isProxyEnabled,\n    isValid: !isProxyEnabled,\n  });\n  const formStateRef = React.useRef(formState);\n  const observerRef = React.useRef<MutationObserver | undefined>();\n  const {\n    isOnBlur: isReValidateOnBlur,\n    isOnChange: isReValidateOnChange,\n  } = React.useRef(modeChecker(reValidateMode)).current;\n\n  contextRef.current = context;\n  resolverRef.current = resolver;\n  formStateRef.current = formState;\n  shallowFieldsStateRef.current = shouldUnregister\n    ? {}\n    : isEmptyObject(shallowFieldsStateRef.current)\n    ? cloneObject(defaultValues)\n    : shallowFieldsStateRef.current;\n\n  const updateFormState = React.useCallback(\n    (state: Partial<FormState<TFieldValues>> = {}) => {\n      if (!isUnMount.current) {\n        formStateRef.current = {\n          ...formStateRef.current,\n          ...state,\n        };\n        setFormState(formStateRef.current);\n      }\n    },\n    [],\n  );\n\n  const updateIsValidating = () =>\n    readFormStateRef.current.isValidating &&\n    updateFormState({\n      isValidating: true,\n    });\n\n  const shouldRenderBaseOnError = React.useCallback(\n    (\n      name: InternalFieldName<TFieldValues>,\n      error: FieldError | undefined,\n      shouldRender: boolean | null = false,\n      state: {\n        dirtyFields?: FieldNamesMarkedBoolean<TFieldValues>;\n        isDirty?: boolean;\n        touched?: FieldNamesMarkedBoolean<TFieldValues>;\n      } = {},\n      isValid?: boolean,\n    ): boolean | void => {\n      let shouldReRender =\n        shouldRender ||\n        isErrorStateChanged<TFieldValues>({\n          errors: formStateRef.current.errors,\n          error,\n          name,\n          validFields: validFieldsRef.current,\n          fieldsWithValidation: fieldsWithValidationRef.current,\n        });\n      const previousError = get(formStateRef.current.errors, name);\n\n      if (error) {\n        unset(validFieldsRef.current, name);\n        shouldReRender =\n          shouldReRender ||\n          !previousError ||\n          !deepEqual(previousError, error, true);\n        set(formStateRef.current.errors, name, error);\n      } else {\n        if (get(fieldsWithValidationRef.current, name) || resolverRef.current) {\n          set(validFieldsRef.current, name, true);\n          shouldReRender = shouldReRender || previousError;\n        }\n\n        unset(formStateRef.current.errors, name);\n      }\n\n      if (\n        (shouldReRender && !isNullOrUndefined(shouldRender)) ||\n        !isEmptyObject(state) ||\n        readFormStateRef.current.isValidating\n      ) {\n        updateFormState({\n          ...state,\n          ...(resolverRef.current ? { isValid: !!isValid } : {}),\n          isValidating: false,\n        });\n      }\n    },\n    [],\n  );\n\n  const setFieldValue = React.useCallback(\n    (name: FieldName<TFieldValues>, rawValue: SetFieldValue<TFieldValues>) => {\n      const { ref, options } = fieldsRef.current[name] as Field;\n      const value =\n        isWeb && isHTMLElement(ref) && isNullOrUndefined(rawValue)\n          ? ''\n          : rawValue;\n\n      if (isRadioInput(ref)) {\n        (options || []).forEach(\n          ({ ref: radioRef }: { ref: HTMLInputElement }) =>\n            (radioRef.checked = radioRef.value === value),\n        );\n      } else if (isFileInput(ref) && !isString(value)) {\n        ref.files = value as FileList;\n      } else if (isMultipleSelect(ref)) {\n        [...ref.options].forEach(\n          (selectRef) =>\n            (selectRef.selected = (value as string[]).includes(\n              selectRef.value,\n            )),\n        );\n      } else if (isCheckBoxInput(ref) && options) {\n        options.length > 1\n          ? options.forEach(\n              ({ ref: checkboxRef }) =>\n                (checkboxRef.checked = Array.isArray(value)\n                  ? !!(value as []).find(\n                      (data: string) => data === checkboxRef.value,\n                    )\n                  : value === checkboxRef.value),\n            )\n          : (options[0].ref.checked = !!value);\n      } else {\n        ref.value = value;\n      }\n    },\n    [],\n  );\n\n  const isFormDirty = React.useCallback(\n    (name?: string, data?: unknown[]): boolean => {\n      if (readFormStateRef.current.isDirty) {\n        const formValues = getValues();\n\n        name && data && set(formValues, name, data);\n\n        return !deepEqual(formValues, defaultValuesRef.current);\n      }\n\n      return false;\n    },\n    [],\n  );\n\n  const updateAndGetDirtyState = React.useCallback(\n    (\n      name: InternalFieldName<TFieldValues>,\n      shouldRender = true,\n    ): Partial<\n      Pick<FormState<TFieldValues>, 'dirtyFields' | 'isDirty' | 'touched'>\n    > => {\n      if (\n        readFormStateRef.current.isDirty ||\n        readFormStateRef.current.dirtyFields\n      ) {\n        const isFieldDirty = !deepEqual(\n          get(defaultValuesRef.current, name),\n          getFieldValue(fieldsRef, name, shallowFieldsStateRef),\n        );\n        const isDirtyFieldExist = get(formStateRef.current.dirtyFields, name);\n        const previousIsDirty = formStateRef.current.isDirty;\n\n        isFieldDirty\n          ? set(formStateRef.current.dirtyFields, name, true)\n          : unset(formStateRef.current.dirtyFields, name);\n\n        const state = {\n          isDirty: isFormDirty(),\n          dirtyFields: formStateRef.current.dirtyFields,\n        };\n\n        const isChanged =\n          (readFormStateRef.current.isDirty &&\n            previousIsDirty !== state.isDirty) ||\n          (readFormStateRef.current.dirtyFields &&\n            isDirtyFieldExist !== get(formStateRef.current.dirtyFields, name));\n\n        isChanged && shouldRender && updateFormState(state);\n\n        return isChanged ? state : {};\n      }\n\n      return {};\n    },\n    [],\n  );\n\n  const executeValidation = React.useCallback(\n    async (\n      name: InternalFieldName<TFieldValues>,\n      skipReRender?: boolean | null,\n    ): Promise<boolean> => {\n      if (process.env.NODE_ENV !== 'production') {\n        if (!fieldsRef.current[name]) {\n          console.warn(' Field is missing with `name` attribute: ', name);\n          return false;\n        }\n      }\n\n      const error = (\n        await validateField<TFieldValues>(\n          fieldsRef,\n          isValidateAllFieldCriteria,\n          fieldsRef.current[name] as Field,\n          shallowFieldsStateRef,\n        )\n      )[name];\n\n      shouldRenderBaseOnError(name, error, skipReRender);\n\n      return isUndefined(error);\n    },\n    [shouldRenderBaseOnError, isValidateAllFieldCriteria],\n  );\n\n  const executeSchemaOrResolverValidation = React.useCallback(\n    async (\n      names:\n        | InternalFieldName<TFieldValues>\n        | InternalFieldName<TFieldValues>[],\n    ) => {\n      const { errors } = await resolverRef.current!(\n        getValues(),\n        contextRef.current,\n        isValidateAllFieldCriteria,\n      );\n      const previousFormIsValid = formStateRef.current.isValid;\n\n      if (Array.isArray(names)) {\n        const isInputsValid = names\n          .map((name) => {\n            const error = get(errors, name);\n\n            error\n              ? set(formStateRef.current.errors, name, error)\n              : unset(formStateRef.current.errors, name);\n\n            return !error;\n          })\n          .every(Boolean);\n\n        updateFormState({\n          isValid: isEmptyObject(errors),\n          isValidating: false,\n        });\n\n        return isInputsValid;\n      } else {\n        const error = get(errors, names);\n\n        shouldRenderBaseOnError(\n          names,\n          error,\n          previousFormIsValid !== isEmptyObject(errors),\n          {},\n          isEmptyObject(errors),\n        );\n\n        return !error;\n      }\n    },\n    [shouldRenderBaseOnError, isValidateAllFieldCriteria],\n  );\n\n  const trigger = React.useCallback(\n    async (\n      name?: FieldName<TFieldValues> | FieldName<TFieldValues>[],\n    ): Promise<boolean> => {\n      const fields = name || Object.keys(fieldsRef.current);\n\n      updateIsValidating();\n\n      if (resolverRef.current) {\n        return executeSchemaOrResolverValidation(fields);\n      }\n\n      if (Array.isArray(fields)) {\n        !name && (formStateRef.current.errors = {});\n        const result = await Promise.all(\n          fields.map(async (data) => await executeValidation(data, null)),\n        );\n        updateFormState({\n          isValidating: false,\n        });\n        return result.every(Boolean);\n      }\n\n      return await executeValidation(fields);\n    },\n    [executeSchemaOrResolverValidation, executeValidation],\n  );\n\n  const setInternalValues = React.useCallback(\n    (\n      name: FieldName<TFieldValues>,\n      value: SetFieldValue<TFieldValues>,\n      { shouldDirty, shouldValidate }: SetValueConfig,\n    ) => {\n      const data = {};\n      set(data, name, value);\n\n      for (const fieldName of getPath(name, value)) {\n        if (fieldsRef.current[fieldName]) {\n          setFieldValue(fieldName, get(data, fieldName));\n          shouldDirty && updateAndGetDirtyState(fieldName);\n          shouldValidate && trigger(fieldName as FieldName<TFieldValues>);\n        }\n      }\n    },\n    [trigger, setFieldValue, updateAndGetDirtyState],\n  );\n\n  const setInternalValue = React.useCallback(\n    (\n      name: FieldName<TFieldValues>,\n      value: SetFieldValue<TFieldValues>,\n      config: SetValueConfig,\n    ) => {\n      !shouldUnregister &&\n        !isPrimitive(value) &&\n        set(\n          shallowFieldsStateRef.current,\n          name,\n          Array.isArray(value) ? [...value] : { ...value },\n        );\n\n      if (fieldsRef.current[name]) {\n        setFieldValue(name, value);\n        config.shouldDirty && updateAndGetDirtyState(name);\n        config.shouldValidate && trigger(name as any);\n      } else if (!isPrimitive(value)) {\n        setInternalValues(name, value, config);\n\n        if (fieldArrayNamesRef.current.has(name)) {\n          const parentName = getNodeParentName(name) || name;\n          set(fieldArrayDefaultValuesRef.current, name, value);\n\n          resetFieldArrayFunctionRef.current[parentName]({\n            [parentName]: get(fieldArrayDefaultValuesRef.current, parentName),\n          } as UnpackNestedValue<DeepPartial<TFieldValues>>);\n\n          if (\n            (readFormStateRef.current.isDirty ||\n              readFormStateRef.current.dirtyFields) &&\n            config.shouldDirty\n          ) {\n            set(\n              formStateRef.current.dirtyFields,\n              name,\n              setFieldArrayDirtyFields(\n                value,\n                get(defaultValuesRef.current, name, []),\n                get(formStateRef.current.dirtyFields, name, []),\n              ),\n            );\n\n            updateFormState({\n              isDirty: !deepEqual(\n                { ...getValues(), [name]: value },\n                defaultValuesRef.current,\n              ),\n            });\n          }\n        }\n      }\n\n      !shouldUnregister && set(shallowFieldsStateRef.current, name, value);\n    },\n    [updateAndGetDirtyState, setFieldValue, setInternalValues],\n  );\n\n  const isFieldWatched = <T extends FieldName<TFieldValues>>(name: T) =>\n    isWatchAllRef.current ||\n    watchFieldsRef.current.has(name) ||\n    watchFieldsRef.current.has((name.match(/\\w+/) || [])[0]);\n\n  const renderWatchedInputs = <T extends FieldName<FieldValues>>(\n    name: T,\n  ): boolean => {\n    let found = true;\n\n    if (!isEmptyObject(useWatchFieldsRef.current)) {\n      for (const key in useWatchFieldsRef.current) {\n        if (\n          !name ||\n          !useWatchFieldsRef.current[key].size ||\n          useWatchFieldsRef.current[key].has(name) ||\n          useWatchFieldsRef.current[key].has(getNodeParentName(name))\n        ) {\n          useWatchRenderFunctionsRef.current[key]();\n          found = false;\n        }\n      }\n    }\n\n    return found;\n  };\n\n  function setValue(\n    name: FieldName<TFieldValues>,\n    value: SetFieldValue<TFieldValues>,\n    config?: SetValueConfig,\n  ): void {\n    setInternalValue(name, value, config || {});\n    isFieldWatched(name) && updateFormState();\n    renderWatchedInputs(name);\n  }\n\n  handleChangeRef.current = handleChangeRef.current\n    ? handleChangeRef.current\n    : async ({ type, target }: Event): Promise<void | boolean> => {\n        let name = (target as Ref)!.name;\n        const field = fieldsRef.current[name];\n        let error;\n        let isValid;\n\n        if (field) {\n          const isBlurEvent = type === EVENTS.BLUR;\n          const shouldSkipValidation = skipValidation({\n            isBlurEvent,\n            isReValidateOnChange,\n            isReValidateOnBlur,\n            isTouched: !!get(formStateRef.current.touched, name),\n            isSubmitted: formStateRef.current.isSubmitted,\n            ...modeRef.current,\n          });\n          let state = updateAndGetDirtyState(name, false);\n          let shouldRender =\n            !isEmptyObject(state) ||\n            (!isBlurEvent && isFieldWatched(name as FieldName<TFieldValues>));\n\n          if (\n            isBlurEvent &&\n            !get(formStateRef.current.touched, name) &&\n            readFormStateRef.current.touched\n          ) {\n            set(formStateRef.current.touched, name, true);\n            state = {\n              ...state,\n              touched: formStateRef.current.touched,\n            };\n          }\n\n          if (!shouldUnregister && isCheckBoxInput(target as Ref)) {\n            set(\n              shallowFieldsStateRef.current,\n              name,\n              getFieldValue(fieldsRef, name),\n            );\n          }\n\n          if (shouldSkipValidation) {\n            !isBlurEvent && renderWatchedInputs(name);\n            return (\n              (!isEmptyObject(state) ||\n                (shouldRender && isEmptyObject(state))) &&\n              updateFormState(state)\n            );\n          }\n\n          updateIsValidating();\n\n          if (resolverRef.current) {\n            const { errors } = await resolverRef.current(\n              getValues(),\n              contextRef.current,\n              isValidateAllFieldCriteria,\n            );\n            const previousFormIsValid = formStateRef.current.isValid;\n            error = get(errors, name);\n\n            if (\n              isCheckBoxInput(target as Ref) &&\n              !error &&\n              resolverRef.current\n            ) {\n              const parentNodeName = getNodeParentName(name);\n              const currentError = get(errors, parentNodeName, {});\n              currentError.type &&\n                currentError.message &&\n                (error = currentError);\n\n              if (\n                parentNodeName &&\n                (currentError ||\n                  get(formStateRef.current.errors, parentNodeName))\n              ) {\n                name = parentNodeName;\n              }\n            }\n\n            isValid = isEmptyObject(errors);\n\n            previousFormIsValid !== isValid && (shouldRender = true);\n          } else {\n            error = (\n              await validateField<TFieldValues>(\n                fieldsRef,\n                isValidateAllFieldCriteria,\n                field,\n                shallowFieldsStateRef,\n              )\n            )[name];\n          }\n\n          !isBlurEvent && renderWatchedInputs(name);\n          shouldRenderBaseOnError(name, error, shouldRender, state, isValid);\n        }\n      };\n\n  function setFieldArrayDefaultValues<T extends FieldValues>(data: T): T {\n    if (!shouldUnregister) {\n      let copy = cloneObject(data);\n\n      for (const value of fieldArrayNamesRef.current) {\n        if (isKey(value) && !copy[value]) {\n          copy = {\n            ...copy,\n            [value]: [],\n          };\n        }\n      }\n\n      return copy;\n    }\n    return data;\n  }\n\n  function getValues(): UnpackNestedValue<TFieldValues>;\n  function getValues<TFieldName extends string, TFieldValue extends unknown>(\n    name: TFieldName,\n  ): TFieldName extends keyof TFieldValues\n    ? UnpackNestedValue<TFieldValues>[TFieldName]\n    : TFieldValue;\n  function getValues<TFieldName extends keyof TFieldValues>(\n    names: TFieldName[],\n  ): UnpackNestedValue<Pick<TFieldValues, TFieldName>>;\n  function getValues(payload?: string | string[]): unknown {\n    if (isString(payload)) {\n      return getFieldValue(fieldsRef, payload, shallowFieldsStateRef);\n    }\n\n    if (Array.isArray(payload)) {\n      const data = {};\n\n      for (const name of payload) {\n        set(data, name, getFieldValue(fieldsRef, name, shallowFieldsStateRef));\n      }\n\n      return data;\n    }\n\n    return setFieldArrayDefaultValues(\n      getFieldsValues(\n        fieldsRef,\n        cloneObject(shallowFieldsStateRef.current),\n        shouldUnregister,\n      ),\n    );\n  }\n\n  const validateResolver = React.useCallback(\n    async (values = {}) => {\n      const newDefaultValues = isEmptyObject(fieldsRef.current)\n        ? defaultValuesRef.current\n        : {};\n\n      const { errors } =\n        (await resolverRef.current!(\n          {\n            ...newDefaultValues,\n            ...getValues(),\n            ...values,\n          },\n          contextRef.current,\n          isValidateAllFieldCriteria,\n        )) || {};\n      const isValid = isEmptyObject(errors);\n\n      formStateRef.current.isValid !== isValid &&\n        updateFormState({\n          isValid,\n        });\n    },\n    [isValidateAllFieldCriteria],\n  );\n\n  const removeFieldEventListener = React.useCallback(\n    (field: Field, forceDelete?: boolean) => {\n      findRemovedFieldAndRemoveListener(\n        fieldsRef,\n        handleChangeRef.current!,\n        field,\n        shallowFieldsStateRef,\n        shouldUnregister,\n        forceDelete,\n      );\n\n      if (shouldUnregister) {\n        unset(validFieldsRef.current, field.ref.name);\n        unset(fieldsWithValidationRef.current, field.ref.name);\n      }\n    },\n    [shouldUnregister],\n  );\n\n  const updateWatchedValue = React.useCallback((name: string) => {\n    if (isWatchAllRef.current) {\n      updateFormState();\n    } else {\n      for (const watchField of watchFieldsRef.current) {\n        if (watchField.startsWith(name)) {\n          updateFormState();\n          break;\n        }\n      }\n\n      renderWatchedInputs(name);\n    }\n  }, []);\n\n  const removeFieldEventListenerAndRef = React.useCallback(\n    (field?: Field, forceDelete?: boolean) => {\n      if (field) {\n        removeFieldEventListener(field, forceDelete);\n\n        if (shouldUnregister && !compact(field.options || []).length) {\n          unset(formStateRef.current.errors, field.ref.name);\n          set(formStateRef.current.dirtyFields, field.ref.name, true);\n\n          updateFormState({\n            isDirty: isFormDirty(),\n          });\n\n          readFormStateRef.current.isValid &&\n            resolverRef.current &&\n            validateResolver();\n          updateWatchedValue(field.ref.name);\n        }\n      }\n    },\n    [validateResolver, removeFieldEventListener],\n  );\n\n  function clearErrors(\n    name?: FieldName<TFieldValues> | FieldName<TFieldValues>[],\n  ): void {\n    name &&\n      (Array.isArray(name) ? name : [name]).forEach((inputName) =>\n        fieldsRef.current[inputName] && isKey(inputName)\n          ? delete formStateRef.current.errors[inputName]\n          : unset(formStateRef.current.errors, inputName),\n      );\n\n    updateFormState({\n      errors: name ? formStateRef.current.errors : {},\n    });\n  }\n\n  function setError(name: FieldName<TFieldValues>, error: ErrorOption) {\n    const ref = (fieldsRef.current[name] || {})!.ref;\n\n    set(formStateRef.current.errors, name, {\n      ...error,\n      ref,\n    });\n\n    updateFormState({\n      isValid: false,\n    });\n\n    error.shouldFocus && ref && ref.focus && ref.focus();\n  }\n\n  const watchInternal = React.useCallback(\n    <T>(fieldNames?: string | string[], defaultValue?: T, watchId?: string) => {\n      const watchFields = watchId\n        ? useWatchFieldsRef.current[watchId]\n        : watchFieldsRef.current;\n      let fieldValues = getFieldsValues<TFieldValues>(\n        fieldsRef,\n        cloneObject(shallowFieldsStateRef.current),\n        shouldUnregister,\n        false,\n        fieldNames,\n      );\n\n      if (isString(fieldNames)) {\n        const parentNodeName = getNodeParentName(fieldNames) || fieldNames;\n\n        if (fieldArrayNamesRef.current.has(parentNodeName)) {\n          fieldValues = {\n            ...fieldArrayValuesRef.current,\n            ...fieldValues,\n          };\n        }\n\n        return assignWatchFields<TFieldValues>(\n          fieldValues,\n          fieldNames,\n          watchFields,\n          isUndefined(get(defaultValuesRef.current, fieldNames))\n            ? defaultValue\n            : get(defaultValuesRef.current, fieldNames),\n          true,\n        );\n      }\n\n      const combinedDefaultValues = isUndefined(defaultValue)\n        ? defaultValuesRef.current\n        : defaultValue;\n\n      if (Array.isArray(fieldNames)) {\n        return fieldNames.reduce(\n          (previous, name) => ({\n            ...previous,\n            [name]: assignWatchFields<TFieldValues>(\n              fieldValues,\n              name,\n              watchFields,\n              combinedDefaultValues as UnpackNestedValue<\n                DeepPartial<TFieldValues>\n              >,\n            ),\n          }),\n          {},\n        );\n      }\n\n      isWatchAllRef.current = isUndefined(watchId);\n\n      return transformToNestObject(\n        (!isEmptyObject(fieldValues) && fieldValues) ||\n          (combinedDefaultValues as FieldValues),\n      );\n    },\n    [],\n  );\n\n  function watch(): UnpackNestedValue<TFieldValues>;\n  function watch<\n    TFieldName extends string,\n    TFieldValue extends TFieldValues[TFieldName]\n  >(\n    name?: TFieldName,\n    defaultValue?: UnpackNestedValue<LiteralToPrimitive<TFieldValue>>,\n  ): UnpackNestedValue<LiteralToPrimitive<TFieldValue>>;\n  function watch<TFieldName extends keyof TFieldValues>(\n    names: TFieldName[],\n    defaultValues?: UnpackNestedValue<\n      DeepPartial<Pick<TFieldValues, TFieldName>>\n    >,\n  ): UnpackNestedValue<Pick<TFieldValues, TFieldName>>;\n  function watch(\n    names: string[],\n    defaultValues?: UnpackNestedValue<DeepPartial<TFieldValues>>,\n  ): UnpackNestedValue<DeepPartial<TFieldValues>>;\n  function watch(\n    fieldNames?: string | string[] | undefined,\n    defaultValue?: unknown,\n  ): unknown {\n    return watchInternal(fieldNames, defaultValue);\n  }\n\n  function unregister(\n    name: FieldName<TFieldValues> | FieldName<TFieldValues>[],\n  ): void {\n    for (const fieldName of Array.isArray(name) ? name : [name]) {\n      removeFieldEventListenerAndRef(fieldsRef.current[fieldName], true);\n    }\n  }\n\n  function registerFieldRef<TFieldElement extends FieldElement<TFieldValues>>(\n    ref: TFieldElement & Ref,\n    options: RegisterOptions | null = {},\n  ): ((name: InternalFieldName<TFieldValues>) => void) | void {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!ref.name) {\n        return console.warn(\n          ' Field is missing `name` attribute',\n          ref,\n          `https://react-hook-form.com/api#useForm`,\n        );\n      }\n\n      if (\n        fieldArrayNamesRef.current.has(ref.name.split(/\\[\\d+\\]$/)[0]) &&\n        !RegExp(\n          `^${ref.name.split(/\\[\\d+\\]$/)[0]}[\\\\d+].\\\\w+`\n            .replace(/\\[/g, '\\\\[')\n            .replace(/\\]/g, '\\\\]'),\n        ).test(ref.name)\n      ) {\n        return console.warn(\n          ' `name` prop should be in object shape: name=\"test[index].name\"',\n          ref,\n          'https://react-hook-form.com/api#useFieldArray',\n        );\n      }\n    }\n\n    const { name, type, value } = ref;\n    const fieldRefAndValidationOptions = {\n      ref,\n      ...options,\n    };\n    const fields = fieldsRef.current;\n    const isRadioOrCheckbox = isRadioOrCheckboxFunction(ref);\n    const isFieldArray = isNameInFieldArray(fieldArrayNamesRef.current, name);\n    const compareRef = (currentRef: Ref) =>\n      isWeb && (!isHTMLElement(ref) || currentRef === ref);\n    let field = fields[name] as Field;\n    let isEmptyDefaultValue = true;\n    let defaultValue;\n\n    if (\n      field &&\n      (isRadioOrCheckbox\n        ? Array.isArray(field.options) &&\n          compact(field.options).find((option) => {\n            return value === option.ref.value && compareRef(option.ref);\n          })\n        : compareRef(field.ref))\n    ) {\n      fields[name] = {\n        ...field,\n        ...options,\n      };\n      return;\n    }\n\n    if (type) {\n      field = isRadioOrCheckbox\n        ? {\n            options: [\n              ...compact((field && field.options) || []),\n              {\n                ref,\n              } as RadioOrCheckboxOption,\n            ],\n            ref: { type, name },\n            ...options,\n          }\n        : {\n            ...fieldRefAndValidationOptions,\n          };\n    } else {\n      field = fieldRefAndValidationOptions;\n    }\n\n    fields[name] = field;\n\n    const isEmptyUnmountFields = isUndefined(\n      get(shallowFieldsStateRef.current, name),\n    );\n\n    if (!isEmptyObject(defaultValuesRef.current) || !isEmptyUnmountFields) {\n      defaultValue = get(\n        isEmptyUnmountFields\n          ? defaultValuesRef.current\n          : shallowFieldsStateRef.current,\n        name,\n      );\n      isEmptyDefaultValue = isUndefined(defaultValue);\n\n      if (!isEmptyDefaultValue && !isFieldArray) {\n        setFieldValue(name as FieldName<TFieldValues>, defaultValue);\n      }\n    }\n\n    if (!isEmptyObject(options)) {\n      set(fieldsWithValidationRef.current, name, true);\n\n      if (!isOnSubmit && readFormStateRef.current.isValid) {\n        validateField(\n          fieldsRef,\n          isValidateAllFieldCriteria,\n          field,\n          shallowFieldsStateRef,\n        ).then((error: FieldErrors) => {\n          const previousFormIsValid = formStateRef.current.isValid;\n\n          isEmptyObject(error)\n            ? set(validFieldsRef.current, name, true)\n            : unset(validFieldsRef.current, name);\n\n          previousFormIsValid !== isEmptyObject(error) && updateFormState();\n        });\n      }\n    }\n\n    if (shouldUnregister && !(isFieldArray && isEmptyDefaultValue)) {\n      !isFieldArray && unset(formStateRef.current.dirtyFields, name);\n    }\n\n    if (type) {\n      attachEventListeners(\n        isRadioOrCheckbox && field.options\n          ? field.options[field.options.length - 1]\n          : field,\n        isRadioOrCheckbox || isSelectInput(ref),\n        handleChangeRef.current,\n      );\n    }\n  }\n\n  function register<TFieldElement extends FieldElement<TFieldValues>>(\n    options?: RegisterOptions,\n  ): (ref: (TFieldElement & Ref) | null) => void;\n  function register(\n    name: FieldName<TFieldValues>,\n    options?: RegisterOptions,\n  ): void;\n  function register<TFieldElement extends FieldElement<TFieldValues>>(\n    ref: (TFieldElement & Ref) | null,\n    options?: RegisterOptions,\n  ): void;\n  function register<TFieldElement extends FieldElement<TFieldValues>>(\n    refOrRegisterOptions?:\n      | FieldName<TFieldValues>\n      | RegisterOptions\n      | (TFieldElement & Ref)\n      | null,\n    options?: RegisterOptions,\n  ): ((ref: (TFieldElement & Ref) | null) => void) | void {\n    if (!isWindowUndefined) {\n      if (isString(refOrRegisterOptions)) {\n        registerFieldRef({ name: refOrRegisterOptions }, options);\n      } else if (\n        isObject(refOrRegisterOptions) &&\n        'name' in refOrRegisterOptions\n      ) {\n        registerFieldRef(refOrRegisterOptions, options);\n      } else {\n        return (ref: (TFieldElement & Ref) | null) =>\n          ref && registerFieldRef(ref, refOrRegisterOptions);\n      }\n    }\n  }\n\n  const handleSubmit = React.useCallback(\n    <TSubmitFieldValues extends FieldValues = TFieldValues>(\n      onValid: SubmitHandler<TSubmitFieldValues>,\n      onInvalid?: SubmitErrorHandler<TFieldValues>,\n    ) => async (e?: React.BaseSyntheticEvent): Promise<void> => {\n      if (e && e.preventDefault) {\n        e.preventDefault();\n        e.persist();\n      }\n      let fieldErrors: FieldErrors<TFieldValues> = {};\n      let fieldValues = setFieldArrayDefaultValues(\n        getFieldsValues(\n          fieldsRef,\n          cloneObject(shallowFieldsStateRef.current),\n          shouldUnregister,\n          true,\n        ),\n      );\n\n      readFormStateRef.current.isSubmitting &&\n        updateFormState({\n          isSubmitting: true,\n        });\n\n      try {\n        if (resolverRef.current) {\n          const { errors, values } = await resolverRef.current(\n            fieldValues,\n            contextRef.current,\n            isValidateAllFieldCriteria,\n          );\n          formStateRef.current.errors = fieldErrors = errors;\n          fieldValues = values;\n        } else {\n          for (const field of Object.values(fieldsRef.current)) {\n            if (field) {\n              const { name } = field.ref;\n\n              const fieldError = await validateField(\n                fieldsRef,\n                isValidateAllFieldCriteria,\n                field,\n                shallowFieldsStateRef,\n              );\n\n              if (fieldError[name]) {\n                set(fieldErrors, name, fieldError[name]);\n                unset(validFieldsRef.current, name);\n              } else if (get(fieldsWithValidationRef.current, name)) {\n                unset(formStateRef.current.errors, name);\n                set(validFieldsRef.current, name, true);\n              }\n            }\n          }\n        }\n\n        if (\n          isEmptyObject(fieldErrors) &&\n          Object.keys(formStateRef.current.errors).every(\n            (name) => name in fieldsRef.current,\n          )\n        ) {\n          updateFormState({\n            errors: {},\n            isSubmitting: true,\n          });\n          await onValid(fieldValues, e);\n        } else {\n          formStateRef.current.errors = {\n            ...formStateRef.current.errors,\n            ...fieldErrors,\n          };\n          onInvalid && (await onInvalid(formStateRef.current.errors, e));\n          shouldFocusError &&\n            focusOnErrorField(fieldsRef.current, formStateRef.current.errors);\n        }\n      } finally {\n        formStateRef.current.isSubmitting = false;\n        updateFormState({\n          isSubmitted: true,\n          isSubmitting: false,\n          isSubmitSuccessful: isEmptyObject(formStateRef.current.errors),\n          submitCount: formStateRef.current.submitCount + 1,\n        });\n      }\n    },\n    [shouldFocusError, isValidateAllFieldCriteria],\n  );\n\n  const resetRefs = ({\n    errors,\n    isDirty,\n    isSubmitted,\n    touched,\n    isValid,\n    submitCount,\n    dirtyFields,\n  }: OmitResetState) => {\n    if (!isValid) {\n      validFieldsRef.current = {};\n      fieldsWithValidationRef.current = {};\n    }\n\n    fieldArrayDefaultValuesRef.current = {};\n    watchFieldsRef.current = new Set();\n    isWatchAllRef.current = false;\n\n    updateFormState({\n      submitCount: submitCount ? formStateRef.current.submitCount : 0,\n      isDirty: isDirty ? formStateRef.current.isDirty : false,\n      isSubmitted: isSubmitted ? formStateRef.current.isSubmitted : false,\n      isValid: isValid ? formStateRef.current.isValid : false,\n      dirtyFields: dirtyFields ? formStateRef.current.dirtyFields : {},\n      touched: touched ? formStateRef.current.touched : {},\n      errors: errors ? formStateRef.current.errors : {},\n      isSubmitting: false,\n      isSubmitSuccessful: false,\n    });\n  };\n\n  const reset = (\n    values?: DefaultValues<TFieldValues>,\n    omitResetState: OmitResetState = {},\n  ): void => {\n    if (isWeb) {\n      for (const field of Object.values(fieldsRef.current)) {\n        if (field) {\n          const { ref, options } = field;\n          const inputRef =\n            isRadioOrCheckboxFunction(ref) && Array.isArray(options)\n              ? options[0].ref\n              : ref;\n\n          if (isHTMLElement(inputRef)) {\n            try {\n              inputRef.closest('form')!.reset();\n              break;\n            } catch {}\n          }\n        }\n      }\n    }\n\n    fieldsRef.current = {};\n    defaultValuesRef.current = { ...(values || defaultValuesRef.current) };\n    values && renderWatchedInputs('');\n\n    Object.values(resetFieldArrayFunctionRef.current).forEach(\n      (resetFieldArray) => isFunction(resetFieldArray) && resetFieldArray(),\n    );\n\n    shallowFieldsStateRef.current = shouldUnregister\n      ? {}\n      : cloneObject(values || defaultValuesRef.current);\n\n    resetRefs(omitResetState);\n  };\n\n  React.useEffect(() => {\n    resolver && readFormStateRef.current.isValid && validateResolver();\n    observerRef.current =\n      observerRef.current || !isWeb\n        ? observerRef.current\n        : onDomRemove(fieldsRef, removeFieldEventListenerAndRef);\n  }, [removeFieldEventListenerAndRef, defaultValuesRef.current]);\n\n  React.useEffect(\n    () => () => {\n      observerRef.current && observerRef.current.disconnect();\n      isUnMount.current = true;\n\n      if (process.env.NODE_ENV !== 'production') {\n        return;\n      }\n\n      Object.values(fieldsRef.current).forEach((field) =>\n        removeFieldEventListenerAndRef(field, true),\n      );\n    },\n    [],\n  );\n\n  if (!resolver && readFormStateRef.current.isValid) {\n    formState.isValid =\n      deepEqual(validFieldsRef.current, fieldsWithValidationRef.current) &&\n      isEmptyObject(formStateRef.current.errors);\n  }\n\n  const commonProps = {\n    trigger,\n    setValue: React.useCallback(setValue, [setInternalValue, trigger]),\n    getValues: React.useCallback(getValues, []),\n    register: React.useCallback(register, [defaultValuesRef.current]),\n    unregister: React.useCallback(unregister, []),\n    formState: isProxyEnabled\n      ? new Proxy(formState, {\n          get: (obj, prop: keyof FormStateProxy) => {\n            if (process.env.NODE_ENV !== 'production') {\n              if (prop === 'isValid' && isOnSubmit) {\n                console.warn(\n                  ' `formState.isValid` is applicable with `onTouched`, `onChange` or `onBlur` mode. https://react-hook-form.com/api#formState',\n                );\n              }\n            }\n\n            if (prop in obj) {\n              readFormStateRef.current[prop] = true;\n              return obj[prop];\n            }\n\n            return undefined;\n          },\n        })\n      : formState,\n  };\n\n  const control = React.useMemo(\n    () => ({\n      isFormDirty,\n      updateWatchedValue,\n      shouldUnregister,\n      updateFormState,\n      removeFieldEventListener,\n      watchInternal,\n      mode: modeRef.current,\n      reValidateMode: {\n        isReValidateOnBlur,\n        isReValidateOnChange,\n      },\n      validateResolver: resolver ? validateResolver : undefined,\n      fieldsRef,\n      resetFieldArrayFunctionRef,\n      useWatchFieldsRef,\n      useWatchRenderFunctionsRef,\n      fieldArrayDefaultValuesRef,\n      validFieldsRef,\n      fieldsWithValidationRef,\n      fieldArrayNamesRef,\n      readFormStateRef,\n      formStateRef,\n      defaultValuesRef,\n      shallowFieldsStateRef,\n      fieldArrayValuesRef,\n      ...commonProps,\n    }),\n    [\n      defaultValuesRef.current,\n      updateWatchedValue,\n      shouldUnregister,\n      removeFieldEventListener,\n      watchInternal,\n    ],\n  );\n\n  return {\n    watch,\n    control,\n    handleSubmit,\n    reset: React.useCallback(reset, []),\n    clearErrors: React.useCallback(clearErrors, []),\n    setError: React.useCallback(setError, []),\n    errors: formState.errors,\n    ...commonProps,\n  };\n}\n","import isHTMLElement from '../utils/isHTMLElement';\nimport { EVENTS } from '../constants';\nimport { Field } from '../types';\n\nexport default function attachEventListeners(\n  { ref }: Field,\n  shouldAttachChangeEvent?: boolean,\n  handleChange?: EventListenerOrEventListenerObject,\n): void {\n  if (isHTMLElement(ref) && handleChange) {\n    ref.addEventListener(\n      shouldAttachChangeEvent ? EVENTS.CHANGE : EVENTS.INPUT,\n      handleChange,\n    );\n    ref.addEventListener(EVENTS.BLUR, handleChange);\n  }\n}\n","import * as React from 'react';\nimport { Field, FieldRefs } from '../types';\nimport isDetached from './isDetached';\n\nexport default function onDomRemove<TFieldValues>(\n  fieldsRef: React.MutableRefObject<FieldRefs<TFieldValues>>,\n  removeFieldEventListenerAndRef: (\n    field: Field | undefined,\n    forceDelete?: boolean,\n  ) => void,\n): MutationObserver {\n  const observer = new MutationObserver((): void => {\n    for (const field of Object.values(fieldsRef.current)) {\n      if (field && field.options) {\n        for (const option of field.options) {\n          if (option && option.ref && isDetached(option.ref)) {\n            removeFieldEventListenerAndRef(field);\n          }\n        }\n      } else if (field && isDetached(field.ref)) {\n        removeFieldEventListenerAndRef(field);\n      }\n    }\n  });\n\n  observer.observe(window.document, {\n    childList: true,\n    subtree: true,\n  });\n\n  return observer;\n}\n","import * as React from 'react';\nimport { UseFormMethods, FieldValues, FormProviderProps } from './types';\n\nconst FormContext = React.createContext<UseFormMethods | null>(null);\n\nFormContext.displayName = 'RHFContext';\n\nexport const useFormContext = <\n  TFieldValues extends FieldValues\n>(): UseFormMethods<TFieldValues> =>\n  React.useContext(FormContext) as UseFormMethods<TFieldValues>;\n\nexport const FormProvider = <TFieldValues extends FieldValues>({\n  children,\n  ...props\n}: FormProviderProps<TFieldValues>) => (\n  <FormContext.Provider value={{ ...props } as UseFormMethods}>\n    {children}\n  </FormContext.Provider>\n);\n"],"names":["Dropdown","_ref","children","className","React","concat","Overlay","_ref2","onClick","zIndex","style","position","top","right","bottom","left","Container","_ref3","open","display","MenuArrowUp","_ref4","height","boxShadow","background","align","marginLeft","marginRight","side","Math","round","sqrt","width","textAlign","overflow","transform","borderRadius","MenuArrowDown","_ref5","MenuPosition","_ref6","translateX","translateY","Menu","_ref7","DropdownMenu","_ref8","arrowHeight","arrowPosition","arrowAlign","arrowMarginLeft","arrowMarginRight","onDismiss","alignRight","baseZIndex","global","this","window","define","module","deps","payload","arguments","length","modules","payloads","original","apply","console","error","trace","_require","parentId","callback","lookup","undefined","Object","prototype","toString","call","params","i","l","dep","require","push","packagedModule","normalizeModule","moduleName","indexOf","chunks","split","charAt","slice","join","previous","replace","exports","mod","id","uri","packaged","ns","root","exportAce","ace","defineProp","obj","name","val","defineProperty","value","enumerable","writable","configurable","String","startsWith","searchString","lastIndexOf","endsWith","subjectString","lastIndex","repeat","count","result","string","includes","str","assign","target","TypeError","output","index","source","keys","forEach","key","values","o","map","k","Array","find","predicate","len","thisArg","kValue","findIndex","item","fill","O","relativeStart","max","min","end","relativeEnd","final","of","deepCopy","copy","isArray","last","a","stringReverse","reverse","stringRepeat","trimBeginRegexp","trimEndRegexp","stringTrimLeft","stringTrimRight","copyObject","copyArray","array","arrayToMap","arr","createMap","props","create","arrayRemove","splice","escapeRegExp","escapeHTML","getMatchOffsets","regExp","matches","offset","deferredCall","fcn","timer","deferred","timeout","cancel","setTimeout","schedule","clearTimeout","isPending","delayedCall","defaultTimeout","_self","delay","supportsLookbehind","RegExp","e","skipEmptyMatch","line","supportsUnicodeFlag","codePointAt","OS","LINUX","MAC","WINDOWS","getOS","isMac","isLinux","_navigator","navigator","os","exec","platform","toLowerCase","ua","userAgent","appName","isWin","isIE","parseFloat","match","isOldIE","isGecko","isMozilla","isOpera","opera","isWebKit","isChrome","isSafari","isEdge","isAIR","isAndroid","isChromeOS","isIOS","test","isMobile","strictCSP","useragent","buildDom","parent","refs","txt","document","createTextNode","appendChild","els","ch","el","createElement","options","childIndex","n","cssText","setAttribute","getDocumentHead","doc","head","getElementsByTagName","documentElement","tag","createElementNS","removeChildren","element","innerHTML","textContent","ownerDocument","createFragment","createDocumentFragment","hasCssClass","addCssClass","removeCssClass","classes","toggleCssClass","add","setCssClass","node","include","hasCssString","sheets","querySelectorAll","removeElementById","getElementById","remove","cssCache","insertPendingStyles","cache","importCssString","container","getRootNode","insertBefore","firstChild","useStrictCSP","importCssStylsheet","rel","href","scrollbarWidth","inner","minWidth","outer","body","noScrollbar","offsetWidth","withScrollbar","clientWidth","removeChild","computedStyle","getComputedStyle","setStyle","styles","property","HAS_CSS_ANIMATION","HAS_CSS_TRANSFORMS","HI_DPI","devicePixelRatio","div","animationName","translate","tx","ty","dom","get","url","xhr","XMLHttpRequest","onreadystatechange","readyState","responseText","send","loadScript","path","s","src","onload","_","isAbort","qualifyURL","inherits","ctor","superCtor","super_","constructor","mixin","implement","proto","EventEmitter","stopPropagation","propagationStopped","preventDefault","defaultPrevented","_emit","_dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","defaultHandler","type","_signal","once","on","newCallback","off","Promise","resolve","setDefaultHandler","handlers","_disabled_","old","disabled","removeDefaultHandler","pop","addEventListener","capturing","removeListener","removeEventListener","removeAllListeners","reportError","msg","data","Error","defaultEnglishMessages","messages","nlsPlaceholders","oop","optionsProvider","setOptions","optList","setOption","getOptions","optionNames","$options","filter","hidden","getOption","opt","warn","forwardTo","handlesSet","set","message","AppConfig","$defaultOptions","defineOptions","initialValue","resetOptions","setDefaultValue","opts","setDefaultValues","optionHash","setMessages","placeholders","nls","defaultString","translated","dollarMatch","curlyBracketMatch","isDark","cssClass","$id","lang","net","workerPath","modePath","themePath","basePath","suffix","$moduleUrls","loadWorkerFromBlob","sharedPopups","hasOwnProperty","all","$modes","moduleUrl","component","parts","sep","base","re","setModuleUrl","subst","customLoader","setLoader","cb","dynamicModules","$loading","$loaded","loadModule","moduleId","onLoad","loadedModule","moduleType","load","afterLoad","loader","err","reportErrorIfPathIsNotConfigured","then","default","$require","setModuleLoader","version","config","init","scriptOptions","scriptUrl","currentScript","_currentScript","currentDocument","scripts","script","getAttribute","attributes","j","attr","m","m1","toUpperCase","Range","startRow","startColumn","endRow","endColumn","start","row","column","isEqual","range","contains","compare","compareRange","cmp","comparePoint","p","containsRange","intersects","isEnd","isStart","setStart","setEnd","inside","insideStart","insideEnd","isMultiLine","compareStart","compareEnd","compareInside","clipRows","firstRow","lastRow","fromPoints","extend","isEmpty","clone","collapseRows","toScreenRange","session","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","comparePoints","p1","p2","Keys","MODIFIER_KEYS","KEY_MODS","FUNCTION_KEYS","PRINTABLE_KEYS","codeToKeyCode","Command","Backspace","Tab","Return","Enter","Pause","Escape","PageUp","PageDown","End","Home","Insert","Delete","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Backquote","Minus","Equal","BracketLeft","Backslash","BracketRight","Semicolon","Quote","Comma","Period","Slash","Space","NumpadAdd","NumpadDecimal","NumpadSubtract","NumpadDivide","NumpadMultiply","chr","fromCharCode","modifiers","Shift","Control","Alt","Meta","$codeToKeyCode","parseInt","enter","escape","esc","del","mods","pow","x","keyCodeToString","keyCode","keyString","activeListenerOptions","pressedKeys","ts","getListenerOptions","createComment","passive","detectListenerOptionsSupport","EventListener","elem","destroy","addListener","destroyer","$toDestroy","getModifierHash","ctrlKey","altKey","shiftKey","metaKey","resetPressedKeys","stopEvent","getButton","button","capture","eventHandler","releaseCaptureHandler","onMouseUp","addMouseWheelListener","deltaX","deltaY","deltaMode","DOM_DELTA_PIXEL","wheelX","wheelY","DOM_DELTA_LINE","DOM_DELTA_PAGE","addMultiMouseDownListener","elements","timeouts","callbackName","startX","startY","clicks","eventNames","onMousedown","detail","isNewClick","abs","clientX","clientY","_clicks","getModifierString","addCommandKeyListener","lastDefaultPrevented","hashId","code","getModifierState","altGr","location","timeStamp","normalizeCommandKeys","postMessage","postMessageId","nextTick","win","messageName","listener","$idleBlocked","onIdle","handler","$idleBlockId","blockIdle","nextFrame","requestAnimationFrame","bind","$cancelT","lineMode","pasteCancelled","Date","now","TextInput","event","clipboard","BROKEN_SETDATA","USE_IE_MIME_TYPE","HAS_FOCUS_ARGS","MAX_LINE_LENGTH","KEYS","MODS","valueResetRegex","parentNode","host","text","opacity","copied","pasted","inComposition","sendingText","tempStyle","fontSize","commandMode","ignoreFocusEvents","lastValue","lastSelectionStart","lastSelectionEnd","lastRestoreEnd","rowStart","Number","MAX_SAFE_INTEGER","rowEnd","MIN_SAFE_INTEGER","numberOfExtraLines","isFocused","activeElement","setNumberOfExtraLines","number","setAriaOptions","activeDescendant","inline","removeAttribute","role","setLabel","arialLabel","$textInputAriaLabel","selection","cursor","onBlur","hasFocus","onFocus","resetSelection","$focusScroll","focus","renderer","enableKeyboardAccessibility","preventScroll","isTransformed","getBoundingClientRect","ancestors","t","parentElement","nodeType","blur","curOp","commandName","command","isUserAction","docChanged","selectionChanged","onCompositionEnd","positionToSelection","getLine","newValue","selectionEnd","setSelectionRange","afterContextMenu","selectionStart","getRange","lines","prevLine","nextLine","inputHandler","setInputHandler","getInputHandler","sendText","fromInput","onPaste","extendLeft","extendRight","inserted","restoreStart","restoreEnd","endIndex","shouldReset","onTextInput","onInput","onCompositionUpdate","inputType","execCommand","handleClipboardData","forceIEMime","clipboardData","mime","setData","getData","doCopy","isCut","getCopyText","onCut","onCopy","select","onCommandKey","isAllSelected","selectAll","$readOnly","cancelComposition","useTextareaForIME","markerRange","context","compositionStartOffset","closeTimeout","syncComposition","onContextMenuClose","$isMousePressed","$keepTextAreaAtCursor","$moveTextAreaToCursor","onCompositionStart","getSelectionRange","msGetInputContext","getInputContext","getElement","setCommandMode","readOnly","setReadOnly","setCopyWithEmptySelection","onContextMenu","domEvent","moveToMouse","bringToFront","characterWidth","rect","borderTopWidth","borderLeftWidth","maxTop","clientHeight","move","textInput","scroller","typingResetTimeout","typing","detectArrowKeys","$mouseHandler","isMousePressed","modifier","up","home","option","down","shift","commands","findKeyCommand","addIosSelectionHandler","$setUserAgentForTests","_isMobile","_isIOS","DefaultHandlers","mouseHandler","$clickSelection","editor","onMouseDown","onDoubleClick","onTripleClick","onQuadClick","onMouseWheel","extendSelectionBy","ev","inSelection","pos","getDocumentPosition","mousedownEvent","moveToPosition","time","$focusTimeout","inMultiSelectMode","captureMouse","startSelect","setState","waitForClickSelection","screenToTextCoordinates","y","getShiftKey","selectToPosition","anchor","orientedRange","calcRangeOrientation","setSelectionAnchor","scrollCursorIntoView","unitName","cmpStart","cmpEnd","selectByLinesEnd","unsetStyle","focusWait","ax","ay","bx","by","distance","getBracketRange","getWordRange","getLineRange","getAccelKey","$lastScroll","vx","vy","allowed","prevScroll","dt","direction","canScroll","isScrollableBy","speed","scrollBy","stop","selectEnd","selectAllEnd","selectByWordsEnd","preventParentScroll","currentTarget","scrollHeight","__extends","extendStatics","d","b","setPrototypeOf","__proto__","__","__values","Symbol","iterator","next","done","CLASSNAME","Tooltip","isOpen","$element","$parentNode","$init","setText","setHtml","html","setPosition","setClassName","setTheme","theme","show","hide","getHeight","offsetHeight","getWidth","popupManager","PopupManager","popups","addPopup","popup","updatePopups","removePopup","e_1","_a","e_2","_b","sort","priority","visiblepopups","_c","_d","shouldDisplay","visiblepopups_1","visiblepopups_1_1","visiblePopup","doPopupsOverlap","e_2_1","return","e_1_1","popupA","popupB","rectA","rectB","HoverTooltip","_super","_this","lastT","idleTime","lastEvent","onMouseOut","onMouseMove","waitForHover","whiteSpace","pointerEvents","tabIndex","addToEditor","getMouseEventTarget","removeFromEditor","isOutsideOfText","$gatherData","docPos","screenPos","pixelToScreenCoordinates","clippedPos","setDataProvider","showForRange","domNode","startingEvent","$registerCloseEvents","addMarker","textToScreenCoordinates","pageX","maxHeight","labelHeight","labelWidth","spaceBelow","innerHeight","pageY","lineHeight","isAbove","innerWidth","marker","$markerSession","removeMarker","$removeCloseEvents","relatedTarget","classList","GutterHandler","tooltipTimeout","mouseEvent","gutter","$gutterLayer","tooltip","GutterTooltip","hideTooltip","moveTooltip","getRegion","selectTo","srcElement","$tooltipFollowsMouse","getLength","screenRow","$pos","documentToScreenRow","showTooltip","gutterRow","getGutterRow","gutterCell","$lines","querySelector","$gutter","windowWidth","windowHeight","singular","plural","warning","info","annotation","annotationsInRow","$annotations","displayText","from","fold","getFoldLine","$showFoldedAnnotations","mostSevereAnnotationInFoldType","annotationsInFold","annotationType","summaryFoldedAnnotations","annotationsToSummaryString","annotationMessages","iconClassName","$useSvgGutterIcons","lineElement","iconElement","annotationLabels","tooltipElement","annotations","summary","annotationTypes_1","annotationTypes_1_1","label","MouseEvent","$inSelection","documentRow","selectionRange","DragdropHandler","dragImage","dragSelectionMarker","timerId","dragCursor","dragOperation","isInternal","autoScrollStartTime","cursorMovedTime","cursorPointOnCaretMoved","mouseTarget","counter","onDragInterval","prevCursor","vMovement","hMovement","moveCursorToPosition","calcDistance","layerConfig","editorRect","offsets","nearestXOffset","nearestYOffset","scrollCursor","vScroll","hScroll","autoScroll","addDragMarker","toOrientedRange","getSelectionStyle","clearSelection","$cursorLayer","setBlinking","clearInterval","setInterval","clearDragMarker","fromOrientedRange","$resetCursorStyle","onDragStart","cancelDrag","draggable","self","dataTransfer","effectAllowed","getReadOnly","setDragImage","clearData","getTextRange","onDragEnd","dropEffect","setCursorStyle","onDragEnter","canAccept","getDropEffect","onDragOver","onMouseMoveTimer","onDragLeave","onDrop","moveText","dropData","insert","types","some","copyAllowed","copyModifierState","dragWait","getDragDelay","startDrag","dragWaitEnd","dragReadyEnd","cursorStyle","onMouseDrag","state","dragDrop","$dragEnabled","eventTarget","unselectable","addTouchListeners","touchStartT","longTouchTimer","animationTimer","pressed","contextMenu","mode","animationSteps","clickCount","vX","vY","createContextMenu","canExecuteCommand","cmd","canExecute","handleClick","action","selected","hasUndo","getUndoManager","replaceChild","class","updateMenu","readText","writeText","ontouchstart","ontouchend","onclick","showContextMenu","pagePos","leftOffset","scrollLeft","hideContextMenu","handleLongTap","selectWord","touches","h","w","touchObj","setRange","switchToSelectionMode","cursorPos","getPixelPosition","anchorPos","offsetTop","offsetLeft","weightedDistance","diff1","diff2","oldScrollTop","getScrollTop","DefaultGutterHandler","MouseHandler","$dragDelay","$mouseMoved","focusEditor","onMouseEvent","scrollBarV","scrollBarH","Boolean","gutterEl","character","mousemove","$scrollSpeed","mouseMoveHandler","which","releaseMouse","onCaptureEnd","onOperationEnd","onCaptureInterval","$onCaptureMouseMove","endOperation","startOperation","cancelContextMenu","scrollSpeed","dragDelay","dragEnabled","focusTimeout","tooltipFollowsMouse","FoldHandler","getFoldAt","removeFold","expandFold","getUseWrapMode","foldWidgets","onFoldWidgetClick","getParentFoldRangeData","firstRange","addFold","keyUtil","KeyBinding","$editor","$data","$handlers","kb","removeKeyboardHandler","$defaultHandler","addKeyboardHandler","setKeyboardHandler","handleKeyboard","attach","detach","getKeyboardHandler","getStatusText","$callKeyboardHandlers","toExecute","success","args","dir","hiLevel","lastArabic","hasUBAT_B","hasUBAT_S","impTab_LTR","impTab_RTL","L","R","EN","AN","ON","B","S","AL","WS","CS","ES","ET","NSM","LRE","RLE","PDF","LRO","RLO","BN","UnicodeTBL00","UnicodeTBL20","_invertLevel","lev","levels","_array","lo","hi","tmp","_getCharClass","chars","ix","wType","nType","cType","c","rtlCandidate","_getCharacterType","uc","charCodeAt","ON_R","R_H","DOT","doBidiReorder","textCharTypes","isRtl","logicalFromVisual","bidiLevels","charTypes","impTab","prevState","newClass","newLevel","newState","condPos","_computeLevels","hasBidiCharacters","ret","getVisualFromLogicalIdx","logIdx","rowMap","bidiUtil","bidiRE","BidiHandler","bidiMap","currentRow","charWidths","EOL","showInvisibles","isRtlDir","$isRtl","wrapIndent","EOF","contentWidth","fontMetrics","rtlLineOffset","wrapOffset","isMoveLeftOperation","seenBidi","getValue","isBidiRow","docRow","splitIndex","updateRowLine","updateBidiMap","onChange","delta","getDocumentRow","rowCache","$screenRowCache","$getRowCacheIndex","$docRowCache","getSplitIndex","currentIndex","prevIndex","endOfLine","$useWrapMode","splits","$wrapData","indent","substring","size","isFullWidth","getScreenTabSize","$main","substr","markAsDirty","updateCharacterWidths","$characterSize","bidiCharWidth","$measureCharWidth","setShowInvisibles","setEolChar","eolChar","setContentWidth","isRtlLine","setRtlDirection","getCursorPosition","getSelectionAnchor","$bidiHandler","removeInLine","getPosLeft","col","leftBoundary","logicalIdx","getOverwrite","visualIdx","getSelections","startCol","endCol","level","selections","selColMin","selColMax","isSelected","isSelectedPrev","visIdx","offsetToCol","posX","charWidth","Selection","getDocument","lead","createAnchor","$silent","$cursorChanged","$isEmpty","$keepDesiredColumnOnChange","$desiredColumn","$anchorChanged","getCursor","getPosition","setAnchor","getAnchor","getSelectionLead","isBackwards","$setSelection","MAX_VALUE","anchorRow","anchorColumn","cursorRow","cursorColumn","wasEmpty","wasMultiselect","$moveSelection","mover","moveCursorTo","moveTo","selectUp","moveCursorUp","selectDown","moveCursorDown","selectRight","moveCursorRight","selectLeft","moveCursorLeft","selectLineStart","moveCursorLineStart","selectLineEnd","moveCursorLineEnd","selectFileEnd","moveCursorFileEnd","selectFileStart","moveCursorFileStart","selectWordRight","moveCursorWordRight","selectWordLeft","moveCursorWordLeft","selectAWord","getAWordRange","excludeLastChar","foldLine","selectLine","moveCursorBy","wouldMoveIntoSoftTab","tabSize","isTabStop","getTabSize","getNavigateWithinSoftTabs","firstColumnPosition","screenToDocumentPosition","leadingSpace","getDisplayLine","$useEmacsStyleLineStart","lineEnd","getDocumentLastRowColumnPosition","textEnd","search","moveCursorLongWordRight","rightOfCursor","nonTokenRe","tokenRe","moveCursorLongWordLeft","getFoldStringAt","leftOfCursor","$shortWordEndIndex","whitespaceRe","moveCursorShortWordRight","moveCursorShortWordLeft","$selectLongWords","rows","offsetX","lineWidgets","widget","rowsAbove","rowCount","keepDesiredColumn","moveCursorToScreen","desiredColumn","r","getRangeOfMovements","func","toJSON","rangeCount","ranges","r1","fromJSON","rangeList","toSingleRange","addRange","MAX_TOKEN_COUNT","Tokenizer","rules","splitRegex","states","regExps","matchMappings","ruleRegExps","matchTotal","mapping","defaultToken","flag","splitterRurles","rule","caseInsensitive","unicode","regex","adjustedregex","matchcount","token","groupCount","tokenArray","onMatch","$arrayTokens","$applyToken","digit","removeCapturingGroups","createSplitterRegexp","$setMaxTokenCount","tokens","stack","inChClass","lastCapture","parenOpen","parenClose","square","getLineTokens","startState","currentState","matchAttempts","skipped","consumeLineEnd","merge","unshift","TextHighlightRules","addRules","prefix","nextState","$rules","getRules","embedRules","HighlightRules","escapeRules","append","$embeds","getEmbeds","pushState","popState","normalizeRules","processState","toInsert","stateName","includeName","noEscape","keywordMap","createKeywordMapper","ignoreCase","splitChar","keywords","$keywordList","list","word","getKeywords","$keywords","Behaviour","$behaviours","addBehaviours","behaviours","inherit","getBehaviours","TokenIterator","initialRow","initialColumn","$session","$row","$rowTokens","getTokens","getTokenAt","$tokenIndex","stepBackward","stepForward","getCurrentToken","getCurrentTokenRow","getCurrentTokenColumn","rowTokens","tokenIndex","getCurrentTokenPosition","getCurrentTokenRange","CstyleBehaviour","SAFE_INSERT_IN_TOKENS","SAFE_INSERT_BEFORE_TOKENS","contextCache","defaultQuotes","initContext","multiSelect","autoInsertedBrackets","autoInsertedRow","autoInsertedLineEnd","maybeInsertedBrackets","maybeInsertedRow","maybeInsertedLineStart","maybeInsertedLineEnd","getWrapped","opening","closing","rowDiff","getWrapBehavioursEnabled","recordAutoInsert","isSaneInsertion","braces","recordMaybeInsert","$findOpeningBracket","isAutoInsertedClosing","popAutoInsertedClosing","isMaybeInsertedClosing","clearMaybeInsertedClosing","openBracePos","findMatchingBracket","next_indent","$getIndent","getTabString","quotes","$mode","$quotes","lineCommentStart","quote","leftChar","rightChar","rightToken","pair","stringBefore","stringAfter","wordRe","isWordBefore","isWordAfter","pairQuotesAfter","$pairQuotesAfter","charBefore","closeDocComment","currentToken","nextToken","cursorPosInToken","closeDocPos","openDocPos","$matchTokenType","iterator2","bracket","wordChars","Mode","$defaultBehaviour","getTokenizer","$tokenizer","$highlightRules","$highlightRuleConfig","blockComment","toggleCommentLines","ignoreBlankLines","shouldRemove","minIndent","Infinity","insertAtTabStop","regexpStart","getUseSoftTabs","uncomment","shouldInsertSpace","commentWithSpace","comment","insertInLine","testRemove","before","after","spaces","lineCommentEnd","regexpEnd","iter","fun","minEmptyLength","floor","toggleBlockComment","colDiff","initialRange","startRange","endRange","getNextLineIndent","tab","checkOutdent","input","autoOutdent","createWorker","createModeDelegates","delegations","_loop_1","scope","functionName","$delegator","this_1","method","language","transformAction","param","$behaviour","completionKeywords","ruleItr","aLength","$createKeywordList","getCompletions","score","meta","applyDelta","docLines","doNotValidate","Anchor","$onChange","$clipPositionToDocument","point","moveIfEqual","deltaIsInsert","deltaRowShift","deltaColShift","deltaStart","deltaEnd","$pointsInOrder","$getTransformedPoint","$insertRight","noClip","point1","point2","equalPointsInOrder","bColIsAfter","Document","textOrLines","insertMergedLines","setValue","getAllLines","getNewLineCharacter","$detectNewLine","$autoNewLine","$newLineMode","setNewLineMode","newLineMode","getNewLineMode","isNewLine","getLines","getLinesForRange","insertLines","insertFullLines","removeLines","removeFullLines","insertNewLine","$split","clonePos","$clipPosition","deleteFirstNewLine","deleteLastNewLine","deletedLines","removeNewLine","applyDeltas","deltas","revertDeltas","revertDelta","isInsert","$splitAndapplyLargeDelta","$safeApplyDelta","docLength","MAX","to","chunk","indexToPosition","newlineLength","positionToIndex","BackgroundTokenizer","tokenizer","running","currentLine","$worker","workerStart","endLine","startLine","processedLines","$tokenizeRow","fireUpdateEvent","setTokenizer","setDocument","first","scheduleStart","$updateOnChange","getState","cleanup","SearchHighlight","clazz","setRegexp","update","markerLayer","renderedMarkerRanges","MAX_RANGES","rangeToAddMarkerTo","rangeAsString","drawSingleLineMarker","UndoManager","$keepRedoStack","$maxRev","$fromUndo","$undoDepth","reset","addSession","allowMerge","$lastDelta","$redoStack","lastDeltas","undoStackLength","$undoStack","$rev","addSelection","rev","startNewGroup","markIgnored","ignore","getSelection","getRevision","getDeltas","getChangedRanges","getChangedLines","undo","dontSelect","deltaSet","swapped","swapGroups","rearrangeUndoStack","$redoStackBaseRev","undoSelectionRange","undoChanges","$syncRev","redo","diff","redoStack","deltaSets","moveDeltasByOne","rebaseRedoStack","redoSelectionRange","redoChanges","nextDelta","mark","canUndo","canRedo","bookmark","isAtBookmark","json","$prettyPrint","stringifyDelta","hasRedo","isClean","markClean","stringifyRange","swap","d1","d2","i1","i2","ds1","ds2","selectionBefore","selectionAfter","xform","c1","splitDelta","shiftPos","rowsBefore","otherLines","cloneDelta","xformed","FoldLine","foldData","folds","setFoldLine","shiftRow","sameRow","containsRow","walk","lastEnd","isNewRow","placeholder","getNextFoldTo","kind","addRemoveChars","log","foldBefore","newFoldLine","foldLineNext","idxToPosition","idx","lastFoldEndColumn","RangeList","$bias","pointIndex","excludeEdges","startIndex","addList","removed","substractPoint","containsPoint","rangeAtPoint","clipped","removeAll","lineDif","Fold","subFolds","subFold","collapseChildren","addSubFold","consumePoint","afterStart","firstConsumed","consumedFolds","restoreRange","restorePoint","Folding","getFoldsInRange","foldLines","$foldData","foundFolds","getFoldsInRangeList","getAllFolds","trim","lastFold","startFoldLine","getNextFoldLine","getFoldedRowCount","$addFoldLine","added","$clipRangeToDocument","startFold","endFold","removeFolds","$updateWrapData","$updateRowLengthCache","$modified","addFolds","$updating","cloneFolds","foldAll","expandFolds","unfold","expandInner","outermostFolds","isRowFolded","startFoldRow","getRowFoldEnd","getRowFoldStart","getFoldDisplayLine","textLine","lastColumn","$cloneFoldData","fd","toggleFold","tryToUnfold","bracketPos","getCommentFoldRange","initState","depth","getFoldWidget","getFoldWidgetRange","foldToLevel","foldAllComments","$foldStyles","$foldStyle","setFoldStyle","$foldMode","$setFolding","foldMode","$updateFoldWidgets","$tokenizerUpdateFoldWidgets","updateFoldWidgets","tokenizerUpdateFoldWidgets","ignoreCurrent","fw","siblings","$toggleFoldWidget","toggleFoldWidget","toggleParent","BracketMatch","charBeforeCursor","$findClosingBracket","getMatchingBracketRanges","bracketsRegExp","$brackets","typeRe","openBracket","valueIndex","closingBracket","valueLength","getMatchingTags","$findTagName","$findClosingTag","$findOpeningTag","found","backward","prevToken","currentTag","openTagStart","openTagName","foundOpenTagEnd","openTagEnd","closeTagStart","closeTagName","closeTagEnd","openTag","closeTag","stepCount","tmpToken","TextMode","EditSession","$breakpoints","$decorations","$frontMarkers","$backMarkers","$markerId","$undoSelect","$uid","bgTokenizer","onChangeFold","setMode","destroyed","resetCaches","$resetRowCache","cacheArray","low","mid","$rowLengthCache","removedFolds","$updateInternalDataOnChange","$undoManager","mergeUndoDeltas","$informUndoManager","setUndoManager","JSON","parse","undoManager","history","editSession","setAnnotations","setBreakpoints","breakpoints","setScrollLeft","setScrollTop","scrollTop","$scrollLeft","$scrollTop","$syncInformUndoManager","markUndoGroup","$defaultUndoManager","setUseSoftTabs","$useSoftTabs","$indentWithTabs","setTabSize","$tabSize","setNavigateWithinSoftTabs","navigateWithinSoftTabs","$navigateWithinSoftTabs","setOverwrite","overwrite","$overwrite","toggleOverwrite","addGutterDecoration","removeGutterDecoration","getBreakpoints","clearBreakpoints","setBreakpoint","clearBreakpoint","inFront","addDynamicMarker","markerId","getMarkers","highlight","$searchHighlight","highlightLines","getAnnotations","clearAnnotations","inToken","wordRange","setUseWorker","useWorker","getUseWorker","$useWorker","onReloadTokenizer","$onChangeMode","$modeId","$isPlaceholder","oldMode","$stopWorker","$startWorker","attachToSession","wrapMethod","$wrapMethod","foldingRules","terminate","getMode","isNaN","getScrollLeft","getScreenWidth","$computeWidth","getLineWidgetMaxWidth","screenWidth","lineWidgetsWidth","lineWidgetWidth","force","$wrapLimit","longestScreenLine","foldIndex","foldStart","$getStringScreenWidth","$getUndoSelection","setUndoSelect","enable","isUndo","fromRange","toPosition","toRange","collDiff","oldStart","newStart","indentRows","indentString","outdentRows","rowRange","deleteRange","$moveLines","$clipRowToDocument","moveLinesUp","moveLinesDown","duplicateLines","$clipColumnToRow","setUseWrapMode","useWrapMode","setWrapLimitRange","$wrapLimitRange","adjustWrapLimit","desiredLimit","$printMargin","limits","wrapLimit","$constrainWrapLimit","getWrapLimit","setWrapLimit","limit","getWrapLimitRange","foldLineBefore","wrapData","walkTokens","$getDisplayTokens","PLACEHOLDER_START","PLACEHOLDER_BODY","$computeWrapSplits","displayLength","lastSplit","lastDocSplit","isCode","$wrapAsCode","indentedSoftWrap","$indentedSoftWrap","maxIndent","addSplit","indentation","SPACE","TAB","TAB_SPACE","getWrapIndent","minSplit","PUNCTUATION","CHAR_EXT","CHAR","maxScreenColumn","screenColumn","getRowLength","getRowLineCount","getRowWrapIndent","getScreenLastRowColumn","documentToScreenColumn","getDocumentLastRowColumn","docColumn","getRowSplitData","screenToDocumentRow","screenToDocumentColumn","rowLength","doCache","maxRow","foldStartRow","wrapRow","screenRowOffset","getScreenLength","screenRows","$getWidgetScreenLength","$setFontMetrics","fm","$enableVarChar","getCharacterWidth","getPrecedingCharacter","wrap","$wrap","firstLineNumber","useSoftTabs","foldStyle","Search","$matchIterator","sr","sc","er","ec","skipCurrent","findAll","needle","$assembleRegExp","$isMultiLine","prevRange","replacement","preserveCase","$disableFakeMultiline","caseSensitive","$supportsUnicodeFlag","wholeWord","wordBoundary","firstChar","needleArray","lastChar","addWordBoundary","$assembleMultilineRegExp","backwards","forEachInLine","MultiHashHandler","$singleCommand","commandKeyBinding","addCommands","addCommand","removeCommand","bindKey","_buildKeyHash","keepCommand","ckb","keyId","cmdGroup","keyPart","chain","binding","parseKeys","_addCommandToBinding","removeCommands","bindKeys","keyList","$keyChain","isDefault","HashHandler","CommandManager","byName","returnValue","$checkCommandState","isAvailable","toggleRecording","$inReplay","recording","macro","$addCommandToMacro","oldMacro","replay","trimMacro","mac","description","showSettingsMenu","showErrorMarker","scrollIntoView","centerSelection","gotoLine","prompt","$type","multiSelectAction","getAllRanges","findNext","findPrevious","aceCommandGroup","navigateFileStart","navigateUp","times","navigateFileEnd","navigateDown","navigateWordLeft","navigateLineStart","navigateLeft","navigateWordRight","navigateLineEnd","navigateRight","selectPageDown","scrollPageDown","gotoPageDown","selectPageUp","scrollPageUp","gotoPageUp","jumpToMatching","passEvent","$copyWithEmptySelection","$handlePaste","duplicateSelection","sortLines","modifyNumber","copyLinesUp","copyLinesDown","removeToLineStart","removeToLineEnd","removeWordLeft","removeWordRight","blockOutdent","blockIndent","splitLine","transposeLetters","transposeSelections","autoIndent","openLink","firstLineEndCol","selectedCount","insertLine","curLine","newRanges","exitMultiSelectMode","LineWidgets","widgetManager","updateOnChange","renderWidgets","measureWidgets","_changedWidgets","$onChangeEditor","updateOnFold","_inDocument","removeLineWidget","$updateRows","noWidgets","$oldWidget","$registerLineWidget","addLineWidget","coverGutter","pixelHeight","$fold","onWidgetChanged","w1","getWidgetsAtRow","updateFull","changedWidgets","fixedWidth","ceil","coverLine","gutterWidth","fullWidth","padding","scrollBar","GutterKeyboardHandler","gutterLayer","activeRowIndex","activeLane","annotationTooltip","$onGutterKeyDown","$blurGutter","isRowVisible","scrollToLine","$rowToRowIndex","$cursorCell","nearestFoldIndex","$findNearestFoldWidget","nearestAnnotationIndex","$findNearestAnnotation","$focusAnnotation","$focusFoldWidget","$handleGutterKeyboardInteraction","GutterKeyboardEvent","lane","$switchLane","$rowIndexToRow","rowFoldingWidget","$blurFoldWidget","cells","childNodes","$moveFoldWidgetDown","$moveAnnotationDown","$moveFoldWidgetUp","$moveAnnotationUp","$blurAnnotation","$isFoldWidgetVisible","isRowFullyVisible","isIconVisible","$getFoldWidget","$isAnnotationVisible","$getAnnotation","foldWidget","keyboardFocusClassName","desinationLane","annotationIndex","foldWidgetIndex","cell","gutterKeyboardHandler","getKey","getRow","isInAnnotationLane","isInFoldLane","defaultCommands","Editor","getContainerElement","getTextAreaContainer","textarea","keyBinding","$search","$historyTracker","$initOperationListeners","_$emitInputEvent","setSession","$opResetTimer","$lastSel","commandEvent","prevOp","previousCommand","scrollSelectionIntoView","animateScrolling","sel","$mergeUndoDeltas","prev","mergeableCommands","$mergeableCommands","shouldMerge","mergeNextCommand","sequenceStartTime","keyboardHandler","$keybindingId","oldSession","$onDocumentChange","$onTokenizerUpdate","$onChangeTabSize","$onChangeWrapLimit","$onChangeWrapMode","$onChangeFold","$onChangeFrontMarker","$onChangeBackMarker","$onChangeBreakpoint","$onChangeAnnotation","$onCursorChange","$onScrollTopChange","$onScrollLeftChange","$onSelectionChange","onDocumentChange","onChangeMode","onTokenizerUpdate","onChangeTabSize","onChangeWrapLimit","onChangeWrapMode","onChangeFrontMarker","onChangeBackMarker","onChangeBreakpoint","onChangeAnnotation","onCursorChange","onScrollTopChange","onScrollLeftChange","onSelectionChange","oldEditor","getSession","resize","onResize","getTheme","getFontSize","setFontSize","$highlightBrackets","$highlightPending","$bracketHighlight","markerIds","$getDirectionForHighlight","tagNamesRanges","getMatching","markerType","getHighlightIndentGuides","$textLayer","$highlightIndentGuide","$isFocused","showCursor","visualizeFocus","hideCursor","visualizeBlur","$cursorChange","updateCursor","$updateHighlightActiveLine","updateLines","scrollToY","scrollToX","$highlightActiveLine","$selectionStyle","$selectionColorConflict","$maxLines","$minLines","$highlightLineMarker","$selectionMarker","$highlightSelectedWord","$getSelectionHighLightRegexp","wordWithBoundary","updateFrontMarkers","updateBackMarkers","updateBreakpoints","updateText","getSelectedText","nl","copyLine","inVirtualSelectionMode","isFullLine","getBehavioursEnabled","lineState","shouldOutdent","$enableAutoIndent","lineIndent","prevLineState","currIndent","composition","applyComposition","forEachSelection","setScrollSpeed","getScrollSpeed","setDragDelay","setSelectionStyle","setHighlightActiveLine","shouldHighlight","getHighlightActiveLine","setHighlightGutterLine","getHighlightGutterLine","setHighlightSelectedWord","getHighlightSelectedWord","setAnimatedScroll","shouldAnimate","getAnimatedScroll","getShowInvisibles","setDisplayIndentGuides","getDisplayIndentGuides","setHighlightIndentGuides","setShowPrintMargin","showPrintMargin","getShowPrintMargin","setPrintMarginColumn","getPrintMarginColumn","setBehavioursEnabled","enabled","setWrapBehavioursEnabled","setShowFoldWidgets","getShowFoldWidgets","setFadeFoldWidgets","fade","getFadeFoldWidgets","new_range","setGhostText","removeGhostText","originalRange","$getSelectedRows","getNumberAt","_numberRx","amount","charRange","isFinite","nr","fp","decimals","nnr","toFixed","replaceRange","toggleWord","currWordStart","wordParts","curLength","itLength","that","reg","wordPairs","$toggleWordPairs","negate","firstCondition","res","findLinkAt","columnPosition","previousPosition","currentPosition","wordParts_1","wordParts_1_1","endPoint","moved","totalDiff","rangeIndex","subRows","compositionState","showComposition","setCompositionText","hideComposition","getFirstVisibleRow","getLastVisibleRow","getFirstFullyVisibleRow","getLastFullyVisibleRow","$getVisibleRowCount","getScrollBottomRow","getScrollTopRow","$moveByPage","scrollToRow","center","animate","alignCursor","getCursorPositionScreen","expand","tokenCount","matchType","bracketType","brackets","tagsRanges","lineNumber","navigateTo","replaced","$tryReplace","replaceAll","getLastSearchOptions","newRange","revealRange","setAutoScrollEditorIntoView","shouldScroll","$scrollAnchor","scrollAnchor","onChangeSelection","onBeforeRender","onAfterRender","searchBox","$pixelPos","$cursorStyle","cursorLayer","setSmoothBlinking","isBlinking","selectionStyle","highlightActiveLine","highlightSelectedWord","copyWithEmptySelection","behavioursEnabled","wrapBehavioursEnabled","enableAutoIndent","autoScrollEditorIntoView","showLineNumbers","setShowLineNumbers","$loop","CHANGE_GUTTER","$relativeLineNumbers","relativeNumberRenderer","relativeLineNumbers","$showLineNumbers","$updatePlaceholder","hasValue","$composition","placeholderNode","$placeholder","content","blurCommand","focusOnEnterKeyup","textInputAriaLabel","enableMobileMenu","$enableMobileMenu","customScrollbar","hScrollBarAlwaysVisible","vScrollBarAlwaysVisible","highlightGutterLine","animatedScroll","printMarginColumn","printMargin","fadeFoldWidgets","showFoldWidgets","displayIndentGuides","highlightIndentGuides","showGutter","fontFamily","maxLines","minLines","scrollPastEnd","fixedWidthGutter","hasCssTransforms","maxPixelHeight","useResizeObserver","useSvgGutterIcons","showFoldedAnnotations","getText","lastLineNumber","$renderer","Lines","canvasHeight","cellCache","$offsetCoefficient","moveContainer","firstRowScreen","pageChanged","oldConfig","newConfig","computeLineTop","screenTop","screenPage","computeLineHeight","$cacheCell","fragment","insertAdjacentElement","createCell","initElement","Gutter","parentEl","$showFoldWidgets","$updateAnnotations","rowInfo","annoText","displayAnnoText","annoType","gutterOffset","oldLastRow","$updateCursorRow","onCreateCell","$renderCell","$updateGutterWidth","gutterRenderer","$firstLineNumber","lastLineText","$fixedWidth","$padding","$computePadding","$highlightGutterLine","$cursorRow","updateLineHighlight","scrollLines","$renderLines","textNode","annotationNode","annotationIconNode","decorations","rowText","foldClass","isClosedFold","foldAnnotationClass","annotationInFold","foldRange","ariaLabel","getShowLineNumbers","paddingLeft","borderRightWidth","paddingRight","Marker","setPadding","setMarkers","markers","elt","css","$getTop","drawFullLineMarker","drawScreenLineMarker","drawTextMarker","drawMultiLineMarker","childElementCount","lastChild","stringBuilder","extraStyle","curr","lineRange","range1","drawBidiSingleLineMarker","radiusClass","extraLength","textTokens","Set","isTextToken","tokenType","has","Text","$updateEolChar","EOL_CHAR","EOL_CHAR_LF","EOL_CHAR_CRLF","margin","getLineHeight","$fontMetrics","measure","$pollSizeChanges","checkForSizeChanges","$pollSizeChangesTimer","$computeTabString","showSpaces","showTabs","showEOL","$highlightIndentGuides","tabStr","$tabStrings","span","TAB_CHAR","$indentGuideRe","spaceClass","spaceContent","SPACE_CHAR","tabClass","tabContent","lineElements","lineElementsIdx","heightChanged","$renderLine","$renderLinesFragment","lineEl","$useLineGroups","$renderToken","valueFragment","simpleSpace","controlCharacter","cjkSpace","cjk","cloneNode","renderIndentGuide","cols","$highlightIndentGuideMarker","indentLevel","initialIndent","elementIndentLevel","currentIndent","$renderHighlightIndentGuide","$clearActiveIndentGuide","$setIndentGuideActive","$createLineElement","$renderWrappedLine","splitChars","$renderOverflowMessage","$renderSimpleLine","overflowEl","$getFoldLineTokens","lastLineEl","invisibleEl","EOF_CHAR","renderTokens","addTokens","Cursor","isVisible","blinkInterval","smoothBlinking","cursors","addCursor","$updateCursors","$updateOpacity","$startCssAnimation","animationDuration","$isAnimating","$stopCssAnimation","blinking","restartTimer","setBlinkInterval","removeCursor","intervalId","timeoutId","$isSmoothBlinking","blink","onScreen","isCursorInView","pixelPos","$selectionMarkers","cursorIndex","drawCursor","$setOverwrite","MAX_SCROLL_H","Scrollbar","classSuffix","setVisible","skipEvent","onScroll","coeff","VScrollBar","$scrollbarWidth","$minWidth","setHeight","setScrollHeight","setInnerHeight","HScrollBar","setWidth","setInnerWidth","setScrollWidth","ScrollBar","ScrollBarV","ScrollBarH","VScrollWidth","HScrollHeight","eType","mousePageY","startTop","thumbTop","scrollTopFromThumbTop","thumbHeight","pageHeight","viewHeight","slideHeight","scrollWidth","mousePageX","startLeft","thumbLeft","scrollLeftFromThumbLeft","thumbWidth","pageWidth","viewWidth","slideWidth","RenderLoop","onRender","pending","changes","$recursionLimit","_flush","change","clear","CHAR_COUNT","USE_OBSERVER","ResizeObserver","FontMetrics","$setMeasureNodeStyles","$measureNode","$addObserver","isRoot","visibility","font","$measureSizes","fontWeight","boldSize","charSizes","allowBoldFonts","$observer","observe","setPolling","disconnect","$getZoom","$initTransformMeasureNodes","transformCoordinates","clientPos","elPos","mul","solve","l1","l2","det","sub","m2","ut","u","f","Decorator","canvas","pixelRatio","heightRatio","canvasWidth","minDecorationHeight","halfMinDecorationHeight","colors","dark","light","$updateDecorators","ctx","getContext","clearRect","priorities","compensateFold","compensateFoldRows","currentY","y1","y2","yCenter","fillStyle","fillRect","GutterLayer","MarkerLayer","TextLayer","CursorLayer","HScrollBarCustom","VScrollBarCustom","editorCss","VirtualRenderer","onGutterResize","$markerBack","textLayer","$markerFront","$horizScroll","$vScroll","$scrollAnimation","scrollMargin","updateCharacterSize","$size","scrollerHeight","scrollerWidth","$dirty","minHeight","v","$renderChanges","defaultView","CHANGE_FULL","$addResizeObserver","$allowBoldFonts","$updatePrintMargin","onChangeNewLineMode","$changedLines","CHANGE_LINES","CHANGE_TEXT","CHANGE_MARKER","updateFontSize","$updateSizeAsync","resizing","$updateCachedSize","$resizeTimer","$changes","$customScrollbar","$updateCustomScrollbar","$extraHeight","oldSize","CHANGE_SIZE","CHANGE_SCROLL","$showGutter","$computeLayerConfig","availableWidth","$showPrintMargin","$printMarginColumn","$animatedScroll","getShowGutter","setShowGutter","$printMarginEl","containerEl","posTop","posLeft","setScrollMargin","sm","setMargin","getHScrollBarAlwaysVisible","$hScrollBarAlwaysVisible","setHScrollBarAlwaysVisible","alwaysVisible","getVScrollBarAlwaysVisible","$vScrollBarAlwaysVisible","setVScrollBarAlwaysVisible","$updateScrollBarV","$scrollPastEnd","$updateScrollBarH","freeze","$frozen","unfreeze","CHANGE_H_SCROLL","st","$scrollDecorator","$updateLines","CHANGE_CURSOR","CHANGE_MARKER_FRONT","CHANGE_MARKER_BACK","$autosize","desiredHeight","$maxPixelHeight","$gutterWidth","hideScrollbars","longestLine","$getLongestLine","horizScroll","hScrollChanged","vScrollBefore","vScrollChanged","firstRowHeight","lineCount","charCount","_rows","$viewMargin","newLeft","newTop","topMargin","bottomMargin","$stopAnimation","currentTop","currentLeft","twoCharsWidth","alignment","$calcSteps","fromValue","toValue","x_min","STEPS","steps","initialScroll","oldSteps","$timer","endAnimation","scrollTo","canvasPos","$hasCssTransforms","$blockCursor","$useTextareaForIME","addToken","removeExtraToken","insertPosition","textChunks","$calculateWrappedTextChunks","$ghostText","widgetDiv","lastLineDiv","hiddenTokens","hideTokensAfterPosition","chunkDiv","chunkSpan","wrapped","$ghostTextWidget","pixelPosition","ghostTextHeight","textLines","displayTokens","wrapSplits","textSlice","newToken","hasPassedCursor","$themeId","$theme","setMouseCursor","attachToShadowRoot","$resizeObserver","contentRect","workerUrl","Worker","blob","Blob","blobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","getBlob","$workerBlob","blobURL","URL","webkitURL","createObjectURL","WorkerClient","worker","$createWorkerFromOldConfig","$sendDeltaQueue","changeListener","onMessage","callbackId","callbacks","onmessage","topLevelNamespaces","classname","importScripts","nameToUrl","toUrl","normalizePath","$normalizePath","tlns","deltaQueue","onerror","$doc","emit","ex","attachToDocument","q","UIWorkerClient","main","emitSync","sender","messageBuffer","workerClient","processNext","setEmitSync","Main","PlaceHolder","others","mainClass","othersClass","$onUpdate","onUpdate","$others","undoStack","$undoStackDepth","setup","other","showOtherMarkers","othersActive","hideOtherMarkers","updateAnchors","lengthDiff","inMainRange","distanceFromStart","newPos","otherPos","updateMarkers","updateMarker","undosRequired","isSamePoint","alt","ctrl","accel","selectionMode","isMultiSelect","mouseX","mouseY","screenAnchor","screenCursor","$enableJumpToDef","$blockSelectEnabled","addSelectionMarker","oldRange","removeSelectionMarker","tmpSel","rectSel","blockSelect","newCursor","removeSelectionMarkers","rectangularRangeBlock","updateSelectionMarkers","onSelectionInterval","selectMoreLines","selectMore","joinSelections","splitIntoLines","alignCursors","multiSelectCommands","getSelectionMarkers","$blockChangeEvents","$onAddRange","$onRemoveRange","mergeOverlappingRanges","lastRange","$initRangeList","toggleBlockSelection","includeEmptyLines","xBackwards","startOffsetX","endOffsetX","docEnd","yBackwards","MultiSelect","$multiselectOnSessionChange","$onMultiSelect","$onSingleSelect","onSessionChange","$checkMultiselectChange","altCursor","altDown","addAltCursorListeners","selectionMarkerCount","markerList","$onMultiSelectExec","inVirtualMode","keepOrder","$byLines","cmdResult","anim","buf","additive","skip","screenLead","toRemove","tmp_1","words","stopAtFirst","sameRowRanges","maxCol","minSpace","spaceOffsets","spaceOffset","fr","lr","guessRange","$reAlignText","forceLeft","startW","textW","endW","isLeftAligned","isRightAligned","alignLeft","enableMultiselect","enableBlockSelect","FoldMode","foldingStartMarker","foldingStopMarker","indentationBlock","startLevel","openingBracketBlock","closingBracketBlock","oldWidget","gutterAnno","comparator","binarySearch","matched","findAnnotations","arrow","annoTextLine","onmousedown","Renderer","edit","_id","env","tagName","oldNode","createEditSession","Split","$createEditor","$editorCSS","$container","$editors","$fontSize","setSplits","$splits","getSplits","getEditor","getCurrentEditor","$cEditor","keybinding","$cloneSession","isUsed","getOrientation","$orientation","setOrientation","orientation","BESIDE","editorWidth","editorHeight","BELOW","acequire","JsonHighlightRules","MatchingBraceOutdent","BaseFoldMode","commentRegex","singleLineBlockCommentRe","tripleStarBlockCommentRe","startRegionRe","_getFoldWidgetBase","forceMultiline","getCommentRegionBlock","getSectionRange","startIndent","subRange","CStyleFoldMode","$outdent","diff_match_patch","Diff_Timeout","Diff_EditCost","Match_Threshold","Match_Distance","Patch_DeleteThreshold","Patch_Margin","Match_MaxBits","DIFF_DELETE","Diff","op","diff_main","text1","text2","opt_checklines","opt_deadline","getTime","deadline","checklines","commonlength","diff_commonPrefix","commonprefix","diff_commonSuffix","commonsuffix","diffs","diff_compute_","diff_cleanupMerge","longtext","shorttext","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","diff_lineMode_","diff_bisect_","diff_linesToChars_","chars1","chars2","linearray","lineArray","diff_charsToLines_","diff_cleanupSemantic","pointer","count_delete","count_insert","text_delete","text_insert","subDiff","text1_length","text2_length","max_d","v_offset","v_length","v1","v2","front","k1start","k1end","k2start","k2end","k1","k1_offset","x1","k2_offset","x2","diff_bisectSplit_","k2","text1a","text2a","text1b","text2b","diffsb","lineHash","diff_linesToCharsMunge_","lineStart","lineArrayLength","pointermin","pointermax","pointermid","pointerstart","pointerend","diff_commonOverlap_","text_length","best","pattern","dmp","diff_halfMatchI_","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","seed","best_common","prefixLength","suffixLength","hm1","hm2","equalities","equalitiesLength","lastEquality","length_insertions1","length_deletions1","length_insertions2","length_deletions2","diff_cleanupSemanticLossless","deletion","insertion","overlap_length1","overlap_length2","diff_cleanupSemanticScore_","one","two","char1","char2","nonAlphaNumeric1","nonAlphaNumericRegex_","nonAlphaNumeric2","whitespace1","whitespaceRegex_","whitespace2","lineBreak1","linebreakRegex_","lineBreak2","blankLine1","blanklineEndRegex_","blankLine2","blanklineStartRegex_","equality1","equality2","commonOffset","commonString","bestEquality1","bestEdit","bestEquality2","bestScore","diff_cleanupEfficiency","pre_ins","pre_del","post_ins","post_del","diff_xIndex","loc","last_chars1","last_chars2","diff_prettyHtml","pattern_amp","pattern_lt","pattern_gt","pattern_para","diff_text1","diff_text2","diff_levenshtein","levenshtein","insertions","deletions","diff_toDelta","encodeURI","diff_fromDelta","diffsLength","decodeURI","match_main","match_bitap_","match_alphabet_","match_bitapScore_","accuracy","proximity","score_threshold","best_loc","bin_min","bin_mid","matchmask","last_rd","bin_max","finish","rd","charMatch","patch_addContext_","patch","start2","length1","start1","length2","patch_make","opt_b","opt_c","patches","patch_obj","patchDiffLength","char_count1","char_count2","prepatch_text","postpatch_text","diff_type","diff_text","patch_deepCopy","patchesCopy","patchCopy","patch_apply","nullPadding","patch_addPadding","patch_splitMax","results","start_loc","expected_loc","end_loc","index2","index1","paddingLength","patch_size","bigpatch","precontext","empty","postcontext","patch_toText","patch_fromText","textline","textPointer","patchHeader","sign","HASH_UNDEFINED","INFINITY","funcTag","genTag","symbolTag","reIsDeepProp","reIsPlainProp","reLeadingDot","rePropName","reEscapeChar","reIsHostCtor","freeGlobal","freeSelf","Function","arrayProto","funcProto","objectProto","coreJsData","maskSrcKey","uid","IE_PROTO","funcToString","objectToString","reIsNative","Map","getNative","nativeCreate","symbolProto","symbolToString","Hash","entries","entry","ListCache","MapCache","assocIndexOf","baseGet","object","isSymbol","isKey","stringToPath","toKey","baseIsNative","isObject","isFunction","isHostObject","toSource","getMapData","__data__","isKeyable","memoize","baseToString","resolver","memoized","Cache","isObjectLike","defaultValue","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","argsTag","arrayTag","asyncTag","boolTag","dateTag","errorTag","mapTag","numberTag","nullTag","objectTag","promiseTag","proxyTag","regexpTag","setTag","stringTag","undefinedTag","weakMapTag","arrayBufferTag","dataViewTag","reIsUint","typedArrayTags","freeExports","freeModule","moduleExports","freeProcess","process","nodeUtil","nodeIsTypedArray","isTypedArray","arraySome","mapToArray","setToArray","nativeObjectToString","Buffer","Uint8Array","propertyIsEnumerable","symToStringTag","toStringTag","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeKeys","arg","DataView","WeakMap","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolValueOf","valueOf","SetCache","Stack","arrayLikeKeys","inherited","isArr","isArg","isArguments","isBuff","isType","skipIndexes","iteratee","baseTimes","isIndex","eq","baseGetTag","isOwn","unmasked","getRawTag","baseIsArguments","baseIsEqual","bitmask","customizer","equalFunc","objIsArr","othIsArr","objTag","getTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","byteLength","byteOffset","buffer","convert","isPartial","stacked","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","getAllKeys","objLength","othProps","othLength","skipCtor","objValue","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","isMasked","baseKeys","Ctor","isPrototype","arrLength","seen","arrValue","othIndex","keysFunc","symbolsFunc","arrayPush","baseGetAllKeys","getSymbols","pairs","LARGE_ARRAY_SIZE","resIndex","arrayFilter","symbol","ArrayBuffer","ctorString","isLength","baseUnary","PropTypes","editorOptions_1","getAceInstance","ReactAce","editorEvents","debounce","componentDidMount","onBeforeLoad","onValidate","cursorStart","wrapEnabled","refEditor","editorProps","debounceChangePeriod","navigateToFileEnd","updatePlaceholder","handleMarkers","availableOptions","editorOptions","handleOptions","componentDidUpdate","prevProps","oldProps","nextProps","appliedClassesArray_1","oldClass","silent","handleScrollMargins","margins","setScrollMargins","componentWillUnmount","currentMarkers","showPlaceholder","updateRef","render","divStyle","__assign","ref","propTypes","bool","oneOfType","enableSnippets","enableBasicAutocompletion","enableLiveAutocompletion","defaultProps","Component","split_1","DiffMatchPatch","DiffComponent","lhString","rhString","diffedLines","generateDiffedLines","setCodeMarkers","C","chunkType","linesToHighlight","codeEditorSettings","newMarkerSet","markerObj","fn","ace_1","ace_builds_1","ext_split_1","SplitComponent","splitEditor","defaultValueForEditor","valueForEditor","newAnnotations","newMarkers","sp","nextValue","oldAnnotations","oldMarkers","value_1","value_2","value_3","arrayOf","isHTMLElement","HTMLElement","EVENTS","BLUR","CHANGE","INPUT","VALIDATION_MODE","onSubmit","onTouched","SELECT","UNDEFINED","INPUT_VALIDATION_RULES","isNullOrUndefined","isObjectType","compact","tempPath","transformToNestObject","isUndefined","reduce","focusOnErrorField","fields","fieldErrors","field","removeAllEventListeners","validateWithStateUpdate","defaultReturn","isValid","getRadioValue","checked","getMultipleSelectValue","isRadioInput","isFileInput","isCheckBoxInput","isMultipleSelect","defaultResult","validResult","getCheckboxValue","getFieldValue","fieldsRef","shallowFieldsStateRef","excludeDisabled","shouldKeepRawValue","current","valueAsNumber","valueAsDate","setValueAs","files","NaN","isDetached","Node","DOCUMENT_NODE","isEmptyObject","isBoolean","unset","updatePath","childObject","previousObjRef","objectRef","currentPaths","currentPathsLength","isSameRef","fieldValue","isPrimitive","deepMerge","targetValue","sourceValue","deepEqual","object1","object2","isErrorObject","isValidElement","keys1","keys2","val1","val2","setDirtyFields","defaultValues","dirtyFields","parentName","setFieldArrayDirtyFields","isString","getFieldsValues","shallowFieldsState","shouldUnregister","isErrorStateChanged","errors","validFields","fieldsWithValidation","previousError","isRegex","getValueAndMessage","validationData","isMessage","getValidateError","appendErrors","validateAllFieldCriteria","validateField","async","required","maxLength","minLength","validate","isRadio","isCheckBox","isRadioOrCheckbox","appendErrorsCurry","getMinMaxMessage","exceedMax","maxLengthMessage","minLengthMessage","maxType","minType","exceedMin","maxOutput","minOutput","valueDate","valueNumber","maxLengthOutput","minLengthOutput","patternValue","validateRef","validateError","validationResult","validateFunction","getPath","rootPath","paths","rootName","assignWatchFields","fieldValues","fieldName","watchFields","inputValue","isSingleField","skipValidation","isOnBlur","isOnChange","isOnTouch","isTouched","isReValidateOnBlur","isReValidateOnChange","isBlurEvent","isSubmitted","isOnAll","getFieldArrayParentName","isMatchFieldArrayName","searchName","isNameInFieldArray","names","isSelectInput","isWeb","cloneObject","File","modeChecker","isOnSubmit","isRadioOrCheckboxFunction","isWindowUndefined","isProxyEnabled","Proxy","useForm","reValidateMode","shouldFocusError","criteriaMode","useRef","fieldArrayDefaultValuesRef","fieldArrayValuesRef","watchFieldsRef","useWatchFieldsRef","useWatchRenderFunctionsRef","fieldsWithValidationRef","validFieldsRef","defaultValuesRef","isUnMount","isWatchAllRef","handleChangeRef","resetFieldArrayFunctionRef","contextRef","resolverRef","fieldArrayNamesRef","modeRef","isValidateAllFieldCriteria","formState","setFormState","useState","isDirty","isValidating","submitCount","touched","isSubmitting","isSubmitSuccessful","readFormStateRef","formStateRef","observerRef","updateFormState","useCallback","updateIsValidating","shouldRenderBaseOnError","shouldRender","shouldReRender","setFieldValue","rawValue","radioRef","selectRef","_ref9","checkboxRef","isFormDirty","formValues","getValues","updateAndGetDirtyState","isFieldDirty","isDirtyFieldExist","previousIsDirty","isChanged","executeValidation","skipReRender","executeSchemaOrResolverValidation","previousFormIsValid","isInputsValid","every","trigger","setInternalValues","_ref10","shouldDirty","shouldValidate","setInternalValue","isFieldWatched","renderWatchedInputs","setFieldArrayDefaultValues","_ref11","shouldSkipValidation","parentNodeName","currentError","validateResolver","newDefaultValues","removeFieldEventListener","forceDelete","handleChange","fieldRef","findRemovedFieldAndRemoveListener","updateWatchedValue","watchField","removeFieldEventListenerAndRef","watchInternal","fieldNames","watchId","combinedDefaultValues","registerFieldRef","fieldRefAndValidationOptions","isFieldArray","compareRef","currentRef","isEmptyDefaultValue","isEmptyUnmountFields","shouldAttachChangeEvent","attachEventListeners","handleSubmit","onValid","onInvalid","persist","fieldError","useEffect","observer","MutationObserver","childList","subtree","onDomRemove","commonProps","register","refOrRegisterOptions","unregister","prop","control","useMemo","watch","omitResetState","inputRef","closest","resetFieldArray","_ref12","resetRefs","clearErrors","inputName","setError","shouldFocus","FormContext","createContext","displayName"],"sourceRoot":""}