{"version":3,"file":"static/js/193.2c9f518d.chunk.js","mappings":"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","sources":["../node_modules/ipld-explorer-components/dist/components/explore/IpldExploreErrorComponent.js","../node_modules/ipld-explorer-components/dist/components/cid/Cid.js","../node_modules/ipld-explorer-components/dist/components/graph-crumb/GraphCrumb.js","../node_modules/ipld-explorer-components/dist/components/ExplorePage.js"],"sourcesContent":["import React from 'react';\nimport { useTranslation } from 'react-i18next';\nexport function IpldExploreErrorComponent(_ref) {\n  let {\n    error\n  } = _ref;\n  const {\n    t\n  } = useTranslation('explore', {\n    keyPrefix: 'errors'\n  });\n  if (error == null) return null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-red white pa3 lh-copy\"\n  }, /*#__PURE__*/React.createElement(\"div\", null, error.toString(t)));\n}","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React from 'react';\nexport function cidStartAndEnd(value) {\n  const chars = value.split('');\n  if (chars.length <= 9) return value;\n  const start = chars.slice(0, 4).join('');\n  const end = chars.slice(chars.length - 4).join('');\n  return {\n    value,\n    start,\n    end\n  };\n}\nexport function shortCid(value) {\n  const {\n    start,\n    end\n  } = cidStartAndEnd(value);\n  return `${start}â€¦${end}`;\n}\nconst Cid = _ref => {\n  let {\n    value,\n    title,\n    style,\n    ...props\n  } = _ref;\n  style = Object.assign({}, {\n    textDecoration: 'none'\n  }, style);\n  const {\n    start,\n    end\n  } = cidStartAndEnd(value);\n  return /*#__PURE__*/React.createElement(\"abbr\", _extends({\n    title: title || value,\n    style: style\n  }, props), /*#__PURE__*/React.createElement(\"span\", null, start), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"o-20\"\n  }, \"\\u2026\"), /*#__PURE__*/React.createElement(\"span\", null, end));\n};\nexport default Cid;","import React from 'react';\nimport { getCodecOrNull } from '../../lib/cid';\nimport Cid from '../cid/Cid';\nimport { colorForNode } from '../object-info/ObjectInfo';\nconst GraphCrumb = _ref => {\n  let {\n    cid,\n    pathBoundaries,\n    localPath,\n    hrefBase = '#/explore',\n    className = '',\n    ...props\n  } = _ref;\n  const [first, ...rest] = pathBoundaries;\n  const last = pathBoundaries[pathBoundaries.length - 1];\n  const firstHrefBase = calculateHrefBase(hrefBase, cid, pathBoundaries, 0);\n  return /*#__PURE__*/React.createElement(\"div\", props, /*#__PURE__*/React.createElement(\"div\", {\n    className: `sans-serif ${className}`\n  }, /*#__PURE__*/React.createElement(NodeUnderline, {\n    cid: cid\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: firstHrefBase,\n    className: \"monospace no-underline dark-gray o-50 glow\"\n  }, /*#__PURE__*/React.createElement(Cid, {\n    value: cid\n  })), first ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dib\"\n  }, /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(Path, {\n    path: first.path,\n    hrefBase: firstHrefBase,\n    sourceCid: cid\n  })) : null, localPath && pathBoundaries.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dib\"\n  }, /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(Path, {\n    path: localPath,\n    sourceCid: cid,\n    hrefBase: firstHrefBase\n  })) : null), rest.map((link, i) => {\n    const nextHrefBase = calculateHrefBase(hrefBase, cid, pathBoundaries, i + 1);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dib\",\n      key: i\n    }, /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(NodeUnderline, {\n      cid: link.source\n    }, /*#__PURE__*/React.createElement(Path, {\n      path: link.path,\n      sourceCid: link.source,\n      hrefBase: nextHrefBase\n    })));\n  }), localPath && pathBoundaries.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dib\"\n  }, /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(NodeUnderline, {\n    cid: last.target\n  }, /*#__PURE__*/React.createElement(Path, {\n    path: localPath,\n    sourceCid: last.target,\n    hrefBase: calculateHrefBase(hrefBase, cid, pathBoundaries, pathBoundaries.length)\n  }))) : null));\n};\nfunction calculateHrefBase(hrefBase, cid, boundaries, boundaryIndex) {\n  const relPath = boundaries.slice(0, boundaryIndex).map(b => b.path).join('/');\n  const cidHref = hrefBase + '/' + cid;\n  return relPath ? cidHref + '/' + relPath : cidHref;\n}\nconst NodeUnderline = _ref2 => {\n  let {\n    cid,\n    children\n  } = _ref2;\n  const type = getCodecOrNull(cid);\n  const color = colorForNode(type);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dib overflow-hidden\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bb bw1 pb1\",\n    style: {\n      borderColor: color\n    }\n  }, children));\n};\nconst Path = _ref3 => {\n  let {\n    path,\n    hrefBase,\n    sourceCid\n  } = _ref3;\n  const parts = [path];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dib\"\n  }, parts.map((p, i) => {\n    const relPath = parts.slice(0, i + 1).join('/');\n    const href = `${hrefBase}/${relPath}`;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dib\",\n      key: href\n    }, i !== 0 && /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(\"a\", {\n      className: \"dib no-underline dark-gray o-50 glow\",\n      title: sourceCid + '/' + relPath,\n      href: href\n    }, p));\n  }));\n};\nconst Divider = () => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"dib ph2 gray v-top\"\n}, \"/\");\nexport default GraphCrumb;","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { withTranslation } from 'react-i18next';\nimport ReactJoyride from 'react-joyride';\nimport { connect } from 'redux-bundler-react';\nimport CidInfo from './cid-info/CidInfo';\nimport ErrorBoundary from './error/ErrorBoundary';\nimport { IpldExploreErrorComponent } from './explore/IpldExploreErrorComponent';\nimport IpldGraph from './graph/LoadableIpldGraph';\nimport GraphCrumb from './graph-crumb/GraphCrumb';\nimport ComponentLoader from './loader/ComponentLoader';\nimport ObjectInfo from './object-info/ObjectInfo';\nimport { explorerTour } from '../lib/tours';\nexport class ExplorePage extends React.Component {\n  render() {\n    let {\n      t,\n      explore,\n      exploreIsLoading,\n      explorePathFromHash,\n      doExploreLink,\n      runTour = false,\n      joyrideCallback,\n      gatewayUrl,\n      publicGatewayUrl = 'https://dweb.link'\n    } = this.props;\n    if (!explorePathFromHash) {\n      // No IPLD path to explore so show the intro page\n      console.warn('[IPLD Explorer] ExplorePage loaded without a path to explore');\n      return null;\n    }\n\n    // Hide the old data while we navigate to the new. We can get much fancier\n    // with showing that the request is loading, but for now, this'l hide the\n    // now stale info and show a loading spinner.\n    explore = explore || {};\n    explore = exploreIsLoading ? {} : explore;\n    const {\n      error,\n      targetNode,\n      localPath,\n      nodes,\n      pathBoundaries\n    } = explore;\n    const sourceNode = nodes && nodes[0] || null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"nt4-l\"\n    }, /*#__PURE__*/React.createElement(Helmet, null, /*#__PURE__*/React.createElement(\"title\", null, t('ExplorePage.title'))), pathBoundaries && targetNode ? /*#__PURE__*/React.createElement(GraphCrumb, {\n      className: \"joyride-explorer-crumbs\",\n      style: {\n        padding: '15px 0 10px'\n      },\n      cid: sourceNode.cid,\n      pathBoundaries: pathBoundaries,\n      localPath: localPath\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: 54\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dt-l dt--fixed\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dtc-l w-100 w-two-thirds-l pr3-l v-top\"\n    }, /*#__PURE__*/React.createElement(IpldExploreErrorComponent, {\n      error: error\n    }), targetNode ? /*#__PURE__*/React.createElement(ObjectInfo, {\n      className: \"joyride-explorer-node\",\n      style: {\n        background: '#FBFBFB'\n      },\n      cid: targetNode.cid,\n      localPath: localPath,\n      size: targetNode.size,\n      links: targetNode.links,\n      data: targetNode.data,\n      type: targetNode.type,\n      format: targetNode.format,\n      onLinkClick: doExploreLink,\n      gatewayUrl: gatewayUrl,\n      publicGatewayUrl: publicGatewayUrl\n    }) : null, !error && !targetNode ? /*#__PURE__*/React.createElement(ComponentLoader, {\n      pastDelay: true\n    }) : null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dtc-l w-third-l v-top pt3 pt0-l\"\n    }, targetNode ? /*#__PURE__*/React.createElement(CidInfo, {\n      className: \"joyride-explorer-cid\",\n      style: {\n        background: '#FBFBFB',\n        overflow: 'hidden'\n      },\n      cid: targetNode.cid\n    }) : null, targetNode ? /*#__PURE__*/React.createElement(ErrorBoundary, null, /*#__PURE__*/React.createElement(IpldGraph, {\n      className: \"joyride-explorer-graph\",\n      style: {\n        width: '100%',\n        height: 300\n      },\n      path: targetNode.cid,\n      links: targetNode.links,\n      onNodeClick: doExploreLink\n    })) : null)), /*#__PURE__*/React.createElement(ReactJoyride, {\n      run: runTour,\n      steps: explorerTour.getSteps({\n        t\n      }),\n      styles: explorerTour.styles,\n      callback: joyrideCallback,\n      continuous: true,\n      scrollToFirstStep: true,\n      showProgress: true\n    }));\n  }\n}\nexport default connect('selectExplore', 'selectExploreIsLoading', 'selectExplorePathFromHash', 'doExploreLink', withTranslation('explore')(ExplorePage));"],"names":["IpldExploreErrorComponent","_ref","error","t","useTranslation","keyPrefix","React","className","toString","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","cidStartAndEnd","value","chars","split","start","slice","join","end","title","style","props","textDecoration","calculateHrefBase","hrefBase","cid","boundaries","boundaryIndex","relPath","map","b","path","cidHref","NodeUnderline","_ref2","children","type","getCodecOrNull","color","colorForNode","borderColor","Path","_ref3","sourceCid","parts","p","href","concat","Divider","pathBoundaries","localPath","first","rest","last","firstHrefBase","Cid","link","nextHrefBase","ExplorePage","render","explore","exploreIsLoading","explorePathFromHash","doExploreLink","runTour","joyrideCallback","gatewayUrl","publicGatewayUrl","console","warn","targetNode","nodes","sourceNode","Helmet","GraphCrumb","padding","height","ObjectInfo","background","size","links","data","format","onLinkClick","ComponentLoader","pastDelay","CidInfo","overflow","ErrorBoundary","IpldGraph","width","onNodeClick","ReactJoyride","run","steps","explorerTour","getSteps","styles","callback","continuous","scrollToFirstStep","showProgress","connect","withTranslation"],"sourceRoot":""}